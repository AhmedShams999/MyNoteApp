function LU(n,t){for(var r=0;r<t.length;r++){const s=t[r];if(typeof s!="string"&&!Array.isArray(s)){for(const u in s)if(u!=="default"&&!(u in n)){const h=Object.getOwnPropertyDescriptor(s,u);h&&Object.defineProperty(n,u,h.get?h:{enumerable:!0,get:()=>s[u]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))s(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const p of h.addedNodes)p.tagName==="LINK"&&p.rel==="modulepreload"&&s(p)}).observe(document,{childList:!0,subtree:!0});function r(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(u){if(u.ep)return;u.ep=!0;const h=r(u);fetch(u.href,h)}})();var ns=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function WP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var qP={exports:{}},Om={},$P={exports:{}},Fe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _h=Symbol.for("react.element"),zU=Symbol.for("react.portal"),jU=Symbol.for("react.fragment"),VU=Symbol.for("react.strict_mode"),FU=Symbol.for("react.profiler"),UU=Symbol.for("react.provider"),HU=Symbol.for("react.context"),WU=Symbol.for("react.forward_ref"),qU=Symbol.for("react.suspense"),$U=Symbol.for("react.memo"),GU=Symbol.for("react.lazy"),PD=Symbol.iterator;function KU(n){return n===null||typeof n!="object"?null:(n=PD&&n[PD]||n["@@iterator"],typeof n=="function"?n:null)}var GP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},KP=Object.assign,QP={};function Dc(n,t,r){this.props=n,this.context=t,this.refs=QP,this.updater=r||GP}Dc.prototype.isReactComponent={};Dc.prototype.setState=function(n,t){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,t,"setState")};Dc.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function YP(){}YP.prototype=Dc.prototype;function hv(n,t,r){this.props=n,this.context=t,this.refs=QP,this.updater=r||GP}var fv=hv.prototype=new YP;fv.constructor=hv;KP(fv,Dc.prototype);fv.isPureReactComponent=!0;var ND=Array.isArray,ZP=Object.prototype.hasOwnProperty,pv={current:null},JP={key:!0,ref:!0,__self:!0,__source:!0};function XP(n,t,r){var s,u={},h=null,p=null;if(t!=null)for(s in t.ref!==void 0&&(p=t.ref),t.key!==void 0&&(h=""+t.key),t)ZP.call(t,s)&&!JP.hasOwnProperty(s)&&(u[s]=t[s]);var b=arguments.length-2;if(b===1)u.children=r;else if(1<b){for(var m=Array(b),A=0;A<b;A++)m[A]=arguments[A+2];u.children=m}if(n&&n.defaultProps)for(s in b=n.defaultProps,b)u[s]===void 0&&(u[s]=b[s]);return{$$typeof:_h,type:n,key:h,ref:p,props:u,_owner:pv.current}}function QU(n,t){return{$$typeof:_h,type:n.type,key:t,ref:n.ref,props:n.props,_owner:n._owner}}function gv(n){return typeof n=="object"&&n!==null&&n.$$typeof===_h}function YU(n){var t={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(r){return t[r]})}var RD=/\/+/g;function T_(n,t){return typeof n=="object"&&n!==null&&n.key!=null?YU(""+n.key):t.toString(36)}function ag(n,t,r,s,u){var h=typeof n;(h==="undefined"||h==="boolean")&&(n=null);var p=!1;if(n===null)p=!0;else switch(h){case"string":case"number":p=!0;break;case"object":switch(n.$$typeof){case _h:case zU:p=!0}}if(p)return p=n,u=u(p),n=s===""?"."+T_(p,0):s,ND(u)?(r="",n!=null&&(r=n.replace(RD,"$&/")+"/"),ag(u,t,r,"",function(A){return A})):u!=null&&(gv(u)&&(u=QU(u,r+(!u.key||p&&p.key===u.key?"":(""+u.key).replace(RD,"$&/")+"/")+n)),t.push(u)),1;if(p=0,s=s===""?".":s+":",ND(n))for(var b=0;b<n.length;b++){h=n[b];var m=s+T_(h,b);p+=ag(h,t,r,m,u)}else if(m=KU(n),typeof m=="function")for(n=m.call(n),b=0;!(h=n.next()).done;)h=h.value,m=s+T_(h,b++),p+=ag(h,t,r,m,u);else if(h==="object")throw t=String(n),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return p}function Sp(n,t,r){if(n==null)return n;var s=[],u=0;return ag(n,s,"","",function(h){return t.call(r,h,u++)}),s}function ZU(n){if(n._status===-1){var t=n._result;t=t(),t.then(function(r){(n._status===0||n._status===-1)&&(n._status=1,n._result=r)},function(r){(n._status===0||n._status===-1)&&(n._status=2,n._result=r)}),n._status===-1&&(n._status=0,n._result=t)}if(n._status===1)return n._result.default;throw n._result}var Un={current:null},lg={transition:null},JU={ReactCurrentDispatcher:Un,ReactCurrentBatchConfig:lg,ReactCurrentOwner:pv};Fe.Children={map:Sp,forEach:function(n,t,r){Sp(n,function(){t.apply(this,arguments)},r)},count:function(n){var t=0;return Sp(n,function(){t++}),t},toArray:function(n){return Sp(n,function(t){return t})||[]},only:function(n){if(!gv(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Fe.Component=Dc;Fe.Fragment=jU;Fe.Profiler=FU;Fe.PureComponent=hv;Fe.StrictMode=VU;Fe.Suspense=qU;Fe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JU;Fe.cloneElement=function(n,t,r){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var s=KP({},n.props),u=n.key,h=n.ref,p=n._owner;if(t!=null){if(t.ref!==void 0&&(h=t.ref,p=pv.current),t.key!==void 0&&(u=""+t.key),n.type&&n.type.defaultProps)var b=n.type.defaultProps;for(m in t)ZP.call(t,m)&&!JP.hasOwnProperty(m)&&(s[m]=t[m]===void 0&&b!==void 0?b[m]:t[m])}var m=arguments.length-2;if(m===1)s.children=r;else if(1<m){b=Array(m);for(var A=0;A<m;A++)b[A]=arguments[A+2];s.children=b}return{$$typeof:_h,type:n.type,key:u,ref:h,props:s,_owner:p}};Fe.createContext=function(n){return n={$$typeof:HU,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:UU,_context:n},n.Consumer=n};Fe.createElement=XP;Fe.createFactory=function(n){var t=XP.bind(null,n);return t.type=n,t};Fe.createRef=function(){return{current:null}};Fe.forwardRef=function(n){return{$$typeof:WU,render:n}};Fe.isValidElement=gv;Fe.lazy=function(n){return{$$typeof:GU,_payload:{_status:-1,_result:n},_init:ZU}};Fe.memo=function(n,t){return{$$typeof:$U,type:n,compare:t===void 0?null:t}};Fe.startTransition=function(n){var t=lg.transition;lg.transition={};try{n()}finally{lg.transition=t}};Fe.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Fe.useCallback=function(n,t){return Un.current.useCallback(n,t)};Fe.useContext=function(n){return Un.current.useContext(n)};Fe.useDebugValue=function(){};Fe.useDeferredValue=function(n){return Un.current.useDeferredValue(n)};Fe.useEffect=function(n,t){return Un.current.useEffect(n,t)};Fe.useId=function(){return Un.current.useId()};Fe.useImperativeHandle=function(n,t,r){return Un.current.useImperativeHandle(n,t,r)};Fe.useInsertionEffect=function(n,t){return Un.current.useInsertionEffect(n,t)};Fe.useLayoutEffect=function(n,t){return Un.current.useLayoutEffect(n,t)};Fe.useMemo=function(n,t){return Un.current.useMemo(n,t)};Fe.useReducer=function(n,t,r){return Un.current.useReducer(n,t,r)};Fe.useRef=function(n){return Un.current.useRef(n)};Fe.useState=function(n){return Un.current.useState(n)};Fe.useSyncExternalStore=function(n,t,r){return Un.current.useSyncExternalStore(n,t,r)};Fe.useTransition=function(){return Un.current.useTransition()};Fe.version="18.2.0";$P.exports=Fe;var J=$P.exports;const XU=WP(J),eH=LU({__proto__:null,default:XU},[J]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var tH=J,nH=Symbol.for("react.element"),iH=Symbol.for("react.fragment"),rH=Object.prototype.hasOwnProperty,oH=tH.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,sH={key:!0,ref:!0,__self:!0,__source:!0};function eN(n,t,r){var s,u={},h=null,p=null;r!==void 0&&(h=""+r),t.key!==void 0&&(h=""+t.key),t.ref!==void 0&&(p=t.ref);for(s in t)rH.call(t,s)&&!sH.hasOwnProperty(s)&&(u[s]=t[s]);if(n&&n.defaultProps)for(s in t=n.defaultProps,t)u[s]===void 0&&(u[s]=t[s]);return{$$typeof:nH,type:n,key:h,ref:p,props:u,_owner:oH.current}}Om.Fragment=iH;Om.jsx=eN;Om.jsxs=eN;qP.exports=Om;var te=qP.exports,T0={},tN={exports:{}},wi={},nN={exports:{}},iN={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function t(ne,he){var ce=ne.length;ne.push(he);e:for(;0<ce;){var at=ce-1>>>1,Ke=ne[at];if(0<u(Ke,he))ne[at]=he,ne[ce]=Ke,ce=at;else break e}}function r(ne){return ne.length===0?null:ne[0]}function s(ne){if(ne.length===0)return null;var he=ne[0],ce=ne.pop();if(ce!==he){ne[0]=ce;e:for(var at=0,Ke=ne.length,Oi=Ke>>>1;at<Oi;){var _n=2*(at+1)-1,Rt=ne[_n],en=_n+1,Kt=ne[en];if(0>u(Rt,ce))en<Ke&&0>u(Kt,Rt)?(ne[at]=Kt,ne[en]=ce,at=en):(ne[at]=Rt,ne[_n]=ce,at=_n);else if(en<Ke&&0>u(Kt,ce))ne[at]=Kt,ne[en]=ce,at=en;else break e}}return he}function u(ne,he){var ce=ne.sortIndex-he.sortIndex;return ce!==0?ce:ne.id-he.id}if(typeof performance=="object"&&typeof performance.now=="function"){var h=performance;n.unstable_now=function(){return h.now()}}else{var p=Date,b=p.now();n.unstable_now=function(){return p.now()-b}}var m=[],A=[],E=1,C=null,v=3,x=!1,D=!1,M=!1,L=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,O=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function z(ne){for(var he=r(A);he!==null;){if(he.callback===null)s(A);else if(he.startTime<=ne)s(A),he.sortIndex=he.expirationTime,t(m,he);else break;he=r(A)}}function U(ne){if(M=!1,z(ne),!D)if(r(m)!==null)D=!0,Ge($);else{var he=r(A);he!==null&&tt(U,he.startTime-ne)}}function $(ne,he){D=!1,M&&(M=!1,R(j),j=-1),x=!0;var ce=v;try{for(z(he),C=r(m);C!==null&&(!(C.expirationTime>he)||ne&&!ke());){var at=C.callback;if(typeof at=="function"){C.callback=null,v=C.priorityLevel;var Ke=at(C.expirationTime<=he);he=n.unstable_now(),typeof Ke=="function"?C.callback=Ke:C===r(m)&&s(m),z(he)}else s(m);C=r(m)}if(C!==null)var Oi=!0;else{var _n=r(A);_n!==null&&tt(U,_n.startTime-he),Oi=!1}return Oi}finally{C=null,v=ce,x=!1}}var Y=!1,K=null,j=-1,q=5,Z=-1;function ke(){return!(n.unstable_now()-Z<q)}function ye(){if(K!==null){var ne=n.unstable_now();Z=ne;var he=!0;try{he=K(!0,ne)}finally{he?Te():(Y=!1,K=null)}}else Y=!1}var Te;if(typeof O=="function")Te=function(){O(ye)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Ae=be.port2;be.port1.onmessage=ye,Te=function(){Ae.postMessage(null)}}else Te=function(){L(ye,0)};function Ge(ne){K=ne,Y||(Y=!0,Te())}function tt(ne,he){j=L(function(){ne(n.unstable_now())},he)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(ne){ne.callback=null},n.unstable_continueExecution=function(){D||x||(D=!0,Ge($))},n.unstable_forceFrameRate=function(ne){0>ne||125<ne?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<ne?Math.floor(1e3/ne):5},n.unstable_getCurrentPriorityLevel=function(){return v},n.unstable_getFirstCallbackNode=function(){return r(m)},n.unstable_next=function(ne){switch(v){case 1:case 2:case 3:var he=3;break;default:he=v}var ce=v;v=he;try{return ne()}finally{v=ce}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(ne,he){switch(ne){case 1:case 2:case 3:case 4:case 5:break;default:ne=3}var ce=v;v=ne;try{return he()}finally{v=ce}},n.unstable_scheduleCallback=function(ne,he,ce){var at=n.unstable_now();switch(typeof ce=="object"&&ce!==null?(ce=ce.delay,ce=typeof ce=="number"&&0<ce?at+ce:at):ce=at,ne){case 1:var Ke=-1;break;case 2:Ke=250;break;case 5:Ke=1073741823;break;case 4:Ke=1e4;break;default:Ke=5e3}return Ke=ce+Ke,ne={id:E++,callback:he,priorityLevel:ne,startTime:ce,expirationTime:Ke,sortIndex:-1},ce>at?(ne.sortIndex=ce,t(A,ne),r(m)===null&&ne===r(A)&&(M?(R(j),j=-1):M=!0,tt(U,ce-at))):(ne.sortIndex=Ke,t(m,ne),D||x||(D=!0,Ge($))),ne},n.unstable_shouldYield=ke,n.unstable_wrapCallback=function(ne){var he=v;return function(){var ce=v;v=he;try{return ne.apply(this,arguments)}finally{v=ce}}}})(iN);nN.exports=iN;var aH=nN.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var rN=J,ki=aH;function re(n){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+n,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+n+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var oN=new Set,Sd={};function za(n,t){hc(n,t),hc(n+"Capture",t)}function hc(n,t){for(Sd[n]=t,n=0;n<t.length;n++)oN.add(t[n])}var lo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),S0=Object.prototype.hasOwnProperty,lH=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,OD={},BD={};function cH(n){return S0.call(BD,n)?!0:S0.call(OD,n)?!1:lH.test(n)?BD[n]=!0:(OD[n]=!0,!1)}function uH(n,t,r,s){if(r!==null&&r.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return s?!1:r!==null?!r.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function dH(n,t,r,s){if(t===null||typeof t>"u"||uH(n,t,r,s))return!0;if(s)return!1;if(r!==null)switch(r.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Hn(n,t,r,s,u,h,p){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=s,this.attributeNamespace=u,this.mustUseProperty=r,this.propertyName=n,this.type=t,this.sanitizeURL=h,this.removeEmptyString=p}var wn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){wn[n]=new Hn(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var t=n[0];wn[t]=new Hn(t,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){wn[n]=new Hn(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){wn[n]=new Hn(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){wn[n]=new Hn(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){wn[n]=new Hn(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){wn[n]=new Hn(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){wn[n]=new Hn(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){wn[n]=new Hn(n,5,!1,n.toLowerCase(),null,!1,!1)});var mv=/[\-:]([a-z])/g;function kv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var t=n.replace(mv,kv);wn[t]=new Hn(t,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var t=n.replace(mv,kv);wn[t]=new Hn(t,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var t=n.replace(mv,kv);wn[t]=new Hn(t,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){wn[n]=new Hn(n,1,!1,n.toLowerCase(),null,!1,!1)});wn.xlinkHref=new Hn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){wn[n]=new Hn(n,1,!1,n.toLowerCase(),null,!0,!0)});function bv(n,t,r,s){var u=wn.hasOwnProperty(t)?wn[t]:null;(u!==null?u.type!==0:s||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(dH(t,r,u,s)&&(r=null),s||u===null?cH(t)&&(r===null?n.removeAttribute(t):n.setAttribute(t,""+r)):u.mustUseProperty?n[u.propertyName]=r===null?u.type===3?!1:"":r:(t=u.attributeName,s=u.attributeNamespace,r===null?n.removeAttribute(t):(u=u.type,r=u===3||u===4&&r===!0?"":""+r,s?n.setAttributeNS(s,t,r):n.setAttribute(t,r))))}var bo=rN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dp=Symbol.for("react.element"),Ll=Symbol.for("react.portal"),zl=Symbol.for("react.fragment"),wv=Symbol.for("react.strict_mode"),D0=Symbol.for("react.profiler"),sN=Symbol.for("react.provider"),aN=Symbol.for("react.context"),_v=Symbol.for("react.forward_ref"),M0=Symbol.for("react.suspense"),P0=Symbol.for("react.suspense_list"),Av=Symbol.for("react.memo"),Ko=Symbol.for("react.lazy"),lN=Symbol.for("react.offscreen"),LD=Symbol.iterator;function ju(n){return n===null||typeof n!="object"?null:(n=LD&&n[LD]||n["@@iterator"],typeof n=="function"?n:null)}var Tt=Object.assign,S_;function Ju(n){if(S_===void 0)try{throw Error()}catch(r){var t=r.stack.trim().match(/\n( *(at )?)/);S_=t&&t[1]||""}return`
`+S_+n}var D_=!1;function M_(n,t){if(!n||D_)return"";D_=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(A){var s=A}Reflect.construct(n,[],t)}else{try{t.call()}catch(A){s=A}n.call(t.prototype)}else{try{throw Error()}catch(A){s=A}n()}}catch(A){if(A&&s&&typeof A.stack=="string"){for(var u=A.stack.split(`
`),h=s.stack.split(`
`),p=u.length-1,b=h.length-1;1<=p&&0<=b&&u[p]!==h[b];)b--;for(;1<=p&&0<=b;p--,b--)if(u[p]!==h[b]){if(p!==1||b!==1)do if(p--,b--,0>b||u[p]!==h[b]){var m=`
`+u[p].replace(" at new "," at ");return n.displayName&&m.includes("<anonymous>")&&(m=m.replace("<anonymous>",n.displayName)),m}while(1<=p&&0<=b);break}}}finally{D_=!1,Error.prepareStackTrace=r}return(n=n?n.displayName||n.name:"")?Ju(n):""}function hH(n){switch(n.tag){case 5:return Ju(n.type);case 16:return Ju("Lazy");case 13:return Ju("Suspense");case 19:return Ju("SuspenseList");case 0:case 2:case 15:return n=M_(n.type,!1),n;case 11:return n=M_(n.type.render,!1),n;case 1:return n=M_(n.type,!0),n;default:return""}}function N0(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case zl:return"Fragment";case Ll:return"Portal";case D0:return"Profiler";case wv:return"StrictMode";case M0:return"Suspense";case P0:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case aN:return(n.displayName||"Context")+".Consumer";case sN:return(n._context.displayName||"Context")+".Provider";case _v:var t=n.render;return n=n.displayName,n||(n=t.displayName||t.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case Av:return t=n.displayName||null,t!==null?t:N0(n.type)||"Memo";case Ko:t=n._payload,n=n._init;try{return N0(n(t))}catch{}}return null}function fH(n){var t=n.type;switch(n.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=t.render,n=n.displayName||n.name||"",t.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return N0(t);case 8:return t===wv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Cs(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function cN(n){var t=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function pH(n){var t=cN(n)?"checked":"value",r=Object.getOwnPropertyDescriptor(n.constructor.prototype,t),s=""+n[t];if(!n.hasOwnProperty(t)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var u=r.get,h=r.set;return Object.defineProperty(n,t,{configurable:!0,get:function(){return u.call(this)},set:function(p){s=""+p,h.call(this,p)}}),Object.defineProperty(n,t,{enumerable:r.enumerable}),{getValue:function(){return s},setValue:function(p){s=""+p},stopTracking:function(){n._valueTracker=null,delete n[t]}}}}function Mp(n){n._valueTracker||(n._valueTracker=pH(n))}function uN(n){if(!n)return!1;var t=n._valueTracker;if(!t)return!0;var r=t.getValue(),s="";return n&&(s=cN(n)?n.checked?"true":"false":n.value),n=s,n!==r?(t.setValue(n),!0):!1}function Dg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function R0(n,t){var r=t.checked;return Tt({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??n._wrapperState.initialChecked})}function zD(n,t){var r=t.defaultValue==null?"":t.defaultValue,s=t.checked!=null?t.checked:t.defaultChecked;r=Cs(t.value!=null?t.value:r),n._wrapperState={initialChecked:s,initialValue:r,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function dN(n,t){t=t.checked,t!=null&&bv(n,"checked",t,!1)}function O0(n,t){dN(n,t);var r=Cs(t.value),s=t.type;if(r!=null)s==="number"?(r===0&&n.value===""||n.value!=r)&&(n.value=""+r):n.value!==""+r&&(n.value=""+r);else if(s==="submit"||s==="reset"){n.removeAttribute("value");return}t.hasOwnProperty("value")?B0(n,t.type,r):t.hasOwnProperty("defaultValue")&&B0(n,t.type,Cs(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(n.defaultChecked=!!t.defaultChecked)}function jD(n,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var s=t.type;if(!(s!=="submit"&&s!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+n._wrapperState.initialValue,r||t===n.value||(n.value=t),n.defaultValue=t}r=n.name,r!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,r!==""&&(n.name=r)}function B0(n,t,r){(t!=="number"||Dg(n.ownerDocument)!==n)&&(r==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+r&&(n.defaultValue=""+r))}var Xu=Array.isArray;function Jl(n,t,r,s){if(n=n.options,t){t={};for(var u=0;u<r.length;u++)t["$"+r[u]]=!0;for(r=0;r<n.length;r++)u=t.hasOwnProperty("$"+n[r].value),n[r].selected!==u&&(n[r].selected=u),u&&s&&(n[r].defaultSelected=!0)}else{for(r=""+Cs(r),t=null,u=0;u<n.length;u++){if(n[u].value===r){n[u].selected=!0,s&&(n[u].defaultSelected=!0);return}t!==null||n[u].disabled||(t=n[u])}t!==null&&(t.selected=!0)}}function L0(n,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Tt({},t,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function VD(n,t){var r=t.value;if(r==null){if(r=t.children,t=t.defaultValue,r!=null){if(t!=null)throw Error(re(92));if(Xu(r)){if(1<r.length)throw Error(re(93));r=r[0]}t=r}t==null&&(t=""),r=t}n._wrapperState={initialValue:Cs(r)}}function hN(n,t){var r=Cs(t.value),s=Cs(t.defaultValue);r!=null&&(r=""+r,r!==n.value&&(n.value=r),t.defaultValue==null&&n.defaultValue!==r&&(n.defaultValue=r)),s!=null&&(n.defaultValue=""+s)}function FD(n){var t=n.textContent;t===n._wrapperState.initialValue&&t!==""&&t!==null&&(n.value=t)}function fN(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function z0(n,t){return n==null||n==="http://www.w3.org/1999/xhtml"?fN(t):n==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var Pp,pN=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,r,s,u){MSApp.execUnsafeLocalFunction(function(){return n(t,r,s,u)})}:n}(function(n,t){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=t;else{for(Pp=Pp||document.createElement("div"),Pp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Pp.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;t.firstChild;)n.appendChild(t.firstChild)}});function Dd(n,t){if(t){var r=n.firstChild;if(r&&r===n.lastChild&&r.nodeType===3){r.nodeValue=t;return}}n.textContent=t}var ud={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},gH=["Webkit","ms","Moz","O"];Object.keys(ud).forEach(function(n){gH.forEach(function(t){t=t+n.charAt(0).toUpperCase()+n.substring(1),ud[t]=ud[n]})});function gN(n,t,r){return t==null||typeof t=="boolean"||t===""?"":r||typeof t!="number"||t===0||ud.hasOwnProperty(n)&&ud[n]?(""+t).trim():t+"px"}function mN(n,t){n=n.style;for(var r in t)if(t.hasOwnProperty(r)){var s=r.indexOf("--")===0,u=gN(r,t[r],s);r==="float"&&(r="cssFloat"),s?n.setProperty(r,u):n[r]=u}}var mH=Tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function j0(n,t){if(t){if(mH[n]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,n));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function V0(n,t){if(n.indexOf("-")===-1)return typeof t.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var F0=null;function vv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var U0=null,Xl=null,ec=null;function UD(n){if(n=yh(n)){if(typeof U0!="function")throw Error(re(280));var t=n.stateNode;t&&(t=Vm(t),U0(n.stateNode,n.type,t))}}function kN(n){Xl?ec?ec.push(n):ec=[n]:Xl=n}function bN(){if(Xl){var n=Xl,t=ec;if(ec=Xl=null,UD(n),t)for(n=0;n<t.length;n++)UD(t[n])}}function wN(n,t){return n(t)}function _N(){}var P_=!1;function AN(n,t,r){if(P_)return n(t,r);P_=!0;try{return wN(n,t,r)}finally{P_=!1,(Xl!==null||ec!==null)&&(_N(),bN())}}function Md(n,t){var r=n.stateNode;if(r===null)return null;var s=Vm(r);if(s===null)return null;r=s[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(s=!s.disabled)||(n=n.type,s=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!s;break e;default:n=!1}if(n)return null;if(r&&typeof r!="function")throw Error(re(231,t,typeof r));return r}var H0=!1;if(lo)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){H0=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{H0=!1}function kH(n,t,r,s,u,h,p,b,m){var A=Array.prototype.slice.call(arguments,3);try{t.apply(r,A)}catch(E){this.onError(E)}}var dd=!1,Mg=null,Pg=!1,W0=null,bH={onError:function(n){dd=!0,Mg=n}};function wH(n,t,r,s,u,h,p,b,m){dd=!1,Mg=null,kH.apply(bH,arguments)}function _H(n,t,r,s,u,h,p,b,m){if(wH.apply(this,arguments),dd){if(dd){var A=Mg;dd=!1,Mg=null}else throw Error(re(198));Pg||(Pg=!0,W0=A)}}function ja(n){var t=n,r=n;if(n.alternate)for(;t.return;)t=t.return;else{n=t;do t=n,t.flags&4098&&(r=t.return),n=t.return;while(n)}return t.tag===3?r:null}function vN(n){if(n.tag===13){var t=n.memoizedState;if(t===null&&(n=n.alternate,n!==null&&(t=n.memoizedState)),t!==null)return t.dehydrated}return null}function HD(n){if(ja(n)!==n)throw Error(re(188))}function AH(n){var t=n.alternate;if(!t){if(t=ja(n),t===null)throw Error(re(188));return t!==n?null:n}for(var r=n,s=t;;){var u=r.return;if(u===null)break;var h=u.alternate;if(h===null){if(s=u.return,s!==null){r=s;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===r)return HD(u),n;if(h===s)return HD(u),t;h=h.sibling}throw Error(re(188))}if(r.return!==s.return)r=u,s=h;else{for(var p=!1,b=u.child;b;){if(b===r){p=!0,r=u,s=h;break}if(b===s){p=!0,s=u,r=h;break}b=b.sibling}if(!p){for(b=h.child;b;){if(b===r){p=!0,r=h,s=u;break}if(b===s){p=!0,s=h,r=u;break}b=b.sibling}if(!p)throw Error(re(189))}}if(r.alternate!==s)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?n:t}function yN(n){return n=AH(n),n!==null?CN(n):null}function CN(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var t=CN(n);if(t!==null)return t;n=n.sibling}return null}var EN=ki.unstable_scheduleCallback,WD=ki.unstable_cancelCallback,vH=ki.unstable_shouldYield,yH=ki.unstable_requestPaint,zt=ki.unstable_now,CH=ki.unstable_getCurrentPriorityLevel,yv=ki.unstable_ImmediatePriority,xN=ki.unstable_UserBlockingPriority,Ng=ki.unstable_NormalPriority,EH=ki.unstable_LowPriority,IN=ki.unstable_IdlePriority,Bm=null,Nr=null;function xH(n){if(Nr&&typeof Nr.onCommitFiberRoot=="function")try{Nr.onCommitFiberRoot(Bm,n,void 0,(n.current.flags&128)===128)}catch{}}var Ji=Math.clz32?Math.clz32:SH,IH=Math.log,TH=Math.LN2;function SH(n){return n>>>=0,n===0?32:31-(IH(n)/TH|0)|0}var Np=64,Rp=4194304;function ed(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function Rg(n,t){var r=n.pendingLanes;if(r===0)return 0;var s=0,u=n.suspendedLanes,h=n.pingedLanes,p=r&268435455;if(p!==0){var b=p&~u;b!==0?s=ed(b):(h&=p,h!==0&&(s=ed(h)))}else p=r&~u,p!==0?s=ed(p):h!==0&&(s=ed(h));if(s===0)return 0;if(t!==0&&t!==s&&!(t&u)&&(u=s&-s,h=t&-t,u>=h||u===16&&(h&4194240)!==0))return t;if(s&4&&(s|=r&16),t=n.entangledLanes,t!==0)for(n=n.entanglements,t&=s;0<t;)r=31-Ji(t),u=1<<r,s|=n[r],t&=~u;return s}function DH(n,t){switch(n){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function MH(n,t){for(var r=n.suspendedLanes,s=n.pingedLanes,u=n.expirationTimes,h=n.pendingLanes;0<h;){var p=31-Ji(h),b=1<<p,m=u[p];m===-1?(!(b&r)||b&s)&&(u[p]=DH(b,t)):m<=t&&(n.expiredLanes|=b),h&=~b}}function q0(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function TN(){var n=Np;return Np<<=1,!(Np&4194240)&&(Np=64),n}function N_(n){for(var t=[],r=0;31>r;r++)t.push(n);return t}function Ah(n,t,r){n.pendingLanes|=t,t!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,t=31-Ji(t),n[t]=r}function PH(n,t){var r=n.pendingLanes&~t;n.pendingLanes=t,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=t,n.mutableReadLanes&=t,n.entangledLanes&=t,t=n.entanglements;var s=n.eventTimes;for(n=n.expirationTimes;0<r;){var u=31-Ji(r),h=1<<u;t[u]=0,s[u]=-1,n[u]=-1,r&=~h}}function Cv(n,t){var r=n.entangledLanes|=t;for(n=n.entanglements;r;){var s=31-Ji(r),u=1<<s;u&t|n[s]&t&&(n[s]|=t),r&=~u}}var ot=0;function SN(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var DN,Ev,MN,PN,NN,$0=!1,Op=[],cs=null,us=null,ds=null,Pd=new Map,Nd=new Map,Yo=[],NH="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function qD(n,t){switch(n){case"focusin":case"focusout":cs=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":ds=null;break;case"pointerover":case"pointerout":Pd.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nd.delete(t.pointerId)}}function Fu(n,t,r,s,u,h){return n===null||n.nativeEvent!==h?(n={blockedOn:t,domEventName:r,eventSystemFlags:s,nativeEvent:h,targetContainers:[u]},t!==null&&(t=yh(t),t!==null&&Ev(t)),n):(n.eventSystemFlags|=s,t=n.targetContainers,u!==null&&t.indexOf(u)===-1&&t.push(u),n)}function RH(n,t,r,s,u){switch(t){case"focusin":return cs=Fu(cs,n,t,r,s,u),!0;case"dragenter":return us=Fu(us,n,t,r,s,u),!0;case"mouseover":return ds=Fu(ds,n,t,r,s,u),!0;case"pointerover":var h=u.pointerId;return Pd.set(h,Fu(Pd.get(h)||null,n,t,r,s,u)),!0;case"gotpointercapture":return h=u.pointerId,Nd.set(h,Fu(Nd.get(h)||null,n,t,r,s,u)),!0}return!1}function RN(n){var t=pa(n.target);if(t!==null){var r=ja(t);if(r!==null){if(t=r.tag,t===13){if(t=vN(r),t!==null){n.blockedOn=t,NN(n.priority,function(){MN(r)});return}}else if(t===3&&r.stateNode.current.memoizedState.isDehydrated){n.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}n.blockedOn=null}function cg(n){if(n.blockedOn!==null)return!1;for(var t=n.targetContainers;0<t.length;){var r=G0(n.domEventName,n.eventSystemFlags,t[0],n.nativeEvent);if(r===null){r=n.nativeEvent;var s=new r.constructor(r.type,r);F0=s,r.target.dispatchEvent(s),F0=null}else return t=yh(r),t!==null&&Ev(t),n.blockedOn=r,!1;t.shift()}return!0}function $D(n,t,r){cg(n)&&r.delete(t)}function OH(){$0=!1,cs!==null&&cg(cs)&&(cs=null),us!==null&&cg(us)&&(us=null),ds!==null&&cg(ds)&&(ds=null),Pd.forEach($D),Nd.forEach($D)}function Uu(n,t){n.blockedOn===t&&(n.blockedOn=null,$0||($0=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,OH)))}function Rd(n){function t(u){return Uu(u,n)}if(0<Op.length){Uu(Op[0],n);for(var r=1;r<Op.length;r++){var s=Op[r];s.blockedOn===n&&(s.blockedOn=null)}}for(cs!==null&&Uu(cs,n),us!==null&&Uu(us,n),ds!==null&&Uu(ds,n),Pd.forEach(t),Nd.forEach(t),r=0;r<Yo.length;r++)s=Yo[r],s.blockedOn===n&&(s.blockedOn=null);for(;0<Yo.length&&(r=Yo[0],r.blockedOn===null);)RN(r),r.blockedOn===null&&Yo.shift()}var tc=bo.ReactCurrentBatchConfig,Og=!0;function BH(n,t,r,s){var u=ot,h=tc.transition;tc.transition=null;try{ot=1,xv(n,t,r,s)}finally{ot=u,tc.transition=h}}function LH(n,t,r,s){var u=ot,h=tc.transition;tc.transition=null;try{ot=4,xv(n,t,r,s)}finally{ot=u,tc.transition=h}}function xv(n,t,r,s){if(Og){var u=G0(n,t,r,s);if(u===null)H_(n,t,s,Bg,r),qD(n,s);else if(RH(u,n,t,r,s))s.stopPropagation();else if(qD(n,s),t&4&&-1<NH.indexOf(n)){for(;u!==null;){var h=yh(u);if(h!==null&&DN(h),h=G0(n,t,r,s),h===null&&H_(n,t,s,Bg,r),h===u)break;u=h}u!==null&&s.stopPropagation()}else H_(n,t,s,null,r)}}var Bg=null;function G0(n,t,r,s){if(Bg=null,n=vv(s),n=pa(n),n!==null)if(t=ja(n),t===null)n=null;else if(r=t.tag,r===13){if(n=vN(t),n!==null)return n;n=null}else if(r===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;n=null}else t!==n&&(n=null);return Bg=n,null}function ON(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CH()){case yv:return 1;case xN:return 4;case Ng:case EH:return 16;case IN:return 536870912;default:return 16}default:return 16}}var is=null,Iv=null,ug=null;function BN(){if(ug)return ug;var n,t=Iv,r=t.length,s,u="value"in is?is.value:is.textContent,h=u.length;for(n=0;n<r&&t[n]===u[n];n++);var p=r-n;for(s=1;s<=p&&t[r-s]===u[h-s];s++);return ug=u.slice(n,1<s?1-s:void 0)}function dg(n){var t=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&t===13&&(n=13)):n=t,n===10&&(n=13),32<=n||n===13?n:0}function Bp(){return!0}function GD(){return!1}function _i(n){function t(r,s,u,h,p){this._reactName=r,this._targetInst=u,this.type=s,this.nativeEvent=h,this.target=p,this.currentTarget=null;for(var b in n)n.hasOwnProperty(b)&&(r=n[b],this[b]=r?r(h):h[b]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Bp:GD,this.isPropagationStopped=GD,this}return Tt(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Bp)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Bp)},persist:function(){},isPersistent:Bp}),t}var Mc={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Tv=_i(Mc),vh=Tt({},Mc,{view:0,detail:0}),zH=_i(vh),R_,O_,Hu,Lm=Tt({},vh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==Hu&&(Hu&&n.type==="mousemove"?(R_=n.screenX-Hu.screenX,O_=n.screenY-Hu.screenY):O_=R_=0,Hu=n),R_)},movementY:function(n){return"movementY"in n?n.movementY:O_}}),KD=_i(Lm),jH=Tt({},Lm,{dataTransfer:0}),VH=_i(jH),FH=Tt({},vh,{relatedTarget:0}),B_=_i(FH),UH=Tt({},Mc,{animationName:0,elapsedTime:0,pseudoElement:0}),HH=_i(UH),WH=Tt({},Mc,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),qH=_i(WH),$H=Tt({},Mc,{data:0}),QD=_i($H),GH={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},KH={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QH={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function YH(n){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(n):(n=QH[n])?!!t[n]:!1}function Sv(){return YH}var ZH=Tt({},vh,{key:function(n){if(n.key){var t=GH[n.key]||n.key;if(t!=="Unidentified")return t}return n.type==="keypress"?(n=dg(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?KH[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sv,charCode:function(n){return n.type==="keypress"?dg(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?dg(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),JH=_i(ZH),XH=Tt({},Lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YD=_i(XH),eW=Tt({},vh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sv}),tW=_i(eW),nW=Tt({},Mc,{propertyName:0,elapsedTime:0,pseudoElement:0}),iW=_i(nW),rW=Tt({},Lm,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),oW=_i(rW),sW=[9,13,27,32],Dv=lo&&"CompositionEvent"in window,hd=null;lo&&"documentMode"in document&&(hd=document.documentMode);var aW=lo&&"TextEvent"in window&&!hd,LN=lo&&(!Dv||hd&&8<hd&&11>=hd),ZD=String.fromCharCode(32),JD=!1;function zN(n,t){switch(n){case"keyup":return sW.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function jN(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var jl=!1;function lW(n,t){switch(n){case"compositionend":return jN(t);case"keypress":return t.which!==32?null:(JD=!0,ZD);case"textInput":return n=t.data,n===ZD&&JD?null:n;default:return null}}function cW(n,t){if(jl)return n==="compositionend"||!Dv&&zN(n,t)?(n=BN(),ug=Iv=is=null,jl=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return LN&&t.locale!=="ko"?null:t.data;default:return null}}var uW={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function XD(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t==="input"?!!uW[n.type]:t==="textarea"}function VN(n,t,r,s){kN(s),t=Lg(t,"onChange"),0<t.length&&(r=new Tv("onChange","change",null,r,s),n.push({event:r,listeners:t}))}var fd=null,Od=null;function dW(n){ZN(n,0)}function zm(n){var t=Ul(n);if(uN(t))return n}function hW(n,t){if(n==="change")return t}var FN=!1;if(lo){var L_;if(lo){var z_="oninput"in document;if(!z_){var e5=document.createElement("div");e5.setAttribute("oninput","return;"),z_=typeof e5.oninput=="function"}L_=z_}else L_=!1;FN=L_&&(!document.documentMode||9<document.documentMode)}function t5(){fd&&(fd.detachEvent("onpropertychange",UN),Od=fd=null)}function UN(n){if(n.propertyName==="value"&&zm(Od)){var t=[];VN(t,Od,n,vv(n)),AN(dW,t)}}function fW(n,t,r){n==="focusin"?(t5(),fd=t,Od=r,fd.attachEvent("onpropertychange",UN)):n==="focusout"&&t5()}function pW(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return zm(Od)}function gW(n,t){if(n==="click")return zm(t)}function mW(n,t){if(n==="input"||n==="change")return zm(t)}function kW(n,t){return n===t&&(n!==0||1/n===1/t)||n!==n&&t!==t}var tr=typeof Object.is=="function"?Object.is:kW;function Bd(n,t){if(tr(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;var r=Object.keys(n),s=Object.keys(t);if(r.length!==s.length)return!1;for(s=0;s<r.length;s++){var u=r[s];if(!S0.call(t,u)||!tr(n[u],t[u]))return!1}return!0}function n5(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function i5(n,t){var r=n5(n);n=0;for(var s;r;){if(r.nodeType===3){if(s=n+r.textContent.length,n<=t&&s>=t)return{node:r,offset:t-n};n=s}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=n5(r)}}function HN(n,t){return n&&t?n===t?!0:n&&n.nodeType===3?!1:t&&t.nodeType===3?HN(n,t.parentNode):"contains"in n?n.contains(t):n.compareDocumentPosition?!!(n.compareDocumentPosition(t)&16):!1:!1}function WN(){for(var n=window,t=Dg();t instanceof n.HTMLIFrameElement;){try{var r=typeof t.contentWindow.location.href=="string"}catch{r=!1}if(r)n=t.contentWindow;else break;t=Dg(n.document)}return t}function Mv(n){var t=n&&n.nodeName&&n.nodeName.toLowerCase();return t&&(t==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||t==="textarea"||n.contentEditable==="true")}function bW(n){var t=WN(),r=n.focusedElem,s=n.selectionRange;if(t!==r&&r&&r.ownerDocument&&HN(r.ownerDocument.documentElement,r)){if(s!==null&&Mv(r)){if(t=s.start,n=s.end,n===void 0&&(n=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(n,r.value.length);else if(n=(t=r.ownerDocument||document)&&t.defaultView||window,n.getSelection){n=n.getSelection();var u=r.textContent.length,h=Math.min(s.start,u);s=s.end===void 0?h:Math.min(s.end,u),!n.extend&&h>s&&(u=s,s=h,h=u),u=i5(r,h);var p=i5(r,s);u&&p&&(n.rangeCount!==1||n.anchorNode!==u.node||n.anchorOffset!==u.offset||n.focusNode!==p.node||n.focusOffset!==p.offset)&&(t=t.createRange(),t.setStart(u.node,u.offset),n.removeAllRanges(),h>s?(n.addRange(t),n.extend(p.node,p.offset)):(t.setEnd(p.node,p.offset),n.addRange(t)))}}for(t=[],n=r;n=n.parentNode;)n.nodeType===1&&t.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<t.length;r++)n=t[r],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var wW=lo&&"documentMode"in document&&11>=document.documentMode,Vl=null,K0=null,pd=null,Q0=!1;function r5(n,t,r){var s=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Q0||Vl==null||Vl!==Dg(s)||(s=Vl,"selectionStart"in s&&Mv(s)?s={start:s.selectionStart,end:s.selectionEnd}:(s=(s.ownerDocument&&s.ownerDocument.defaultView||window).getSelection(),s={anchorNode:s.anchorNode,anchorOffset:s.anchorOffset,focusNode:s.focusNode,focusOffset:s.focusOffset}),pd&&Bd(pd,s)||(pd=s,s=Lg(K0,"onSelect"),0<s.length&&(t=new Tv("onSelect","select",null,t,r),n.push({event:t,listeners:s}),t.target=Vl)))}function Lp(n,t){var r={};return r[n.toLowerCase()]=t.toLowerCase(),r["Webkit"+n]="webkit"+t,r["Moz"+n]="moz"+t,r}var Fl={animationend:Lp("Animation","AnimationEnd"),animationiteration:Lp("Animation","AnimationIteration"),animationstart:Lp("Animation","AnimationStart"),transitionend:Lp("Transition","TransitionEnd")},j_={},qN={};lo&&(qN=document.createElement("div").style,"AnimationEvent"in window||(delete Fl.animationend.animation,delete Fl.animationiteration.animation,delete Fl.animationstart.animation),"TransitionEvent"in window||delete Fl.transitionend.transition);function jm(n){if(j_[n])return j_[n];if(!Fl[n])return n;var t=Fl[n],r;for(r in t)if(t.hasOwnProperty(r)&&r in qN)return j_[n]=t[r];return n}var $N=jm("animationend"),GN=jm("animationiteration"),KN=jm("animationstart"),QN=jm("transitionend"),YN=new Map,o5="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ss(n,t){YN.set(n,t),za(t,[n])}for(var V_=0;V_<o5.length;V_++){var F_=o5[V_],_W=F_.toLowerCase(),AW=F_[0].toUpperCase()+F_.slice(1);Ss(_W,"on"+AW)}Ss($N,"onAnimationEnd");Ss(GN,"onAnimationIteration");Ss(KN,"onAnimationStart");Ss("dblclick","onDoubleClick");Ss("focusin","onFocus");Ss("focusout","onBlur");Ss(QN,"onTransitionEnd");hc("onMouseEnter",["mouseout","mouseover"]);hc("onMouseLeave",["mouseout","mouseover"]);hc("onPointerEnter",["pointerout","pointerover"]);hc("onPointerLeave",["pointerout","pointerover"]);za("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));za("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));za("onBeforeInput",["compositionend","keypress","textInput","paste"]);za("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));za("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));za("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var td="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vW=new Set("cancel close invalid load scroll toggle".split(" ").concat(td));function s5(n,t,r){var s=n.type||"unknown-event";n.currentTarget=r,_H(s,t,void 0,n),n.currentTarget=null}function ZN(n,t){t=(t&4)!==0;for(var r=0;r<n.length;r++){var s=n[r],u=s.event;s=s.listeners;e:{var h=void 0;if(t)for(var p=s.length-1;0<=p;p--){var b=s[p],m=b.instance,A=b.currentTarget;if(b=b.listener,m!==h&&u.isPropagationStopped())break e;s5(u,b,A),h=m}else for(p=0;p<s.length;p++){if(b=s[p],m=b.instance,A=b.currentTarget,b=b.listener,m!==h&&u.isPropagationStopped())break e;s5(u,b,A),h=m}}}if(Pg)throw n=W0,Pg=!1,W0=null,n}function kt(n,t){var r=t[eA];r===void 0&&(r=t[eA]=new Set);var s=n+"__bubble";r.has(s)||(JN(t,n,2,!1),r.add(s))}function U_(n,t,r){var s=0;t&&(s|=4),JN(r,n,s,t)}var zp="_reactListening"+Math.random().toString(36).slice(2);function Ld(n){if(!n[zp]){n[zp]=!0,oN.forEach(function(r){r!=="selectionchange"&&(vW.has(r)||U_(r,!1,n),U_(r,!0,n))});var t=n.nodeType===9?n:n.ownerDocument;t===null||t[zp]||(t[zp]=!0,U_("selectionchange",!1,t))}}function JN(n,t,r,s){switch(ON(t)){case 1:var u=BH;break;case 4:u=LH;break;default:u=xv}r=u.bind(null,t,r,n),u=void 0,!H0||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(u=!0),s?u!==void 0?n.addEventListener(t,r,{capture:!0,passive:u}):n.addEventListener(t,r,!0):u!==void 0?n.addEventListener(t,r,{passive:u}):n.addEventListener(t,r,!1)}function H_(n,t,r,s,u){var h=s;if(!(t&1)&&!(t&2)&&s!==null)e:for(;;){if(s===null)return;var p=s.tag;if(p===3||p===4){var b=s.stateNode.containerInfo;if(b===u||b.nodeType===8&&b.parentNode===u)break;if(p===4)for(p=s.return;p!==null;){var m=p.tag;if((m===3||m===4)&&(m=p.stateNode.containerInfo,m===u||m.nodeType===8&&m.parentNode===u))return;p=p.return}for(;b!==null;){if(p=pa(b),p===null)return;if(m=p.tag,m===5||m===6){s=h=p;continue e}b=b.parentNode}}s=s.return}AN(function(){var A=h,E=vv(r),C=[];e:{var v=YN.get(n);if(v!==void 0){var x=Tv,D=n;switch(n){case"keypress":if(dg(r)===0)break e;case"keydown":case"keyup":x=JH;break;case"focusin":D="focus",x=B_;break;case"focusout":D="blur",x=B_;break;case"beforeblur":case"afterblur":x=B_;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":x=KD;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":x=VH;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":x=tW;break;case $N:case GN:case KN:x=HH;break;case QN:x=iW;break;case"scroll":x=zH;break;case"wheel":x=oW;break;case"copy":case"cut":case"paste":x=qH;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":x=YD}var M=(t&4)!==0,L=!M&&n==="scroll",R=M?v!==null?v+"Capture":null:v;M=[];for(var O=A,z;O!==null;){z=O;var U=z.stateNode;if(z.tag===5&&U!==null&&(z=U,R!==null&&(U=Md(O,R),U!=null&&M.push(zd(O,U,z)))),L)break;O=O.return}0<M.length&&(v=new x(v,D,null,r,E),C.push({event:v,listeners:M}))}}if(!(t&7)){e:{if(v=n==="mouseover"||n==="pointerover",x=n==="mouseout"||n==="pointerout",v&&r!==F0&&(D=r.relatedTarget||r.fromElement)&&(pa(D)||D[co]))break e;if((x||v)&&(v=E.window===E?E:(v=E.ownerDocument)?v.defaultView||v.parentWindow:window,x?(D=r.relatedTarget||r.toElement,x=A,D=D?pa(D):null,D!==null&&(L=ja(D),D!==L||D.tag!==5&&D.tag!==6)&&(D=null)):(x=null,D=A),x!==D)){if(M=KD,U="onMouseLeave",R="onMouseEnter",O="mouse",(n==="pointerout"||n==="pointerover")&&(M=YD,U="onPointerLeave",R="onPointerEnter",O="pointer"),L=x==null?v:Ul(x),z=D==null?v:Ul(D),v=new M(U,O+"leave",x,r,E),v.target=L,v.relatedTarget=z,U=null,pa(E)===A&&(M=new M(R,O+"enter",D,r,E),M.target=z,M.relatedTarget=L,U=M),L=U,x&&D)t:{for(M=x,R=D,O=0,z=M;z;z=Sl(z))O++;for(z=0,U=R;U;U=Sl(U))z++;for(;0<O-z;)M=Sl(M),O--;for(;0<z-O;)R=Sl(R),z--;for(;O--;){if(M===R||R!==null&&M===R.alternate)break t;M=Sl(M),R=Sl(R)}M=null}else M=null;x!==null&&a5(C,v,x,M,!1),D!==null&&L!==null&&a5(C,L,D,M,!0)}}e:{if(v=A?Ul(A):window,x=v.nodeName&&v.nodeName.toLowerCase(),x==="select"||x==="input"&&v.type==="file")var $=hW;else if(XD(v))if(FN)$=mW;else{$=pW;var Y=fW}else(x=v.nodeName)&&x.toLowerCase()==="input"&&(v.type==="checkbox"||v.type==="radio")&&($=gW);if($&&($=$(n,A))){VN(C,$,r,E);break e}Y&&Y(n,v,A),n==="focusout"&&(Y=v._wrapperState)&&Y.controlled&&v.type==="number"&&B0(v,"number",v.value)}switch(Y=A?Ul(A):window,n){case"focusin":(XD(Y)||Y.contentEditable==="true")&&(Vl=Y,K0=A,pd=null);break;case"focusout":pd=K0=Vl=null;break;case"mousedown":Q0=!0;break;case"contextmenu":case"mouseup":case"dragend":Q0=!1,r5(C,r,E);break;case"selectionchange":if(wW)break;case"keydown":case"keyup":r5(C,r,E)}var K;if(Dv)e:{switch(n){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else jl?zN(n,r)&&(j="onCompositionEnd"):n==="keydown"&&r.keyCode===229&&(j="onCompositionStart");j&&(LN&&r.locale!=="ko"&&(jl||j!=="onCompositionStart"?j==="onCompositionEnd"&&jl&&(K=BN()):(is=E,Iv="value"in is?is.value:is.textContent,jl=!0)),Y=Lg(A,j),0<Y.length&&(j=new QD(j,n,null,r,E),C.push({event:j,listeners:Y}),K?j.data=K:(K=jN(r),K!==null&&(j.data=K)))),(K=aW?lW(n,r):cW(n,r))&&(A=Lg(A,"onBeforeInput"),0<A.length&&(E=new QD("onBeforeInput","beforeinput",null,r,E),C.push({event:E,listeners:A}),E.data=K))}ZN(C,t)})}function zd(n,t,r){return{instance:n,listener:t,currentTarget:r}}function Lg(n,t){for(var r=t+"Capture",s=[];n!==null;){var u=n,h=u.stateNode;u.tag===5&&h!==null&&(u=h,h=Md(n,r),h!=null&&s.unshift(zd(n,h,u)),h=Md(n,t),h!=null&&s.push(zd(n,h,u))),n=n.return}return s}function Sl(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function a5(n,t,r,s,u){for(var h=t._reactName,p=[];r!==null&&r!==s;){var b=r,m=b.alternate,A=b.stateNode;if(m!==null&&m===s)break;b.tag===5&&A!==null&&(b=A,u?(m=Md(r,h),m!=null&&p.unshift(zd(r,m,b))):u||(m=Md(r,h),m!=null&&p.push(zd(r,m,b)))),r=r.return}p.length!==0&&n.push({event:t,listeners:p})}var yW=/\r\n?/g,CW=/\u0000|\uFFFD/g;function l5(n){return(typeof n=="string"?n:""+n).replace(yW,`
`).replace(CW,"")}function jp(n,t,r){if(t=l5(t),l5(n)!==t&&r)throw Error(re(425))}function zg(){}var Y0=null,Z0=null;function J0(n,t){return n==="textarea"||n==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var X0=typeof setTimeout=="function"?setTimeout:void 0,EW=typeof clearTimeout=="function"?clearTimeout:void 0,c5=typeof Promise=="function"?Promise:void 0,xW=typeof queueMicrotask=="function"?queueMicrotask:typeof c5<"u"?function(n){return c5.resolve(null).then(n).catch(IW)}:X0;function IW(n){setTimeout(function(){throw n})}function W_(n,t){var r=t,s=0;do{var u=r.nextSibling;if(n.removeChild(r),u&&u.nodeType===8)if(r=u.data,r==="/$"){if(s===0){n.removeChild(u),Rd(t);return}s--}else r!=="$"&&r!=="$?"&&r!=="$!"||s++;r=u}while(r);Rd(t)}function hs(n){for(;n!=null;n=n.nextSibling){var t=n.nodeType;if(t===1||t===3)break;if(t===8){if(t=n.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return n}function u5(n){n=n.previousSibling;for(var t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="$"||r==="$!"||r==="$?"){if(t===0)return n;t--}else r==="/$"&&t++}n=n.previousSibling}return null}var Pc=Math.random().toString(36).slice(2),Sr="__reactFiber$"+Pc,jd="__reactProps$"+Pc,co="__reactContainer$"+Pc,eA="__reactEvents$"+Pc,TW="__reactListeners$"+Pc,SW="__reactHandles$"+Pc;function pa(n){var t=n[Sr];if(t)return t;for(var r=n.parentNode;r;){if(t=r[co]||r[Sr]){if(r=t.alternate,t.child!==null||r!==null&&r.child!==null)for(n=u5(n);n!==null;){if(r=n[Sr])return r;n=u5(n)}return t}n=r,r=n.parentNode}return null}function yh(n){return n=n[Sr]||n[co],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function Ul(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(re(33))}function Vm(n){return n[jd]||null}var tA=[],Hl=-1;function Ds(n){return{current:n}}function _t(n){0>Hl||(n.current=tA[Hl],tA[Hl]=null,Hl--)}function mt(n,t){Hl++,tA[Hl]=n.current,n.current=t}var Es={},Rn=Ds(Es),ti=Ds(!1),Ea=Es;function fc(n,t){var r=n.type.contextTypes;if(!r)return Es;var s=n.stateNode;if(s&&s.__reactInternalMemoizedUnmaskedChildContext===t)return s.__reactInternalMemoizedMaskedChildContext;var u={},h;for(h in r)u[h]=t[h];return s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=t,n.__reactInternalMemoizedMaskedChildContext=u),u}function ni(n){return n=n.childContextTypes,n!=null}function jg(){_t(ti),_t(Rn)}function d5(n,t,r){if(Rn.current!==Es)throw Error(re(168));mt(Rn,t),mt(ti,r)}function XN(n,t,r){var s=n.stateNode;if(t=t.childContextTypes,typeof s.getChildContext!="function")return r;s=s.getChildContext();for(var u in s)if(!(u in t))throw Error(re(108,fH(n)||"Unknown",u));return Tt({},r,s)}function Vg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||Es,Ea=Rn.current,mt(Rn,n),mt(ti,ti.current),!0}function h5(n,t,r){var s=n.stateNode;if(!s)throw Error(re(169));r?(n=XN(n,t,Ea),s.__reactInternalMemoizedMergedChildContext=n,_t(ti),_t(Rn),mt(Rn,n)):_t(ti),mt(ti,r)}var to=null,Fm=!1,q_=!1;function eR(n){to===null?to=[n]:to.push(n)}function DW(n){Fm=!0,eR(n)}function Ms(){if(!q_&&to!==null){q_=!0;var n=0,t=ot;try{var r=to;for(ot=1;n<r.length;n++){var s=r[n];do s=s(!0);while(s!==null)}to=null,Fm=!1}catch(u){throw to!==null&&(to=to.slice(n+1)),EN(yv,Ms),u}finally{ot=t,q_=!1}}return null}var Wl=[],ql=0,Fg=null,Ug=0,xi=[],Ii=0,xa=null,no=1,io="";function da(n,t){Wl[ql++]=Ug,Wl[ql++]=Fg,Fg=n,Ug=t}function tR(n,t,r){xi[Ii++]=no,xi[Ii++]=io,xi[Ii++]=xa,xa=n;var s=no;n=io;var u=32-Ji(s)-1;s&=~(1<<u),r+=1;var h=32-Ji(t)+u;if(30<h){var p=u-u%5;h=(s&(1<<p)-1).toString(32),s>>=p,u-=p,no=1<<32-Ji(t)+u|r<<u|s,io=h+n}else no=1<<h|r<<u|s,io=n}function Pv(n){n.return!==null&&(da(n,1),tR(n,1,0))}function Nv(n){for(;n===Fg;)Fg=Wl[--ql],Wl[ql]=null,Ug=Wl[--ql],Wl[ql]=null;for(;n===xa;)xa=xi[--Ii],xi[Ii]=null,io=xi[--Ii],xi[Ii]=null,no=xi[--Ii],xi[Ii]=null}var mi=null,pi=null,vt=!1,Qi=null;function nR(n,t){var r=Mi(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=n,t=n.deletions,t===null?(n.deletions=[r],n.flags|=16):t.push(r)}function f5(n,t){switch(n.tag){case 5:var r=n.type;return t=t.nodeType!==1||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(n.stateNode=t,mi=n,pi=hs(t.firstChild),!0):!1;case 6:return t=n.pendingProps===""||t.nodeType!==3?null:t,t!==null?(n.stateNode=t,mi=n,pi=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(r=xa!==null?{id:no,overflow:io}:null,n.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},r=Mi(18,null,null,0),r.stateNode=t,r.return=n,n.child=r,mi=n,pi=null,!0):!1;default:return!1}}function nA(n){return(n.mode&1)!==0&&(n.flags&128)===0}function iA(n){if(vt){var t=pi;if(t){var r=t;if(!f5(n,t)){if(nA(n))throw Error(re(418));t=hs(r.nextSibling);var s=mi;t&&f5(n,t)?nR(s,r):(n.flags=n.flags&-4097|2,vt=!1,mi=n)}}else{if(nA(n))throw Error(re(418));n.flags=n.flags&-4097|2,vt=!1,mi=n}}}function p5(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;mi=n}function Vp(n){if(n!==mi)return!1;if(!vt)return p5(n),vt=!0,!1;var t;if((t=n.tag!==3)&&!(t=n.tag!==5)&&(t=n.type,t=t!=="head"&&t!=="body"&&!J0(n.type,n.memoizedProps)),t&&(t=pi)){if(nA(n))throw iR(),Error(re(418));for(;t;)nR(n,t),t=hs(t.nextSibling)}if(p5(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(re(317));e:{for(n=n.nextSibling,t=0;n;){if(n.nodeType===8){var r=n.data;if(r==="/$"){if(t===0){pi=hs(n.nextSibling);break e}t--}else r!=="$"&&r!=="$!"&&r!=="$?"||t++}n=n.nextSibling}pi=null}}else pi=mi?hs(n.stateNode.nextSibling):null;return!0}function iR(){for(var n=pi;n;)n=hs(n.nextSibling)}function pc(){pi=mi=null,vt=!1}function Rv(n){Qi===null?Qi=[n]:Qi.push(n)}var MW=bo.ReactCurrentBatchConfig;function Gi(n,t){if(n&&n.defaultProps){t=Tt({},t),n=n.defaultProps;for(var r in n)t[r]===void 0&&(t[r]=n[r]);return t}return t}var Hg=Ds(null),Wg=null,$l=null,Ov=null;function Bv(){Ov=$l=Wg=null}function Lv(n){var t=Hg.current;_t(Hg),n._currentValue=t}function rA(n,t,r){for(;n!==null;){var s=n.alternate;if((n.childLanes&t)!==t?(n.childLanes|=t,s!==null&&(s.childLanes|=t)):s!==null&&(s.childLanes&t)!==t&&(s.childLanes|=t),n===r)break;n=n.return}}function nc(n,t){Wg=n,Ov=$l=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&t&&(ei=!0),n.firstContext=null)}function Ni(n){var t=n._currentValue;if(Ov!==n)if(n={context:n,memoizedValue:t,next:null},$l===null){if(Wg===null)throw Error(re(308));$l=n,Wg.dependencies={lanes:0,firstContext:n}}else $l=$l.next=n;return t}var ga=null;function zv(n){ga===null?ga=[n]:ga.push(n)}function rR(n,t,r,s){var u=t.interleaved;return u===null?(r.next=r,zv(t)):(r.next=u.next,u.next=r),t.interleaved=r,uo(n,s)}function uo(n,t){n.lanes|=t;var r=n.alternate;for(r!==null&&(r.lanes|=t),r=n,n=n.return;n!==null;)n.childLanes|=t,r=n.alternate,r!==null&&(r.childLanes|=t),r=n,n=n.return;return r.tag===3?r.stateNode:null}var Qo=!1;function jv(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oR(n,t){n=n.updateQueue,t.updateQueue===n&&(t.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ao(n,t){return{eventTime:n,lane:t,tag:0,payload:null,callback:null,next:null}}function fs(n,t,r){var s=n.updateQueue;if(s===null)return null;if(s=s.shared,$e&2){var u=s.pending;return u===null?t.next=t:(t.next=u.next,u.next=t),s.pending=t,uo(n,r)}return u=s.interleaved,u===null?(t.next=t,zv(s)):(t.next=u.next,u.next=t),s.interleaved=t,uo(n,r)}function hg(n,t,r){if(t=t.updateQueue,t!==null&&(t=t.shared,(r&4194240)!==0)){var s=t.lanes;s&=n.pendingLanes,r|=s,t.lanes=r,Cv(n,r)}}function g5(n,t){var r=n.updateQueue,s=n.alternate;if(s!==null&&(s=s.updateQueue,r===s)){var u=null,h=null;if(r=r.firstBaseUpdate,r!==null){do{var p={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};h===null?u=h=p:h=h.next=p,r=r.next}while(r!==null);h===null?u=h=t:h=h.next=t}else u=h=t;r={baseState:s.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:s.shared,effects:s.effects},n.updateQueue=r;return}n=r.lastBaseUpdate,n===null?r.firstBaseUpdate=t:n.next=t,r.lastBaseUpdate=t}function qg(n,t,r,s){var u=n.updateQueue;Qo=!1;var h=u.firstBaseUpdate,p=u.lastBaseUpdate,b=u.shared.pending;if(b!==null){u.shared.pending=null;var m=b,A=m.next;m.next=null,p===null?h=A:p.next=A,p=m;var E=n.alternate;E!==null&&(E=E.updateQueue,b=E.lastBaseUpdate,b!==p&&(b===null?E.firstBaseUpdate=A:b.next=A,E.lastBaseUpdate=m))}if(h!==null){var C=u.baseState;p=0,E=A=m=null,b=h;do{var v=b.lane,x=b.eventTime;if((s&v)===v){E!==null&&(E=E.next={eventTime:x,lane:0,tag:b.tag,payload:b.payload,callback:b.callback,next:null});e:{var D=n,M=b;switch(v=t,x=r,M.tag){case 1:if(D=M.payload,typeof D=="function"){C=D.call(x,C,v);break e}C=D;break e;case 3:D.flags=D.flags&-65537|128;case 0:if(D=M.payload,v=typeof D=="function"?D.call(x,C,v):D,v==null)break e;C=Tt({},C,v);break e;case 2:Qo=!0}}b.callback!==null&&b.lane!==0&&(n.flags|=64,v=u.effects,v===null?u.effects=[b]:v.push(b))}else x={eventTime:x,lane:v,tag:b.tag,payload:b.payload,callback:b.callback,next:null},E===null?(A=E=x,m=C):E=E.next=x,p|=v;if(b=b.next,b===null){if(b=u.shared.pending,b===null)break;v=b,b=v.next,v.next=null,u.lastBaseUpdate=v,u.shared.pending=null}}while(1);if(E===null&&(m=C),u.baseState=m,u.firstBaseUpdate=A,u.lastBaseUpdate=E,t=u.shared.interleaved,t!==null){u=t;do p|=u.lane,u=u.next;while(u!==t)}else h===null&&(u.shared.lanes=0);Ta|=p,n.lanes=p,n.memoizedState=C}}function m5(n,t,r){if(n=t.effects,t.effects=null,n!==null)for(t=0;t<n.length;t++){var s=n[t],u=s.callback;if(u!==null){if(s.callback=null,s=r,typeof u!="function")throw Error(re(191,u));u.call(s)}}}var sR=new rN.Component().refs;function oA(n,t,r,s){t=n.memoizedState,r=r(s,t),r=r==null?t:Tt({},t,r),n.memoizedState=r,n.lanes===0&&(n.updateQueue.baseState=r)}var Um={isMounted:function(n){return(n=n._reactInternals)?ja(n)===n:!1},enqueueSetState:function(n,t,r){n=n._reactInternals;var s=Fn(),u=gs(n),h=ao(s,u);h.payload=t,r!=null&&(h.callback=r),t=fs(n,h,u),t!==null&&(Xi(t,n,u,s),hg(t,n,u))},enqueueReplaceState:function(n,t,r){n=n._reactInternals;var s=Fn(),u=gs(n),h=ao(s,u);h.tag=1,h.payload=t,r!=null&&(h.callback=r),t=fs(n,h,u),t!==null&&(Xi(t,n,u,s),hg(t,n,u))},enqueueForceUpdate:function(n,t){n=n._reactInternals;var r=Fn(),s=gs(n),u=ao(r,s);u.tag=2,t!=null&&(u.callback=t),t=fs(n,u,s),t!==null&&(Xi(t,n,s,r),hg(t,n,s))}};function k5(n,t,r,s,u,h,p){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(s,h,p):t.prototype&&t.prototype.isPureReactComponent?!Bd(r,s)||!Bd(u,h):!0}function aR(n,t,r){var s=!1,u=Es,h=t.contextType;return typeof h=="object"&&h!==null?h=Ni(h):(u=ni(t)?Ea:Rn.current,s=t.contextTypes,h=(s=s!=null)?fc(n,u):Es),t=new t(r,h),n.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Um,n.stateNode=t,t._reactInternals=n,s&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=u,n.__reactInternalMemoizedMaskedChildContext=h),t}function b5(n,t,r,s){n=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(r,s),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(r,s),t.state!==n&&Um.enqueueReplaceState(t,t.state,null)}function sA(n,t,r,s){var u=n.stateNode;u.props=r,u.state=n.memoizedState,u.refs=sR,jv(n);var h=t.contextType;typeof h=="object"&&h!==null?u.context=Ni(h):(h=ni(t)?Ea:Rn.current,u.context=fc(n,h)),u.state=n.memoizedState,h=t.getDerivedStateFromProps,typeof h=="function"&&(oA(n,t,h,r),u.state=n.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(t=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),t!==u.state&&Um.enqueueReplaceState(u,u.state,null),qg(n,r,u,s),u.state=n.memoizedState),typeof u.componentDidMount=="function"&&(n.flags|=4194308)}function Wu(n,t,r){if(n=r.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var s=r.stateNode}if(!s)throw Error(re(147,n));var u=s,h=""+n;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===h?t.ref:(t=function(p){var b=u.refs;b===sR&&(b=u.refs={}),p===null?delete b[h]:b[h]=p},t._stringRef=h,t)}if(typeof n!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,n))}return n}function Fp(n,t){throw n=Object.prototype.toString.call(t),Error(re(31,n==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":n))}function w5(n){var t=n._init;return t(n._payload)}function lR(n){function t(R,O){if(n){var z=R.deletions;z===null?(R.deletions=[O],R.flags|=16):z.push(O)}}function r(R,O){if(!n)return null;for(;O!==null;)t(R,O),O=O.sibling;return null}function s(R,O){for(R=new Map;O!==null;)O.key!==null?R.set(O.key,O):R.set(O.index,O),O=O.sibling;return R}function u(R,O){return R=ms(R,O),R.index=0,R.sibling=null,R}function h(R,O,z){return R.index=z,n?(z=R.alternate,z!==null?(z=z.index,z<O?(R.flags|=2,O):z):(R.flags|=2,O)):(R.flags|=1048576,O)}function p(R){return n&&R.alternate===null&&(R.flags|=2),R}function b(R,O,z,U){return O===null||O.tag!==6?(O=J_(z,R.mode,U),O.return=R,O):(O=u(O,z),O.return=R,O)}function m(R,O,z,U){var $=z.type;return $===zl?E(R,O,z.props.children,U,z.key):O!==null&&(O.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ko&&w5($)===O.type)?(U=u(O,z.props),U.ref=Wu(R,O,z),U.return=R,U):(U=bg(z.type,z.key,z.props,null,R.mode,U),U.ref=Wu(R,O,z),U.return=R,U)}function A(R,O,z,U){return O===null||O.tag!==4||O.stateNode.containerInfo!==z.containerInfo||O.stateNode.implementation!==z.implementation?(O=X_(z,R.mode,U),O.return=R,O):(O=u(O,z.children||[]),O.return=R,O)}function E(R,O,z,U,$){return O===null||O.tag!==7?(O=Aa(z,R.mode,U,$),O.return=R,O):(O=u(O,z),O.return=R,O)}function C(R,O,z){if(typeof O=="string"&&O!==""||typeof O=="number")return O=J_(""+O,R.mode,z),O.return=R,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case Dp:return z=bg(O.type,O.key,O.props,null,R.mode,z),z.ref=Wu(R,null,O),z.return=R,z;case Ll:return O=X_(O,R.mode,z),O.return=R,O;case Ko:var U=O._init;return C(R,U(O._payload),z)}if(Xu(O)||ju(O))return O=Aa(O,R.mode,z,null),O.return=R,O;Fp(R,O)}return null}function v(R,O,z,U){var $=O!==null?O.key:null;if(typeof z=="string"&&z!==""||typeof z=="number")return $!==null?null:b(R,O,""+z,U);if(typeof z=="object"&&z!==null){switch(z.$$typeof){case Dp:return z.key===$?m(R,O,z,U):null;case Ll:return z.key===$?A(R,O,z,U):null;case Ko:return $=z._init,v(R,O,$(z._payload),U)}if(Xu(z)||ju(z))return $!==null?null:E(R,O,z,U,null);Fp(R,z)}return null}function x(R,O,z,U,$){if(typeof U=="string"&&U!==""||typeof U=="number")return R=R.get(z)||null,b(O,R,""+U,$);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case Dp:return R=R.get(U.key===null?z:U.key)||null,m(O,R,U,$);case Ll:return R=R.get(U.key===null?z:U.key)||null,A(O,R,U,$);case Ko:var Y=U._init;return x(R,O,z,Y(U._payload),$)}if(Xu(U)||ju(U))return R=R.get(z)||null,E(O,R,U,$,null);Fp(O,U)}return null}function D(R,O,z,U){for(var $=null,Y=null,K=O,j=O=0,q=null;K!==null&&j<z.length;j++){K.index>j?(q=K,K=null):q=K.sibling;var Z=v(R,K,z[j],U);if(Z===null){K===null&&(K=q);break}n&&K&&Z.alternate===null&&t(R,K),O=h(Z,O,j),Y===null?$=Z:Y.sibling=Z,Y=Z,K=q}if(j===z.length)return r(R,K),vt&&da(R,j),$;if(K===null){for(;j<z.length;j++)K=C(R,z[j],U),K!==null&&(O=h(K,O,j),Y===null?$=K:Y.sibling=K,Y=K);return vt&&da(R,j),$}for(K=s(R,K);j<z.length;j++)q=x(K,R,j,z[j],U),q!==null&&(n&&q.alternate!==null&&K.delete(q.key===null?j:q.key),O=h(q,O,j),Y===null?$=q:Y.sibling=q,Y=q);return n&&K.forEach(function(ke){return t(R,ke)}),vt&&da(R,j),$}function M(R,O,z,U){var $=ju(z);if(typeof $!="function")throw Error(re(150));if(z=$.call(z),z==null)throw Error(re(151));for(var Y=$=null,K=O,j=O=0,q=null,Z=z.next();K!==null&&!Z.done;j++,Z=z.next()){K.index>j?(q=K,K=null):q=K.sibling;var ke=v(R,K,Z.value,U);if(ke===null){K===null&&(K=q);break}n&&K&&ke.alternate===null&&t(R,K),O=h(ke,O,j),Y===null?$=ke:Y.sibling=ke,Y=ke,K=q}if(Z.done)return r(R,K),vt&&da(R,j),$;if(K===null){for(;!Z.done;j++,Z=z.next())Z=C(R,Z.value,U),Z!==null&&(O=h(Z,O,j),Y===null?$=Z:Y.sibling=Z,Y=Z);return vt&&da(R,j),$}for(K=s(R,K);!Z.done;j++,Z=z.next())Z=x(K,R,j,Z.value,U),Z!==null&&(n&&Z.alternate!==null&&K.delete(Z.key===null?j:Z.key),O=h(Z,O,j),Y===null?$=Z:Y.sibling=Z,Y=Z);return n&&K.forEach(function(ye){return t(R,ye)}),vt&&da(R,j),$}function L(R,O,z,U){if(typeof z=="object"&&z!==null&&z.type===zl&&z.key===null&&(z=z.props.children),typeof z=="object"&&z!==null){switch(z.$$typeof){case Dp:e:{for(var $=z.key,Y=O;Y!==null;){if(Y.key===$){if($=z.type,$===zl){if(Y.tag===7){r(R,Y.sibling),O=u(Y,z.props.children),O.return=R,R=O;break e}}else if(Y.elementType===$||typeof $=="object"&&$!==null&&$.$$typeof===Ko&&w5($)===Y.type){r(R,Y.sibling),O=u(Y,z.props),O.ref=Wu(R,Y,z),O.return=R,R=O;break e}r(R,Y);break}else t(R,Y);Y=Y.sibling}z.type===zl?(O=Aa(z.props.children,R.mode,U,z.key),O.return=R,R=O):(U=bg(z.type,z.key,z.props,null,R.mode,U),U.ref=Wu(R,O,z),U.return=R,R=U)}return p(R);case Ll:e:{for(Y=z.key;O!==null;){if(O.key===Y)if(O.tag===4&&O.stateNode.containerInfo===z.containerInfo&&O.stateNode.implementation===z.implementation){r(R,O.sibling),O=u(O,z.children||[]),O.return=R,R=O;break e}else{r(R,O);break}else t(R,O);O=O.sibling}O=X_(z,R.mode,U),O.return=R,R=O}return p(R);case Ko:return Y=z._init,L(R,O,Y(z._payload),U)}if(Xu(z))return D(R,O,z,U);if(ju(z))return M(R,O,z,U);Fp(R,z)}return typeof z=="string"&&z!==""||typeof z=="number"?(z=""+z,O!==null&&O.tag===6?(r(R,O.sibling),O=u(O,z),O.return=R,R=O):(r(R,O),O=J_(z,R.mode,U),O.return=R,R=O),p(R)):r(R,O)}return L}var gc=lR(!0),cR=lR(!1),Ch={},Rr=Ds(Ch),Vd=Ds(Ch),Fd=Ds(Ch);function ma(n){if(n===Ch)throw Error(re(174));return n}function Vv(n,t){switch(mt(Fd,t),mt(Vd,n),mt(Rr,Ch),n=t.nodeType,n){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:z0(null,"");break;default:n=n===8?t.parentNode:t,t=n.namespaceURI||null,n=n.tagName,t=z0(t,n)}_t(Rr),mt(Rr,t)}function mc(){_t(Rr),_t(Vd),_t(Fd)}function uR(n){ma(Fd.current);var t=ma(Rr.current),r=z0(t,n.type);t!==r&&(mt(Vd,n),mt(Rr,r))}function Fv(n){Vd.current===n&&(_t(Rr),_t(Vd))}var xt=Ds(0);function $g(n){for(var t=n;t!==null;){if(t.tag===13){var r=t.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var $_=[];function Uv(){for(var n=0;n<$_.length;n++)$_[n]._workInProgressVersionPrimary=null;$_.length=0}var fg=bo.ReactCurrentDispatcher,G_=bo.ReactCurrentBatchConfig,Ia=0,It=null,Yt=null,sn=null,Gg=!1,gd=!1,Ud=0,PW=0;function Cn(){throw Error(re(321))}function Hv(n,t){if(t===null)return!1;for(var r=0;r<t.length&&r<n.length;r++)if(!tr(n[r],t[r]))return!1;return!0}function Wv(n,t,r,s,u,h){if(Ia=h,It=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,fg.current=n===null||n.memoizedState===null?BW:LW,n=r(s,u),gd){h=0;do{if(gd=!1,Ud=0,25<=h)throw Error(re(301));h+=1,sn=Yt=null,t.updateQueue=null,fg.current=zW,n=r(s,u)}while(gd)}if(fg.current=Kg,t=Yt!==null&&Yt.next!==null,Ia=0,sn=Yt=It=null,Gg=!1,t)throw Error(re(300));return n}function qv(){var n=Ud!==0;return Ud=0,n}function xr(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sn===null?It.memoizedState=sn=n:sn=sn.next=n,sn}function Ri(){if(Yt===null){var n=It.alternate;n=n!==null?n.memoizedState:null}else n=Yt.next;var t=sn===null?It.memoizedState:sn.next;if(t!==null)sn=t,Yt=n;else{if(n===null)throw Error(re(310));Yt=n,n={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},sn===null?It.memoizedState=sn=n:sn=sn.next=n}return sn}function Hd(n,t){return typeof t=="function"?t(n):t}function K_(n){var t=Ri(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=n;var s=Yt,u=s.baseQueue,h=r.pending;if(h!==null){if(u!==null){var p=u.next;u.next=h.next,h.next=p}s.baseQueue=u=h,r.pending=null}if(u!==null){h=u.next,s=s.baseState;var b=p=null,m=null,A=h;do{var E=A.lane;if((Ia&E)===E)m!==null&&(m=m.next={lane:0,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null}),s=A.hasEagerState?A.eagerState:n(s,A.action);else{var C={lane:E,action:A.action,hasEagerState:A.hasEagerState,eagerState:A.eagerState,next:null};m===null?(b=m=C,p=s):m=m.next=C,It.lanes|=E,Ta|=E}A=A.next}while(A!==null&&A!==h);m===null?p=s:m.next=b,tr(s,t.memoizedState)||(ei=!0),t.memoizedState=s,t.baseState=p,t.baseQueue=m,r.lastRenderedState=s}if(n=r.interleaved,n!==null){u=n;do h=u.lane,It.lanes|=h,Ta|=h,u=u.next;while(u!==n)}else u===null&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Q_(n){var t=Ri(),r=t.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=n;var s=r.dispatch,u=r.pending,h=t.memoizedState;if(u!==null){r.pending=null;var p=u=u.next;do h=n(h,p.action),p=p.next;while(p!==u);tr(h,t.memoizedState)||(ei=!0),t.memoizedState=h,t.baseQueue===null&&(t.baseState=h),r.lastRenderedState=h}return[h,s]}function dR(){}function hR(n,t){var r=It,s=Ri(),u=t(),h=!tr(s.memoizedState,u);if(h&&(s.memoizedState=u,ei=!0),s=s.queue,$v(gR.bind(null,r,s,n),[n]),s.getSnapshot!==t||h||sn!==null&&sn.memoizedState.tag&1){if(r.flags|=2048,Wd(9,pR.bind(null,r,s,u,t),void 0,null),an===null)throw Error(re(349));Ia&30||fR(r,t,u)}return u}function fR(n,t,r){n.flags|=16384,n={getSnapshot:t,value:r},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.stores=[n]):(r=t.stores,r===null?t.stores=[n]:r.push(n))}function pR(n,t,r,s){t.value=r,t.getSnapshot=s,mR(t)&&kR(n)}function gR(n,t,r){return r(function(){mR(t)&&kR(n)})}function mR(n){var t=n.getSnapshot;n=n.value;try{var r=t();return!tr(n,r)}catch{return!0}}function kR(n){var t=uo(n,1);t!==null&&Xi(t,n,1,-1)}function _5(n){var t=xr();return typeof n=="function"&&(n=n()),t.memoizedState=t.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hd,lastRenderedState:n},t.queue=n,n=n.dispatch=OW.bind(null,It,n),[t.memoizedState,n]}function Wd(n,t,r,s){return n={tag:n,create:t,destroy:r,deps:s,next:null},t=It.updateQueue,t===null?(t={lastEffect:null,stores:null},It.updateQueue=t,t.lastEffect=n.next=n):(r=t.lastEffect,r===null?t.lastEffect=n.next=n:(s=r.next,r.next=n,n.next=s,t.lastEffect=n)),n}function bR(){return Ri().memoizedState}function pg(n,t,r,s){var u=xr();It.flags|=n,u.memoizedState=Wd(1|t,r,void 0,s===void 0?null:s)}function Hm(n,t,r,s){var u=Ri();s=s===void 0?null:s;var h=void 0;if(Yt!==null){var p=Yt.memoizedState;if(h=p.destroy,s!==null&&Hv(s,p.deps)){u.memoizedState=Wd(t,r,h,s);return}}It.flags|=n,u.memoizedState=Wd(1|t,r,h,s)}function A5(n,t){return pg(8390656,8,n,t)}function $v(n,t){return Hm(2048,8,n,t)}function wR(n,t){return Hm(4,2,n,t)}function _R(n,t){return Hm(4,4,n,t)}function AR(n,t){if(typeof t=="function")return n=n(),t(n),function(){t(null)};if(t!=null)return n=n(),t.current=n,function(){t.current=null}}function vR(n,t,r){return r=r!=null?r.concat([n]):null,Hm(4,4,AR.bind(null,t,n),r)}function Gv(){}function yR(n,t){var r=Ri();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Hv(t,s[1])?s[0]:(r.memoizedState=[n,t],n)}function CR(n,t){var r=Ri();t=t===void 0?null:t;var s=r.memoizedState;return s!==null&&t!==null&&Hv(t,s[1])?s[0]:(n=n(),r.memoizedState=[n,t],n)}function ER(n,t,r){return Ia&21?(tr(r,t)||(r=TN(),It.lanes|=r,Ta|=r,n.baseState=!0),t):(n.baseState&&(n.baseState=!1,ei=!0),n.memoizedState=r)}function NW(n,t){var r=ot;ot=r!==0&&4>r?r:4,n(!0);var s=G_.transition;G_.transition={};try{n(!1),t()}finally{ot=r,G_.transition=s}}function xR(){return Ri().memoizedState}function RW(n,t,r){var s=gs(n);if(r={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null},IR(n))TR(t,r);else if(r=rR(n,t,r,s),r!==null){var u=Fn();Xi(r,n,s,u),SR(r,t,s)}}function OW(n,t,r){var s=gs(n),u={lane:s,action:r,hasEagerState:!1,eagerState:null,next:null};if(IR(n))TR(t,u);else{var h=n.alternate;if(n.lanes===0&&(h===null||h.lanes===0)&&(h=t.lastRenderedReducer,h!==null))try{var p=t.lastRenderedState,b=h(p,r);if(u.hasEagerState=!0,u.eagerState=b,tr(b,p)){var m=t.interleaved;m===null?(u.next=u,zv(t)):(u.next=m.next,m.next=u),t.interleaved=u;return}}catch{}finally{}r=rR(n,t,u,s),r!==null&&(u=Fn(),Xi(r,n,s,u),SR(r,t,s))}}function IR(n){var t=n.alternate;return n===It||t!==null&&t===It}function TR(n,t){gd=Gg=!0;var r=n.pending;r===null?t.next=t:(t.next=r.next,r.next=t),n.pending=t}function SR(n,t,r){if(r&4194240){var s=t.lanes;s&=n.pendingLanes,r|=s,t.lanes=r,Cv(n,r)}}var Kg={readContext:Ni,useCallback:Cn,useContext:Cn,useEffect:Cn,useImperativeHandle:Cn,useInsertionEffect:Cn,useLayoutEffect:Cn,useMemo:Cn,useReducer:Cn,useRef:Cn,useState:Cn,useDebugValue:Cn,useDeferredValue:Cn,useTransition:Cn,useMutableSource:Cn,useSyncExternalStore:Cn,useId:Cn,unstable_isNewReconciler:!1},BW={readContext:Ni,useCallback:function(n,t){return xr().memoizedState=[n,t===void 0?null:t],n},useContext:Ni,useEffect:A5,useImperativeHandle:function(n,t,r){return r=r!=null?r.concat([n]):null,pg(4194308,4,AR.bind(null,t,n),r)},useLayoutEffect:function(n,t){return pg(4194308,4,n,t)},useInsertionEffect:function(n,t){return pg(4,2,n,t)},useMemo:function(n,t){var r=xr();return t=t===void 0?null:t,n=n(),r.memoizedState=[n,t],n},useReducer:function(n,t,r){var s=xr();return t=r!==void 0?r(t):t,s.memoizedState=s.baseState=t,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:t},s.queue=n,n=n.dispatch=RW.bind(null,It,n),[s.memoizedState,n]},useRef:function(n){var t=xr();return n={current:n},t.memoizedState=n},useState:_5,useDebugValue:Gv,useDeferredValue:function(n){return xr().memoizedState=n},useTransition:function(){var n=_5(!1),t=n[0];return n=NW.bind(null,n[1]),xr().memoizedState=n,[t,n]},useMutableSource:function(){},useSyncExternalStore:function(n,t,r){var s=It,u=xr();if(vt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=t(),an===null)throw Error(re(349));Ia&30||fR(s,t,r)}u.memoizedState=r;var h={value:r,getSnapshot:t};return u.queue=h,A5(gR.bind(null,s,h,n),[n]),s.flags|=2048,Wd(9,pR.bind(null,s,h,r,t),void 0,null),r},useId:function(){var n=xr(),t=an.identifierPrefix;if(vt){var r=io,s=no;r=(s&~(1<<32-Ji(s)-1)).toString(32)+r,t=":"+t+"R"+r,r=Ud++,0<r&&(t+="H"+r.toString(32)),t+=":"}else r=PW++,t=":"+t+"r"+r.toString(32)+":";return n.memoizedState=t},unstable_isNewReconciler:!1},LW={readContext:Ni,useCallback:yR,useContext:Ni,useEffect:$v,useImperativeHandle:vR,useInsertionEffect:wR,useLayoutEffect:_R,useMemo:CR,useReducer:K_,useRef:bR,useState:function(){return K_(Hd)},useDebugValue:Gv,useDeferredValue:function(n){var t=Ri();return ER(t,Yt.memoizedState,n)},useTransition:function(){var n=K_(Hd)[0],t=Ri().memoizedState;return[n,t]},useMutableSource:dR,useSyncExternalStore:hR,useId:xR,unstable_isNewReconciler:!1},zW={readContext:Ni,useCallback:yR,useContext:Ni,useEffect:$v,useImperativeHandle:vR,useInsertionEffect:wR,useLayoutEffect:_R,useMemo:CR,useReducer:Q_,useRef:bR,useState:function(){return Q_(Hd)},useDebugValue:Gv,useDeferredValue:function(n){var t=Ri();return Yt===null?t.memoizedState=n:ER(t,Yt.memoizedState,n)},useTransition:function(){var n=Q_(Hd)[0],t=Ri().memoizedState;return[n,t]},useMutableSource:dR,useSyncExternalStore:hR,useId:xR,unstable_isNewReconciler:!1};function kc(n,t){try{var r="",s=t;do r+=hH(s),s=s.return;while(s);var u=r}catch(h){u=`
Error generating stack: `+h.message+`
`+h.stack}return{value:n,source:t,stack:u,digest:null}}function Y_(n,t,r){return{value:n,source:null,stack:r??null,digest:t??null}}function aA(n,t){try{console.error(t.value)}catch(r){setTimeout(function(){throw r})}}var jW=typeof WeakMap=="function"?WeakMap:Map;function DR(n,t,r){r=ao(-1,r),r.tag=3,r.payload={element:null};var s=t.value;return r.callback=function(){Yg||(Yg=!0,kA=s),aA(n,t)},r}function MR(n,t,r){r=ao(-1,r),r.tag=3;var s=n.type.getDerivedStateFromError;if(typeof s=="function"){var u=t.value;r.payload=function(){return s(u)},r.callback=function(){aA(n,t)}}var h=n.stateNode;return h!==null&&typeof h.componentDidCatch=="function"&&(r.callback=function(){aA(n,t),typeof s!="function"&&(ps===null?ps=new Set([this]):ps.add(this));var p=t.stack;this.componentDidCatch(t.value,{componentStack:p!==null?p:""})}),r}function v5(n,t,r){var s=n.pingCache;if(s===null){s=n.pingCache=new jW;var u=new Set;s.set(t,u)}else u=s.get(t),u===void 0&&(u=new Set,s.set(t,u));u.has(r)||(u.add(r),n=XW.bind(null,n,t,r),t.then(n,n))}function y5(n){do{var t;if((t=n.tag===13)&&(t=n.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return n;n=n.return}while(n!==null);return null}function C5(n,t,r,s,u){return n.mode&1?(n.flags|=65536,n.lanes=u,n):(n===t?n.flags|=65536:(n.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(t=ao(-1,1),t.tag=2,fs(r,t,1))),r.lanes|=1),n)}var VW=bo.ReactCurrentOwner,ei=!1;function zn(n,t,r,s){t.child=n===null?cR(t,null,r,s):gc(t,n.child,r,s)}function E5(n,t,r,s,u){r=r.render;var h=t.ref;return nc(t,u),s=Wv(n,t,r,s,h,u),r=qv(),n!==null&&!ei?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~u,ho(n,t,u)):(vt&&r&&Pv(t),t.flags|=1,zn(n,t,s,u),t.child)}function x5(n,t,r,s,u){if(n===null){var h=r.type;return typeof h=="function"&&!ty(h)&&h.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(t.tag=15,t.type=h,PR(n,t,h,s,u)):(n=bg(r.type,null,s,t,t.mode,u),n.ref=t.ref,n.return=t,t.child=n)}if(h=n.child,!(n.lanes&u)){var p=h.memoizedProps;if(r=r.compare,r=r!==null?r:Bd,r(p,s)&&n.ref===t.ref)return ho(n,t,u)}return t.flags|=1,n=ms(h,s),n.ref=t.ref,n.return=t,t.child=n}function PR(n,t,r,s,u){if(n!==null){var h=n.memoizedProps;if(Bd(h,s)&&n.ref===t.ref)if(ei=!1,t.pendingProps=s=h,(n.lanes&u)!==0)n.flags&131072&&(ei=!0);else return t.lanes=n.lanes,ho(n,t,u)}return lA(n,t,r,s,u)}function NR(n,t,r){var s=t.pendingProps,u=s.children,h=n!==null?n.memoizedState:null;if(s.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},mt(Kl,fi),fi|=r;else{if(!(r&1073741824))return n=h!==null?h.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:n,cachePool:null,transitions:null},t.updateQueue=null,mt(Kl,fi),fi|=n,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},s=h!==null?h.baseLanes:r,mt(Kl,fi),fi|=s}else h!==null?(s=h.baseLanes|r,t.memoizedState=null):s=r,mt(Kl,fi),fi|=s;return zn(n,t,u,r),t.child}function RR(n,t){var r=t.ref;(n===null&&r!==null||n!==null&&n.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function lA(n,t,r,s,u){var h=ni(r)?Ea:Rn.current;return h=fc(t,h),nc(t,u),r=Wv(n,t,r,s,h,u),s=qv(),n!==null&&!ei?(t.updateQueue=n.updateQueue,t.flags&=-2053,n.lanes&=~u,ho(n,t,u)):(vt&&s&&Pv(t),t.flags|=1,zn(n,t,r,u),t.child)}function I5(n,t,r,s,u){if(ni(r)){var h=!0;Vg(t)}else h=!1;if(nc(t,u),t.stateNode===null)gg(n,t),aR(t,r,s),sA(t,r,s,u),s=!0;else if(n===null){var p=t.stateNode,b=t.memoizedProps;p.props=b;var m=p.context,A=r.contextType;typeof A=="object"&&A!==null?A=Ni(A):(A=ni(r)?Ea:Rn.current,A=fc(t,A));var E=r.getDerivedStateFromProps,C=typeof E=="function"||typeof p.getSnapshotBeforeUpdate=="function";C||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==s||m!==A)&&b5(t,p,s,A),Qo=!1;var v=t.memoizedState;p.state=v,qg(t,s,p,u),m=t.memoizedState,b!==s||v!==m||ti.current||Qo?(typeof E=="function"&&(oA(t,r,E,s),m=t.memoizedState),(b=Qo||k5(t,r,b,s,v,m,A))?(C||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(t.flags|=4194308)):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=s,t.memoizedState=m),p.props=s,p.state=m,p.context=A,s=b):(typeof p.componentDidMount=="function"&&(t.flags|=4194308),s=!1)}else{p=t.stateNode,oR(n,t),b=t.memoizedProps,A=t.type===t.elementType?b:Gi(t.type,b),p.props=A,C=t.pendingProps,v=p.context,m=r.contextType,typeof m=="object"&&m!==null?m=Ni(m):(m=ni(r)?Ea:Rn.current,m=fc(t,m));var x=r.getDerivedStateFromProps;(E=typeof x=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(b!==C||v!==m)&&b5(t,p,s,m),Qo=!1,v=t.memoizedState,p.state=v,qg(t,s,p,u);var D=t.memoizedState;b!==C||v!==D||ti.current||Qo?(typeof x=="function"&&(oA(t,r,x,s),D=t.memoizedState),(A=Qo||k5(t,r,A,s,v,D,m)||!1)?(E||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(s,D,m),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(s,D,m)),typeof p.componentDidUpdate=="function"&&(t.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&v===n.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&v===n.memoizedState||(t.flags|=1024),t.memoizedProps=s,t.memoizedState=D),p.props=s,p.state=D,p.context=m,s=A):(typeof p.componentDidUpdate!="function"||b===n.memoizedProps&&v===n.memoizedState||(t.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||b===n.memoizedProps&&v===n.memoizedState||(t.flags|=1024),s=!1)}return cA(n,t,r,s,h,u)}function cA(n,t,r,s,u,h){RR(n,t);var p=(t.flags&128)!==0;if(!s&&!p)return u&&h5(t,r,!1),ho(n,t,h);s=t.stateNode,VW.current=t;var b=p&&typeof r.getDerivedStateFromError!="function"?null:s.render();return t.flags|=1,n!==null&&p?(t.child=gc(t,n.child,null,h),t.child=gc(t,null,b,h)):zn(n,t,b,h),t.memoizedState=s.state,u&&h5(t,r,!0),t.child}function OR(n){var t=n.stateNode;t.pendingContext?d5(n,t.pendingContext,t.pendingContext!==t.context):t.context&&d5(n,t.context,!1),Vv(n,t.containerInfo)}function T5(n,t,r,s,u){return pc(),Rv(u),t.flags|=256,zn(n,t,r,s),t.child}var uA={dehydrated:null,treeContext:null,retryLane:0};function dA(n){return{baseLanes:n,cachePool:null,transitions:null}}function BR(n,t,r){var s=t.pendingProps,u=xt.current,h=!1,p=(t.flags&128)!==0,b;if((b=p)||(b=n!==null&&n.memoizedState===null?!1:(u&2)!==0),b?(h=!0,t.flags&=-129):(n===null||n.memoizedState!==null)&&(u|=1),mt(xt,u&1),n===null)return iA(t),n=t.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(t.mode&1?n.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(p=s.children,n=s.fallback,h?(s=t.mode,h=t.child,p={mode:"hidden",children:p},!(s&1)&&h!==null?(h.childLanes=0,h.pendingProps=p):h=$m(p,s,0,null),n=Aa(n,s,r,null),h.return=t,n.return=t,h.sibling=n,t.child=h,t.child.memoizedState=dA(r),t.memoizedState=uA,n):Kv(t,p));if(u=n.memoizedState,u!==null&&(b=u.dehydrated,b!==null))return FW(n,t,p,s,b,u,r);if(h){h=s.fallback,p=t.mode,u=n.child,b=u.sibling;var m={mode:"hidden",children:s.children};return!(p&1)&&t.child!==u?(s=t.child,s.childLanes=0,s.pendingProps=m,t.deletions=null):(s=ms(u,m),s.subtreeFlags=u.subtreeFlags&14680064),b!==null?h=ms(b,h):(h=Aa(h,p,r,null),h.flags|=2),h.return=t,s.return=t,s.sibling=h,t.child=s,s=h,h=t.child,p=n.child.memoizedState,p=p===null?dA(r):{baseLanes:p.baseLanes|r,cachePool:null,transitions:p.transitions},h.memoizedState=p,h.childLanes=n.childLanes&~r,t.memoizedState=uA,s}return h=n.child,n=h.sibling,s=ms(h,{mode:"visible",children:s.children}),!(t.mode&1)&&(s.lanes=r),s.return=t,s.sibling=null,n!==null&&(r=t.deletions,r===null?(t.deletions=[n],t.flags|=16):r.push(n)),t.child=s,t.memoizedState=null,s}function Kv(n,t){return t=$m({mode:"visible",children:t},n.mode,0,null),t.return=n,n.child=t}function Up(n,t,r,s){return s!==null&&Rv(s),gc(t,n.child,null,r),n=Kv(t,t.pendingProps.children),n.flags|=2,t.memoizedState=null,n}function FW(n,t,r,s,u,h,p){if(r)return t.flags&256?(t.flags&=-257,s=Y_(Error(re(422))),Up(n,t,p,s)):t.memoizedState!==null?(t.child=n.child,t.flags|=128,null):(h=s.fallback,u=t.mode,s=$m({mode:"visible",children:s.children},u,0,null),h=Aa(h,u,p,null),h.flags|=2,s.return=t,h.return=t,s.sibling=h,t.child=s,t.mode&1&&gc(t,n.child,null,p),t.child.memoizedState=dA(p),t.memoizedState=uA,h);if(!(t.mode&1))return Up(n,t,p,null);if(u.data==="$!"){if(s=u.nextSibling&&u.nextSibling.dataset,s)var b=s.dgst;return s=b,h=Error(re(419)),s=Y_(h,s,void 0),Up(n,t,p,s)}if(b=(p&n.childLanes)!==0,ei||b){if(s=an,s!==null){switch(p&-p){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}u=u&(s.suspendedLanes|p)?0:u,u!==0&&u!==h.retryLane&&(h.retryLane=u,uo(n,u),Xi(s,n,u,-1))}return ey(),s=Y_(Error(re(421))),Up(n,t,p,s)}return u.data==="$?"?(t.flags|=128,t.child=n.child,t=eq.bind(null,n),u._reactRetry=t,null):(n=h.treeContext,pi=hs(u.nextSibling),mi=t,vt=!0,Qi=null,n!==null&&(xi[Ii++]=no,xi[Ii++]=io,xi[Ii++]=xa,no=n.id,io=n.overflow,xa=t),t=Kv(t,s.children),t.flags|=4096,t)}function S5(n,t,r){n.lanes|=t;var s=n.alternate;s!==null&&(s.lanes|=t),rA(n.return,t,r)}function Z_(n,t,r,s,u){var h=n.memoizedState;h===null?n.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:s,tail:r,tailMode:u}:(h.isBackwards=t,h.rendering=null,h.renderingStartTime=0,h.last=s,h.tail=r,h.tailMode=u)}function LR(n,t,r){var s=t.pendingProps,u=s.revealOrder,h=s.tail;if(zn(n,t,s.children,r),s=xt.current,s&2)s=s&1|2,t.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=t.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&S5(n,r,t);else if(n.tag===19)S5(n,r,t);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}s&=1}if(mt(xt,s),!(t.mode&1))t.memoizedState=null;else switch(u){case"forwards":for(r=t.child,u=null;r!==null;)n=r.alternate,n!==null&&$g(n)===null&&(u=r),r=r.sibling;r=u,r===null?(u=t.child,t.child=null):(u=r.sibling,r.sibling=null),Z_(t,!1,u,r,h);break;case"backwards":for(r=null,u=t.child,t.child=null;u!==null;){if(n=u.alternate,n!==null&&$g(n)===null){t.child=u;break}n=u.sibling,u.sibling=r,r=u,u=n}Z_(t,!0,r,null,h);break;case"together":Z_(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function gg(n,t){!(t.mode&1)&&n!==null&&(n.alternate=null,t.alternate=null,t.flags|=2)}function ho(n,t,r){if(n!==null&&(t.dependencies=n.dependencies),Ta|=t.lanes,!(r&t.childLanes))return null;if(n!==null&&t.child!==n.child)throw Error(re(153));if(t.child!==null){for(n=t.child,r=ms(n,n.pendingProps),t.child=r,r.return=t;n.sibling!==null;)n=n.sibling,r=r.sibling=ms(n,n.pendingProps),r.return=t;r.sibling=null}return t.child}function UW(n,t,r){switch(t.tag){case 3:OR(t),pc();break;case 5:uR(t);break;case 1:ni(t.type)&&Vg(t);break;case 4:Vv(t,t.stateNode.containerInfo);break;case 10:var s=t.type._context,u=t.memoizedProps.value;mt(Hg,s._currentValue),s._currentValue=u;break;case 13:if(s=t.memoizedState,s!==null)return s.dehydrated!==null?(mt(xt,xt.current&1),t.flags|=128,null):r&t.child.childLanes?BR(n,t,r):(mt(xt,xt.current&1),n=ho(n,t,r),n!==null?n.sibling:null);mt(xt,xt.current&1);break;case 19:if(s=(r&t.childLanes)!==0,n.flags&128){if(s)return LR(n,t,r);t.flags|=128}if(u=t.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),mt(xt,xt.current),s)break;return null;case 22:case 23:return t.lanes=0,NR(n,t,r)}return ho(n,t,r)}var zR,hA,jR,VR;zR=function(n,t){for(var r=t.child;r!==null;){if(r.tag===5||r.tag===6)n.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};hA=function(){};jR=function(n,t,r,s){var u=n.memoizedProps;if(u!==s){n=t.stateNode,ma(Rr.current);var h=null;switch(r){case"input":u=R0(n,u),s=R0(n,s),h=[];break;case"select":u=Tt({},u,{value:void 0}),s=Tt({},s,{value:void 0}),h=[];break;case"textarea":u=L0(n,u),s=L0(n,s),h=[];break;default:typeof u.onClick!="function"&&typeof s.onClick=="function"&&(n.onclick=zg)}j0(r,s);var p;r=null;for(A in u)if(!s.hasOwnProperty(A)&&u.hasOwnProperty(A)&&u[A]!=null)if(A==="style"){var b=u[A];for(p in b)b.hasOwnProperty(p)&&(r||(r={}),r[p]="")}else A!=="dangerouslySetInnerHTML"&&A!=="children"&&A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(Sd.hasOwnProperty(A)?h||(h=[]):(h=h||[]).push(A,null));for(A in s){var m=s[A];if(b=u!=null?u[A]:void 0,s.hasOwnProperty(A)&&m!==b&&(m!=null||b!=null))if(A==="style")if(b){for(p in b)!b.hasOwnProperty(p)||m&&m.hasOwnProperty(p)||(r||(r={}),r[p]="");for(p in m)m.hasOwnProperty(p)&&b[p]!==m[p]&&(r||(r={}),r[p]=m[p])}else r||(h||(h=[]),h.push(A,r)),r=m;else A==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,b=b?b.__html:void 0,m!=null&&b!==m&&(h=h||[]).push(A,m)):A==="children"?typeof m!="string"&&typeof m!="number"||(h=h||[]).push(A,""+m):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&(Sd.hasOwnProperty(A)?(m!=null&&A==="onScroll"&&kt("scroll",n),h||b===m||(h=[])):(h=h||[]).push(A,m))}r&&(h=h||[]).push("style",r);var A=h;(t.updateQueue=A)&&(t.flags|=4)}};VR=function(n,t,r,s){r!==s&&(t.flags|=4)};function qu(n,t){if(!vt)switch(n.tailMode){case"hidden":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?n.tail=null:r.sibling=null;break;case"collapsed":r=n.tail;for(var s=null;r!==null;)r.alternate!==null&&(s=r),r=r.sibling;s===null?t||n.tail===null?n.tail=null:n.tail.sibling=null:s.sibling=null}}function En(n){var t=n.alternate!==null&&n.alternate.child===n.child,r=0,s=0;if(t)for(var u=n.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags&14680064,s|=u.flags&14680064,u.return=n,u=u.sibling;else for(u=n.child;u!==null;)r|=u.lanes|u.childLanes,s|=u.subtreeFlags,s|=u.flags,u.return=n,u=u.sibling;return n.subtreeFlags|=s,n.childLanes=r,t}function HW(n,t,r){var s=t.pendingProps;switch(Nv(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(t),null;case 1:return ni(t.type)&&jg(),En(t),null;case 3:return s=t.stateNode,mc(),_t(ti),_t(Rn),Uv(),s.pendingContext&&(s.context=s.pendingContext,s.pendingContext=null),(n===null||n.child===null)&&(Vp(t)?t.flags|=4:n===null||n.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Qi!==null&&(_A(Qi),Qi=null))),hA(n,t),En(t),null;case 5:Fv(t);var u=ma(Fd.current);if(r=t.type,n!==null&&t.stateNode!=null)jR(n,t,r,s,u),n.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!s){if(t.stateNode===null)throw Error(re(166));return En(t),null}if(n=ma(Rr.current),Vp(t)){s=t.stateNode,r=t.type;var h=t.memoizedProps;switch(s[Sr]=t,s[jd]=h,n=(t.mode&1)!==0,r){case"dialog":kt("cancel",s),kt("close",s);break;case"iframe":case"object":case"embed":kt("load",s);break;case"video":case"audio":for(u=0;u<td.length;u++)kt(td[u],s);break;case"source":kt("error",s);break;case"img":case"image":case"link":kt("error",s),kt("load",s);break;case"details":kt("toggle",s);break;case"input":zD(s,h),kt("invalid",s);break;case"select":s._wrapperState={wasMultiple:!!h.multiple},kt("invalid",s);break;case"textarea":VD(s,h),kt("invalid",s)}j0(r,h),u=null;for(var p in h)if(h.hasOwnProperty(p)){var b=h[p];p==="children"?typeof b=="string"?s.textContent!==b&&(h.suppressHydrationWarning!==!0&&jp(s.textContent,b,n),u=["children",b]):typeof b=="number"&&s.textContent!==""+b&&(h.suppressHydrationWarning!==!0&&jp(s.textContent,b,n),u=["children",""+b]):Sd.hasOwnProperty(p)&&b!=null&&p==="onScroll"&&kt("scroll",s)}switch(r){case"input":Mp(s),jD(s,h,!0);break;case"textarea":Mp(s),FD(s);break;case"select":case"option":break;default:typeof h.onClick=="function"&&(s.onclick=zg)}s=u,t.updateQueue=s,s!==null&&(t.flags|=4)}else{p=u.nodeType===9?u:u.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=fN(r)),n==="http://www.w3.org/1999/xhtml"?r==="script"?(n=p.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof s.is=="string"?n=p.createElement(r,{is:s.is}):(n=p.createElement(r),r==="select"&&(p=n,s.multiple?p.multiple=!0:s.size&&(p.size=s.size))):n=p.createElementNS(n,r),n[Sr]=t,n[jd]=s,zR(n,t,!1,!1),t.stateNode=n;e:{switch(p=V0(r,s),r){case"dialog":kt("cancel",n),kt("close",n),u=s;break;case"iframe":case"object":case"embed":kt("load",n),u=s;break;case"video":case"audio":for(u=0;u<td.length;u++)kt(td[u],n);u=s;break;case"source":kt("error",n),u=s;break;case"img":case"image":case"link":kt("error",n),kt("load",n),u=s;break;case"details":kt("toggle",n),u=s;break;case"input":zD(n,s),u=R0(n,s),kt("invalid",n);break;case"option":u=s;break;case"select":n._wrapperState={wasMultiple:!!s.multiple},u=Tt({},s,{value:void 0}),kt("invalid",n);break;case"textarea":VD(n,s),u=L0(n,s),kt("invalid",n);break;default:u=s}j0(r,u),b=u;for(h in b)if(b.hasOwnProperty(h)){var m=b[h];h==="style"?mN(n,m):h==="dangerouslySetInnerHTML"?(m=m?m.__html:void 0,m!=null&&pN(n,m)):h==="children"?typeof m=="string"?(r!=="textarea"||m!=="")&&Dd(n,m):typeof m=="number"&&Dd(n,""+m):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Sd.hasOwnProperty(h)?m!=null&&h==="onScroll"&&kt("scroll",n):m!=null&&bv(n,h,m,p))}switch(r){case"input":Mp(n),jD(n,s,!1);break;case"textarea":Mp(n),FD(n);break;case"option":s.value!=null&&n.setAttribute("value",""+Cs(s.value));break;case"select":n.multiple=!!s.multiple,h=s.value,h!=null?Jl(n,!!s.multiple,h,!1):s.defaultValue!=null&&Jl(n,!!s.multiple,s.defaultValue,!0);break;default:typeof u.onClick=="function"&&(n.onclick=zg)}switch(r){case"button":case"input":case"select":case"textarea":s=!!s.autoFocus;break e;case"img":s=!0;break e;default:s=!1}}s&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return En(t),null;case 6:if(n&&t.stateNode!=null)VR(n,t,n.memoizedProps,s);else{if(typeof s!="string"&&t.stateNode===null)throw Error(re(166));if(r=ma(Fd.current),ma(Rr.current),Vp(t)){if(s=t.stateNode,r=t.memoizedProps,s[Sr]=t,(h=s.nodeValue!==r)&&(n=mi,n!==null))switch(n.tag){case 3:jp(s.nodeValue,r,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&jp(s.nodeValue,r,(n.mode&1)!==0)}h&&(t.flags|=4)}else s=(r.nodeType===9?r:r.ownerDocument).createTextNode(s),s[Sr]=t,t.stateNode=s}return En(t),null;case 13:if(_t(xt),s=t.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(vt&&pi!==null&&t.mode&1&&!(t.flags&128))iR(),pc(),t.flags|=98560,h=!1;else if(h=Vp(t),s!==null&&s.dehydrated!==null){if(n===null){if(!h)throw Error(re(318));if(h=t.memoizedState,h=h!==null?h.dehydrated:null,!h)throw Error(re(317));h[Sr]=t}else pc(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;En(t),h=!1}else Qi!==null&&(_A(Qi),Qi=null),h=!0;if(!h)return t.flags&65536?t:null}return t.flags&128?(t.lanes=r,t):(s=s!==null,s!==(n!==null&&n.memoizedState!==null)&&s&&(t.child.flags|=8192,t.mode&1&&(n===null||xt.current&1?Zt===0&&(Zt=3):ey())),t.updateQueue!==null&&(t.flags|=4),En(t),null);case 4:return mc(),hA(n,t),n===null&&Ld(t.stateNode.containerInfo),En(t),null;case 10:return Lv(t.type._context),En(t),null;case 17:return ni(t.type)&&jg(),En(t),null;case 19:if(_t(xt),h=t.memoizedState,h===null)return En(t),null;if(s=(t.flags&128)!==0,p=h.rendering,p===null)if(s)qu(h,!1);else{if(Zt!==0||n!==null&&n.flags&128)for(n=t.child;n!==null;){if(p=$g(n),p!==null){for(t.flags|=128,qu(h,!1),s=p.updateQueue,s!==null&&(t.updateQueue=s,t.flags|=4),t.subtreeFlags=0,s=r,r=t.child;r!==null;)h=r,n=s,h.flags&=14680066,p=h.alternate,p===null?(h.childLanes=0,h.lanes=n,h.child=null,h.subtreeFlags=0,h.memoizedProps=null,h.memoizedState=null,h.updateQueue=null,h.dependencies=null,h.stateNode=null):(h.childLanes=p.childLanes,h.lanes=p.lanes,h.child=p.child,h.subtreeFlags=0,h.deletions=null,h.memoizedProps=p.memoizedProps,h.memoizedState=p.memoizedState,h.updateQueue=p.updateQueue,h.type=p.type,n=p.dependencies,h.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),r=r.sibling;return mt(xt,xt.current&1|2),t.child}n=n.sibling}h.tail!==null&&zt()>bc&&(t.flags|=128,s=!0,qu(h,!1),t.lanes=4194304)}else{if(!s)if(n=$g(p),n!==null){if(t.flags|=128,s=!0,r=n.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),qu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!p.alternate&&!vt)return En(t),null}else 2*zt()-h.renderingStartTime>bc&&r!==1073741824&&(t.flags|=128,s=!0,qu(h,!1),t.lanes=4194304);h.isBackwards?(p.sibling=t.child,t.child=p):(r=h.last,r!==null?r.sibling=p:t.child=p,h.last=p)}return h.tail!==null?(t=h.tail,h.rendering=t,h.tail=t.sibling,h.renderingStartTime=zt(),t.sibling=null,r=xt.current,mt(xt,s?r&1|2:r&1),t):(En(t),null);case 22:case 23:return Xv(),s=t.memoizedState!==null,n!==null&&n.memoizedState!==null!==s&&(t.flags|=8192),s&&t.mode&1?fi&1073741824&&(En(t),t.subtreeFlags&6&&(t.flags|=8192)):En(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function WW(n,t){switch(Nv(t),t.tag){case 1:return ni(t.type)&&jg(),n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 3:return mc(),_t(ti),_t(Rn),Uv(),n=t.flags,n&65536&&!(n&128)?(t.flags=n&-65537|128,t):null;case 5:return Fv(t),null;case 13:if(_t(xt),n=t.memoizedState,n!==null&&n.dehydrated!==null){if(t.alternate===null)throw Error(re(340));pc()}return n=t.flags,n&65536?(t.flags=n&-65537|128,t):null;case 19:return _t(xt),null;case 4:return mc(),null;case 10:return Lv(t.type._context),null;case 22:case 23:return Xv(),null;case 24:return null;default:return null}}var Hp=!1,Tn=!1,qW=typeof WeakSet=="function"?WeakSet:Set,fe=null;function Gl(n,t){var r=n.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(s){Pt(n,t,s)}else r.current=null}function fA(n,t,r){try{r()}catch(s){Pt(n,t,s)}}var D5=!1;function $W(n,t){if(Y0=Og,n=WN(),Mv(n)){if("selectionStart"in n)var r={start:n.selectionStart,end:n.selectionEnd};else e:{r=(r=n.ownerDocument)&&r.defaultView||window;var s=r.getSelection&&r.getSelection();if(s&&s.rangeCount!==0){r=s.anchorNode;var u=s.anchorOffset,h=s.focusNode;s=s.focusOffset;try{r.nodeType,h.nodeType}catch{r=null;break e}var p=0,b=-1,m=-1,A=0,E=0,C=n,v=null;t:for(;;){for(var x;C!==r||u!==0&&C.nodeType!==3||(b=p+u),C!==h||s!==0&&C.nodeType!==3||(m=p+s),C.nodeType===3&&(p+=C.nodeValue.length),(x=C.firstChild)!==null;)v=C,C=x;for(;;){if(C===n)break t;if(v===r&&++A===u&&(b=p),v===h&&++E===s&&(m=p),(x=C.nextSibling)!==null)break;C=v,v=C.parentNode}C=x}r=b===-1||m===-1?null:{start:b,end:m}}else r=null}r=r||{start:0,end:0}}else r=null;for(Z0={focusedElem:n,selectionRange:r},Og=!1,fe=t;fe!==null;)if(t=fe,n=t.child,(t.subtreeFlags&1028)!==0&&n!==null)n.return=t,fe=n;else for(;fe!==null;){t=fe;try{var D=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(D!==null){var M=D.memoizedProps,L=D.memoizedState,R=t.stateNode,O=R.getSnapshotBeforeUpdate(t.elementType===t.type?M:Gi(t.type,M),L);R.__reactInternalSnapshotBeforeUpdate=O}break;case 3:var z=t.stateNode.containerInfo;z.nodeType===1?z.textContent="":z.nodeType===9&&z.documentElement&&z.removeChild(z.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(U){Pt(t,t.return,U)}if(n=t.sibling,n!==null){n.return=t.return,fe=n;break}fe=t.return}return D=D5,D5=!1,D}function md(n,t,r){var s=t.updateQueue;if(s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&n)===n){var h=u.destroy;u.destroy=void 0,h!==void 0&&fA(t,r,h)}u=u.next}while(u!==s)}}function Wm(n,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var r=t=t.next;do{if((r.tag&n)===n){var s=r.create;r.destroy=s()}r=r.next}while(r!==t)}}function pA(n){var t=n.ref;if(t!==null){var r=n.stateNode;switch(n.tag){case 5:n=r;break;default:n=r}typeof t=="function"?t(n):t.current=n}}function FR(n){var t=n.alternate;t!==null&&(n.alternate=null,FR(t)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(t=n.stateNode,t!==null&&(delete t[Sr],delete t[jd],delete t[eA],delete t[TW],delete t[SW])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function UR(n){return n.tag===5||n.tag===3||n.tag===4}function M5(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||UR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function gA(n,t,r){var s=n.tag;if(s===5||s===6)n=n.stateNode,t?r.nodeType===8?r.parentNode.insertBefore(n,t):r.insertBefore(n,t):(r.nodeType===8?(t=r.parentNode,t.insertBefore(n,r)):(t=r,t.appendChild(n)),r=r._reactRootContainer,r!=null||t.onclick!==null||(t.onclick=zg));else if(s!==4&&(n=n.child,n!==null))for(gA(n,t,r),n=n.sibling;n!==null;)gA(n,t,r),n=n.sibling}function mA(n,t,r){var s=n.tag;if(s===5||s===6)n=n.stateNode,t?r.insertBefore(n,t):r.appendChild(n);else if(s!==4&&(n=n.child,n!==null))for(mA(n,t,r),n=n.sibling;n!==null;)mA(n,t,r),n=n.sibling}var pn=null,Ki=!1;function qo(n,t,r){for(r=r.child;r!==null;)HR(n,t,r),r=r.sibling}function HR(n,t,r){if(Nr&&typeof Nr.onCommitFiberUnmount=="function")try{Nr.onCommitFiberUnmount(Bm,r)}catch{}switch(r.tag){case 5:Tn||Gl(r,t);case 6:var s=pn,u=Ki;pn=null,qo(n,t,r),pn=s,Ki=u,pn!==null&&(Ki?(n=pn,r=r.stateNode,n.nodeType===8?n.parentNode.removeChild(r):n.removeChild(r)):pn.removeChild(r.stateNode));break;case 18:pn!==null&&(Ki?(n=pn,r=r.stateNode,n.nodeType===8?W_(n.parentNode,r):n.nodeType===1&&W_(n,r),Rd(n)):W_(pn,r.stateNode));break;case 4:s=pn,u=Ki,pn=r.stateNode.containerInfo,Ki=!0,qo(n,t,r),pn=s,Ki=u;break;case 0:case 11:case 14:case 15:if(!Tn&&(s=r.updateQueue,s!==null&&(s=s.lastEffect,s!==null))){u=s=s.next;do{var h=u,p=h.destroy;h=h.tag,p!==void 0&&(h&2||h&4)&&fA(r,t,p),u=u.next}while(u!==s)}qo(n,t,r);break;case 1:if(!Tn&&(Gl(r,t),s=r.stateNode,typeof s.componentWillUnmount=="function"))try{s.props=r.memoizedProps,s.state=r.memoizedState,s.componentWillUnmount()}catch(b){Pt(r,t,b)}qo(n,t,r);break;case 21:qo(n,t,r);break;case 22:r.mode&1?(Tn=(s=Tn)||r.memoizedState!==null,qo(n,t,r),Tn=s):qo(n,t,r);break;default:qo(n,t,r)}}function P5(n){var t=n.updateQueue;if(t!==null){n.updateQueue=null;var r=n.stateNode;r===null&&(r=n.stateNode=new qW),t.forEach(function(s){var u=tq.bind(null,n,s);r.has(s)||(r.add(s),s.then(u,u))})}}function $i(n,t){var r=t.deletions;if(r!==null)for(var s=0;s<r.length;s++){var u=r[s];try{var h=n,p=t,b=p;e:for(;b!==null;){switch(b.tag){case 5:pn=b.stateNode,Ki=!1;break e;case 3:pn=b.stateNode.containerInfo,Ki=!0;break e;case 4:pn=b.stateNode.containerInfo,Ki=!0;break e}b=b.return}if(pn===null)throw Error(re(160));HR(h,p,u),pn=null,Ki=!1;var m=u.alternate;m!==null&&(m.return=null),u.return=null}catch(A){Pt(u,t,A)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)WR(t,n),t=t.sibling}function WR(n,t){var r=n.alternate,s=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if($i(t,n),Er(n),s&4){try{md(3,n,n.return),Wm(3,n)}catch(M){Pt(n,n.return,M)}try{md(5,n,n.return)}catch(M){Pt(n,n.return,M)}}break;case 1:$i(t,n),Er(n),s&512&&r!==null&&Gl(r,r.return);break;case 5:if($i(t,n),Er(n),s&512&&r!==null&&Gl(r,r.return),n.flags&32){var u=n.stateNode;try{Dd(u,"")}catch(M){Pt(n,n.return,M)}}if(s&4&&(u=n.stateNode,u!=null)){var h=n.memoizedProps,p=r!==null?r.memoizedProps:h,b=n.type,m=n.updateQueue;if(n.updateQueue=null,m!==null)try{b==="input"&&h.type==="radio"&&h.name!=null&&dN(u,h),V0(b,p);var A=V0(b,h);for(p=0;p<m.length;p+=2){var E=m[p],C=m[p+1];E==="style"?mN(u,C):E==="dangerouslySetInnerHTML"?pN(u,C):E==="children"?Dd(u,C):bv(u,E,C,A)}switch(b){case"input":O0(u,h);break;case"textarea":hN(u,h);break;case"select":var v=u._wrapperState.wasMultiple;u._wrapperState.wasMultiple=!!h.multiple;var x=h.value;x!=null?Jl(u,!!h.multiple,x,!1):v!==!!h.multiple&&(h.defaultValue!=null?Jl(u,!!h.multiple,h.defaultValue,!0):Jl(u,!!h.multiple,h.multiple?[]:"",!1))}u[jd]=h}catch(M){Pt(n,n.return,M)}}break;case 6:if($i(t,n),Er(n),s&4){if(n.stateNode===null)throw Error(re(162));u=n.stateNode,h=n.memoizedProps;try{u.nodeValue=h}catch(M){Pt(n,n.return,M)}}break;case 3:if($i(t,n),Er(n),s&4&&r!==null&&r.memoizedState.isDehydrated)try{Rd(t.containerInfo)}catch(M){Pt(n,n.return,M)}break;case 4:$i(t,n),Er(n);break;case 13:$i(t,n),Er(n),u=n.child,u.flags&8192&&(h=u.memoizedState!==null,u.stateNode.isHidden=h,!h||u.alternate!==null&&u.alternate.memoizedState!==null||(Zv=zt())),s&4&&P5(n);break;case 22:if(E=r!==null&&r.memoizedState!==null,n.mode&1?(Tn=(A=Tn)||E,$i(t,n),Tn=A):$i(t,n),Er(n),s&8192){if(A=n.memoizedState!==null,(n.stateNode.isHidden=A)&&!E&&n.mode&1)for(fe=n,E=n.child;E!==null;){for(C=fe=E;fe!==null;){switch(v=fe,x=v.child,v.tag){case 0:case 11:case 14:case 15:md(4,v,v.return);break;case 1:Gl(v,v.return);var D=v.stateNode;if(typeof D.componentWillUnmount=="function"){s=v,r=v.return;try{t=s,D.props=t.memoizedProps,D.state=t.memoizedState,D.componentWillUnmount()}catch(M){Pt(s,r,M)}}break;case 5:Gl(v,v.return);break;case 22:if(v.memoizedState!==null){R5(C);continue}}x!==null?(x.return=v,fe=x):R5(C)}E=E.sibling}e:for(E=null,C=n;;){if(C.tag===5){if(E===null){E=C;try{u=C.stateNode,A?(h=u.style,typeof h.setProperty=="function"?h.setProperty("display","none","important"):h.display="none"):(b=C.stateNode,m=C.memoizedProps.style,p=m!=null&&m.hasOwnProperty("display")?m.display:null,b.style.display=gN("display",p))}catch(M){Pt(n,n.return,M)}}}else if(C.tag===6){if(E===null)try{C.stateNode.nodeValue=A?"":C.memoizedProps}catch(M){Pt(n,n.return,M)}}else if((C.tag!==22&&C.tag!==23||C.memoizedState===null||C===n)&&C.child!==null){C.child.return=C,C=C.child;continue}if(C===n)break e;for(;C.sibling===null;){if(C.return===null||C.return===n)break e;E===C&&(E=null),C=C.return}E===C&&(E=null),C.sibling.return=C.return,C=C.sibling}}break;case 19:$i(t,n),Er(n),s&4&&P5(n);break;case 21:break;default:$i(t,n),Er(n)}}function Er(n){var t=n.flags;if(t&2){try{e:{for(var r=n.return;r!==null;){if(UR(r)){var s=r;break e}r=r.return}throw Error(re(160))}switch(s.tag){case 5:var u=s.stateNode;s.flags&32&&(Dd(u,""),s.flags&=-33);var h=M5(n);mA(n,h,u);break;case 3:case 4:var p=s.stateNode.containerInfo,b=M5(n);gA(n,b,p);break;default:throw Error(re(161))}}catch(m){Pt(n,n.return,m)}n.flags&=-3}t&4096&&(n.flags&=-4097)}function GW(n,t,r){fe=n,qR(n)}function qR(n,t,r){for(var s=(n.mode&1)!==0;fe!==null;){var u=fe,h=u.child;if(u.tag===22&&s){var p=u.memoizedState!==null||Hp;if(!p){var b=u.alternate,m=b!==null&&b.memoizedState!==null||Tn;b=Hp;var A=Tn;if(Hp=p,(Tn=m)&&!A)for(fe=u;fe!==null;)p=fe,m=p.child,p.tag===22&&p.memoizedState!==null?O5(u):m!==null?(m.return=p,fe=m):O5(u);for(;h!==null;)fe=h,qR(h),h=h.sibling;fe=u,Hp=b,Tn=A}N5(n)}else u.subtreeFlags&8772&&h!==null?(h.return=u,fe=h):N5(n)}}function N5(n){for(;fe!==null;){var t=fe;if(t.flags&8772){var r=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Tn||Wm(5,t);break;case 1:var s=t.stateNode;if(t.flags&4&&!Tn)if(r===null)s.componentDidMount();else{var u=t.elementType===t.type?r.memoizedProps:Gi(t.type,r.memoizedProps);s.componentDidUpdate(u,r.memoizedState,s.__reactInternalSnapshotBeforeUpdate)}var h=t.updateQueue;h!==null&&m5(t,h,s);break;case 3:var p=t.updateQueue;if(p!==null){if(r=null,t.child!==null)switch(t.child.tag){case 5:r=t.child.stateNode;break;case 1:r=t.child.stateNode}m5(t,p,r)}break;case 5:var b=t.stateNode;if(r===null&&t.flags&4){r=b;var m=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":m.autoFocus&&r.focus();break;case"img":m.src&&(r.src=m.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var A=t.alternate;if(A!==null){var E=A.memoizedState;if(E!==null){var C=E.dehydrated;C!==null&&Rd(C)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}Tn||t.flags&512&&pA(t)}catch(v){Pt(t,t.return,v)}}if(t===n){fe=null;break}if(r=t.sibling,r!==null){r.return=t.return,fe=r;break}fe=t.return}}function R5(n){for(;fe!==null;){var t=fe;if(t===n){fe=null;break}var r=t.sibling;if(r!==null){r.return=t.return,fe=r;break}fe=t.return}}function O5(n){for(;fe!==null;){var t=fe;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{Wm(4,t)}catch(m){Pt(t,r,m)}break;case 1:var s=t.stateNode;if(typeof s.componentDidMount=="function"){var u=t.return;try{s.componentDidMount()}catch(m){Pt(t,u,m)}}var h=t.return;try{pA(t)}catch(m){Pt(t,h,m)}break;case 5:var p=t.return;try{pA(t)}catch(m){Pt(t,p,m)}}}catch(m){Pt(t,t.return,m)}if(t===n){fe=null;break}var b=t.sibling;if(b!==null){b.return=t.return,fe=b;break}fe=t.return}}var KW=Math.ceil,Qg=bo.ReactCurrentDispatcher,Qv=bo.ReactCurrentOwner,Pi=bo.ReactCurrentBatchConfig,$e=0,an=null,$t=null,kn=0,fi=0,Kl=Ds(0),Zt=0,qd=null,Ta=0,qm=0,Yv=0,kd=null,Jn=null,Zv=0,bc=1/0,Xr=null,Yg=!1,kA=null,ps=null,Wp=!1,rs=null,Zg=0,bd=0,bA=null,mg=-1,kg=0;function Fn(){return $e&6?zt():mg!==-1?mg:mg=zt()}function gs(n){return n.mode&1?$e&2&&kn!==0?kn&-kn:MW.transition!==null?(kg===0&&(kg=TN()),kg):(n=ot,n!==0||(n=window.event,n=n===void 0?16:ON(n.type)),n):1}function Xi(n,t,r,s){if(50<bd)throw bd=0,bA=null,Error(re(185));Ah(n,r,s),(!($e&2)||n!==an)&&(n===an&&(!($e&2)&&(qm|=r),Zt===4&&Zo(n,kn)),ii(n,s),r===1&&$e===0&&!(t.mode&1)&&(bc=zt()+500,Fm&&Ms()))}function ii(n,t){var r=n.callbackNode;MH(n,t);var s=Rg(n,n===an?kn:0);if(s===0)r!==null&&WD(r),n.callbackNode=null,n.callbackPriority=0;else if(t=s&-s,n.callbackPriority!==t){if(r!=null&&WD(r),t===1)n.tag===0?DW(B5.bind(null,n)):eR(B5.bind(null,n)),xW(function(){!($e&6)&&Ms()}),r=null;else{switch(SN(s)){case 1:r=yv;break;case 4:r=xN;break;case 16:r=Ng;break;case 536870912:r=IN;break;default:r=Ng}r=XR(r,$R.bind(null,n))}n.callbackPriority=t,n.callbackNode=r}}function $R(n,t){if(mg=-1,kg=0,$e&6)throw Error(re(327));var r=n.callbackNode;if(ic()&&n.callbackNode!==r)return null;var s=Rg(n,n===an?kn:0);if(s===0)return null;if(s&30||s&n.expiredLanes||t)t=Jg(n,s);else{t=s;var u=$e;$e|=2;var h=KR();(an!==n||kn!==t)&&(Xr=null,bc=zt()+500,_a(n,t));do try{ZW();break}catch(b){GR(n,b)}while(1);Bv(),Qg.current=h,$e=u,$t!==null?t=0:(an=null,kn=0,t=Zt)}if(t!==0){if(t===2&&(u=q0(n),u!==0&&(s=u,t=wA(n,u))),t===1)throw r=qd,_a(n,0),Zo(n,s),ii(n,zt()),r;if(t===6)Zo(n,s);else{if(u=n.current.alternate,!(s&30)&&!QW(u)&&(t=Jg(n,s),t===2&&(h=q0(n),h!==0&&(s=h,t=wA(n,h))),t===1))throw r=qd,_a(n,0),Zo(n,s),ii(n,zt()),r;switch(n.finishedWork=u,n.finishedLanes=s,t){case 0:case 1:throw Error(re(345));case 2:ha(n,Jn,Xr);break;case 3:if(Zo(n,s),(s&130023424)===s&&(t=Zv+500-zt(),10<t)){if(Rg(n,0)!==0)break;if(u=n.suspendedLanes,(u&s)!==s){Fn(),n.pingedLanes|=n.suspendedLanes&u;break}n.timeoutHandle=X0(ha.bind(null,n,Jn,Xr),t);break}ha(n,Jn,Xr);break;case 4:if(Zo(n,s),(s&4194240)===s)break;for(t=n.eventTimes,u=-1;0<s;){var p=31-Ji(s);h=1<<p,p=t[p],p>u&&(u=p),s&=~h}if(s=u,s=zt()-s,s=(120>s?120:480>s?480:1080>s?1080:1920>s?1920:3e3>s?3e3:4320>s?4320:1960*KW(s/1960))-s,10<s){n.timeoutHandle=X0(ha.bind(null,n,Jn,Xr),s);break}ha(n,Jn,Xr);break;case 5:ha(n,Jn,Xr);break;default:throw Error(re(329))}}}return ii(n,zt()),n.callbackNode===r?$R.bind(null,n):null}function wA(n,t){var r=kd;return n.current.memoizedState.isDehydrated&&(_a(n,t).flags|=256),n=Jg(n,t),n!==2&&(t=Jn,Jn=r,t!==null&&_A(t)),n}function _A(n){Jn===null?Jn=n:Jn.push.apply(Jn,n)}function QW(n){for(var t=n;;){if(t.flags&16384){var r=t.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var s=0;s<r.length;s++){var u=r[s],h=u.getSnapshot;u=u.value;try{if(!tr(h(),u))return!1}catch{return!1}}}if(r=t.child,t.subtreeFlags&16384&&r!==null)r.return=t,t=r;else{if(t===n)break;for(;t.sibling===null;){if(t.return===null||t.return===n)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Zo(n,t){for(t&=~Yv,t&=~qm,n.suspendedLanes|=t,n.pingedLanes&=~t,n=n.expirationTimes;0<t;){var r=31-Ji(t),s=1<<r;n[r]=-1,t&=~s}}function B5(n){if($e&6)throw Error(re(327));ic();var t=Rg(n,0);if(!(t&1))return ii(n,zt()),null;var r=Jg(n,t);if(n.tag!==0&&r===2){var s=q0(n);s!==0&&(t=s,r=wA(n,s))}if(r===1)throw r=qd,_a(n,0),Zo(n,t),ii(n,zt()),r;if(r===6)throw Error(re(345));return n.finishedWork=n.current.alternate,n.finishedLanes=t,ha(n,Jn,Xr),ii(n,zt()),null}function Jv(n,t){var r=$e;$e|=1;try{return n(t)}finally{$e=r,$e===0&&(bc=zt()+500,Fm&&Ms())}}function Sa(n){rs!==null&&rs.tag===0&&!($e&6)&&ic();var t=$e;$e|=1;var r=Pi.transition,s=ot;try{if(Pi.transition=null,ot=1,n)return n()}finally{ot=s,Pi.transition=r,$e=t,!($e&6)&&Ms()}}function Xv(){fi=Kl.current,_t(Kl)}function _a(n,t){n.finishedWork=null,n.finishedLanes=0;var r=n.timeoutHandle;if(r!==-1&&(n.timeoutHandle=-1,EW(r)),$t!==null)for(r=$t.return;r!==null;){var s=r;switch(Nv(s),s.tag){case 1:s=s.type.childContextTypes,s!=null&&jg();break;case 3:mc(),_t(ti),_t(Rn),Uv();break;case 5:Fv(s);break;case 4:mc();break;case 13:_t(xt);break;case 19:_t(xt);break;case 10:Lv(s.type._context);break;case 22:case 23:Xv()}r=r.return}if(an=n,$t=n=ms(n.current,null),kn=fi=t,Zt=0,qd=null,Yv=qm=Ta=0,Jn=kd=null,ga!==null){for(t=0;t<ga.length;t++)if(r=ga[t],s=r.interleaved,s!==null){r.interleaved=null;var u=s.next,h=r.pending;if(h!==null){var p=h.next;h.next=u,s.next=p}r.pending=s}ga=null}return n}function GR(n,t){do{var r=$t;try{if(Bv(),fg.current=Kg,Gg){for(var s=It.memoizedState;s!==null;){var u=s.queue;u!==null&&(u.pending=null),s=s.next}Gg=!1}if(Ia=0,sn=Yt=It=null,gd=!1,Ud=0,Qv.current=null,r===null||r.return===null){Zt=1,qd=t,$t=null;break}e:{var h=n,p=r.return,b=r,m=t;if(t=kn,b.flags|=32768,m!==null&&typeof m=="object"&&typeof m.then=="function"){var A=m,E=b,C=E.tag;if(!(E.mode&1)&&(C===0||C===11||C===15)){var v=E.alternate;v?(E.updateQueue=v.updateQueue,E.memoizedState=v.memoizedState,E.lanes=v.lanes):(E.updateQueue=null,E.memoizedState=null)}var x=y5(p);if(x!==null){x.flags&=-257,C5(x,p,b,h,t),x.mode&1&&v5(h,A,t),t=x,m=A;var D=t.updateQueue;if(D===null){var M=new Set;M.add(m),t.updateQueue=M}else D.add(m);break e}else{if(!(t&1)){v5(h,A,t),ey();break e}m=Error(re(426))}}else if(vt&&b.mode&1){var L=y5(p);if(L!==null){!(L.flags&65536)&&(L.flags|=256),C5(L,p,b,h,t),Rv(kc(m,b));break e}}h=m=kc(m,b),Zt!==4&&(Zt=2),kd===null?kd=[h]:kd.push(h),h=p;do{switch(h.tag){case 3:h.flags|=65536,t&=-t,h.lanes|=t;var R=DR(h,m,t);g5(h,R);break e;case 1:b=m;var O=h.type,z=h.stateNode;if(!(h.flags&128)&&(typeof O.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ps===null||!ps.has(z)))){h.flags|=65536,t&=-t,h.lanes|=t;var U=MR(h,b,t);g5(h,U);break e}}h=h.return}while(h!==null)}YR(r)}catch($){t=$,$t===r&&r!==null&&($t=r=r.return);continue}break}while(1)}function KR(){var n=Qg.current;return Qg.current=Kg,n===null?Kg:n}function ey(){(Zt===0||Zt===3||Zt===2)&&(Zt=4),an===null||!(Ta&268435455)&&!(qm&268435455)||Zo(an,kn)}function Jg(n,t){var r=$e;$e|=2;var s=KR();(an!==n||kn!==t)&&(Xr=null,_a(n,t));do try{YW();break}catch(u){GR(n,u)}while(1);if(Bv(),$e=r,Qg.current=s,$t!==null)throw Error(re(261));return an=null,kn=0,Zt}function YW(){for(;$t!==null;)QR($t)}function ZW(){for(;$t!==null&&!vH();)QR($t)}function QR(n){var t=JR(n.alternate,n,fi);n.memoizedProps=n.pendingProps,t===null?YR(n):$t=t,Qv.current=null}function YR(n){var t=n;do{var r=t.alternate;if(n=t.return,t.flags&32768){if(r=WW(r,t),r!==null){r.flags&=32767,$t=r;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Zt=6,$t=null;return}}else if(r=HW(r,t,fi),r!==null){$t=r;return}if(t=t.sibling,t!==null){$t=t;return}$t=t=n}while(t!==null);Zt===0&&(Zt=5)}function ha(n,t,r){var s=ot,u=Pi.transition;try{Pi.transition=null,ot=1,JW(n,t,r,s)}finally{Pi.transition=u,ot=s}return null}function JW(n,t,r,s){do ic();while(rs!==null);if($e&6)throw Error(re(327));r=n.finishedWork;var u=n.finishedLanes;if(r===null)return null;if(n.finishedWork=null,n.finishedLanes=0,r===n.current)throw Error(re(177));n.callbackNode=null,n.callbackPriority=0;var h=r.lanes|r.childLanes;if(PH(n,h),n===an&&($t=an=null,kn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Wp||(Wp=!0,XR(Ng,function(){return ic(),null})),h=(r.flags&15990)!==0,r.subtreeFlags&15990||h){h=Pi.transition,Pi.transition=null;var p=ot;ot=1;var b=$e;$e|=4,Qv.current=null,$W(n,r),WR(r,n),bW(Z0),Og=!!Y0,Z0=Y0=null,n.current=r,GW(r),yH(),$e=b,ot=p,Pi.transition=h}else n.current=r;if(Wp&&(Wp=!1,rs=n,Zg=u),h=n.pendingLanes,h===0&&(ps=null),xH(r.stateNode),ii(n,zt()),t!==null)for(s=n.onRecoverableError,r=0;r<t.length;r++)u=t[r],s(u.value,{componentStack:u.stack,digest:u.digest});if(Yg)throw Yg=!1,n=kA,kA=null,n;return Zg&1&&n.tag!==0&&ic(),h=n.pendingLanes,h&1?n===bA?bd++:(bd=0,bA=n):bd=0,Ms(),null}function ic(){if(rs!==null){var n=SN(Zg),t=Pi.transition,r=ot;try{if(Pi.transition=null,ot=16>n?16:n,rs===null)var s=!1;else{if(n=rs,rs=null,Zg=0,$e&6)throw Error(re(331));var u=$e;for($e|=4,fe=n.current;fe!==null;){var h=fe,p=h.child;if(fe.flags&16){var b=h.deletions;if(b!==null){for(var m=0;m<b.length;m++){var A=b[m];for(fe=A;fe!==null;){var E=fe;switch(E.tag){case 0:case 11:case 15:md(8,E,h)}var C=E.child;if(C!==null)C.return=E,fe=C;else for(;fe!==null;){E=fe;var v=E.sibling,x=E.return;if(FR(E),E===A){fe=null;break}if(v!==null){v.return=x,fe=v;break}fe=x}}}var D=h.alternate;if(D!==null){var M=D.child;if(M!==null){D.child=null;do{var L=M.sibling;M.sibling=null,M=L}while(M!==null)}}fe=h}}if(h.subtreeFlags&2064&&p!==null)p.return=h,fe=p;else e:for(;fe!==null;){if(h=fe,h.flags&2048)switch(h.tag){case 0:case 11:case 15:md(9,h,h.return)}var R=h.sibling;if(R!==null){R.return=h.return,fe=R;break e}fe=h.return}}var O=n.current;for(fe=O;fe!==null;){p=fe;var z=p.child;if(p.subtreeFlags&2064&&z!==null)z.return=p,fe=z;else e:for(p=O;fe!==null;){if(b=fe,b.flags&2048)try{switch(b.tag){case 0:case 11:case 15:Wm(9,b)}}catch($){Pt(b,b.return,$)}if(b===p){fe=null;break e}var U=b.sibling;if(U!==null){U.return=b.return,fe=U;break e}fe=b.return}}if($e=u,Ms(),Nr&&typeof Nr.onPostCommitFiberRoot=="function")try{Nr.onPostCommitFiberRoot(Bm,n)}catch{}s=!0}return s}finally{ot=r,Pi.transition=t}}return!1}function L5(n,t,r){t=kc(r,t),t=DR(n,t,1),n=fs(n,t,1),t=Fn(),n!==null&&(Ah(n,1,t),ii(n,t))}function Pt(n,t,r){if(n.tag===3)L5(n,n,r);else for(;t!==null;){if(t.tag===3){L5(t,n,r);break}else if(t.tag===1){var s=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof s.componentDidCatch=="function"&&(ps===null||!ps.has(s))){n=kc(r,n),n=MR(t,n,1),t=fs(t,n,1),n=Fn(),t!==null&&(Ah(t,1,n),ii(t,n));break}}t=t.return}}function XW(n,t,r){var s=n.pingCache;s!==null&&s.delete(t),t=Fn(),n.pingedLanes|=n.suspendedLanes&r,an===n&&(kn&r)===r&&(Zt===4||Zt===3&&(kn&130023424)===kn&&500>zt()-Zv?_a(n,0):Yv|=r),ii(n,t)}function ZR(n,t){t===0&&(n.mode&1?(t=Rp,Rp<<=1,!(Rp&130023424)&&(Rp=4194304)):t=1);var r=Fn();n=uo(n,t),n!==null&&(Ah(n,t,r),ii(n,r))}function eq(n){var t=n.memoizedState,r=0;t!==null&&(r=t.retryLane),ZR(n,r)}function tq(n,t){var r=0;switch(n.tag){case 13:var s=n.stateNode,u=n.memoizedState;u!==null&&(r=u.retryLane);break;case 19:s=n.stateNode;break;default:throw Error(re(314))}s!==null&&s.delete(t),ZR(n,r)}var JR;JR=function(n,t,r){if(n!==null)if(n.memoizedProps!==t.pendingProps||ti.current)ei=!0;else{if(!(n.lanes&r)&&!(t.flags&128))return ei=!1,UW(n,t,r);ei=!!(n.flags&131072)}else ei=!1,vt&&t.flags&1048576&&tR(t,Ug,t.index);switch(t.lanes=0,t.tag){case 2:var s=t.type;gg(n,t),n=t.pendingProps;var u=fc(t,Rn.current);nc(t,r),u=Wv(null,t,s,n,u,r);var h=qv();return t.flags|=1,typeof u=="object"&&u!==null&&typeof u.render=="function"&&u.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,ni(s)?(h=!0,Vg(t)):h=!1,t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,jv(t),u.updater=Um,t.stateNode=u,u._reactInternals=t,sA(t,s,n,r),t=cA(null,t,s,!0,h,r)):(t.tag=0,vt&&h&&Pv(t),zn(null,t,u,r),t=t.child),t;case 16:s=t.elementType;e:{switch(gg(n,t),n=t.pendingProps,u=s._init,s=u(s._payload),t.type=s,u=t.tag=iq(s),n=Gi(s,n),u){case 0:t=lA(null,t,s,n,r);break e;case 1:t=I5(null,t,s,n,r);break e;case 11:t=E5(null,t,s,n,r);break e;case 14:t=x5(null,t,s,Gi(s.type,n),r);break e}throw Error(re(306,s,""))}return t;case 0:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Gi(s,u),lA(n,t,s,u,r);case 1:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Gi(s,u),I5(n,t,s,u,r);case 3:e:{if(OR(t),n===null)throw Error(re(387));s=t.pendingProps,h=t.memoizedState,u=h.element,oR(n,t),qg(t,s,null,r);var p=t.memoizedState;if(s=p.element,h.isDehydrated)if(h={element:s,isDehydrated:!1,cache:p.cache,pendingSuspenseBoundaries:p.pendingSuspenseBoundaries,transitions:p.transitions},t.updateQueue.baseState=h,t.memoizedState=h,t.flags&256){u=kc(Error(re(423)),t),t=T5(n,t,s,r,u);break e}else if(s!==u){u=kc(Error(re(424)),t),t=T5(n,t,s,r,u);break e}else for(pi=hs(t.stateNode.containerInfo.firstChild),mi=t,vt=!0,Qi=null,r=cR(t,null,s,r),t.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pc(),s===u){t=ho(n,t,r);break e}zn(n,t,s,r)}t=t.child}return t;case 5:return uR(t),n===null&&iA(t),s=t.type,u=t.pendingProps,h=n!==null?n.memoizedProps:null,p=u.children,J0(s,u)?p=null:h!==null&&J0(s,h)&&(t.flags|=32),RR(n,t),zn(n,t,p,r),t.child;case 6:return n===null&&iA(t),null;case 13:return BR(n,t,r);case 4:return Vv(t,t.stateNode.containerInfo),s=t.pendingProps,n===null?t.child=gc(t,null,s,r):zn(n,t,s,r),t.child;case 11:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Gi(s,u),E5(n,t,s,u,r);case 7:return zn(n,t,t.pendingProps,r),t.child;case 8:return zn(n,t,t.pendingProps.children,r),t.child;case 12:return zn(n,t,t.pendingProps.children,r),t.child;case 10:e:{if(s=t.type._context,u=t.pendingProps,h=t.memoizedProps,p=u.value,mt(Hg,s._currentValue),s._currentValue=p,h!==null)if(tr(h.value,p)){if(h.children===u.children&&!ti.current){t=ho(n,t,r);break e}}else for(h=t.child,h!==null&&(h.return=t);h!==null;){var b=h.dependencies;if(b!==null){p=h.child;for(var m=b.firstContext;m!==null;){if(m.context===s){if(h.tag===1){m=ao(-1,r&-r),m.tag=2;var A=h.updateQueue;if(A!==null){A=A.shared;var E=A.pending;E===null?m.next=m:(m.next=E.next,E.next=m),A.pending=m}}h.lanes|=r,m=h.alternate,m!==null&&(m.lanes|=r),rA(h.return,r,t),b.lanes|=r;break}m=m.next}}else if(h.tag===10)p=h.type===t.type?null:h.child;else if(h.tag===18){if(p=h.return,p===null)throw Error(re(341));p.lanes|=r,b=p.alternate,b!==null&&(b.lanes|=r),rA(p,r,t),p=h.sibling}else p=h.child;if(p!==null)p.return=h;else for(p=h;p!==null;){if(p===t){p=null;break}if(h=p.sibling,h!==null){h.return=p.return,p=h;break}p=p.return}h=p}zn(n,t,u.children,r),t=t.child}return t;case 9:return u=t.type,s=t.pendingProps.children,nc(t,r),u=Ni(u),s=s(u),t.flags|=1,zn(n,t,s,r),t.child;case 14:return s=t.type,u=Gi(s,t.pendingProps),u=Gi(s.type,u),x5(n,t,s,u,r);case 15:return PR(n,t,t.type,t.pendingProps,r);case 17:return s=t.type,u=t.pendingProps,u=t.elementType===s?u:Gi(s,u),gg(n,t),t.tag=1,ni(s)?(n=!0,Vg(t)):n=!1,nc(t,r),aR(t,s,u),sA(t,s,u,r),cA(null,t,s,!0,n,r);case 19:return LR(n,t,r);case 22:return NR(n,t,r)}throw Error(re(156,t.tag))};function XR(n,t){return EN(n,t)}function nq(n,t,r,s){this.tag=n,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=s,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mi(n,t,r,s){return new nq(n,t,r,s)}function ty(n){return n=n.prototype,!(!n||!n.isReactComponent)}function iq(n){if(typeof n=="function")return ty(n)?1:0;if(n!=null){if(n=n.$$typeof,n===_v)return 11;if(n===Av)return 14}return 2}function ms(n,t){var r=n.alternate;return r===null?(r=Mi(n.tag,t,n.key,n.mode),r.elementType=n.elementType,r.type=n.type,r.stateNode=n.stateNode,r.alternate=n,n.alternate=r):(r.pendingProps=t,r.type=n.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=n.flags&14680064,r.childLanes=n.childLanes,r.lanes=n.lanes,r.child=n.child,r.memoizedProps=n.memoizedProps,r.memoizedState=n.memoizedState,r.updateQueue=n.updateQueue,t=n.dependencies,r.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=n.sibling,r.index=n.index,r.ref=n.ref,r}function bg(n,t,r,s,u,h){var p=2;if(s=n,typeof n=="function")ty(n)&&(p=1);else if(typeof n=="string")p=5;else e:switch(n){case zl:return Aa(r.children,u,h,t);case wv:p=8,u|=8;break;case D0:return n=Mi(12,r,t,u|2),n.elementType=D0,n.lanes=h,n;case M0:return n=Mi(13,r,t,u),n.elementType=M0,n.lanes=h,n;case P0:return n=Mi(19,r,t,u),n.elementType=P0,n.lanes=h,n;case lN:return $m(r,u,h,t);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case sN:p=10;break e;case aN:p=9;break e;case _v:p=11;break e;case Av:p=14;break e;case Ko:p=16,s=null;break e}throw Error(re(130,n==null?n:typeof n,""))}return t=Mi(p,r,t,u),t.elementType=n,t.type=s,t.lanes=h,t}function Aa(n,t,r,s){return n=Mi(7,n,s,t),n.lanes=r,n}function $m(n,t,r,s){return n=Mi(22,n,s,t),n.elementType=lN,n.lanes=r,n.stateNode={isHidden:!1},n}function J_(n,t,r){return n=Mi(6,n,null,t),n.lanes=r,n}function X_(n,t,r){return t=Mi(4,n.children!==null?n.children:[],n.key,t),t.lanes=r,t.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},t}function rq(n,t,r,s,u){this.tag=t,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=N_(0),this.expirationTimes=N_(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=N_(0),this.identifierPrefix=s,this.onRecoverableError=u,this.mutableSourceEagerHydrationData=null}function ny(n,t,r,s,u,h,p,b,m){return n=new rq(n,t,r,b,m),t===1?(t=1,h===!0&&(t|=8)):t=0,h=Mi(3,null,null,t),n.current=h,h.stateNode=n,h.memoizedState={element:s,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},jv(h),n}function oq(n,t,r){var s=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ll,key:s==null?null:""+s,children:n,containerInfo:t,implementation:r}}function e4(n){if(!n)return Es;n=n._reactInternals;e:{if(ja(n)!==n||n.tag!==1)throw Error(re(170));var t=n;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(ni(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(n.tag===1){var r=n.type;if(ni(r))return XN(n,r,t)}return t}function t4(n,t,r,s,u,h,p,b,m){return n=ny(r,s,!0,n,u,h,p,b,m),n.context=e4(null),r=n.current,s=Fn(),u=gs(r),h=ao(s,u),h.callback=t??null,fs(r,h,u),n.current.lanes=u,Ah(n,u,s),ii(n,s),n}function Gm(n,t,r,s){var u=t.current,h=Fn(),p=gs(u);return r=e4(r),t.context===null?t.context=r:t.pendingContext=r,t=ao(h,p),t.payload={element:n},s=s===void 0?null:s,s!==null&&(t.callback=s),n=fs(u,t,p),n!==null&&(Xi(n,u,p,h),hg(n,u,p)),p}function Xg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function z5(n,t){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var r=n.retryLane;n.retryLane=r!==0&&r<t?r:t}}function iy(n,t){z5(n,t),(n=n.alternate)&&z5(n,t)}function sq(){return null}var n4=typeof reportError=="function"?reportError:function(n){console.error(n)};function ry(n){this._internalRoot=n}Km.prototype.render=ry.prototype.render=function(n){var t=this._internalRoot;if(t===null)throw Error(re(409));Gm(n,t,null,null)};Km.prototype.unmount=ry.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var t=n.containerInfo;Sa(function(){Gm(null,n,null,null)}),t[co]=null}};function Km(n){this._internalRoot=n}Km.prototype.unstable_scheduleHydration=function(n){if(n){var t=PN();n={blockedOn:null,target:n,priority:t};for(var r=0;r<Yo.length&&t!==0&&t<Yo[r].priority;r++);Yo.splice(r,0,n),r===0&&RN(n)}};function oy(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Qm(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function j5(){}function aq(n,t,r,s,u){if(u){if(typeof s=="function"){var h=s;s=function(){var A=Xg(p);h.call(A)}}var p=t4(t,s,n,0,null,!1,!1,"",j5);return n._reactRootContainer=p,n[co]=p.current,Ld(n.nodeType===8?n.parentNode:n),Sa(),p}for(;u=n.lastChild;)n.removeChild(u);if(typeof s=="function"){var b=s;s=function(){var A=Xg(m);b.call(A)}}var m=ny(n,0,!1,null,null,!1,!1,"",j5);return n._reactRootContainer=m,n[co]=m.current,Ld(n.nodeType===8?n.parentNode:n),Sa(function(){Gm(t,m,r,s)}),m}function Ym(n,t,r,s,u){var h=r._reactRootContainer;if(h){var p=h;if(typeof u=="function"){var b=u;u=function(){var m=Xg(p);b.call(m)}}Gm(t,p,n,u)}else p=aq(r,t,n,u,s);return Xg(p)}DN=function(n){switch(n.tag){case 3:var t=n.stateNode;if(t.current.memoizedState.isDehydrated){var r=ed(t.pendingLanes);r!==0&&(Cv(t,r|1),ii(t,zt()),!($e&6)&&(bc=zt()+500,Ms()))}break;case 13:Sa(function(){var s=uo(n,1);if(s!==null){var u=Fn();Xi(s,n,1,u)}}),iy(n,1)}};Ev=function(n){if(n.tag===13){var t=uo(n,134217728);if(t!==null){var r=Fn();Xi(t,n,134217728,r)}iy(n,134217728)}};MN=function(n){if(n.tag===13){var t=gs(n),r=uo(n,t);if(r!==null){var s=Fn();Xi(r,n,t,s)}iy(n,t)}};PN=function(){return ot};NN=function(n,t){var r=ot;try{return ot=n,t()}finally{ot=r}};U0=function(n,t,r){switch(t){case"input":if(O0(n,r),t=r.name,r.type==="radio"&&t!=null){for(r=n;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var s=r[t];if(s!==n&&s.form===n.form){var u=Vm(s);if(!u)throw Error(re(90));uN(s),O0(s,u)}}}break;case"textarea":hN(n,r);break;case"select":t=r.value,t!=null&&Jl(n,!!r.multiple,t,!1)}};wN=Jv;_N=Sa;var lq={usingClientEntryPoint:!1,Events:[yh,Ul,Vm,kN,bN,Jv]},$u={findFiberByHostInstance:pa,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},cq={bundleType:$u.bundleType,version:$u.version,rendererPackageName:$u.rendererPackageName,rendererConfig:$u.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bo.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=yN(n),n===null?null:n.stateNode},findFiberByHostInstance:$u.findFiberByHostInstance||sq,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var qp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!qp.isDisabled&&qp.supportsFiber)try{Bm=qp.inject(cq),Nr=qp}catch{}}wi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lq;wi.createPortal=function(n,t){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!oy(t))throw Error(re(200));return oq(n,t,null,r)};wi.createRoot=function(n,t){if(!oy(n))throw Error(re(299));var r=!1,s="",u=n4;return t!=null&&(t.unstable_strictMode===!0&&(r=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(u=t.onRecoverableError)),t=ny(n,1,!1,null,null,r,!1,s,u),n[co]=t.current,Ld(n.nodeType===8?n.parentNode:n),new ry(t)};wi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var t=n._reactInternals;if(t===void 0)throw typeof n.render=="function"?Error(re(188)):(n=Object.keys(n).join(","),Error(re(268,n)));return n=yN(t),n=n===null?null:n.stateNode,n};wi.flushSync=function(n){return Sa(n)};wi.hydrate=function(n,t,r){if(!Qm(t))throw Error(re(200));return Ym(null,n,t,!0,r)};wi.hydrateRoot=function(n,t,r){if(!oy(n))throw Error(re(405));var s=r!=null&&r.hydratedSources||null,u=!1,h="",p=n4;if(r!=null&&(r.unstable_strictMode===!0&&(u=!0),r.identifierPrefix!==void 0&&(h=r.identifierPrefix),r.onRecoverableError!==void 0&&(p=r.onRecoverableError)),t=t4(t,null,n,1,r??null,u,!1,h,p),n[co]=t.current,Ld(n),s)for(n=0;n<s.length;n++)r=s[n],u=r._getVersion,u=u(r._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[r,u]:t.mutableSourceEagerHydrationData.push(r,u);return new Km(t)};wi.render=function(n,t,r){if(!Qm(t))throw Error(re(200));return Ym(null,n,t,!1,r)};wi.unmountComponentAtNode=function(n){if(!Qm(n))throw Error(re(40));return n._reactRootContainer?(Sa(function(){Ym(null,null,n,!1,function(){n._reactRootContainer=null,n[co]=null})}),!0):!1};wi.unstable_batchedUpdates=Jv;wi.unstable_renderSubtreeIntoContainer=function(n,t,r,s){if(!Qm(r))throw Error(re(200));if(n==null||n._reactInternals===void 0)throw Error(re(38));return Ym(n,t,r,!1,s)};wi.version="18.2.0-next-9e3b772b8-20220608";function i4(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i4)}catch(n){console.error(n)}}i4(),tN.exports=wi;var r4=tN.exports,V5=r4;T0.createRoot=V5.createRoot,T0.hydrateRoot=V5.hydrateRoot;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=function(n){const t=[];let r=0;for(let s=0;s<n.length;s++){let u=n.charCodeAt(s);u<128?t[r++]=u:u<2048?(t[r++]=u>>6|192,t[r++]=u&63|128):(u&64512)===55296&&s+1<n.length&&(n.charCodeAt(s+1)&64512)===56320?(u=65536+((u&1023)<<10)+(n.charCodeAt(++s)&1023),t[r++]=u>>18|240,t[r++]=u>>12&63|128,t[r++]=u>>6&63|128,t[r++]=u&63|128):(t[r++]=u>>12|224,t[r++]=u>>6&63|128,t[r++]=u&63|128)}return t},uq=function(n){const t=[];let r=0,s=0;for(;r<n.length;){const u=n[r++];if(u<128)t[s++]=String.fromCharCode(u);else if(u>191&&u<224){const h=n[r++];t[s++]=String.fromCharCode((u&31)<<6|h&63)}else if(u>239&&u<365){const h=n[r++],p=n[r++],b=n[r++],m=((u&7)<<18|(h&63)<<12|(p&63)<<6|b&63)-65536;t[s++]=String.fromCharCode(55296+(m>>10)),t[s++]=String.fromCharCode(56320+(m&1023))}else{const h=n[r++],p=n[r++];t[s++]=String.fromCharCode((u&15)<<12|(h&63)<<6|p&63)}}return t.join("")},s4={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let u=0;u<n.length;u+=3){const h=n[u],p=u+1<n.length,b=p?n[u+1]:0,m=u+2<n.length,A=m?n[u+2]:0,E=h>>2,C=(h&3)<<4|b>>4;let v=(b&15)<<2|A>>6,x=A&63;m||(x=64,p||(v=64)),s.push(r[E],r[C],r[v],r[x])}return s.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(o4(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):uq(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const r=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let u=0;u<n.length;){const h=r[n.charAt(u++)],b=u<n.length?r[n.charAt(u)]:0;++u;const A=u<n.length?r[n.charAt(u)]:64;++u;const C=u<n.length?r[n.charAt(u)]:64;if(++u,h==null||b==null||A==null||C==null)throw new dq;const v=h<<2|b>>4;if(s.push(v),A!==64){const x=b<<4&240|A>>2;if(s.push(x),C!==64){const D=A<<6&192|C;s.push(D)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class dq extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const hq=function(n){const t=o4(n);return s4.encodeByteArray(t,!0)},em=function(n){return hq(n).replace(/\./g,"")},a4=function(n){try{return s4.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fq(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pq=()=>fq().__FIREBASE_DEFAULTS__,gq=()=>{if(typeof process>"u"||typeof process.env>"u")return;const n={}.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},mq=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&a4(n[1]);return t&&JSON.parse(t)},sy=()=>{try{return pq()||gq()||mq()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},l4=n=>{var t,r;return(r=(t=sy())===null||t===void 0?void 0:t.emulatorHosts)===null||r===void 0?void 0:r[n]},kq=n=>{const t=l4(n);if(!t)return;const r=t.lastIndexOf(":");if(r<=0||r+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(r+1),10);return t[0]==="["?[t.substring(1,r-1),s]:[t.substring(0,r),s]},c4=()=>{var n;return(n=sy())===null||n===void 0?void 0:n.config},u4=n=>{var t;return(t=sy())===null||t===void 0?void 0:t[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bq{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}wrapCallback(t){return(r,s)=>{r?this.reject(r):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(r):t(r,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wq(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},s=t||"demo-project",u=n.iat||0,h=n.sub||n.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const p=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:u,exp:u+3600,auth_time:u,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},n),b="";return[em(JSON.stringify(r)),em(JSON.stringify(p)),b].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function _q(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(On())}function Aq(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function vq(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function yq(){const n=On();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function Cq(){try{return typeof indexedDB=="object"}catch{return!1}}function Eq(){return new Promise((n,t)=>{try{let r=!0;const s="validate-browser-context-for-indexeddb-analytics-module",u=self.indexedDB.open(s);u.onsuccess=()=>{u.result.close(),r||self.indexedDB.deleteDatabase(s),n(!0)},u.onupgradeneeded=()=>{r=!1},u.onerror=()=>{var h;t(((h=u.error)===null||h===void 0?void 0:h.message)||"")}}catch(r){t(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xq="FirebaseError";class wo extends Error{constructor(t,r,s){super(r),this.code=t,this.customData=s,this.name=xq,Object.setPrototypeOf(this,wo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eh.prototype.create)}}class Eh{constructor(t,r,s){this.service=t,this.serviceName=r,this.errors=s}create(t,...r){const s=r[0]||{},u=`${this.service}/${t}`,h=this.errors[t],p=h?Iq(h,s):"Error",b=`${this.serviceName}: ${p} (${u}).`;return new wo(u,b,s)}}function Iq(n,t){return n.replace(Tq,(r,s)=>{const u=t[s];return u!=null?String(u):`<${s}?>`})}const Tq=/\{\$([^}]+)}/g;function Sq(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function tm(n,t){if(n===t)return!0;const r=Object.keys(n),s=Object.keys(t);for(const u of r){if(!s.includes(u))return!1;const h=n[u],p=t[u];if(F5(h)&&F5(p)){if(!tm(h,p))return!1}else if(h!==p)return!1}for(const u of s)if(!r.includes(u))return!1;return!0}function F5(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xh(n){const t=[];for(const[r,s]of Object.entries(n))Array.isArray(s)?s.forEach(u=>{t.push(encodeURIComponent(r)+"="+encodeURIComponent(u))}):t.push(encodeURIComponent(r)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function nd(n){const t={};return n.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[u,h]=s.split("=");t[decodeURIComponent(u)]=decodeURIComponent(h)}}),t}function id(n){const t=n.indexOf("?");if(!t)return"";const r=n.indexOf("#",t);return n.substring(t,r>0?r:void 0)}function Dq(n,t){const r=new Mq(n,t);return r.subscribe.bind(r)}class Mq{constructor(t,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(r=>{r.next(t)})}error(t){this.forEachObserver(r=>{r.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,r,s){let u;if(t===void 0&&r===void 0&&s===void 0)throw new Error("Missing Observer.");Pq(t,["next","error","complete"])?u=t:u={next:t,error:r,complete:s},u.next===void 0&&(u.next=e0),u.error===void 0&&(u.error=e0),u.complete===void 0&&(u.complete=e0);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?u.error(this.finalError):u.complete()}catch{}}),this.observers.push(u),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,t)}sendOne(t,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{r(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Pq(n,t){if(typeof n!="object"||n===null)return!1;for(const r of t)if(r in n&&typeof n[r]=="function")return!0;return!1}function e0(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(n){return n&&n._delegate?n._delegate:n}class Da{constructor(t,r,s){this.name=t,this.instanceFactory=r,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nq{constructor(t,r){this.name=t,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const r=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(r)){const s=new bq;if(this.instancesDeferred.set(r,s),this.isInitialized(r)||this.shouldAutoInitialize())try{const u=this.getOrInitializeService({instanceIdentifier:r});u&&s.resolve(u)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(t){var r;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),u=(r=t==null?void 0:t.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(u)return null;throw h}else{if(u)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(Oq(t))try{this.getOrInitializeService({instanceIdentifier:fa})}catch{}for(const[r,s]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(r);try{const h=this.getOrInitializeService({instanceIdentifier:u});s.resolve(h)}catch{}}}}clearInstance(t=fa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=fa){return this.instances.has(t)}getOptions(t=fa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:r={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const u=this.getOrInitializeService({instanceIdentifier:s,options:r});for(const[h,p]of this.instancesDeferred.entries()){const b=this.normalizeInstanceIdentifier(h);s===b&&p.resolve(u)}return u}onInit(t,r){var s;const u=this.normalizeInstanceIdentifier(r),h=(s=this.onInitCallbacks.get(u))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(u,h);const p=this.instances.get(u);return p&&t(p,u),()=>{h.delete(t)}}invokeOnInitCallbacks(t,r){const s=this.onInitCallbacks.get(r);if(s)for(const u of s)try{u(t,r)}catch{}}getOrInitializeService({instanceIdentifier:t,options:r={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:Rq(t),options:r}),this.instances.set(t,s),this.instancesOptions.set(t,r),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=fa){return this.component?this.component.multipleInstances?t:fa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function Rq(n){return n===fa?void 0:n}function Oq(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bq{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const r=this.getProvider(t.name);if(r.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);r.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const r=new Nq(t,this);return this.providers.set(t,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const Lq={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},zq=Ye.INFO,jq={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},Vq=(n,t,...r)=>{if(t<n.logLevel)return;const s=new Date().toISOString(),u=jq[t];if(u)console[u](`[${s}]  ${n.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class ay{constructor(t){this.name=t,this._logLevel=zq,this._logHandler=Vq,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ye))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?Lq[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...t),this._logHandler(this,Ye.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...t),this._logHandler(this,Ye.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...t),this._logHandler(this,Ye.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...t),this._logHandler(this,Ye.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...t),this._logHandler(this,Ye.ERROR,...t)}}const Fq=(n,t)=>t.some(r=>n instanceof r);let U5,H5;function Uq(){return U5||(U5=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Hq(){return H5||(H5=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const d4=new WeakMap,AA=new WeakMap,h4=new WeakMap,t0=new WeakMap,ly=new WeakMap;function Wq(n){const t=new Promise((r,s)=>{const u=()=>{n.removeEventListener("success",h),n.removeEventListener("error",p)},h=()=>{r(ks(n.result)),u()},p=()=>{s(n.error),u()};n.addEventListener("success",h),n.addEventListener("error",p)});return t.then(r=>{r instanceof IDBCursor&&d4.set(r,n)}).catch(()=>{}),ly.set(t,n),t}function qq(n){if(AA.has(n))return;const t=new Promise((r,s)=>{const u=()=>{n.removeEventListener("complete",h),n.removeEventListener("error",p),n.removeEventListener("abort",p)},h=()=>{r(),u()},p=()=>{s(n.error||new DOMException("AbortError","AbortError")),u()};n.addEventListener("complete",h),n.addEventListener("error",p),n.addEventListener("abort",p)});AA.set(n,t)}let vA={get(n,t,r){if(n instanceof IDBTransaction){if(t==="done")return AA.get(n);if(t==="objectStoreNames")return n.objectStoreNames||h4.get(n);if(t==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return ks(n[t])},set(n,t,r){return n[t]=r,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function $q(n){vA=n(vA)}function Gq(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...r){const s=n.call(n0(this),t,...r);return h4.set(s,t.sort?t.sort():[t]),ks(s)}:Hq().includes(n)?function(...t){return n.apply(n0(this),t),ks(d4.get(this))}:function(...t){return ks(n.apply(n0(this),t))}}function Kq(n){return typeof n=="function"?Gq(n):(n instanceof IDBTransaction&&qq(n),Fq(n,Uq())?new Proxy(n,vA):n)}function ks(n){if(n instanceof IDBRequest)return Wq(n);if(t0.has(n))return t0.get(n);const t=Kq(n);return t!==n&&(t0.set(n,t),ly.set(t,n)),t}const n0=n=>ly.get(n);function Qq(n,t,{blocked:r,upgrade:s,blocking:u,terminated:h}={}){const p=indexedDB.open(n,t),b=ks(p);return s&&p.addEventListener("upgradeneeded",m=>{s(ks(p.result),m.oldVersion,m.newVersion,ks(p.transaction),m)}),r&&p.addEventListener("blocked",m=>r(m.oldVersion,m.newVersion,m)),b.then(m=>{h&&m.addEventListener("close",()=>h()),u&&m.addEventListener("versionchange",A=>u(A.oldVersion,A.newVersion,A))}).catch(()=>{}),b}const Yq=["get","getKey","getAll","getAllKeys","count"],Zq=["put","add","delete","clear"],i0=new Map;function W5(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(i0.get(t))return i0.get(t);const r=t.replace(/FromIndex$/,""),s=t!==r,u=Zq.includes(r);if(!(r in(s?IDBIndex:IDBObjectStore).prototype)||!(u||Yq.includes(r)))return;const h=async function(p,...b){const m=this.transaction(p,u?"readwrite":"readonly");let A=m.store;return s&&(A=A.index(b.shift())),(await Promise.all([A[r](...b),u&&m.done]))[0]};return i0.set(t,h),h}$q(n=>({...n,get:(t,r,s)=>W5(t,r)||n.get(t,r,s),has:(t,r)=>!!W5(t,r)||n.has(t,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jq{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Xq(r)){const s=r.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(r=>r).join(" ")}}function Xq(n){const t=n.getComponent();return(t==null?void 0:t.type)==="VERSION"}const yA="@firebase/app",q5="0.9.15";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new ay("@firebase/app"),e$="@firebase/app-compat",t$="@firebase/analytics-compat",n$="@firebase/analytics",i$="@firebase/app-check-compat",r$="@firebase/app-check",o$="@firebase/auth",s$="@firebase/auth-compat",a$="@firebase/database",l$="@firebase/database-compat",c$="@firebase/functions",u$="@firebase/functions-compat",d$="@firebase/installations",h$="@firebase/installations-compat",f$="@firebase/messaging",p$="@firebase/messaging-compat",g$="@firebase/performance",m$="@firebase/performance-compat",k$="@firebase/remote-config",b$="@firebase/remote-config-compat",w$="@firebase/storage",_$="@firebase/storage-compat",A$="@firebase/firestore",v$="@firebase/firestore-compat",y$="firebase",C$="10.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CA="[DEFAULT]",E$={[yA]:"fire-core",[e$]:"fire-core-compat",[n$]:"fire-analytics",[t$]:"fire-analytics-compat",[r$]:"fire-app-check",[i$]:"fire-app-check-compat",[o$]:"fire-auth",[s$]:"fire-auth-compat",[a$]:"fire-rtdb",[l$]:"fire-rtdb-compat",[c$]:"fire-fn",[u$]:"fire-fn-compat",[d$]:"fire-iid",[h$]:"fire-iid-compat",[f$]:"fire-fcm",[p$]:"fire-fcm-compat",[g$]:"fire-perf",[m$]:"fire-perf-compat",[k$]:"fire-rc",[b$]:"fire-rc-compat",[w$]:"fire-gcs",[_$]:"fire-gcs-compat",[A$]:"fire-fst",[v$]:"fire-fst-compat","fire-js":"fire-js",[y$]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nm=new Map,EA=new Map;function x$(n,t){try{n.container.addComponent(t)}catch(r){Ma.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,r)}}function wc(n){const t=n.name;if(EA.has(t))return Ma.debug(`There were multiple attempts to register component ${t}.`),!1;EA.set(t,n);for(const r of nm.values())x$(r,n);return!0}function cy(n,t){const r=n.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),n.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},bs=new Eh("app","Firebase",I$);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T${constructor(t,r,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Da("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw bs.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nc=C$;function f4(n,t={}){let r=n;typeof t!="object"&&(t={name:t});const s=Object.assign({name:CA,automaticDataCollectionEnabled:!1},t),u=s.name;if(typeof u!="string"||!u)throw bs.create("bad-app-name",{appName:String(u)});if(r||(r=c4()),!r)throw bs.create("no-options");const h=nm.get(u);if(h){if(tm(r,h.options)&&tm(s,h.config))return h;throw bs.create("duplicate-app",{appName:u})}const p=new Bq(u);for(const m of EA.values())p.addComponent(m);const b=new T$(r,s,p);return nm.set(u,b),b}function p4(n=CA){const t=nm.get(n);if(!t&&n===CA&&c4())return f4();if(!t)throw bs.create("no-app",{appName:n});return t}function ws(n,t,r){var s;let u=(s=E$[n])!==null&&s!==void 0?s:n;r&&(u+=`-${r}`);const h=u.match(/\s|\//),p=t.match(/\s|\//);if(h||p){const b=[`Unable to register library "${u}" with version "${t}":`];h&&b.push(`library name "${u}" contains illegal characters (whitespace or "/")`),h&&p&&b.push("and"),p&&b.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ma.warn(b.join(" "));return}wc(new Da(`${u}-version`,()=>({library:u,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$="firebase-heartbeat-database",D$=1,$d="firebase-heartbeat-store";let r0=null;function g4(){return r0||(r0=Qq(S$,D$,{upgrade:(n,t)=>{switch(t){case 0:n.createObjectStore($d)}}}).catch(n=>{throw bs.create("idb-open",{originalErrorMessage:n.message})})),r0}async function M$(n){try{return await(await g4()).transaction($d).objectStore($d).get(m4(n))}catch(t){if(t instanceof wo)Ma.warn(t.message);else{const r=bs.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Ma.warn(r.message)}}}async function $5(n,t){try{const s=(await g4()).transaction($d,"readwrite");await s.objectStore($d).put(t,m4(n)),await s.done}catch(r){if(r instanceof wo)Ma.warn(r.message);else{const s=bs.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Ma.warn(s.message)}}}function m4(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P$=1024,N$=30*24*60*60*1e3;class R${constructor(t){this.container=t,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new B$(r),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=G5();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(u=>u.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:r}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(u=>{const h=new Date(u.date).valueOf();return Date.now()-h<=N$}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=G5(),{heartbeatsToSend:r,unsentEntries:s}=O$(this._heartbeatsCache.heartbeats),u=em(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}}function G5(){return new Date().toISOString().substring(0,10)}function O$(n,t=P$){const r=[];let s=n.slice();for(const u of n){const h=r.find(p=>p.agent===u.agent);if(h){if(h.dates.push(u.date),K5(r)>t){h.dates.pop();break}}else if(r.push({agent:u.agent,dates:[u.date]}),K5(r)>t){r.pop();break}s=s.slice(1)}return{heartbeatsToSend:r,unsentEntries:s}}class B${constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Cq()?Eq().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await M$(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return $5(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var r;if(await this._canUseIndexedDBPromise){const u=await this.read();return $5(this.app,{lastSentHeartbeatDate:(r=t.lastSentHeartbeatDate)!==null&&r!==void 0?r:u.lastSentHeartbeatDate,heartbeats:[...u.heartbeats,...t.heartbeats]})}else return}}function K5(n){return em(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L$(n){wc(new Da("platform-logger",t=>new Jq(t),"PRIVATE")),wc(new Da("heartbeat",t=>new R$(t),"PRIVATE")),ws(yA,q5,n),ws(yA,q5,"esm2017"),ws("fire-js","")}L$("");var z$=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ue,uy=uy||{},Ie=z$||self;function Zm(n){var t=typeof n;return t=t!="object"?t:n?Array.isArray(n)?"array":t:"null",t=="array"||t=="object"&&typeof n.length=="number"}function Ih(n){var t=typeof n;return t=="object"&&n!=null||t=="function"}function j$(n){return Object.prototype.hasOwnProperty.call(n,o0)&&n[o0]||(n[o0]=++V$)}var o0="closure_uid_"+(1e9*Math.random()>>>0),V$=0;function F$(n,t,r){return n.call.apply(n.bind,arguments)}function U$(n,t,r){if(!n)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,s),n.apply(t,u)}}return function(){return n.apply(t,arguments)}}function Mn(n,t,r){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Mn=F$:Mn=U$,Mn.apply(null,arguments)}function $p(n,t){var r=Array.prototype.slice.call(arguments,1);return function(){var s=r.slice();return s.push.apply(s,arguments),n.apply(this,s)}}function cn(n,t){function r(){}r.prototype=t.prototype,n.$=t.prototype,n.prototype=new r,n.prototype.constructor=n,n.ac=function(s,u,h){for(var p=Array(arguments.length-2),b=2;b<arguments.length;b++)p[b-2]=arguments[b];return t.prototype[u].apply(s,p)}}function Ps(){this.s=this.s,this.o=this.o}var H$=0;Ps.prototype.s=!1;Ps.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),H$!=0)&&j$(this)};Ps.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const k4=Array.prototype.indexOf?function(n,t){return Array.prototype.indexOf.call(n,t,void 0)}:function(n,t){if(typeof n=="string")return typeof t!="string"||t.length!=1?-1:n.indexOf(t,0);for(let r=0;r<n.length;r++)if(r in n&&n[r]===t)return r;return-1};function dy(n){const t=n.length;if(0<t){const r=Array(t);for(let s=0;s<t;s++)r[s]=n[s];return r}return[]}function Q5(n,t){for(let r=1;r<arguments.length;r++){const s=arguments[r];if(Zm(s)){const u=n.length||0,h=s.length||0;n.length=u+h;for(let p=0;p<h;p++)n[u+p]=s[p]}else n.push(s)}}function Pn(n,t){this.type=n,this.g=this.target=t,this.defaultPrevented=!1}Pn.prototype.h=function(){this.defaultPrevented=!0};var W$=function(){if(!Ie.addEventListener||!Object.defineProperty)return!1;var n=!1,t=Object.defineProperty({},"passive",{get:function(){n=!0}});try{Ie.addEventListener("test",()=>{},t),Ie.removeEventListener("test",()=>{},t)}catch{}return n}();function Gd(n){return/^[\s\xa0]*$/.test(n)}function Jm(){var n=Ie.navigator;return n&&(n=n.userAgent)?n:""}function Dr(n){return Jm().indexOf(n)!=-1}function hy(n){return hy[" "](n),n}hy[" "]=function(){};function q$(n,t){var r=LG;return Object.prototype.hasOwnProperty.call(r,n)?r[n]:r[n]=t(n)}var $$=Dr("Opera"),_c=Dr("Trident")||Dr("MSIE"),b4=Dr("Edge"),xA=b4||_c,w4=Dr("Gecko")&&!(Jm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge"))&&!(Dr("Trident")||Dr("MSIE"))&&!Dr("Edge"),G$=Jm().toLowerCase().indexOf("webkit")!=-1&&!Dr("Edge");function _4(){var n=Ie.document;return n?n.documentMode:void 0}var IA;e:{var s0="",a0=function(){var n=Jm();if(w4)return/rv:([^\);]+)(\)|;)/.exec(n);if(b4)return/Edge\/([\d\.]+)/.exec(n);if(_c)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n);if(G$)return/WebKit\/(\S+)/.exec(n);if($$)return/(?:Version)[ \/]?(\S+)/.exec(n)}();if(a0&&(s0=a0?a0[1]:""),_c){var l0=_4();if(l0!=null&&l0>parseFloat(s0)){IA=String(l0);break e}}IA=s0}var TA;if(Ie.document&&_c){var Y5=_4();TA=Y5||parseInt(IA,10)||void 0}else TA=void 0;var K$=TA;function Kd(n,t){if(Pn.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var r=this.type=n.type,s=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=t,t=n.relatedTarget){if(w4){e:{try{hy(t.nodeName);var u=!0;break e}catch{}u=!1}u||(t=null)}}else r=="mouseover"?t=n.fromElement:r=="mouseout"&&(t=n.toElement);this.relatedTarget=t,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType=typeof n.pointerType=="string"?n.pointerType:Q$[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Kd.$.h.call(this)}}cn(Kd,Pn);var Q$={2:"touch",3:"pen",4:"mouse"};Kd.prototype.h=function(){Kd.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Th="closure_listenable_"+(1e6*Math.random()|0),Y$=0;function Z$(n,t,r,s,u){this.listener=n,this.proxy=null,this.src=t,this.type=r,this.capture=!!s,this.la=u,this.key=++Y$,this.fa=this.ia=!1}function Xm(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function fy(n,t,r){for(const s in n)t.call(r,n[s],s,n)}function J$(n,t){for(const r in n)t.call(void 0,n[r],r,n)}function A4(n){const t={};for(const r in n)t[r]=n[r];return t}const Z5="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function v4(n,t){let r,s;for(let u=1;u<arguments.length;u++){s=arguments[u];for(r in s)n[r]=s[r];for(let h=0;h<Z5.length;h++)r=Z5[h],Object.prototype.hasOwnProperty.call(s,r)&&(n[r]=s[r])}}function ek(n){this.src=n,this.g={},this.h=0}ek.prototype.add=function(n,t,r,s,u){var h=n.toString();n=this.g[h],n||(n=this.g[h]=[],this.h++);var p=DA(n,t,s,u);return-1<p?(t=n[p],r||(t.ia=!1)):(t=new Z$(t,this.src,h,!!s,u),t.ia=r,n.push(t)),t};function SA(n,t){var r=t.type;if(r in n.g){var s=n.g[r],u=k4(s,t),h;(h=0<=u)&&Array.prototype.splice.call(s,u,1),h&&(Xm(t),n.g[r].length==0&&(delete n.g[r],n.h--))}}function DA(n,t,r,s){for(var u=0;u<n.length;++u){var h=n[u];if(!h.fa&&h.listener==t&&h.capture==!!r&&h.la==s)return u}return-1}var py="closure_lm_"+(1e6*Math.random()|0),c0={};function y4(n,t,r,s,u){if(s&&s.once)return E4(n,t,r,s,u);if(Array.isArray(t)){for(var h=0;h<t.length;h++)y4(n,t[h],r,s,u);return null}return r=ky(r),n&&n[Th]?n.O(t,r,Ih(s)?!!s.capture:!!s,u):C4(n,t,r,!1,s,u)}function C4(n,t,r,s,u,h){if(!t)throw Error("Invalid event type");var p=Ih(u)?!!u.capture:!!u,b=my(n);if(b||(n[py]=b=new ek(n)),r=b.add(t,r,s,p,h),r.proxy)return r;if(s=X$(),r.proxy=s,s.src=n,s.listener=r,n.addEventListener)W$||(u=p),u===void 0&&(u=!1),n.addEventListener(t.toString(),s,u);else if(n.attachEvent)n.attachEvent(I4(t.toString()),s);else if(n.addListener&&n.removeListener)n.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return r}function X$(){function n(r){return t.call(n.src,n.listener,r)}const t=eG;return n}function E4(n,t,r,s,u){if(Array.isArray(t)){for(var h=0;h<t.length;h++)E4(n,t[h],r,s,u);return null}return r=ky(r),n&&n[Th]?n.P(t,r,Ih(s)?!!s.capture:!!s,u):C4(n,t,r,!0,s,u)}function x4(n,t,r,s,u){if(Array.isArray(t))for(var h=0;h<t.length;h++)x4(n,t[h],r,s,u);else s=Ih(s)?!!s.capture:!!s,r=ky(r),n&&n[Th]?(n=n.i,t=String(t).toString(),t in n.g&&(h=n.g[t],r=DA(h,r,s,u),-1<r&&(Xm(h[r]),Array.prototype.splice.call(h,r,1),h.length==0&&(delete n.g[t],n.h--)))):n&&(n=my(n))&&(t=n.g[t.toString()],n=-1,t&&(n=DA(t,r,s,u)),(r=-1<n?t[n]:null)&&gy(r))}function gy(n){if(typeof n!="number"&&n&&!n.fa){var t=n.src;if(t&&t[Th])SA(t.i,n);else{var r=n.type,s=n.proxy;t.removeEventListener?t.removeEventListener(r,s,n.capture):t.detachEvent?t.detachEvent(I4(r),s):t.addListener&&t.removeListener&&t.removeListener(s),(r=my(t))?(SA(r,n),r.h==0&&(r.src=null,t[py]=null)):Xm(n)}}}function I4(n){return n in c0?c0[n]:c0[n]="on"+n}function eG(n,t){if(n.fa)n=!0;else{t=new Kd(t,this);var r=n.listener,s=n.la||n.src;n.ia&&gy(n),n=r.call(s,t)}return n}function my(n){return n=n[py],n instanceof ek?n:null}var u0="__closure_events_fn_"+(1e9*Math.random()>>>0);function ky(n){return typeof n=="function"?n:(n[u0]||(n[u0]=function(t){return n.handleEvent(t)}),n[u0])}function ln(){Ps.call(this),this.i=new ek(this),this.S=this,this.J=null}cn(ln,Ps);ln.prototype[Th]=!0;ln.prototype.removeEventListener=function(n,t,r,s){x4(this,n,t,r,s)};function bn(n,t){var r,s=n.J;if(s)for(r=[];s;s=s.J)r.push(s);if(n=n.S,s=t.type||t,typeof t=="string")t=new Pn(t,n);else if(t instanceof Pn)t.target=t.target||n;else{var u=t;t=new Pn(s,n),v4(t,u)}if(u=!0,r)for(var h=r.length-1;0<=h;h--){var p=t.g=r[h];u=Gp(p,s,!0,t)&&u}if(p=t.g=n,u=Gp(p,s,!0,t)&&u,u=Gp(p,s,!1,t)&&u,r)for(h=0;h<r.length;h++)p=t.g=r[h],u=Gp(p,s,!1,t)&&u}ln.prototype.N=function(){if(ln.$.N.call(this),this.i){var n=this.i,t;for(t in n.g){for(var r=n.g[t],s=0;s<r.length;s++)Xm(r[s]);delete n.g[t],n.h--}}this.J=null};ln.prototype.O=function(n,t,r,s){return this.i.add(String(n),t,!1,r,s)};ln.prototype.P=function(n,t,r,s){return this.i.add(String(n),t,!0,r,s)};function Gp(n,t,r,s){if(t=n.i.g[String(t)],!t)return!0;t=t.concat();for(var u=!0,h=0;h<t.length;++h){var p=t[h];if(p&&!p.fa&&p.capture==r){var b=p.listener,m=p.la||p.src;p.ia&&SA(n.i,p),u=b.call(m,s)!==!1&&u}}return u&&!s.defaultPrevented}var by=Ie.JSON.stringify;class tG{constructor(t,r){this.i=t,this.j=r,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function nG(){var n=wy;let t=null;return n.g&&(t=n.g,n.g=n.g.next,n.g||(n.h=null),t.next=null),t}class iG{constructor(){this.h=this.g=null}add(t,r){const s=T4.get();s.set(t,r),this.h?this.h.next=s:this.g=s,this.h=s}}var T4=new tG(()=>new rG,n=>n.reset());class rG{constructor(){this.next=this.g=this.h=null}set(t,r){this.h=t,this.g=r,this.next=null}reset(){this.next=this.g=this.h=null}}function oG(n){var t=1;n=n.split(":");const r=[];for(;0<t&&n.length;)r.push(n.shift()),t--;return n.length&&r.push(n.join(":")),r}function sG(n){Ie.setTimeout(()=>{throw n},0)}let Qd,Yd=!1,wy=new iG,S4=()=>{const n=Ie.Promise.resolve(void 0);Qd=()=>{n.then(aG)}};var aG=()=>{for(var n;n=nG();){try{n.h.call(n.g)}catch(r){sG(r)}var t=T4;t.j(n),100>t.h&&(t.h++,n.next=t.g,t.g=n)}Yd=!1};function tk(n,t){ln.call(this),this.h=n||1,this.g=t||Ie,this.j=Mn(this.qb,this),this.l=Date.now()}cn(tk,ln);ue=tk.prototype;ue.ga=!1;ue.T=null;ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),bn(this,"tick"),this.ga&&(_y(this),this.start()))}};ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function _y(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}ue.N=function(){tk.$.N.call(this),_y(this),delete this.g};function Ay(n,t,r){if(typeof n=="function")r&&(n=Mn(n,r));else if(n&&typeof n.handleEvent=="function")n=Mn(n.handleEvent,n);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:Ie.setTimeout(n,t||0)}function D4(n){n.g=Ay(()=>{n.g=null,n.i&&(n.i=!1,D4(n))},n.j);const t=n.h;n.h=null,n.m.apply(null,t)}class lG extends Ps{constructor(t,r){super(),this.m=t,this.j=r,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:D4(this)}N(){super.N(),this.g&&(Ie.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Zd(n){Ps.call(this),this.h=n,this.g={}}cn(Zd,Ps);var J5=[];function M4(n,t,r,s){Array.isArray(r)||(r&&(J5[0]=r.toString()),r=J5);for(var u=0;u<r.length;u++){var h=y4(t,r[u],s||n.handleEvent,!1,n.h||n);if(!h)break;n.g[h.key]=h}}function P4(n){fy(n.g,function(t,r){this.g.hasOwnProperty(r)&&gy(t)},n),n.g={}}Zd.prototype.N=function(){Zd.$.N.call(this),P4(this)};Zd.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function nk(){this.g=!0}nk.prototype.Ea=function(){this.g=!1};function cG(n,t,r,s,u,h){n.info(function(){if(n.g)if(h)for(var p="",b=h.split("&"),m=0;m<b.length;m++){var A=b[m].split("=");if(1<A.length){var E=A[0];A=A[1];var C=E.split("_");p=2<=C.length&&C[1]=="type"?p+(E+"="+A+"&"):p+(E+"=redacted&")}}else p=null;else p=h;return"XMLHTTP REQ ("+s+") [attempt "+u+"]: "+t+`
`+r+`
`+p})}function uG(n,t,r,s,u,h,p){n.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+u+"]: "+t+`
`+r+`
`+h+" "+p})}function Ql(n,t,r,s){n.info(function(){return"XMLHTTP TEXT ("+t+"): "+hG(n,r)+(s?" "+s:"")})}function dG(n,t){n.info(function(){return"TIMEOUT: "+t})}nk.prototype.info=function(){};function hG(n,t){if(!n.g)return t;if(!t)return null;try{var r=JSON.parse(t);if(r){for(n=0;n<r.length;n++)if(Array.isArray(r[n])){var s=r[n];if(!(2>s.length)){var u=s[1];if(Array.isArray(u)&&!(1>u.length)){var h=u[0];if(h!="noop"&&h!="stop"&&h!="close")for(var p=1;p<u.length;p++)u[p]=""}}}}return by(r)}catch{return t}}var Va={},X5=null;function ik(){return X5=X5||new ln}Va.Ta="serverreachability";function N4(n){Pn.call(this,Va.Ta,n)}cn(N4,Pn);function Jd(n){const t=ik();bn(t,new N4(t))}Va.STAT_EVENT="statevent";function R4(n,t){Pn.call(this,Va.STAT_EVENT,n),this.stat=t}cn(R4,Pn);function jn(n){const t=ik();bn(t,new R4(t,n))}Va.Ua="timingevent";function O4(n,t){Pn.call(this,Va.Ua,n),this.size=t}cn(O4,Pn);function Sh(n,t){if(typeof n!="function")throw Error("Fn must not be null and must be a function");return Ie.setTimeout(function(){n()},t)}var rk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},B4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function vy(){}vy.prototype.h=null;function eM(n){return n.h||(n.h=n.i())}function L4(){}var Dh={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function yy(){Pn.call(this,"d")}cn(yy,Pn);function Cy(){Pn.call(this,"c")}cn(Cy,Pn);var MA;function ok(){}cn(ok,vy);ok.prototype.g=function(){return new XMLHttpRequest};ok.prototype.i=function(){return{}};MA=new ok;function Mh(n,t,r,s){this.l=n,this.j=t,this.m=r,this.W=s||1,this.U=new Zd(this),this.P=fG,n=xA?125:void 0,this.V=new tk(n),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new z4}function z4(){this.i=null,this.g="",this.h=!1}var fG=45e3,PA={},im={};ue=Mh.prototype;ue.setTimeout=function(n){this.P=n};function NA(n,t,r){n.L=1,n.v=ak(fo(t)),n.s=r,n.S=!0,j4(n,null)}function j4(n,t){n.G=Date.now(),Ph(n),n.A=fo(n.v);var r=n.A,s=n.W;Array.isArray(s)||(s=[String(s)]),G4(r.i,"t",s),n.C=0,r=n.l.J,n.h=new z4,n.g=pO(n.l,r?t:null,!n.s),0<n.O&&(n.M=new lG(Mn(n.Pa,n,n.g),n.O)),M4(n.U,n.g,"readystatechange",n.nb),t=n.I?A4(n.I):{},n.s?(n.u||(n.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,t)):(n.u="GET",n.g.ha(n.A,n.u,null,t)),Jd(),cG(n.j,n.u,n.A,n.m,n.W,n.s)}ue.nb=function(n){n=n.target;const t=this.M;t&&Mr(n)==3?t.l():this.Pa(n)};ue.Pa=function(n){try{if(n==this.g)e:{const E=Mr(this.g);var t=this.g.Ia();const C=this.g.da();if(!(3>E)&&(E!=3||xA||this.g&&(this.h.h||this.g.ja()||rM(this.g)))){this.J||E!=4||t==7||(t==8||0>=C?Jd(3):Jd(2)),sk(this);var r=this.g.da();this.ca=r;t:if(V4(this)){var s=rM(this.g);n="";var u=s.length,h=Mr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ka(this),wd(this);var p="";break t}this.h.i=new Ie.TextDecoder}for(t=0;t<u;t++)this.h.h=!0,n+=this.h.i.decode(s[t],{stream:h&&t==u-1});s.splice(0,u),this.h.g+=n,this.C=0,p=this.h.g}else p=this.g.ja();if(this.i=r==200,uG(this.j,this.u,this.A,this.m,this.W,E,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var b,m=this.g;if((b=m.g?m.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gd(b)){var A=b;break t}}A=null}if(r=A)Ql(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,RA(this,r);else{this.i=!1,this.o=3,jn(12),ka(this),wd(this);break e}}this.S?(F4(this,E,p),xA&&this.i&&E==3&&(M4(this.U,this.V,"tick",this.mb),this.V.start())):(Ql(this.j,this.m,p,null),RA(this,p)),E==4&&ka(this),this.i&&!this.J&&(E==4?uO(this.l,this):(this.i=!1,Ph(this)))}else RG(this.g),r==400&&0<p.indexOf("Unknown SID")?(this.o=3,jn(12)):(this.o=0,jn(13)),ka(this),wd(this)}}}catch{}finally{}};function V4(n){return n.g?n.u=="GET"&&n.L!=2&&n.l.Ha:!1}function F4(n,t,r){let s=!0,u;for(;!n.J&&n.C<r.length;)if(u=pG(n,r),u==im){t==4&&(n.o=4,jn(14),s=!1),Ql(n.j,n.m,null,"[Incomplete Response]");break}else if(u==PA){n.o=4,jn(15),Ql(n.j,n.m,r,"[Invalid Chunk]"),s=!1;break}else Ql(n.j,n.m,u,null),RA(n,u);V4(n)&&u!=im&&u!=PA&&(n.h.g="",n.C=0),t!=4||r.length!=0||n.h.h||(n.o=1,jn(16),s=!1),n.i=n.i&&s,s?0<r.length&&!n.ba&&(n.ba=!0,t=n.l,t.g==n&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+r.length),Dy(t),t.M=!0,jn(11))):(Ql(n.j,n.m,r,"[Invalid Chunked Response]"),ka(n),wd(n))}ue.mb=function(){if(this.g){var n=Mr(this.g),t=this.g.ja();this.C<t.length&&(sk(this),F4(this,n,t),this.i&&n!=4&&Ph(this))}};function pG(n,t){var r=n.C,s=t.indexOf(`
`,r);return s==-1?im:(r=Number(t.substring(r,s)),isNaN(r)?PA:(s+=1,s+r>t.length?im:(t=t.slice(s,s+r),n.C=s+r,t)))}ue.cancel=function(){this.J=!0,ka(this)};function Ph(n){n.Y=Date.now()+n.P,U4(n,n.P)}function U4(n,t){if(n.B!=null)throw Error("WatchDog timer not null");n.B=Sh(Mn(n.lb,n),t)}function sk(n){n.B&&(Ie.clearTimeout(n.B),n.B=null)}ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(dG(this.j,this.A),this.L!=2&&(Jd(),jn(17)),ka(this),this.o=2,wd(this)):U4(this,this.Y-n)};function wd(n){n.l.H==0||n.J||uO(n.l,n)}function ka(n){sk(n);var t=n.M;t&&typeof t.sa=="function"&&t.sa(),n.M=null,_y(n.V),P4(n.U),n.g&&(t=n.g,n.g=null,t.abort(),t.sa())}function RA(n,t){try{var r=n.l;if(r.H!=0&&(r.g==n||OA(r.i,n))){if(!n.K&&OA(r.i,n)&&r.H==3){try{var s=r.Ja.g.parse(t)}catch{s=null}if(Array.isArray(s)&&s.length==3){var u=s;if(u[0]==0){e:if(!r.u){if(r.g)if(r.g.G+3e3<n.G)sm(r),uk(r);else break e;Sy(r),jn(18)}}else r.Fa=u[1],0<r.Fa-r.V&&37500>u[2]&&r.G&&r.A==0&&!r.v&&(r.v=Sh(Mn(r.ib,r),6e3));if(1>=Y4(r.i)&&r.oa){try{r.oa()}catch{}r.oa=void 0}}else ba(r,11)}else if((n.K||r.g==n)&&sm(r),!Gd(t))for(u=r.Ja.g.parse(t),t=0;t<u.length;t++){let A=u[t];if(r.V=A[0],A=A[1],r.H==2)if(A[0]=="c"){r.K=A[1],r.pa=A[2];const E=A[3];E!=null&&(r.ra=E,r.l.info("VER="+r.ra));const C=A[4];C!=null&&(r.Ga=C,r.l.info("SVER="+r.Ga));const v=A[5];v!=null&&typeof v=="number"&&0<v&&(s=1.5*v,r.L=s,r.l.info("backChannelRequestTimeoutMs_="+s)),s=r;const x=n.g;if(x){const D=x.g?x.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(D){var h=s.i;h.g||D.indexOf("spdy")==-1&&D.indexOf("quic")==-1&&D.indexOf("h2")==-1||(h.j=h.l,h.g=new Set,h.h&&(Ey(h,h.h),h.h=null))}if(s.F){const M=x.g?x.g.getResponseHeader("X-HTTP-Session-Id"):null;M&&(s.Da=M,bt(s.I,s.F,M))}}r.H=3,r.h&&r.h.Ba(),r.ca&&(r.S=Date.now()-n.G,r.l.info("Handshake RTT: "+r.S+"ms")),s=r;var p=n;if(s.wa=fO(s,s.J?s.pa:null,s.Y),p.K){Z4(s.i,p);var b=p,m=s.L;m&&b.setTimeout(m),b.B&&(sk(b),Ph(b)),s.g=p}else lO(s);0<r.j.length&&dk(r)}else A[0]!="stop"&&A[0]!="close"||ba(r,7);else r.H==3&&(A[0]=="stop"||A[0]=="close"?A[0]=="stop"?ba(r,7):Ty(r):A[0]!="noop"&&r.h&&r.h.Aa(A),r.A=0)}}Jd(4)}catch{}}function gG(n){if(n.Z&&typeof n.Z=="function")return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if(typeof n=="string")return n.split("");if(Zm(n)){for(var t=[],r=n.length,s=0;s<r;s++)t.push(n[s]);return t}t=[],r=0;for(s in n)t[r++]=n[s];return t}function mG(n){if(n.ta&&typeof n.ta=="function")return n.ta();if(!n.Z||typeof n.Z!="function"){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Zm(n)||typeof n=="string"){var t=[];n=n.length;for(var r=0;r<n;r++)t.push(r);return t}t=[],r=0;for(const s in n)t[r++]=s;return t}}}function H4(n,t){if(n.forEach&&typeof n.forEach=="function")n.forEach(t,void 0);else if(Zm(n)||typeof n=="string")Array.prototype.forEach.call(n,t,void 0);else for(var r=mG(n),s=gG(n),u=s.length,h=0;h<u;h++)t.call(void 0,s[h],r&&r[h],n)}var W4=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function kG(n,t){if(n){n=n.split("&");for(var r=0;r<n.length;r++){var s=n[r].indexOf("="),u=null;if(0<=s){var h=n[r].substring(0,s);u=n[r].substring(s+1)}else h=n[r];t(h,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}function va(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof va){this.h=n.h,rm(this,n.j),this.s=n.s,this.g=n.g,om(this,n.m),this.l=n.l;var t=n.i,r=new Xd;r.i=t.i,t.g&&(r.g=new Map(t.g),r.h=t.h),tM(this,r),this.o=n.o}else n&&(t=String(n).match(W4))?(this.h=!1,rm(this,t[1]||"",!0),this.s=rd(t[2]||""),this.g=rd(t[3]||"",!0),om(this,t[4]),this.l=rd(t[5]||"",!0),tM(this,t[6]||"",!0),this.o=rd(t[7]||"")):(this.h=!1,this.i=new Xd(null,this.h))}va.prototype.toString=function(){var n=[],t=this.j;t&&n.push(od(t,nM,!0),":");var r=this.g;return(r||t=="file")&&(n.push("//"),(t=this.s)&&n.push(od(t,nM,!0),"@"),n.push(encodeURIComponent(String(r)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),r=this.m,r!=null&&n.push(":",String(r))),(r=this.l)&&(this.g&&r.charAt(0)!="/"&&n.push("/"),n.push(od(r,r.charAt(0)=="/"?_G:wG,!0))),(r=this.i.toString())&&n.push("?",r),(r=this.o)&&n.push("#",od(r,vG)),n.join("")};function fo(n){return new va(n)}function rm(n,t,r){n.j=r?rd(t,!0):t,n.j&&(n.j=n.j.replace(/:$/,""))}function om(n,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);n.m=t}else n.m=null}function tM(n,t,r){t instanceof Xd?(n.i=t,yG(n.i,n.h)):(r||(t=od(t,AG)),n.i=new Xd(t,n.h))}function bt(n,t,r){n.i.set(t,r)}function ak(n){return bt(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function rd(n,t){return n?t?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function od(n,t,r){return typeof n=="string"?(n=encodeURI(n).replace(t,bG),r&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function bG(n){return n=n.charCodeAt(0),"%"+(n>>4&15).toString(16)+(n&15).toString(16)}var nM=/[#\/\?@]/g,wG=/[#\?:]/g,_G=/[#\?]/g,AG=/[#\?@]/g,vG=/#/g;function Xd(n,t){this.h=this.g=null,this.i=n||null,this.j=!!t}function Ns(n){n.g||(n.g=new Map,n.h=0,n.i&&kG(n.i,function(t,r){n.add(decodeURIComponent(t.replace(/\+/g," ")),r)}))}ue=Xd.prototype;ue.add=function(n,t){Ns(this),this.i=null,n=Rc(this,n);var r=this.g.get(n);return r||this.g.set(n,r=[]),r.push(t),this.h+=1,this};function q4(n,t){Ns(n),t=Rc(n,t),n.g.has(t)&&(n.i=null,n.h-=n.g.get(t).length,n.g.delete(t))}function $4(n,t){return Ns(n),t=Rc(n,t),n.g.has(t)}ue.forEach=function(n,t){Ns(this),this.g.forEach(function(r,s){r.forEach(function(u){n.call(t,u,s,this)},this)},this)};ue.ta=function(){Ns(this);const n=Array.from(this.g.values()),t=Array.from(this.g.keys()),r=[];for(let s=0;s<t.length;s++){const u=n[s];for(let h=0;h<u.length;h++)r.push(t[s])}return r};ue.Z=function(n){Ns(this);let t=[];if(typeof n=="string")$4(this,n)&&(t=t.concat(this.g.get(Rc(this,n))));else{n=Array.from(this.g.values());for(let r=0;r<n.length;r++)t=t.concat(n[r])}return t};ue.set=function(n,t){return Ns(this),this.i=null,n=Rc(this,n),$4(this,n)&&(this.h-=this.g.get(n).length),this.g.set(n,[t]),this.h+=1,this};ue.get=function(n,t){return n?(n=this.Z(n),0<n.length?String(n[0]):t):t};function G4(n,t,r){q4(n,t),0<r.length&&(n.i=null,n.g.set(Rc(n,t),dy(r)),n.h+=r.length)}ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],t=Array.from(this.g.keys());for(var r=0;r<t.length;r++){var s=t[r];const h=encodeURIComponent(String(s)),p=this.Z(s);for(s=0;s<p.length;s++){var u=h;p[s]!==""&&(u+="="+encodeURIComponent(String(p[s]))),n.push(u)}}return this.i=n.join("&")};function Rc(n,t){return t=String(t),n.j&&(t=t.toLowerCase()),t}function yG(n,t){t&&!n.j&&(Ns(n),n.i=null,n.g.forEach(function(r,s){var u=s.toLowerCase();s!=u&&(q4(this,s),G4(this,u,r))},n)),n.j=t}var CG=class{constructor(n,t){this.g=n,this.map=t}};function K4(n){this.l=n||EG,Ie.PerformanceNavigationTiming?(n=Ie.performance.getEntriesByType("navigation"),n=0<n.length&&(n[0].nextHopProtocol=="hq"||n[0].nextHopProtocol=="h2")):n=!!(Ie.g&&Ie.g.Ka&&Ie.g.Ka()&&Ie.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var EG=10;function Q4(n){return n.h?!0:n.g?n.g.size>=n.j:!1}function Y4(n){return n.h?1:n.g?n.g.size:0}function OA(n,t){return n.h?n.h==t:n.g?n.g.has(t):!1}function Ey(n,t){n.g?n.g.add(t):n.h=t}function Z4(n,t){n.h&&n.h==t?n.h=null:n.g&&n.g.has(t)&&n.g.delete(t)}K4.prototype.cancel=function(){if(this.i=J4(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const n of this.g.values())n.cancel();this.g.clear()}};function J4(n){if(n.h!=null)return n.i.concat(n.h.F);if(n.g!=null&&n.g.size!==0){let t=n.i;for(const r of n.g.values())t=t.concat(r.F);return t}return dy(n.i)}var xG=class{stringify(n){return Ie.JSON.stringify(n,void 0)}parse(n){return Ie.JSON.parse(n,void 0)}};function IG(){this.g=new xG}function TG(n,t,r){const s=r||"";try{H4(n,function(u,h){let p=u;Ih(u)&&(p=by(u)),t.push(s+h+"="+encodeURIComponent(p))})}catch(u){throw t.push(s+"type="+encodeURIComponent("_badmap")),u}}function SG(n,t){const r=new nk;if(Ie.Image){const s=new Image;s.onload=$p(Kp,r,s,"TestLoadImage: loaded",!0,t),s.onerror=$p(Kp,r,s,"TestLoadImage: error",!1,t),s.onabort=$p(Kp,r,s,"TestLoadImage: abort",!1,t),s.ontimeout=$p(Kp,r,s,"TestLoadImage: timeout",!1,t),Ie.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=n}else t(!1)}function Kp(n,t,r,s,u){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,u(s)}catch{}}function Nh(n){this.l=n.fc||null,this.j=n.ob||!1}cn(Nh,vy);Nh.prototype.g=function(){return new lk(this.l,this.j)};Nh.prototype.i=function(n){return function(){return n}}({});function lk(n,t){ln.call(this),this.F=n,this.u=t,this.m=void 0,this.readyState=xy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}cn(lk,ln);var xy=0;ue=lk.prototype;ue.open=function(n,t){if(this.readyState!=xy)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=t,this.readyState=1,eh(this)};ue.send=function(n){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(t.body=n),(this.F||Ie).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rh(this)),this.readyState=xy};ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,eh(this)),this.g&&(this.readyState=3,eh(this),this.g)))if(this.responseType==="arraybuffer")n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof Ie.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;X4(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))};function X4(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var t=n.value?n.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!n.done}))&&(this.response=this.responseText+=t)}n.done?Rh(this):eh(this),this.readyState==3&&X4(this)}};ue.Za=function(n){this.g&&(this.response=this.responseText=n,Rh(this))};ue.Ya=function(n){this.g&&(this.response=n,Rh(this))};ue.ka=function(){this.g&&Rh(this)};function Rh(n){n.readyState=4,n.l=null,n.j=null,n.A=null,eh(n)}ue.setRequestHeader=function(n,t){this.v.append(n,t)};ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""};ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],t=this.h.entries();for(var r=t.next();!r.done;)r=r.value,n.push(r[0]+": "+r[1]),r=t.next();return n.join(`\r
`)};function eh(n){n.onreadystatechange&&n.onreadystatechange.call(n)}Object.defineProperty(lk.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(n){this.m=n?"include":"same-origin"}});var DG=Ie.JSON.parse;function Nt(n){ln.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=eO,this.L=this.M=!1}cn(Nt,ln);var eO="",MG=/^https?$/i,PG=["POST","PUT"];ue=Nt.prototype;ue.Oa=function(n){this.M=n};ue.ha=function(n,t,r,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);t=t?t.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():MA.g(),this.C=this.u?eM(this.u):eM(MA),this.g.onreadystatechange=Mn(this.La,this);try{this.G=!0,this.g.open(t,String(n),!0),this.G=!1}catch(h){iM(this,h);return}if(n=r||"",r=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var u in s)r.set(u,s[u]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const h of s.keys())r.set(h,s.get(h));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(r.keys()).find(h=>h.toLowerCase()=="content-type"),u=Ie.FormData&&n instanceof Ie.FormData,!(0<=k4(PG,t))||s||u||r.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[h,p]of r)this.g.setRequestHeader(h,p);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{iO(this),0<this.B&&((this.L=NG(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Mn(this.ua,this)):this.A=Ay(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(h){iM(this,h)}};function NG(n){return _c&&typeof n.timeout=="number"&&n.ontimeout!==void 0}ue.ua=function(){typeof uy<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,bn(this,"timeout"),this.abort(8))};function iM(n,t){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=t,n.m=5,tO(n),ck(n)}function tO(n){n.F||(n.F=!0,bn(n,"complete"),bn(n,"error"))}ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,bn(this,"complete"),bn(this,"abort"),ck(this))};ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ck(this,!0)),Nt.$.N.call(this)};ue.La=function(){this.s||(this.G||this.v||this.l?nO(this):this.kb())};ue.kb=function(){nO(this)};function nO(n){if(n.h&&typeof uy<"u"&&(!n.C[1]||Mr(n)!=4||n.da()!=2)){if(n.v&&Mr(n)==4)Ay(n.La,0,n);else if(bn(n,"readystatechange"),Mr(n)==4){n.h=!1;try{const p=n.da();e:switch(p){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var r;if(!(r=t)){var s;if(s=p===0){var u=String(n.I).match(W4)[1]||null;!u&&Ie.self&&Ie.self.location&&(u=Ie.self.location.protocol.slice(0,-1)),s=!MG.test(u?u.toLowerCase():"")}r=s}if(r)bn(n,"complete"),bn(n,"success");else{n.m=6;try{var h=2<Mr(n)?n.g.statusText:""}catch{h=""}n.j=h+" ["+n.da()+"]",tO(n)}}finally{ck(n)}}}}function ck(n,t){if(n.g){iO(n);const r=n.g,s=n.C[0]?()=>{}:null;n.g=null,n.C=null,t||bn(n,"ready");try{r.onreadystatechange=s}catch{}}}function iO(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(Ie.clearTimeout(n.A),n.A=null)}ue.isActive=function(){return!!this.g};function Mr(n){return n.g?n.g.readyState:0}ue.da=function(){try{return 2<Mr(this)?this.g.status:-1}catch{return-1}};ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};ue.Wa=function(n){if(this.g){var t=this.g.responseText;return n&&t.indexOf(n)==0&&(t=t.substring(n.length)),DG(t)}};function rM(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case eO:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function RG(n){const t={};n=(n.g&&2<=Mr(n)&&n.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<n.length;s++){if(Gd(n[s]))continue;var r=oG(n[s]);const u=r[0];if(r=r[1],typeof r!="string")continue;r=r.trim();const h=t[u]||[];t[u]=h,h.push(r)}J$(t,function(s){return s.join(", ")})}ue.Ia=function(){return this.m};ue.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function rO(n){let t="";return fy(n,function(r,s){t+=s,t+=":",t+=r,t+=`\r
`}),t}function Iy(n,t,r){e:{for(s in r){var s=!1;break e}s=!0}s||(r=rO(r),typeof n=="string"?r!=null&&encodeURIComponent(String(r)):bt(n,t,r))}function Gu(n,t,r){return r&&r.internalChannelParams&&r.internalChannelParams[n]||t}function oO(n){this.Ga=0,this.j=[],this.l=new nk,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gu("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gu("baseRetryDelayMs",5e3,n),this.hb=Gu("retryDelaySeedMs",1e4,n),this.eb=Gu("forwardChannelMaxRetries",2,n),this.xa=Gu("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new K4(n&&n.concurrentRequestLimit),this.Ja=new IG,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}ue=oO.prototype;ue.ra=8;ue.H=1;function Ty(n){if(sO(n),n.H==3){var t=n.W++,r=fo(n.I);if(bt(r,"SID",n.K),bt(r,"RID",t),bt(r,"TYPE","terminate"),Oh(n,r),t=new Mh(n,n.l,t),t.L=2,t.v=ak(fo(r)),r=!1,Ie.navigator&&Ie.navigator.sendBeacon)try{r=Ie.navigator.sendBeacon(t.v.toString(),"")}catch{}!r&&Ie.Image&&(new Image().src=t.v,r=!0),r||(t.g=pO(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Ph(t)}hO(n)}function uk(n){n.g&&(Dy(n),n.g.cancel(),n.g=null)}function sO(n){uk(n),n.u&&(Ie.clearTimeout(n.u),n.u=null),sm(n),n.i.cancel(),n.m&&(typeof n.m=="number"&&Ie.clearTimeout(n.m),n.m=null)}function dk(n){if(!Q4(n.i)&&!n.m){n.m=!0;var t=n.Na;Qd||S4(),Yd||(Qd(),Yd=!0),wy.add(t,n),n.C=0}}function OG(n,t){return Y4(n.i)>=n.i.j-(n.m?1:0)?!1:n.m?(n.j=t.F.concat(n.j),!0):n.H==1||n.H==2||n.C>=(n.cb?0:n.eb)?!1:(n.m=Sh(Mn(n.Na,n,t),dO(n,n.C)),n.C++,!0)}ue.Na=function(n){if(this.m)if(this.m=null,this.H==1){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const u=new Mh(this,this.l,n);let h=this.s;if(this.U&&(h?(h=A4(h),v4(h,this.U)):h=this.U),this.o!==null||this.O||(u.I=h,h=null),this.P)e:{for(var t=0,r=0;r<this.j.length;r++){t:{var s=this.j[r];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(t+=s,4096<t){t=r;break e}if(t===4096||r===this.j.length-1){t=r+1;break e}}t=1e3}else t=1e3;t=aO(this,u,t),r=fo(this.I),bt(r,"RID",n),bt(r,"CVER",22),this.F&&bt(r,"X-HTTP-Session-Id",this.F),Oh(this,r),h&&(this.O?t="headers="+encodeURIComponent(String(rO(h)))+"&"+t:this.o&&Iy(r,this.o,h)),Ey(this.i,u),this.bb&&bt(r,"TYPE","init"),this.P?(bt(r,"$req",t),bt(r,"SID","null"),u.aa=!0,NA(u,r,null)):NA(u,r,t),this.H=2}}else this.H==3&&(n?oM(this,n):this.j.length==0||Q4(this.i)||oM(this))};function oM(n,t){var r;t?r=t.m:r=n.W++;const s=fo(n.I);bt(s,"SID",n.K),bt(s,"RID",r),bt(s,"AID",n.V),Oh(n,s),n.o&&n.s&&Iy(s,n.o,n.s),r=new Mh(n,n.l,r,n.C+1),n.o===null&&(r.I=n.s),t&&(n.j=t.F.concat(n.j)),t=aO(n,r,1e3),r.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Ey(n.i,r),NA(r,s,t)}function Oh(n,t){n.na&&fy(n.na,function(r,s){bt(t,s,r)}),n.h&&H4({},function(r,s){bt(t,s,r)})}function aO(n,t,r){r=Math.min(n.j.length,r);var s=n.h?Mn(n.h.Va,n.h,n):null;e:{var u=n.j;let h=-1;for(;;){const p=["count="+r];h==-1?0<r?(h=u[0].g,p.push("ofs="+h)):h=0:p.push("ofs="+h);let b=!0;for(let m=0;m<r;m++){let A=u[m].g;const E=u[m].map;if(A-=h,0>A)h=Math.max(0,u[m].g-100),b=!1;else try{TG(E,p,"req"+A+"_")}catch{s&&s(E)}}if(b){s=p.join("&");break e}}}return n=n.j.splice(0,r),t.F=n,s}function lO(n){if(!n.g&&!n.u){n.ba=1;var t=n.Ma;Qd||S4(),Yd||(Qd(),Yd=!0),wy.add(t,n),n.A=0}}function Sy(n){return n.g||n.u||3<=n.A?!1:(n.ba++,n.u=Sh(Mn(n.Ma,n),dO(n,n.A)),n.A++,!0)}ue.Ma=function(){if(this.u=null,cO(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=Sh(Mn(this.jb,this),n)}};ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,jn(10),uk(this),cO(this))};function Dy(n){n.B!=null&&(Ie.clearTimeout(n.B),n.B=null)}function cO(n){n.g=new Mh(n,n.l,"rpc",n.ba),n.o===null&&(n.g.I=n.s),n.g.O=0;var t=fo(n.wa);bt(t,"RID","rpc"),bt(t,"SID",n.K),bt(t,"AID",n.V),bt(t,"CI",n.G?"0":"1"),!n.G&&n.qa&&bt(t,"TO",n.qa),bt(t,"TYPE","xmlhttp"),Oh(n,t),n.o&&n.s&&Iy(t,n.o,n.s),n.L&&n.g.setTimeout(n.L);var r=n.g;n=n.pa,r.L=1,r.v=ak(fo(t)),r.s=null,r.S=!0,j4(r,n)}ue.ib=function(){this.v!=null&&(this.v=null,uk(this),Sy(this),jn(19))};function sm(n){n.v!=null&&(Ie.clearTimeout(n.v),n.v=null)}function uO(n,t){var r=null;if(n.g==t){sm(n),Dy(n),n.g=null;var s=2}else if(OA(n.i,t))r=t.F,Z4(n.i,t),s=1;else return;if(n.H!=0){if(t.i)if(s==1){r=t.s?t.s.length:0,t=Date.now()-t.G;var u=n.C;s=ik(),bn(s,new O4(s,r)),dk(n)}else lO(n);else if(u=t.o,u==3||u==0&&0<t.ca||!(s==1&&OG(n,t)||s==2&&Sy(n)))switch(r&&0<r.length&&(t=n.i,t.i=t.i.concat(r)),u){case 1:ba(n,5);break;case 4:ba(n,10);break;case 3:ba(n,6);break;default:ba(n,2)}}}function dO(n,t){let r=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(r*=2),r*t}function ba(n,t){if(n.l.info("Error code "+t),t==2){var r=null;n.h&&(r=null);var s=Mn(n.pb,n);r||(r=new va("//www.google.com/images/cleardot.gif"),Ie.location&&Ie.location.protocol=="http"||rm(r,"https"),ak(r)),SG(r.toString(),s)}else jn(2);n.H=0,n.h&&n.h.za(t),hO(n),sO(n)}ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),jn(2)):(this.l.info("Failed to ping google.com"),jn(1))};function hO(n){if(n.H=0,n.ma=[],n.h){const t=J4(n.i);(t.length!=0||n.j.length!=0)&&(Q5(n.ma,t),Q5(n.ma,n.j),n.i.i.length=0,dy(n.j),n.j.length=0),n.h.ya()}}function fO(n,t,r){var s=r instanceof va?fo(r):new va(r);if(s.g!="")t&&(s.g=t+"."+s.g),om(s,s.m);else{var u=Ie.location;s=u.protocol,t=t?t+"."+u.hostname:u.hostname,u=+u.port;var h=new va(null);s&&rm(h,s),t&&(h.g=t),u&&om(h,u),r&&(h.l=r),s=h}return r=n.F,t=n.Da,r&&t&&bt(s,r,t),bt(s,"VER",n.ra),Oh(n,s),s}function pO(n,t,r){if(t&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=r&&n.Ha&&!n.va?new Nt(new Nh({ob:!0})):new Nt(n.va),t.Oa(n.J),t}ue.isActive=function(){return!!this.h&&this.h.isActive(this)};function gO(){}ue=gO.prototype;ue.Ba=function(){};ue.Aa=function(){};ue.za=function(){};ue.ya=function(){};ue.isActive=function(){return!0};ue.Va=function(){};function am(){if(_c&&!(10<=Number(K$)))throw Error("Environmental error: no available transport.")}am.prototype.g=function(n,t){return new bi(n,t)};function bi(n,t){ln.call(this),this.g=new oO(t),this.l=n,this.h=t&&t.messageUrlParams||null,n=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(n?n["X-WebChannel-Content-Type"]=t.messageContentType:n={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(n?n["X-WebChannel-Client-Profile"]=t.Ca:n={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=n,(n=t&&t.cc)&&!Gd(n)&&(this.g.o=n),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gd(t)&&(this.g.F=t,n=this.h,n!==null&&t in n&&(n=this.h,t in n&&delete n[t])),this.j=new Oc(this)}cn(bi,ln);bi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,t=this.l,r=this.h||void 0;jn(0),n.Y=t,n.na=r||{},n.G=n.aa,n.I=fO(n,null,n.Y),dk(n)};bi.prototype.close=function(){Ty(this.g)};bi.prototype.u=function(n){var t=this.g;if(typeof n=="string"){var r={};r.__data__=n,n=r}else this.v&&(r={},r.__data__=by(n),n=r);t.j.push(new CG(t.fb++,n)),t.H==3&&dk(t)};bi.prototype.N=function(){this.g.h=null,delete this.j,Ty(this.g),delete this.g,bi.$.N.call(this)};function mO(n){yy.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var t=n.__sm__;if(t){e:{for(const r in t){n=r;break e}n=void 0}(this.i=n)&&(n=this.i,t=t!==null&&n in t?t[n]:void 0),this.data=t}else this.data=n}cn(mO,yy);function kO(){Cy.call(this),this.status=1}cn(kO,Cy);function Oc(n){this.g=n}cn(Oc,gO);Oc.prototype.Ba=function(){bn(this.g,"a")};Oc.prototype.Aa=function(n){bn(this.g,new mO(n))};Oc.prototype.za=function(n){bn(this.g,new kO)};Oc.prototype.ya=function(){bn(this.g,"b")};function BG(){this.blockSize=-1}function nr(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}cn(nr,BG);nr.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function d0(n,t,r){r||(r=0);var s=Array(16);if(typeof t=="string")for(var u=0;16>u;++u)s[u]=t.charCodeAt(r++)|t.charCodeAt(r++)<<8|t.charCodeAt(r++)<<16|t.charCodeAt(r++)<<24;else for(u=0;16>u;++u)s[u]=t[r++]|t[r++]<<8|t[r++]<<16|t[r++]<<24;t=n.g[0],r=n.g[1],u=n.g[2];var h=n.g[3],p=t+(h^r&(u^h))+s[0]+3614090360&4294967295;t=r+(p<<7&4294967295|p>>>25),p=h+(u^t&(r^u))+s[1]+3905402710&4294967295,h=t+(p<<12&4294967295|p>>>20),p=u+(r^h&(t^r))+s[2]+606105819&4294967295,u=h+(p<<17&4294967295|p>>>15),p=r+(t^u&(h^t))+s[3]+3250441966&4294967295,r=u+(p<<22&4294967295|p>>>10),p=t+(h^r&(u^h))+s[4]+4118548399&4294967295,t=r+(p<<7&4294967295|p>>>25),p=h+(u^t&(r^u))+s[5]+1200080426&4294967295,h=t+(p<<12&4294967295|p>>>20),p=u+(r^h&(t^r))+s[6]+2821735955&4294967295,u=h+(p<<17&4294967295|p>>>15),p=r+(t^u&(h^t))+s[7]+4249261313&4294967295,r=u+(p<<22&4294967295|p>>>10),p=t+(h^r&(u^h))+s[8]+1770035416&4294967295,t=r+(p<<7&4294967295|p>>>25),p=h+(u^t&(r^u))+s[9]+2336552879&4294967295,h=t+(p<<12&4294967295|p>>>20),p=u+(r^h&(t^r))+s[10]+4294925233&4294967295,u=h+(p<<17&4294967295|p>>>15),p=r+(t^u&(h^t))+s[11]+2304563134&4294967295,r=u+(p<<22&4294967295|p>>>10),p=t+(h^r&(u^h))+s[12]+1804603682&4294967295,t=r+(p<<7&4294967295|p>>>25),p=h+(u^t&(r^u))+s[13]+4254626195&4294967295,h=t+(p<<12&4294967295|p>>>20),p=u+(r^h&(t^r))+s[14]+2792965006&4294967295,u=h+(p<<17&4294967295|p>>>15),p=r+(t^u&(h^t))+s[15]+1236535329&4294967295,r=u+(p<<22&4294967295|p>>>10),p=t+(u^h&(r^u))+s[1]+4129170786&4294967295,t=r+(p<<5&4294967295|p>>>27),p=h+(r^u&(t^r))+s[6]+3225465664&4294967295,h=t+(p<<9&4294967295|p>>>23),p=u+(t^r&(h^t))+s[11]+643717713&4294967295,u=h+(p<<14&4294967295|p>>>18),p=r+(h^t&(u^h))+s[0]+3921069994&4294967295,r=u+(p<<20&4294967295|p>>>12),p=t+(u^h&(r^u))+s[5]+3593408605&4294967295,t=r+(p<<5&4294967295|p>>>27),p=h+(r^u&(t^r))+s[10]+38016083&4294967295,h=t+(p<<9&4294967295|p>>>23),p=u+(t^r&(h^t))+s[15]+3634488961&4294967295,u=h+(p<<14&4294967295|p>>>18),p=r+(h^t&(u^h))+s[4]+3889429448&4294967295,r=u+(p<<20&4294967295|p>>>12),p=t+(u^h&(r^u))+s[9]+568446438&4294967295,t=r+(p<<5&4294967295|p>>>27),p=h+(r^u&(t^r))+s[14]+3275163606&4294967295,h=t+(p<<9&4294967295|p>>>23),p=u+(t^r&(h^t))+s[3]+4107603335&4294967295,u=h+(p<<14&4294967295|p>>>18),p=r+(h^t&(u^h))+s[8]+1163531501&4294967295,r=u+(p<<20&4294967295|p>>>12),p=t+(u^h&(r^u))+s[13]+2850285829&4294967295,t=r+(p<<5&4294967295|p>>>27),p=h+(r^u&(t^r))+s[2]+4243563512&4294967295,h=t+(p<<9&4294967295|p>>>23),p=u+(t^r&(h^t))+s[7]+1735328473&4294967295,u=h+(p<<14&4294967295|p>>>18),p=r+(h^t&(u^h))+s[12]+2368359562&4294967295,r=u+(p<<20&4294967295|p>>>12),p=t+(r^u^h)+s[5]+4294588738&4294967295,t=r+(p<<4&4294967295|p>>>28),p=h+(t^r^u)+s[8]+2272392833&4294967295,h=t+(p<<11&4294967295|p>>>21),p=u+(h^t^r)+s[11]+1839030562&4294967295,u=h+(p<<16&4294967295|p>>>16),p=r+(u^h^t)+s[14]+4259657740&4294967295,r=u+(p<<23&4294967295|p>>>9),p=t+(r^u^h)+s[1]+2763975236&4294967295,t=r+(p<<4&4294967295|p>>>28),p=h+(t^r^u)+s[4]+1272893353&4294967295,h=t+(p<<11&4294967295|p>>>21),p=u+(h^t^r)+s[7]+4139469664&4294967295,u=h+(p<<16&4294967295|p>>>16),p=r+(u^h^t)+s[10]+3200236656&4294967295,r=u+(p<<23&4294967295|p>>>9),p=t+(r^u^h)+s[13]+681279174&4294967295,t=r+(p<<4&4294967295|p>>>28),p=h+(t^r^u)+s[0]+3936430074&4294967295,h=t+(p<<11&4294967295|p>>>21),p=u+(h^t^r)+s[3]+3572445317&4294967295,u=h+(p<<16&4294967295|p>>>16),p=r+(u^h^t)+s[6]+76029189&4294967295,r=u+(p<<23&4294967295|p>>>9),p=t+(r^u^h)+s[9]+3654602809&4294967295,t=r+(p<<4&4294967295|p>>>28),p=h+(t^r^u)+s[12]+3873151461&4294967295,h=t+(p<<11&4294967295|p>>>21),p=u+(h^t^r)+s[15]+530742520&4294967295,u=h+(p<<16&4294967295|p>>>16),p=r+(u^h^t)+s[2]+3299628645&4294967295,r=u+(p<<23&4294967295|p>>>9),p=t+(u^(r|~h))+s[0]+4096336452&4294967295,t=r+(p<<6&4294967295|p>>>26),p=h+(r^(t|~u))+s[7]+1126891415&4294967295,h=t+(p<<10&4294967295|p>>>22),p=u+(t^(h|~r))+s[14]+2878612391&4294967295,u=h+(p<<15&4294967295|p>>>17),p=r+(h^(u|~t))+s[5]+4237533241&4294967295,r=u+(p<<21&4294967295|p>>>11),p=t+(u^(r|~h))+s[12]+1700485571&4294967295,t=r+(p<<6&4294967295|p>>>26),p=h+(r^(t|~u))+s[3]+2399980690&4294967295,h=t+(p<<10&4294967295|p>>>22),p=u+(t^(h|~r))+s[10]+4293915773&4294967295,u=h+(p<<15&4294967295|p>>>17),p=r+(h^(u|~t))+s[1]+2240044497&4294967295,r=u+(p<<21&4294967295|p>>>11),p=t+(u^(r|~h))+s[8]+1873313359&4294967295,t=r+(p<<6&4294967295|p>>>26),p=h+(r^(t|~u))+s[15]+4264355552&4294967295,h=t+(p<<10&4294967295|p>>>22),p=u+(t^(h|~r))+s[6]+2734768916&4294967295,u=h+(p<<15&4294967295|p>>>17),p=r+(h^(u|~t))+s[13]+1309151649&4294967295,r=u+(p<<21&4294967295|p>>>11),p=t+(u^(r|~h))+s[4]+4149444226&4294967295,t=r+(p<<6&4294967295|p>>>26),p=h+(r^(t|~u))+s[11]+3174756917&4294967295,h=t+(p<<10&4294967295|p>>>22),p=u+(t^(h|~r))+s[2]+718787259&4294967295,u=h+(p<<15&4294967295|p>>>17),p=r+(h^(u|~t))+s[9]+3951481745&4294967295,n.g[0]=n.g[0]+t&4294967295,n.g[1]=n.g[1]+(u+(p<<21&4294967295|p>>>11))&4294967295,n.g[2]=n.g[2]+u&4294967295,n.g[3]=n.g[3]+h&4294967295}nr.prototype.j=function(n,t){t===void 0&&(t=n.length);for(var r=t-this.blockSize,s=this.m,u=this.h,h=0;h<t;){if(u==0)for(;h<=r;)d0(this,n,h),h+=this.blockSize;if(typeof n=="string"){for(;h<t;)if(s[u++]=n.charCodeAt(h++),u==this.blockSize){d0(this,s),u=0;break}}else for(;h<t;)if(s[u++]=n[h++],u==this.blockSize){d0(this,s),u=0;break}}this.h=u,this.i+=t};nr.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var t=1;t<n.length-8;++t)n[t]=0;var r=8*this.i;for(t=n.length-8;t<n.length;++t)n[t]=r&255,r/=256;for(this.j(n),n=Array(16),t=r=0;4>t;++t)for(var s=0;32>s;s+=8)n[r++]=this.g[t]>>>s&255;return n};function st(n,t){this.h=t;for(var r=[],s=!0,u=n.length-1;0<=u;u--){var h=n[u]|0;s&&h==t||(r[u]=h,s=!1)}this.g=r}var LG={};function My(n){return-128<=n&&128>n?q$(n,function(t){return new st([t|0],0>t?-1:0)}):new st([n|0],0>n?-1:0)}function Pr(n){if(isNaN(n)||!isFinite(n))return rc;if(0>n)return mn(Pr(-n));for(var t=[],r=1,s=0;n>=r;s++)t[s]=n/r|0,r*=BA;return new st(t,0)}function bO(n,t){if(n.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(n.charAt(0)=="-")return mn(bO(n.substring(1),t));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=Pr(Math.pow(t,8)),s=rc,u=0;u<n.length;u+=8){var h=Math.min(8,n.length-u),p=parseInt(n.substring(u,u+h),t);8>h?(h=Pr(Math.pow(t,h)),s=s.R(h).add(Pr(p))):(s=s.R(r),s=s.add(Pr(p)))}return s}var BA=4294967296,rc=My(0),LA=My(1),sM=My(16777216);ue=st.prototype;ue.ea=function(){if(Si(this))return-mn(this).ea();for(var n=0,t=1,r=0;r<this.g.length;r++){var s=this.D(r);n+=(0<=s?s:BA+s)*t,t*=BA}return n};ue.toString=function(n){if(n=n||10,2>n||36<n)throw Error("radix out of range: "+n);if(ro(this))return"0";if(Si(this))return"-"+mn(this).toString(n);for(var t=Pr(Math.pow(n,6)),r=this,s="";;){var u=cm(r,t).g;r=lm(r,u.R(t));var h=((0<r.g.length?r.g[0]:r.h)>>>0).toString(n);if(r=u,ro(r))return h+s;for(;6>h.length;)h="0"+h;s=h+s}};ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h};function ro(n){if(n.h!=0)return!1;for(var t=0;t<n.g.length;t++)if(n.g[t]!=0)return!1;return!0}function Si(n){return n.h==-1}ue.X=function(n){return n=lm(this,n),Si(n)?-1:ro(n)?0:1};function mn(n){for(var t=n.g.length,r=[],s=0;s<t;s++)r[s]=~n.g[s];return new st(r,~n.h).add(LA)}ue.abs=function(){return Si(this)?mn(this):this};ue.add=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],s=0,u=0;u<=t;u++){var h=s+(this.D(u)&65535)+(n.D(u)&65535),p=(h>>>16)+(this.D(u)>>>16)+(n.D(u)>>>16);s=p>>>16,h&=65535,p&=65535,r[u]=p<<16|h}return new st(r,r[r.length-1]&-2147483648?-1:0)};function lm(n,t){return n.add(mn(t))}ue.R=function(n){if(ro(this)||ro(n))return rc;if(Si(this))return Si(n)?mn(this).R(mn(n)):mn(mn(this).R(n));if(Si(n))return mn(this.R(mn(n)));if(0>this.X(sM)&&0>n.X(sM))return Pr(this.ea()*n.ea());for(var t=this.g.length+n.g.length,r=[],s=0;s<2*t;s++)r[s]=0;for(s=0;s<this.g.length;s++)for(var u=0;u<n.g.length;u++){var h=this.D(s)>>>16,p=this.D(s)&65535,b=n.D(u)>>>16,m=n.D(u)&65535;r[2*s+2*u]+=p*m,Qp(r,2*s+2*u),r[2*s+2*u+1]+=h*m,Qp(r,2*s+2*u+1),r[2*s+2*u+1]+=p*b,Qp(r,2*s+2*u+1),r[2*s+2*u+2]+=h*b,Qp(r,2*s+2*u+2)}for(s=0;s<t;s++)r[s]=r[2*s+1]<<16|r[2*s];for(s=t;s<2*t;s++)r[s]=0;return new st(r,0)};function Qp(n,t){for(;(n[t]&65535)!=n[t];)n[t+1]+=n[t]>>>16,n[t]&=65535,t++}function Ku(n,t){this.g=n,this.h=t}function cm(n,t){if(ro(t))throw Error("division by zero");if(ro(n))return new Ku(rc,rc);if(Si(n))return t=cm(mn(n),t),new Ku(mn(t.g),mn(t.h));if(Si(t))return t=cm(n,mn(t)),new Ku(mn(t.g),t.h);if(30<n.g.length){if(Si(n)||Si(t))throw Error("slowDivide_ only works with positive integers.");for(var r=LA,s=t;0>=s.X(n);)r=aM(r),s=aM(s);var u=Dl(r,1),h=Dl(s,1);for(s=Dl(s,2),r=Dl(r,2);!ro(s);){var p=h.add(s);0>=p.X(n)&&(u=u.add(r),h=p),s=Dl(s,1),r=Dl(r,1)}return t=lm(n,u.R(t)),new Ku(u,t)}for(u=rc;0<=n.X(t);){for(r=Math.max(1,Math.floor(n.ea()/t.ea())),s=Math.ceil(Math.log(r)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),h=Pr(r),p=h.R(t);Si(p)||0<p.X(n);)r-=s,h=Pr(r),p=h.R(t);ro(h)&&(h=LA),u=u.add(h),n=lm(n,p)}return new Ku(u,n)}ue.gb=function(n){return cm(this,n).h};ue.and=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],s=0;s<t;s++)r[s]=this.D(s)&n.D(s);return new st(r,this.h&n.h)};ue.or=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],s=0;s<t;s++)r[s]=this.D(s)|n.D(s);return new st(r,this.h|n.h)};ue.xor=function(n){for(var t=Math.max(this.g.length,n.g.length),r=[],s=0;s<t;s++)r[s]=this.D(s)^n.D(s);return new st(r,this.h^n.h)};function aM(n){for(var t=n.g.length+1,r=[],s=0;s<t;s++)r[s]=n.D(s)<<1|n.D(s-1)>>>31;return new st(r,n.h)}function Dl(n,t){var r=t>>5;t%=32;for(var s=n.g.length-r,u=[],h=0;h<s;h++)u[h]=0<t?n.D(h+r)>>>t|n.D(h+r+1)<<32-t:n.D(h+r);return new st(u,n.h)}am.prototype.createWebChannel=am.prototype.g;bi.prototype.send=bi.prototype.u;bi.prototype.open=bi.prototype.m;bi.prototype.close=bi.prototype.close;rk.NO_ERROR=0;rk.TIMEOUT=8;rk.HTTP_ERROR=6;B4.COMPLETE="complete";L4.EventType=Dh;Dh.OPEN="a";Dh.CLOSE="b";Dh.ERROR="c";Dh.MESSAGE="d";ln.prototype.listen=ln.prototype.O;Nt.prototype.listenOnce=Nt.prototype.P;Nt.prototype.getLastError=Nt.prototype.Sa;Nt.prototype.getLastErrorCode=Nt.prototype.Ia;Nt.prototype.getStatus=Nt.prototype.da;Nt.prototype.getResponseJson=Nt.prototype.Wa;Nt.prototype.getResponseText=Nt.prototype.ja;Nt.prototype.send=Nt.prototype.ha;Nt.prototype.setWithCredentials=Nt.prototype.Oa;nr.prototype.digest=nr.prototype.l;nr.prototype.reset=nr.prototype.reset;nr.prototype.update=nr.prototype.j;st.prototype.add=st.prototype.add;st.prototype.multiply=st.prototype.R;st.prototype.modulo=st.prototype.gb;st.prototype.compare=st.prototype.X;st.prototype.toNumber=st.prototype.ea;st.prototype.toString=st.prototype.toString;st.prototype.getBits=st.prototype.D;st.fromNumber=Pr;st.fromString=bO;var zG=function(){return new am},jG=function(){return ik()},h0=rk,VG=B4,FG=Va,lM={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},UG=Nh,Yp=L4,HG=Nt,WG=nr,oc=st;const cM="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class In{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}In.UNAUTHENTICATED=new In(null),In.GOOGLE_CREDENTIALS=new In("google-credentials-uid"),In.FIRST_PARTY=new In("first-party-uid"),In.MOCK_USER=new In("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bc="10.1.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pa=new ay("@firebase/firestore");function uM(){return Pa.logLevel}function me(n,...t){if(Pa.logLevel<=Ye.DEBUG){const r=t.map(Py);Pa.debug(`Firestore (${Bc}): ${n}`,...r)}}function po(n,...t){if(Pa.logLevel<=Ye.ERROR){const r=t.map(Py);Pa.error(`Firestore (${Bc}): ${n}`,...r)}}function Ac(n,...t){if(Pa.logLevel<=Ye.WARN){const r=t.map(Py);Pa.warn(`Firestore (${Bc}): ${n}`,...r)}}function Py(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xe(n="Unexpected state"){const t=`FIRESTORE (${Bc}) INTERNAL ASSERTION FAILED: `+n;throw po(t),new Error(t)}function At(n,t){n||xe()}function Re(n,t){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends wo{constructor(t,r){super(t,r),this.code=t,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(){this.promise=new Promise((t,r)=>{this.resolve=t,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wO{constructor(t,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class qG{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,r){t.enqueueRetryable(()=>r(In.UNAUTHENTICATED))}shutdown(){}}class $G{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,r){this.changeListener=r,t.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class GG{constructor(t){this.t=t,this.currentUser=In.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,r){let s=this.i;const u=m=>this.i!==s?(s=this.i,r(m)):Promise.resolve();let h=new ya;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ya,t.enqueueRetryable(()=>u(this.currentUser))};const p=()=>{const m=h;t.enqueueRetryable(async()=>{await m.promise,await u(this.currentUser)})},b=m=>{me("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),p()};this.t.onInit(m=>b(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?b(m):(me("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ya)}},0),p()}getToken(){const t=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(s=>this.i!==t?(me("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(At(typeof s.accessToken=="string"),new wO(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return At(t===null||typeof t=="string"),new In(t)}}class KG{constructor(t,r,s){this.l=t,this.h=r,this.P=s,this.type="FirstParty",this.user=In.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const t=this.T();return t&&this.I.set("Authorization",t),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class QG{constructor(t,r,s){this.l=t,this.h=r,this.P=s}getToken(){return Promise.resolve(new KG(this.l,this.h,this.P))}start(t,r){t.enqueueRetryable(()=>r(In.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class YG{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ZG{constructor(t){this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(t,r){const s=h=>{h.error!=null&&me("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const p=h.token!==this.R;return this.R=h.token,me("FirebaseAppCheckTokenProvider",`Received ${p?"new":"existing"} token.`),p?r(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const u=h=>{me("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?u(h):me("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(r=>r?(At(typeof r.token=="string"),this.R=r.token,new YG(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JG(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(r);else for(let s=0;s<n;s++)r[s]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _O{static V(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/t.length)*t.length;let s="";for(;s.length<20;){const u=JG(40);for(let h=0;h<u.length;++h)s.length<20&&u[h]<r&&(s+=t.charAt(u[h]%t.length))}return s}}function Je(n,t){return n<t?-1:n>t?1:0}function vc(n,t,r){return n.length===t.length&&n.every((s,u)=>r(s,t[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jt{constructor(t,r){if(this.seconds=t,this.nanoseconds=r,r<0)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new pe(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(t<-62135596800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new pe(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return Jt.fromMillis(Date.now())}static fromDate(t){return Jt.fromMillis(t.getTime())}static fromMillis(t){const r=Math.floor(t/1e3),s=Math.floor(1e6*(t-1e3*r));return new Jt(r,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?Je(this.nanoseconds,t.nanoseconds):Je(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(t){this.timestamp=t}static fromTimestamp(t){return new Se(t)}static min(){return new Se(new Jt(0,0))}static max(){return new Se(new Jt(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class th{constructor(t,r,s){r===void 0?r=0:r>t.length&&xe(),s===void 0?s=t.length-r:s>t.length-r&&xe(),this.segments=t,this.offset=r,this.len=s}get length(){return this.len}isEqual(t){return th.comparator(this,t)===0}child(t){const r=this.segments.slice(this.offset,this.limit());return t instanceof th?t.forEach(s=>{r.push(s)}):r.push(t),this.construct(r)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==t.get(r))return!1;return!0}forEach(t){for(let r=this.offset,s=this.limit();r<s;r++)t(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,r){const s=Math.min(t.length,r.length);for(let u=0;u<s;u++){const h=t.get(u),p=r.get(u);if(h<p)return-1;if(h>p)return 1}return t.length<r.length?-1:t.length>r.length?1:0}}class wt extends th{construct(t,r,s){return new wt(t,r,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const r=[];for(const s of t){if(s.indexOf("//")>=0)throw new pe(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);r.push(...s.split("/").filter(u=>u.length>0))}return new wt(r)}static emptyPath(){return new wt([])}}const XG=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Dn extends th{construct(t,r,s){return new Dn(t,r,s)}static isValidIdentifier(t){return XG.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Dn.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Dn(["__name__"])}static fromServerFormat(t){const r=[];let s="",u=0;const h=()=>{if(s.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(s),s=""};let p=!1;for(;u<t.length;){const b=t[u];if(b==="\\"){if(u+1===t.length)throw new pe(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const m=t[u+1];if(m!=="\\"&&m!=="."&&m!=="`")throw new pe(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=m,u+=2}else b==="`"?(p=!p,u++):b!=="."||p?(s+=b,u++):(h(),u++)}if(h(),p)throw new pe(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Dn(r)}static emptyPath(){return new Dn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{constructor(t){this.path=t}static fromPath(t){return new we(wt.fromString(t))}static fromName(t){return new we(wt.fromString(t).popFirst(5))}static empty(){return new we(wt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&wt.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,r){return wt.comparator(t.path,r.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new we(new wt(t.slice()))}}function eK(n,t){const r=n.toTimestamp().seconds,s=n.toTimestamp().nanoseconds+1,u=Se.fromTimestamp(s===1e9?new Jt(r+1,0):new Jt(r,s));return new xs(u,we.empty(),t)}function tK(n){return new xs(n.readTime,n.key,-1)}class xs{constructor(t,r,s){this.readTime=t,this.documentKey=r,this.largestBatchId=s}static min(){return new xs(Se.min(),we.empty(),-1)}static max(){return new xs(Se.max(),we.empty(),-1)}}function nK(n,t){let r=n.readTime.compareTo(t.readTime);return r!==0?r:(r=we.comparator(n.documentKey,t.documentKey),r!==0?r:Je(n.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iK="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class rK{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Bh(n){if(n.code!==X.FAILED_PRECONDITION||n.message!==iK)throw n;me("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class se{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(t){return this.next(void 0,t)}next(t,r){return this.callbackAttached&&xe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(t,this.result):new se((s,u)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,u)},this.catchCallback=h=>{this.wrapFailure(r,h).next(s,u)}})}toPromise(){return new Promise((t,r)=>{this.next(t,r)})}wrapUserFunction(t){try{const r=t();return r instanceof se?r:se.resolve(r)}catch(r){return se.reject(r)}}wrapSuccess(t,r){return t?this.wrapUserFunction(()=>t(r)):se.resolve(r)}wrapFailure(t,r){return t?this.wrapUserFunction(()=>t(r)):se.reject(r)}static resolve(t){return new se((r,s)=>{r(t)})}static reject(t){return new se((r,s)=>{s(t)})}static waitFor(t){return new se((r,s)=>{let u=0,h=0,p=!1;t.forEach(b=>{++u,b.next(()=>{++h,p&&h===u&&r()},m=>s(m))}),p=!0,h===u&&r()})}static or(t){let r=se.resolve(!1);for(const s of t)r=r.next(u=>u?se.resolve(u):s());return r}static forEach(t,r){const s=[];return t.forEach((u,h)=>{s.push(r.call(this,u,h))}),this.waitFor(s)}static mapArray(t,r){return new se((s,u)=>{const h=t.length,p=new Array(h);let b=0;for(let m=0;m<h;m++){const A=m;r(t[A]).next(E=>{p[A]=E,++b,b===h&&s(p)},E=>u(E))}})}static doWhile(t,r){return new se((s,u)=>{const h=()=>{t()===!0?r().next(()=>{h()},u):s()};h()})}}function Lh(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ny{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.oe(s),this._e=s=>r.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Ny.ae=-1;function hk(n){return n==null}function um(n){return n===0&&1/n==-1/0}function oK(n){return typeof n=="number"&&Number.isInteger(n)&&!um(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dM(n){let t=0;for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t++;return t}function Fa(n,t){for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&t(r,n[r])}function AO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(t,r){this.comparator=t,this.root=r||gn.EMPTY}insert(t,r){return new St(this.comparator,this.root.insert(t,r,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new St(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let r=this.root;for(;!r.isEmpty();){const s=this.comparator(t,r.key);if(s===0)return r.value;s<0?r=r.left:s>0&&(r=r.right)}return null}indexOf(t){let r=0,s=this.root;for(;!s.isEmpty();){const u=this.comparator(t,s.key);if(u===0)return r+s.left.size;u<0?s=s.left:(r+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((r,s)=>(t(r,s),!1))}toString(){const t=[];return this.inorderTraversal((r,s)=>(t.push(`${r}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Zp(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Zp(this.root,t,this.comparator,!1)}getReverseIterator(){return new Zp(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Zp(this.root,t,this.comparator,!0)}}class Zp{constructor(t,r,s,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=r?s(t.key,r):1,r&&u&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const r={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,r,s,u,h){this.key=t,this.value=r,this.color=s??gn.RED,this.left=u??gn.EMPTY,this.right=h??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,r,s,u,h){return new gn(t??this.key,r??this.value,s??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,s){let u=this;const h=s(t,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(t,r,s),null):h===0?u.copy(null,r,null,null,null):u.copy(null,null,null,null,u.right.insert(t,r,s)),u.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,r){let s,u=this;if(r(t,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(t,r),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),r(t,u.key)===0){if(u.right.isEmpty())return gn.EMPTY;s=u.right.min(),u=u.copy(s.key,s.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(t,r))}return u.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw xe();const t=this.left.check();if(t!==this.right.check())throw xe();return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw xe()}get value(){throw xe()}get color(){throw xe()}get left(){throw xe()}get right(){throw xe()}copy(t,r,s,u,h){return this}insert(t,r,s){return new gn(t,r)}remove(t,r){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(t){this.comparator=t,this.data=new St(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((r,s)=>(t(r),!1))}forEachInRange(t,r){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const u=s.getNext();if(this.comparator(u.key,t[1])>=0)return;r(u.key)}}forEachWhile(t,r){let s;for(s=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const r=this.data.getIteratorFrom(t);return r.hasNext()?r.getNext().key:null}getIterator(){return new hM(this.data.getIterator())}getIteratorFrom(t){return new hM(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let r=this;return r.size<t.size&&(r=t,t=this),t.forEach(s=>{r=r.add(s)}),r}isEqual(t){if(!(t instanceof Nn)||this.size!==t.size)return!1;const r=this.data.getIterator(),s=t.data.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(r=>{t.push(r)}),t}toString(){const t=[];return this.forEach(r=>t.push(r)),"SortedSet("+t.toString()+")"}copy(t){const r=new Nn(this.comparator);return r.data=t,r}}class hM{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(t){this.fields=t,t.sort(Dn.comparator)}static empty(){return new gi([])}unionWith(t){let r=new Nn(Dn.comparator);for(const s of this.fields)r=r.add(s);for(const s of t)r=r.add(s);return new gi(r.toArray())}covers(t){for(const r of this.fields)if(r.isPrefixOf(t))return!0;return!1}isEqual(t){return vc(this.fields,t.fields,(r,s)=>r.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vO extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(t){this.binaryString=t}static fromBase64String(t){const r=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new vO("Invalid base64 string: "+h):h}}(t);return new Bn(r)}static fromUint8Array(t){const r=function(u){let h="";for(let p=0;p<u.length;++p)h+=String.fromCharCode(u[p]);return h}(t);return new Bn(r)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const s=new Uint8Array(r.length);for(let u=0;u<r.length;u++)s[u]=r.charCodeAt(u);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Je(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Bn.EMPTY_BYTE_STRING=new Bn("");const sK=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Is(n){if(At(!!n),typeof n=="string"){let t=0;const r=sK.exec(n);if(At(!!r),r[1]){let u=r[1];u=(u+"000000000").substr(0,9),t=Number(u)}const s=new Date(n);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:qt(n.seconds),nanos:qt(n.nanos)}}function qt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Na(n){return typeof n=="string"?Bn.fromBase64String(n):Bn.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ry(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Oy(n){const t=n.mapValue.fields.__previous_value__;return Ry(t)?Oy(t):t}function nh(n){const t=Is(n.mapValue.fields.__local_write_time__.timestampValue);return new Jt(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aK{constructor(t,r,s,u,h,p,b,m,A){this.databaseId=t,this.appId=r,this.persistenceKey=s,this.host=u,this.ssl=h,this.forceLongPolling=p,this.autoDetectLongPolling=b,this.longPollingOptions=m,this.useFetchStreams=A}}class ih{constructor(t,r){this.projectId=t,this.database=r||"(default)"}static empty(){return new ih("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof ih&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Ra(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Ry(n)?4:lK(n)?9007199254740991:10:xe()}function zr(n,t){if(n===t)return!0;const r=Ra(n);if(r!==Ra(t))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return nh(n).isEqual(nh(t));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const p=Is(u.timestampValue),b=Is(h.timestampValue);return p.seconds===b.seconds&&p.nanos===b.nanos}(n,t);case 5:return n.stringValue===t.stringValue;case 6:return function(u,h){return Na(u.bytesValue).isEqual(Na(h.bytesValue))}(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return function(u,h){return qt(u.geoPointValue.latitude)===qt(h.geoPointValue.latitude)&&qt(u.geoPointValue.longitude)===qt(h.geoPointValue.longitude)}(n,t);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return qt(u.integerValue)===qt(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const p=qt(u.doubleValue),b=qt(h.doubleValue);return p===b?um(p)===um(b):isNaN(p)&&isNaN(b)}return!1}(n,t);case 9:return vc(n.arrayValue.values||[],t.arrayValue.values||[],zr);case 10:return function(u,h){const p=u.mapValue.fields||{},b=h.mapValue.fields||{};if(dM(p)!==dM(b))return!1;for(const m in p)if(p.hasOwnProperty(m)&&(b[m]===void 0||!zr(p[m],b[m])))return!1;return!0}(n,t);default:return xe()}}function rh(n,t){return(n.values||[]).find(r=>zr(r,t))!==void 0}function yc(n,t){if(n===t)return 0;const r=Ra(n),s=Ra(t);if(r!==s)return Je(r,s);switch(r){case 0:case 9007199254740991:return 0;case 1:return Je(n.booleanValue,t.booleanValue);case 2:return function(h,p){const b=qt(h.integerValue||h.doubleValue),m=qt(p.integerValue||p.doubleValue);return b<m?-1:b>m?1:b===m?0:isNaN(b)?isNaN(m)?0:-1:1}(n,t);case 3:return fM(n.timestampValue,t.timestampValue);case 4:return fM(nh(n),nh(t));case 5:return Je(n.stringValue,t.stringValue);case 6:return function(h,p){const b=Na(h),m=Na(p);return b.compareTo(m)}(n.bytesValue,t.bytesValue);case 7:return function(h,p){const b=h.split("/"),m=p.split("/");for(let A=0;A<b.length&&A<m.length;A++){const E=Je(b[A],m[A]);if(E!==0)return E}return Je(b.length,m.length)}(n.referenceValue,t.referenceValue);case 8:return function(h,p){const b=Je(qt(h.latitude),qt(p.latitude));return b!==0?b:Je(qt(h.longitude),qt(p.longitude))}(n.geoPointValue,t.geoPointValue);case 9:return function(h,p){const b=h.values||[],m=p.values||[];for(let A=0;A<b.length&&A<m.length;++A){const E=yc(b[A],m[A]);if(E)return E}return Je(b.length,m.length)}(n.arrayValue,t.arrayValue);case 10:return function(h,p){if(h===Jp.mapValue&&p===Jp.mapValue)return 0;if(h===Jp.mapValue)return 1;if(p===Jp.mapValue)return-1;const b=h.fields||{},m=Object.keys(b),A=p.fields||{},E=Object.keys(A);m.sort(),E.sort();for(let C=0;C<m.length&&C<E.length;++C){const v=Je(m[C],E[C]);if(v!==0)return v;const x=yc(b[m[C]],A[E[C]]);if(x!==0)return x}return Je(m.length,E.length)}(n.mapValue,t.mapValue);default:throw xe()}}function fM(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Je(n,t);const r=Is(n),s=Is(t),u=Je(r.seconds,s.seconds);return u!==0?u:Je(r.nanos,s.nanos)}function Cc(n){return zA(n)}function zA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=Is(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(r){return Na(r).toBase64()}(n.bytesValue):"referenceValue"in n?function(r){return we.fromName(r).toString()}(n.referenceValue):"geoPointValue"in n?function(r){return`geo(${r.latitude},${r.longitude})`}(n.geoPointValue):"arrayValue"in n?function(r){let s="[",u=!0;for(const h of r.values||[])u?u=!1:s+=",",s+=zA(h);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",h=!0;for(const p of s)h?h=!1:u+=",",u+=`${p}:${zA(r.fields[p])}`;return u+"}"}(n.mapValue):xe()}function pM(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function jA(n){return!!n&&"integerValue"in n}function By(n){return!!n&&"arrayValue"in n}function gM(n){return!!n&&"nullValue"in n}function mM(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function wg(n){return!!n&&"mapValue"in n}function _d(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const t={mapValue:{fields:{}}};return Fa(n.mapValue.fields,(r,s)=>t.mapValue.fields[r]=_d(s)),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let r=0;r<(n.arrayValue.values||[]).length;++r)t.arrayValue.values[r]=_d(n.arrayValue.values[r]);return t}return Object.assign({},n)}function lK(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xn{constructor(t){this.value=t}static empty(){return new Xn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let r=this.value;for(let s=0;s<t.length-1;++s)if(r=(r.mapValue.fields||{})[t.get(s)],!wg(r))return null;return r=(r.mapValue.fields||{})[t.lastSegment()],r||null}}set(t,r){this.getFieldsMap(t.popLast())[t.lastSegment()]=_d(r)}setAll(t){let r=Dn.emptyPath(),s={},u=[];t.forEach((p,b)=>{if(!r.isImmediateParentOf(b)){const m=this.getFieldsMap(r);this.applyChanges(m,s,u),s={},u=[],r=b.popLast()}p?s[b.lastSegment()]=_d(p):u.push(b.lastSegment())});const h=this.getFieldsMap(r);this.applyChanges(h,s,u)}delete(t){const r=this.field(t.popLast());wg(r)&&r.mapValue.fields&&delete r.mapValue.fields[t.lastSegment()]}isEqual(t){return zr(this.value,t.value)}getFieldsMap(t){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let s=0;s<t.length;++s){let u=r.mapValue.fields[t.get(s)];wg(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},r.mapValue.fields[t.get(s)]=u),r=u}return r.mapValue.fields}applyChanges(t,r,s){Fa(r,(u,h)=>t[u]=h);for(const u of s)delete t[u]}clone(){return new Xn(_d(this.value))}}function yO(n){const t=[];return Fa(n.fields,(r,s)=>{const u=new Dn([r]);if(wg(s)){const h=yO(s.mapValue).fields;if(h.length===0)t.push(u);else for(const p of h)t.push(u.child(p))}else t.push(u)}),new gi(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(t,r,s,u,h,p,b){this.key=t,this.documentType=r,this.version=s,this.readTime=u,this.createTime=h,this.data=p,this.documentState=b}static newInvalidDocument(t){return new Sn(t,0,Se.min(),Se.min(),Se.min(),Xn.empty(),0)}static newFoundDocument(t,r,s,u){return new Sn(t,1,r,Se.min(),s,u,0)}static newNoDocument(t,r){return new Sn(t,2,r,Se.min(),Se.min(),Xn.empty(),0)}static newUnknownDocument(t,r){return new Sn(t,3,r,Se.min(),Se.min(),Xn.empty(),2)}convertToFoundDocument(t,r){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Xn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Xn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Sn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Sn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dm{constructor(t,r){this.position=t,this.inclusive=r}}function kM(n,t,r){let s=0;for(let u=0;u<n.position.length;u++){const h=t[u],p=n.position[u];if(h.field.isKeyField()?s=we.comparator(we.fromName(p.referenceValue),r.key):s=yc(p,r.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function bM(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let r=0;r<n.position.length;r++)if(!zr(n.position[r],t.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,r="asc"){this.field=t,this.dir=r}}function cK(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CO{}class Gt extends CO{constructor(t,r,s){super(),this.field=t,this.op=r,this.value=s}static create(t,r,s){return t.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(t,r,s):new dK(t,r,s):r==="array-contains"?new pK(t,s):r==="in"?new gK(t,s):r==="not-in"?new mK(t,s):r==="array-contains-any"?new kK(t,s):new Gt(t,r,s)}static createKeyFieldInFilter(t,r,s){return r==="in"?new hK(t,s):new fK(t,s)}matches(t){const r=t.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(yc(r,this.value)):r!==null&&Ra(this.value)===Ra(r)&&this.matchesComparison(yc(r,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return xe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ir extends CO{constructor(t,r){super(),this.filters=t,this.op=r,this.ce=null}static create(t,r){return new ir(t,r)}matches(t){return EO(this)?this.filters.find(r=>!r.matches(t))===void 0:this.filters.find(r=>r.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,r)=>t.concat(r.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.le(r=>r.isInequality());return t!==null?t.field:null}le(t){for(const r of this.getFlattenedFilters())if(t(r))return r;return null}}function EO(n){return n.op==="and"}function xO(n){return uK(n)&&EO(n)}function uK(n){for(const t of n.filters)if(t instanceof ir)return!1;return!0}function VA(n){if(n instanceof Gt)return n.field.canonicalString()+n.op.toString()+Cc(n.value);if(xO(n))return n.filters.map(t=>VA(t)).join(",");{const t=n.filters.map(r=>VA(r)).join(",");return`${n.op}(${t})`}}function IO(n,t){return n instanceof Gt?function(s,u){return u instanceof Gt&&s.op===u.op&&s.field.isEqual(u.field)&&zr(s.value,u.value)}(n,t):n instanceof ir?function(s,u){return u instanceof ir&&s.op===u.op&&s.filters.length===u.filters.length?s.filters.reduce((h,p,b)=>h&&IO(p,u.filters[b]),!0):!1}(n,t):void xe()}function TO(n){return n instanceof Gt?function(r){return`${r.field.canonicalString()} ${r.op} ${Cc(r.value)}`}(n):n instanceof ir?function(r){return r.op.toString()+" {"+r.getFilters().map(TO).join(" ,")+"}"}(n):"Filter"}class dK extends Gt{constructor(t,r,s){super(t,r,s),this.key=we.fromName(s.referenceValue)}matches(t){const r=we.comparator(t.key,this.key);return this.matchesComparison(r)}}class hK extends Gt{constructor(t,r){super(t,"in",r),this.keys=SO("in",r)}matches(t){return this.keys.some(r=>r.isEqual(t.key))}}class fK extends Gt{constructor(t,r){super(t,"not-in",r),this.keys=SO("not-in",r)}matches(t){return!this.keys.some(r=>r.isEqual(t.key))}}function SO(n,t){var r;return(((r=t.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(s=>we.fromName(s.referenceValue))}class pK extends Gt{constructor(t,r){super(t,"array-contains",r)}matches(t){const r=t.data.field(this.field);return By(r)&&rh(r.arrayValue,this.value)}}class gK extends Gt{constructor(t,r){super(t,"in",r)}matches(t){const r=t.data.field(this.field);return r!==null&&rh(this.value.arrayValue,r)}}class mK extends Gt{constructor(t,r){super(t,"not-in",r)}matches(t){if(rh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=t.data.field(this.field);return r!==null&&!rh(this.value.arrayValue,r)}}class kK extends Gt{constructor(t,r){super(t,"array-contains-any",r)}matches(t){const r=t.data.field(this.field);return!(!By(r)||!r.arrayValue.values)&&r.arrayValue.values.some(s=>rh(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bK{constructor(t,r=null,s=[],u=[],h=null,p=null,b=null){this.path=t,this.collectionGroup=r,this.orderBy=s,this.filters=u,this.limit=h,this.startAt=p,this.endAt=b,this.he=null}}function wM(n,t=null,r=[],s=[],u=null,h=null,p=null){return new bK(n,t,r,s,u,h,p)}function Ly(n){const t=Re(n);if(t.he===null){let r=t.path.canonicalString();t.collectionGroup!==null&&(r+="|cg:"+t.collectionGroup),r+="|f:",r+=t.filters.map(s=>VA(s)).join(","),r+="|ob:",r+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),hk(t.limit)||(r+="|l:",r+=t.limit),t.startAt&&(r+="|lb:",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>Cc(s)).join(",")),t.endAt&&(r+="|ub:",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>Cc(s)).join(",")),t.he=r}return t.he}function zy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let r=0;r<n.orderBy.length;r++)if(!cK(n.orderBy[r],t.orderBy[r]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let r=0;r<n.filters.length;r++)if(!IO(n.filters[r],t.filters[r]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!bM(n.startAt,t.startAt)&&bM(n.endAt,t.endAt)}function FA(n){return we.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(t,r=null,s=[],u=[],h=null,p="F",b=null,m=null){this.path=t,this.collectionGroup=r,this.explicitOrderBy=s,this.filters=u,this.limit=h,this.limitType=p,this.startAt=b,this.endAt=m,this.Pe=null,this.Ie=null,this.startAt,this.endAt}}function wK(n,t,r,s,u,h,p,b){return new zh(n,t,r,s,u,h,p,b)}function jy(n){return new zh(n)}function _M(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function DO(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Vy(n){for(const t of n.filters){const r=t.getFirstInequalityField();if(r!==null)return r}return null}function MO(n){return n.collectionGroup!==null}function sc(n){const t=Re(n);if(t.Pe===null){t.Pe=[];const r=Vy(t),s=DO(t);if(r!==null&&s===null)r.isKeyField()||t.Pe.push(new Ad(r)),t.Pe.push(new Ad(Dn.keyField(),"asc"));else{let u=!1;for(const h of t.explicitOrderBy)t.Pe.push(h),h.field.isKeyField()&&(u=!0);if(!u){const h=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.Pe.push(new Ad(Dn.keyField(),h))}}}return t.Pe}function go(n){const t=Re(n);if(!t.Ie)if(t.limitType==="F")t.Ie=wM(t.path,t.collectionGroup,sc(t),t.filters,t.limit,t.startAt,t.endAt);else{const r=[];for(const h of sc(t)){const p=h.dir==="desc"?"asc":"desc";r.push(new Ad(h.field,p))}const s=t.endAt?new dm(t.endAt.position,t.endAt.inclusive):null,u=t.startAt?new dm(t.startAt.position,t.startAt.inclusive):null;t.Ie=wM(t.path,t.collectionGroup,r,t.filters,t.limit,s,u)}return t.Ie}function UA(n,t){t.getFirstInequalityField(),Vy(n);const r=n.filters.concat([t]);return new zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),r,n.limit,n.limitType,n.startAt,n.endAt)}function HA(n,t,r){return new zh(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,r,n.startAt,n.endAt)}function fk(n,t){return zy(go(n),go(t))&&n.limitType===t.limitType}function PO(n){return`${Ly(go(n))}|lt:${n.limitType}`}function WA(n){return`Query(target=${function(r){let s=r.path.canonicalString();return r.collectionGroup!==null&&(s+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(s+=`, filters: [${r.filters.map(u=>TO(u)).join(", ")}]`),hk(r.limit)||(s+=", limit: "+r.limit),r.orderBy.length>0&&(s+=`, orderBy: [${r.orderBy.map(u=>function(p){return`${p.field.canonicalString()} (${p.dir})`}(u)).join(", ")}]`),r.startAt&&(s+=", startAt: ",s+=r.startAt.inclusive?"b:":"a:",s+=r.startAt.position.map(u=>Cc(u)).join(",")),r.endAt&&(s+=", endAt: ",s+=r.endAt.inclusive?"a:":"b:",s+=r.endAt.position.map(u=>Cc(u)).join(",")),`Target(${s})`}(go(n))}; limitType=${n.limitType})`}function pk(n,t){return t.isFoundDocument()&&function(s,u){const h=u.key.path;return s.collectionGroup!==null?u.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):we.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(n,t)&&function(s,u){for(const h of sc(s))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(n,t)&&function(s,u){for(const h of s.filters)if(!h.matches(u))return!1;return!0}(n,t)&&function(s,u){return!(s.startAt&&!function(p,b,m){const A=kM(p,b,m);return p.inclusive?A<=0:A<0}(s.startAt,sc(s),u)||s.endAt&&!function(p,b,m){const A=kM(p,b,m);return p.inclusive?A>=0:A>0}(s.endAt,sc(s),u))}(n,t)}function _K(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function NO(n){return(t,r)=>{let s=!1;for(const u of sc(n)){const h=AK(u,t,r);if(h!==0)return h;s=s||u.field.isKeyField()}return 0}}function AK(n,t,r){const s=n.field.isKeyField()?we.comparator(t.key,r.key):function(h,p,b){const m=p.data.field(h),A=b.data.field(h);return m!==null&&A!==null?yc(m,A):xe()}(n.field,t,r);switch(n.dir){case"asc":return s;case"desc":return-1*s;default:return xe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,r){this.mapKeyFn=t,this.equalsFn=r,this.inner={},this.innerSize=0}get(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s!==void 0){for(const[u,h]of s)if(this.equalsFn(u,t))return h}}has(t){return this.get(t)!==void 0}set(t,r){const s=this.mapKeyFn(t),u=this.inner[s];if(u===void 0)return this.inner[s]=[[t,r]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],t))return void(u[h]=[t,r]);u.push([t,r]),this.innerSize++}delete(t){const r=this.mapKeyFn(t),s=this.inner[r];if(s===void 0)return!1;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],t))return s.length===1?delete this.inner[r]:s.splice(u,1),this.innerSize--,!0;return!1}forEach(t){Fa(this.inner,(r,s)=>{for(const[u,h]of s)t(u,h)})}isEmpty(){return AO(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vK=new St(we.comparator);function mo(){return vK}const RO=new St(we.comparator);function sd(...n){let t=RO;for(const r of n)t=t.insert(r.key,r);return t}function OO(n){let t=RO;return n.forEach((r,s)=>t=t.insert(r,s.overlayedDocument)),t}function wa(){return vd()}function BO(){return vd()}function vd(){return new Lc(n=>n.toString(),(n,t)=>n.isEqual(t))}const yK=new St(we.comparator),CK=new Nn(we.comparator);function Ve(...n){let t=CK;for(const r of n)t=t.add(r);return t}const EK=new Nn(Je);function xK(){return EK}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LO(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:um(t)?"-0":t}}function zO(n){return{integerValue:""+n}}function IK(n,t){return oK(t)?zO(t):LO(n,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gk{constructor(){this._=void 0}}function TK(n,t,r){return n instanceof hm?function(u,h){const p={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&Ry(h)&&(h=Oy(h)),h&&(p.fields.__previous_value__=h),{mapValue:p}}(r,t):n instanceof oh?VO(n,t):n instanceof sh?FO(n,t):function(u,h){const p=jO(u,h),b=AM(p)+AM(u.Te);return jA(p)&&jA(u.Te)?zO(b):LO(u.serializer,b)}(n,t)}function SK(n,t,r){return n instanceof oh?VO(n,t):n instanceof sh?FO(n,t):r}function jO(n,t){return n instanceof fm?function(s){return jA(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class hm extends gk{}class oh extends gk{constructor(t){super(),this.elements=t}}function VO(n,t){const r=UO(t);for(const s of n.elements)r.some(u=>zr(u,s))||r.push(s);return{arrayValue:{values:r}}}class sh extends gk{constructor(t){super(),this.elements=t}}function FO(n,t){let r=UO(t);for(const s of n.elements)r=r.filter(u=>!zr(u,s));return{arrayValue:{values:r}}}class fm extends gk{constructor(t,r){super(),this.serializer=t,this.Te=r}}function AM(n){return qt(n.integerValue||n.doubleValue)}function UO(n){return By(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DK(n,t){return n.field.isEqual(t.field)&&function(s,u){return s instanceof oh&&u instanceof oh||s instanceof sh&&u instanceof sh?vc(s.elements,u.elements,zr):s instanceof fm&&u instanceof fm?zr(s.Te,u.Te):s instanceof hm&&u instanceof hm}(n.transform,t.transform)}class MK{constructor(t,r){this.version=t,this.transformResults=r}}class er{constructor(t,r){this.updateTime=t,this.exists=r}static none(){return new er}static exists(t){return new er(void 0,t)}static updateTime(t){return new er(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function _g(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class mk{}function HO(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Fy(n.key,er.none()):new jh(n.key,n.data,er.none());{const r=n.data,s=Xn.empty();let u=new Nn(Dn.comparator);for(let h of t.fields)if(!u.has(h)){let p=r.field(h);p===null&&h.length>1&&(h=h.popLast(),p=r.field(h)),p===null?s.delete(h):s.set(h,p),u=u.add(h)}return new Rs(n.key,s,new gi(u.toArray()),er.none())}}function PK(n,t,r){n instanceof jh?function(u,h,p){const b=u.value.clone(),m=yM(u.fieldTransforms,h,p.transformResults);b.setAll(m),h.convertToFoundDocument(p.version,b).setHasCommittedMutations()}(n,t,r):n instanceof Rs?function(u,h,p){if(!_g(u.precondition,h))return void h.convertToUnknownDocument(p.version);const b=yM(u.fieldTransforms,h,p.transformResults),m=h.data;m.setAll(WO(u)),m.setAll(b),h.convertToFoundDocument(p.version,m).setHasCommittedMutations()}(n,t,r):function(u,h,p){h.convertToNoDocument(p.version).setHasCommittedMutations()}(0,t,r)}function yd(n,t,r,s){return n instanceof jh?function(h,p,b,m){if(!_g(h.precondition,p))return b;const A=h.value.clone(),E=CM(h.fieldTransforms,m,p);return A.setAll(E),p.convertToFoundDocument(p.version,A).setHasLocalMutations(),null}(n,t,r,s):n instanceof Rs?function(h,p,b,m){if(!_g(h.precondition,p))return b;const A=CM(h.fieldTransforms,m,p),E=p.data;return E.setAll(WO(h)),E.setAll(A),p.convertToFoundDocument(p.version,E).setHasLocalMutations(),b===null?null:b.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(C=>C.field))}(n,t,r,s):function(h,p,b){return _g(h.precondition,p)?(p.convertToNoDocument(p.version).setHasLocalMutations(),null):b}(n,t,r)}function NK(n,t){let r=null;for(const s of n.fieldTransforms){const u=t.data.field(s.field),h=jO(s.transform,u||null);h!=null&&(r===null&&(r=Xn.empty()),r.set(s.field,h))}return r||null}function vM(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!function(s,u){return s===void 0&&u===void 0||!(!s||!u)&&vc(s,u,(h,p)=>DK(h,p))}(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class jh extends mk{constructor(t,r,s,u=[]){super(),this.key=t,this.value=r,this.precondition=s,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class Rs extends mk{constructor(t,r,s,u,h=[]){super(),this.key=t,this.data=r,this.fieldMask=s,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function WO(n){const t=new Map;return n.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const s=n.data.field(r);t.set(r,s)}}),t}function yM(n,t,r){const s=new Map;At(n.length===r.length);for(let u=0;u<r.length;u++){const h=n[u],p=h.transform,b=t.data.field(h.field);s.set(h.field,SK(p,b,r[u]))}return s}function CM(n,t,r){const s=new Map;for(const u of n){const h=u.transform,p=r.data.field(u.field);s.set(u.field,TK(h,p,t))}return s}class Fy extends mk{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class RK extends mk{constructor(t,r){super(),this.key=t,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OK{constructor(t,r,s,u){this.batchId=t,this.localWriteTime=r,this.baseMutations=s,this.mutations=u}applyToRemoteDocument(t,r){const s=r.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(t.key)&&PK(h,t,s[u])}}applyToLocalView(t,r){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(r=yd(s,t,r,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(r=yd(s,t,r,this.localWriteTime));return r}applyToLocalDocumentSet(t,r){const s=BO();return this.mutations.forEach(u=>{const h=t.get(u.key),p=h.overlayedDocument;let b=this.applyToLocalView(p,h.mutatedFields);b=r.has(u.key)?null:b;const m=HO(p,b);m!==null&&s.set(u.key,m),p.isValidDocument()||p.convertToNoDocument(Se.min())}),s}keys(){return this.mutations.reduce((t,r)=>t.add(r.key),Ve())}isEqual(t){return this.batchId===t.batchId&&vc(this.mutations,t.mutations,(r,s)=>vM(r,s))&&vc(this.baseMutations,t.baseMutations,(r,s)=>vM(r,s))}}class Uy{constructor(t,r,s,u){this.batch=t,this.commitVersion=r,this.mutationResults=s,this.docVersions=u}static from(t,r,s){At(t.mutations.length===s.length);let u=function(){return yK}();const h=t.mutations;for(let p=0;p<h.length;p++)u=u.insert(h[p].key,s[p].version);return new Uy(t,r,s,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BK{constructor(t,r){this.largestBatchId=t,this.mutation=r}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LK{constructor(t,r){this.count=t,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Wt,We;function zK(n){switch(n){default:return xe();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function qO(n){if(n===void 0)return po("GRPC error has no .code"),X.UNKNOWN;switch(n){case Wt.OK:return X.OK;case Wt.CANCELLED:return X.CANCELLED;case Wt.UNKNOWN:return X.UNKNOWN;case Wt.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case Wt.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case Wt.INTERNAL:return X.INTERNAL;case Wt.UNAVAILABLE:return X.UNAVAILABLE;case Wt.UNAUTHENTICATED:return X.UNAUTHENTICATED;case Wt.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case Wt.NOT_FOUND:return X.NOT_FOUND;case Wt.ALREADY_EXISTS:return X.ALREADY_EXISTS;case Wt.PERMISSION_DENIED:return X.PERMISSION_DENIED;case Wt.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case Wt.ABORTED:return X.ABORTED;case Wt.OUT_OF_RANGE:return X.OUT_OF_RANGE;case Wt.UNIMPLEMENTED:return X.UNIMPLEMENTED;case Wt.DATA_LOSS:return X.DATA_LOSS;default:return xe()}}(We=Wt||(Wt={}))[We.OK=0]="OK",We[We.CANCELLED=1]="CANCELLED",We[We.UNKNOWN=2]="UNKNOWN",We[We.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",We[We.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",We[We.NOT_FOUND=5]="NOT_FOUND",We[We.ALREADY_EXISTS=6]="ALREADY_EXISTS",We[We.PERMISSION_DENIED=7]="PERMISSION_DENIED",We[We.UNAUTHENTICATED=16]="UNAUTHENTICATED",We[We.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",We[We.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",We[We.ABORTED=10]="ABORTED",We[We.OUT_OF_RANGE=11]="OUT_OF_RANGE",We[We.UNIMPLEMENTED=12]="UNIMPLEMENTED",We[We.INTERNAL=13]="INTERNAL",We[We.UNAVAILABLE=14]="UNAVAILABLE",We[We.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hy{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Xp}static getOrCreateInstance(){return Xp===null&&(Xp=new Hy),Xp}onExistenceFilterMismatch(t){const r=Symbol();return this.onExistenceFilterMismatchCallbacks.set(r,t),()=>this.onExistenceFilterMismatchCallbacks.delete(r)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(r=>r(t))}}let Xp=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jK(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VK=new oc([4294967295,4294967295],0);function EM(n){const t=jK().encode(n),r=new WG;return r.update(t),new Uint8Array(r.digest())}function xM(n){const t=new DataView(n.buffer),r=t.getUint32(0,!0),s=t.getUint32(4,!0),u=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new oc([r,s],0),new oc([u,h],0)]}class Wy{constructor(t,r,s){if(this.bitmap=t,this.padding=r,this.hashCount=s,r<0||r>=8)throw new ad(`Invalid padding: ${r}`);if(s<0)throw new ad(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new ad(`Invalid hash count: ${s}`);if(t.length===0&&r!==0)throw new ad(`Invalid padding when bitmap length is 0: ${r}`);this.de=8*t.length-r,this.Ae=oc.fromNumber(this.de)}Re(t,r,s){let u=t.add(r.multiply(oc.fromNumber(s)));return u.compare(VK)===1&&(u=new oc([u.getBits(0),u.getBits(1)],0)),u.modulo(this.Ae).toNumber()}Ve(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}mightContain(t){if(this.de===0)return!1;const r=EM(t),[s,u]=xM(r);for(let h=0;h<this.hashCount;h++){const p=this.Re(s,u,h);if(!this.Ve(p))return!1}return!0}static create(t,r,s){const u=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),p=new Wy(h,u,r);return s.forEach(b=>p.insert(b)),p}insert(t){if(this.de===0)return;const r=EM(t),[s,u]=xM(r);for(let h=0;h<this.hashCount;h++){const p=this.Re(s,u,h);this.me(p)}}me(t){const r=Math.floor(t/8),s=t%8;this.bitmap[r]|=1<<s}}class ad extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kk{constructor(t,r,s,u,h){this.snapshotVersion=t,this.targetChanges=r,this.targetMismatches=s,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,r,s){const u=new Map;return u.set(t,Vh.createSynthesizedTargetChangeForCurrentChange(t,r,s)),new kk(Se.min(),u,new St(Je),mo(),Ve())}}class Vh{constructor(t,r,s,u,h){this.resumeToken=t,this.current=r,this.addedDocuments=s,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,r,s){return new Vh(s,r,Ve(),Ve(),Ve())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(t,r,s,u){this.fe=t,this.removedTargetIds=r,this.key=s,this.ge=u}}class $O{constructor(t,r){this.targetId=t,this.pe=r}}class GO{constructor(t,r,s=Bn.EMPTY_BYTE_STRING,u=null){this.state=t,this.targetIds=r,this.resumeToken=s,this.cause=u}}class IM{constructor(){this.ye=0,this.we=SM(),this.Se=Bn.EMPTY_BYTE_STRING,this.be=!1,this.De=!0}get current(){return this.be}get resumeToken(){return this.Se}get ve(){return this.ye!==0}get Ce(){return this.De}Fe(t){t.approximateByteSize()>0&&(this.De=!0,this.Se=t)}Me(){let t=Ve(),r=Ve(),s=Ve();return this.we.forEach((u,h)=>{switch(h){case 0:t=t.add(u);break;case 2:r=r.add(u);break;case 1:s=s.add(u);break;default:xe()}}),new Vh(this.Se,this.be,t,r,s)}xe(){this.De=!1,this.we=SM()}Oe(t,r){this.De=!0,this.we=this.we.insert(t,r)}Ne(t){this.De=!0,this.we=this.we.remove(t)}Be(){this.ye+=1}Le(){this.ye-=1}ke(){this.De=!0,this.be=!0}}class FK{constructor(t){this.qe=t,this.Qe=new Map,this.Ke=mo(),this.$e=TM(),this.Ue=new St(Je)}We(t){for(const r of t.fe)t.ge&&t.ge.isFoundDocument()?this.Ge(r,t.ge):this.ze(r,t.key,t.ge);for(const r of t.removedTargetIds)this.ze(r,t.key,t.ge)}je(t){this.forEachTarget(t,r=>{const s=this.He(r);switch(t.state){case 0:this.Je(r)&&s.Fe(t.resumeToken);break;case 1:s.Le(),s.ve||s.xe(),s.Fe(t.resumeToken);break;case 2:s.Le(),s.ve||this.removeTarget(r);break;case 3:this.Je(r)&&(s.ke(),s.Fe(t.resumeToken));break;case 4:this.Je(r)&&(this.Ye(r),s.Fe(t.resumeToken));break;default:xe()}})}forEachTarget(t,r){t.targetIds.length>0?t.targetIds.forEach(r):this.Qe.forEach((s,u)=>{this.Je(u)&&r(u)})}Ze(t){var r,s;const u=t.targetId,h=t.pe.count,p=this.Xe(u);if(p){const b=p.target;if(FA(b))if(h===0){const m=new we(b.path);this.ze(u,m,Sn.newNoDocument(m,Se.min()))}else At(h===1);else{const m=this.et(u);if(m!==h){const A=this.tt(t,m);if(A.status!==0){this.Ye(u);const E=A.status===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ue=this.Ue.insert(u,E)}(r=Hy.instance)===null||r===void 0||r.notifyOnExistenceFilterMismatch(function(C,v,x,D){var M,L,R,O,z,U;const $={localCacheCount:x,existenceFilterCount:D.count},Y=D.unchangedNames;return Y&&($.bloomFilter={applied:C===0,hashCount:(M=Y==null?void 0:Y.hashCount)!==null&&M!==void 0?M:0,bitmapLength:(O=(R=(L=Y==null?void 0:Y.bits)===null||L===void 0?void 0:L.bitmap)===null||R===void 0?void 0:R.length)!==null&&O!==void 0?O:0,padding:(U=(z=Y==null?void 0:Y.bits)===null||z===void 0?void 0:z.padding)!==null&&U!==void 0?U:0},v&&($.bloomFilter.mightContain=v)),$}(A.status,(s=A.nt)!==null&&s!==void 0?s:null,m,t.pe))}}}}tt(t,r){const{unchangedNames:s,count:u}=t.pe;if(!s||!s.bits)return{status:1};const{bits:{bitmap:h="",padding:p=0},hashCount:b=0}=s;let m,A;try{m=Na(h).toUint8Array()}catch(C){if(C instanceof vO)return Ac("Decoding the base64 bloom filter in existence filter failed ("+C.message+"); ignoring the bloom filter and falling back to full re-query."),{status:1};throw C}try{A=new Wy(m,p,b)}catch(C){return Ac(C instanceof ad?"BloomFilter error: ":"Applying bloom filter failed: ",C),{status:1}}const E=C=>{const v=this.qe.rt();return A.mightContain(`projects/${v.projectId}/databases/${v.database}/documents/${C}`)};return A.de===0?{status:1}:{status:u===r-this.it(t.targetId,E)?0:2,nt:E}}it(t,r){const s=this.qe.getRemoteKeysForTarget(t);let u=0;return s.forEach(h=>{r(h.path.canonicalString())||(this.ze(t,h,null),u++)}),u}st(t){const r=new Map;this.Qe.forEach((h,p)=>{const b=this.Xe(p);if(b){if(h.current&&FA(b.target)){const m=new we(b.target.path);this.Ke.get(m)!==null||this.ot(p,m)||this.ze(p,m,Sn.newNoDocument(m,t))}h.Ce&&(r.set(p,h.Me()),h.xe())}});let s=Ve();this.$e.forEach((h,p)=>{let b=!0;p.forEachWhile(m=>{const A=this.Xe(m);return!A||A.purpose==="TargetPurposeLimboResolution"||(b=!1,!1)}),b&&(s=s.add(h))}),this.Ke.forEach((h,p)=>p.setReadTime(t));const u=new kk(t,r,this.Ue,this.Ke,s);return this.Ke=mo(),this.$e=TM(),this.Ue=new St(Je),u}Ge(t,r){if(!this.Je(t))return;const s=this.ot(t,r.key)?2:0;this.He(t).Oe(r.key,s),this.Ke=this.Ke.insert(r.key,r),this.$e=this.$e.insert(r.key,this._t(r.key).add(t))}ze(t,r,s){if(!this.Je(t))return;const u=this.He(t);this.ot(t,r)?u.Oe(r,1):u.Ne(r),this.$e=this.$e.insert(r,this._t(r).delete(t)),s&&(this.Ke=this.Ke.insert(r,s))}removeTarget(t){this.Qe.delete(t)}et(t){const r=this.He(t).Me();return this.qe.getRemoteKeysForTarget(t).size+r.addedDocuments.size-r.removedDocuments.size}Be(t){this.He(t).Be()}He(t){let r=this.Qe.get(t);return r||(r=new IM,this.Qe.set(t,r)),r}_t(t){let r=this.$e.get(t);return r||(r=new Nn(Je),this.$e=this.$e.insert(t,r)),r}Je(t){const r=this.Xe(t)!==null;return r||me("WatchChangeAggregator","Detected inactive target",t),r}Xe(t){const r=this.Qe.get(t);return r&&r.ve?null:this.qe.ut(t)}Ye(t){this.Qe.set(t,new IM),this.qe.getRemoteKeysForTarget(t).forEach(r=>{this.ze(t,r,null)})}ot(t,r){return this.qe.getRemoteKeysForTarget(t).has(r)}}function TM(){return new St(we.comparator)}function SM(){return new St(we.comparator)}const UK=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),HK=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),WK=(()=>({and:"AND",or:"OR"}))();class qK{constructor(t,r){this.databaseId=t,this.useProto3Json=r}}function qA(n,t){return n.useProto3Json||hk(t)?t:{value:t}}function pm(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function KO(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function $K(n,t){return pm(n,t.toTimestamp())}function Or(n){return At(!!n),Se.fromTimestamp(function(r){const s=Is(r);return new Jt(s.seconds,s.nanos)}(n))}function qy(n,t){return function(s){return new wt(["projects",s.projectId,"databases",s.database])}(n).child("documents").child(t).canonicalString()}function QO(n){const t=wt.fromString(n);return At(XO(t)),t}function $A(n,t){return qy(n.databaseId,t.path)}function f0(n,t){const r=QO(t);if(r.get(1)!==n.databaseId.projectId)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+n.databaseId.projectId);if(r.get(3)!==n.databaseId.database)throw new pe(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+n.databaseId.database);return new we(YO(r))}function GA(n,t){return qy(n.databaseId,t)}function GK(n){const t=QO(n);return t.length===4?wt.emptyPath():YO(t)}function KA(n){return new wt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function YO(n){return At(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function DM(n,t,r){return{name:$A(n,t),fields:r.value.mapValue.fields}}function KK(n,t){let r;if("targetChange"in t){t.targetChange;const s=function(A){return A==="NO_CHANGE"?0:A==="ADD"?1:A==="REMOVE"?2:A==="CURRENT"?3:A==="RESET"?4:xe()}(t.targetChange.targetChangeType||"NO_CHANGE"),u=t.targetChange.targetIds||[],h=function(A,E){return A.useProto3Json?(At(E===void 0||typeof E=="string"),Bn.fromBase64String(E||"")):(At(E===void 0||E instanceof Uint8Array),Bn.fromUint8Array(E||new Uint8Array))}(n,t.targetChange.resumeToken),p=t.targetChange.cause,b=p&&function(A){const E=A.code===void 0?X.UNKNOWN:qO(A.code);return new pe(E,A.message||"")}(p);r=new GO(s,u,h,b||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const u=f0(n,s.document.name),h=Or(s.document.updateTime),p=s.document.createTime?Or(s.document.createTime):Se.min(),b=new Xn({mapValue:{fields:s.document.fields}}),m=Sn.newFoundDocument(u,h,p,b),A=s.targetIds||[],E=s.removedTargetIds||[];r=new Ag(A,E,m.key,m)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const u=f0(n,s.document),h=s.readTime?Or(s.readTime):Se.min(),p=Sn.newNoDocument(u,h),b=s.removedTargetIds||[];r=new Ag([],b,p.key,p)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const u=f0(n,s.document),h=s.removedTargetIds||[];r=new Ag([],h,u,null)}else{if(!("filter"in t))return xe();{t.filter;const s=t.filter;s.targetId;const{count:u=0,unchangedNames:h}=s,p=new LK(u,h),b=s.targetId;r=new $O(b,p)}}return r}function QK(n,t){let r;if(t instanceof jh)r={update:DM(n,t.key,t.value)};else if(t instanceof Fy)r={delete:$A(n,t.key)};else if(t instanceof Rs)r={update:DM(n,t.key,t.data),updateMask:rQ(t.fieldMask)};else{if(!(t instanceof RK))return xe();r={verify:$A(n,t.key)}}return t.fieldTransforms.length>0&&(r.updateTransforms=t.fieldTransforms.map(s=>function(h,p){const b=p.transform;if(b instanceof hm)return{fieldPath:p.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(b instanceof oh)return{fieldPath:p.field.canonicalString(),appendMissingElements:{values:b.elements}};if(b instanceof sh)return{fieldPath:p.field.canonicalString(),removeAllFromArray:{values:b.elements}};if(b instanceof fm)return{fieldPath:p.field.canonicalString(),increment:b.Te};throw xe()}(0,s))),t.precondition.isNone||(r.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:$K(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:xe()}(n,t.precondition)),r}function YK(n,t){return n&&n.length>0?(At(t!==void 0),n.map(r=>function(u,h){let p=u.updateTime?Or(u.updateTime):Or(h);return p.isEqual(Se.min())&&(p=Or(h)),new MK(p,u.transformResults||[])}(r,t))):[]}function ZK(n,t){return{documents:[GA(n,t.path)]}}function JK(n,t){const r={structuredQuery:{}},s=t.path;t.collectionGroup!==null?(r.parent=GA(n,s),r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r.parent=GA(n,s.popLast()),r.structuredQuery.from=[{collectionId:s.lastSegment()}]);const u=function(m){if(m.length!==0)return JO(ir.create(m,"and"))}(t.filters);u&&(r.structuredQuery.where=u);const h=function(m){if(m.length!==0)return m.map(A=>function(C){return{field:Pl(C.field),direction:tQ(C.dir)}}(A))}(t.orderBy);h&&(r.structuredQuery.orderBy=h);const p=qA(n,t.limit);return p!==null&&(r.structuredQuery.limit=p),t.startAt&&(r.structuredQuery.startAt=function(m){return{before:m.inclusive,values:m.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(m){return{before:!m.inclusive,values:m.position}}(t.endAt)),r}function XK(n){let t=GK(n.parent);const r=n.structuredQuery,s=r.from?r.from.length:0;let u=null;if(s>0){At(s===1);const E=r.from[0];E.allDescendants?u=E.collectionId:t=t.child(E.collectionId)}let h=[];r.where&&(h=function(C){const v=ZO(C);return v instanceof ir&&xO(v)?v.getFilters():[v]}(r.where));let p=[];r.orderBy&&(p=function(C){return C.map(v=>function(D){return new Ad(Nl(D.field),function(L){switch(L){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(D.direction))}(v))}(r.orderBy));let b=null;r.limit&&(b=function(C){let v;return v=typeof C=="object"?C.value:C,hk(v)?null:v}(r.limit));let m=null;r.startAt&&(m=function(C){const v=!!C.before,x=C.values||[];return new dm(x,v)}(r.startAt));let A=null;return r.endAt&&(A=function(C){const v=!C.before,x=C.values||[];return new dm(x,v)}(r.endAt)),wK(t,u,p,h,b,"F",m,A)}function eQ(n,t){const r=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return xe()}}(t.purpose);return r==null?null:{"goog-listen-tags":r}}function ZO(n){return n.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const s=Nl(r.unaryFilter.field);return Gt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const u=Nl(r.unaryFilter.field);return Gt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Nl(r.unaryFilter.field);return Gt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const p=Nl(r.unaryFilter.field);return Gt.create(p,"!=",{nullValue:"NULL_VALUE"});default:return xe()}}(n):n.fieldFilter!==void 0?function(r){return Gt.create(Nl(r.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return xe()}}(r.fieldFilter.op),r.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(r){return ir.create(r.compositeFilter.filters.map(s=>ZO(s)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return xe()}}(r.compositeFilter.op))}(n):xe()}function tQ(n){return UK[n]}function nQ(n){return HK[n]}function iQ(n){return WK[n]}function Pl(n){return{fieldPath:n.canonicalString()}}function Nl(n){return Dn.fromServerFormat(n.fieldPath)}function JO(n){return n instanceof Gt?function(r){if(r.op==="=="){if(mM(r.value))return{unaryFilter:{field:Pl(r.field),op:"IS_NAN"}};if(gM(r.value))return{unaryFilter:{field:Pl(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(mM(r.value))return{unaryFilter:{field:Pl(r.field),op:"IS_NOT_NAN"}};if(gM(r.value))return{unaryFilter:{field:Pl(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Pl(r.field),op:nQ(r.op),value:r.value}}}(n):n instanceof ir?function(r){const s=r.getFilters().map(u=>JO(u));return s.length===1?s[0]:{compositeFilter:{op:iQ(r.op),filters:s}}}(n):xe()}function rQ(n){const t=[];return n.fields.forEach(r=>t.push(r.canonicalString())),{fieldPaths:t}}function XO(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class os{constructor(t,r,s,u,h=Se.min(),p=Se.min(),b=Bn.EMPTY_BYTE_STRING,m=null){this.target=t,this.targetId=r,this.purpose=s,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=p,this.resumeToken=b,this.expectedCount=m}withSequenceNumber(t){return new os(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,r){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new os(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oQ{constructor(t){this.ct=t}}function sQ(n){const t=XK({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?HA(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aQ{constructor(){this.sn=new lQ}addToCollectionParentIndex(t,r){return this.sn.add(r),se.resolve()}getCollectionParents(t,r){return se.resolve(this.sn.getEntries(r))}addFieldIndex(t,r){return se.resolve()}deleteFieldIndex(t,r){return se.resolve()}getDocumentsMatchingTarget(t,r){return se.resolve(null)}getIndexType(t,r){return se.resolve(0)}getFieldIndexes(t,r){return se.resolve([])}getNextCollectionGroupToUpdate(t){return se.resolve(null)}getMinOffset(t,r){return se.resolve(xs.min())}getMinOffsetFromCollectionGroup(t,r){return se.resolve(xs.min())}updateCollectionGroup(t,r,s){return se.resolve()}updateIndexEntries(t,r){return se.resolve()}}class lQ{constructor(){this.index={}}add(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r]||new Nn(wt.comparator),h=!u.has(s);return this.index[r]=u.add(s),h}has(t){const r=t.lastSegment(),s=t.popLast(),u=this.index[r];return u&&u.has(s)}getEntries(t){return(this.index[t]||new Nn(wt.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(t){this.Mn=t}next(){return this.Mn+=2,this.Mn}static xn(){return new Ec(0)}static On(){return new Ec(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{constructor(){this.changes=new Lc(t=>t.toString(),(t,r)=>t.isEqual(r)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,r){this.assertNotApplied(),this.changes.set(t,Sn.newInvalidDocument(t).setReadTime(r))}getEntry(t,r){this.assertNotApplied();const s=this.changes.get(r);return s!==void 0?se.resolve(s):this.getFromCache(t,r)}getEntries(t,r){return this.getAllFromCache(t,r)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uQ{constructor(t,r){this.overlayedDocument=t,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dQ{constructor(t,r,s,u){this.remoteDocumentCache=t,this.mutationQueue=r,this.documentOverlayCache=s,this.indexManager=u}getDocument(t,r){let s=null;return this.documentOverlayCache.getOverlay(t,r).next(u=>(s=u,this.remoteDocumentCache.getEntry(t,r))).next(u=>(s!==null&&yd(s.mutation,u,gi.empty(),Jt.now()),u))}getDocuments(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.getLocalViewOfDocuments(t,s,Ve()).next(()=>s))}getLocalViewOfDocuments(t,r,s=Ve()){const u=wa();return this.populateOverlays(t,u,r).next(()=>this.computeViews(t,r,u,s).next(h=>{let p=sd();return h.forEach((b,m)=>{p=p.insert(b,m.overlayedDocument)}),p}))}getOverlayedDocuments(t,r){const s=wa();return this.populateOverlays(t,s,r).next(()=>this.computeViews(t,r,s,Ve()))}populateOverlays(t,r,s){const u=[];return s.forEach(h=>{r.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(t,u).next(h=>{h.forEach((p,b)=>{r.set(p,b)})})}computeViews(t,r,s,u){let h=mo();const p=vd(),b=function(){return vd()}();return r.forEach((m,A)=>{const E=s.get(A.key);u.has(A.key)&&(E===void 0||E.mutation instanceof Rs)?h=h.insert(A.key,A):E!==void 0?(p.set(A.key,E.mutation.getFieldMask()),yd(E.mutation,A,E.mutation.getFieldMask(),Jt.now())):p.set(A.key,gi.empty())}),this.recalculateAndSaveOverlays(t,h).next(m=>(m.forEach((A,E)=>p.set(A,E)),r.forEach((A,E)=>{var C;return b.set(A,new uQ(E,(C=p.get(A))!==null&&C!==void 0?C:null))}),b))}recalculateAndSaveOverlays(t,r){const s=vd();let u=new St((p,b)=>p-b),h=Ve();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,r).next(p=>{for(const b of p)b.keys().forEach(m=>{const A=r.get(m);if(A===null)return;let E=s.get(m)||gi.empty();E=b.applyToLocalView(A,E),s.set(m,E);const C=(u.get(b.batchId)||Ve()).add(m);u=u.insert(b.batchId,C)})}).next(()=>{const p=[],b=u.getReverseIterator();for(;b.hasNext();){const m=b.getNext(),A=m.key,E=m.value,C=BO();E.forEach(v=>{if(!h.has(v)){const x=HO(r.get(v),s.get(v));x!==null&&C.set(v,x),h=h.add(v)}}),p.push(this.documentOverlayCache.saveOverlays(t,A,C))}return se.waitFor(p)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,r){return this.remoteDocumentCache.getEntries(t,r).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,r,s){return function(h){return we.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(t,r.path):MO(r)?this.getDocumentsMatchingCollectionGroupQuery(t,r,s):this.getDocumentsMatchingCollectionQuery(t,r,s)}getNextDocuments(t,r,s,u){return this.remoteDocumentCache.getAllFromCollectionGroup(t,r,s,u).next(h=>{const p=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,r,s.largestBatchId,u-h.size):se.resolve(wa());let b=-1,m=h;return p.next(A=>se.forEach(A,(E,C)=>(b<C.largestBatchId&&(b=C.largestBatchId),h.get(E)?se.resolve():this.remoteDocumentCache.getEntry(t,E).next(v=>{m=m.insert(E,v)}))).next(()=>this.populateOverlays(t,A,h)).next(()=>this.computeViews(t,m,A,Ve())).next(E=>({batchId:b,changes:OO(E)})))})}getDocumentsMatchingDocumentQuery(t,r){return this.getDocument(t,new we(r)).next(s=>{let u=sd();return s.isFoundDocument()&&(u=u.insert(s.key,s)),u})}getDocumentsMatchingCollectionGroupQuery(t,r,s){const u=r.collectionGroup;let h=sd();return this.indexManager.getCollectionParents(t,u).next(p=>se.forEach(p,b=>{const m=function(E,C){return new zh(C,null,E.explicitOrderBy.slice(),E.filters.slice(),E.limit,E.limitType,E.startAt,E.endAt)}(r,b.child(u));return this.getDocumentsMatchingCollectionQuery(t,m,s).next(A=>{A.forEach((E,C)=>{h=h.insert(E,C)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(t,r,s){let u;return this.documentOverlayCache.getOverlaysForCollection(t,r.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(t,r,s,u))).next(h=>{u.forEach((b,m)=>{const A=m.getKey();h.get(A)===null&&(h=h.insert(A,Sn.newInvalidDocument(A)))});let p=sd();return h.forEach((b,m)=>{const A=u.get(b);A!==void 0&&yd(A.mutation,m,gi.empty(),Jt.now()),pk(r,m)&&(p=p.insert(b,m))}),p})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hQ{constructor(t){this.serializer=t,this.ar=new Map,this.ur=new Map}getBundleMetadata(t,r){return se.resolve(this.ar.get(r))}saveBundleMetadata(t,r){return this.ar.set(r.id,function(u){return{id:u.id,version:u.version,createTime:Or(u.createTime)}}(r)),se.resolve()}getNamedQuery(t,r){return se.resolve(this.ur.get(r))}saveNamedQuery(t,r){return this.ur.set(r.name,function(u){return{name:u.name,query:sQ(u.bundledQuery),readTime:Or(u.readTime)}}(r)),se.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fQ{constructor(){this.overlays=new St(we.comparator),this.cr=new Map}getOverlay(t,r){return se.resolve(this.overlays.get(r))}getOverlays(t,r){const s=wa();return se.forEach(r,u=>this.getOverlay(t,u).next(h=>{h!==null&&s.set(u,h)})).next(()=>s)}saveOverlays(t,r,s){return s.forEach((u,h)=>{this.ht(t,r,h)}),se.resolve()}removeOverlaysForBatchId(t,r,s){const u=this.cr.get(s);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.cr.delete(s)),se.resolve()}getOverlaysForCollection(t,r,s){const u=wa(),h=r.length+1,p=new we(r.child("")),b=this.overlays.getIteratorFrom(p);for(;b.hasNext();){const m=b.getNext().value,A=m.getKey();if(!r.isPrefixOf(A.path))break;A.path.length===h&&m.largestBatchId>s&&u.set(m.getKey(),m)}return se.resolve(u)}getOverlaysForCollectionGroup(t,r,s,u){let h=new St((A,E)=>A-E);const p=this.overlays.getIterator();for(;p.hasNext();){const A=p.getNext().value;if(A.getKey().getCollectionGroup()===r&&A.largestBatchId>s){let E=h.get(A.largestBatchId);E===null&&(E=wa(),h=h.insert(A.largestBatchId,E)),E.set(A.getKey(),A)}}const b=wa(),m=h.getIterator();for(;m.hasNext()&&(m.getNext().value.forEach((A,E)=>b.set(A,E)),!(b.size()>=u)););return se.resolve(b)}ht(t,r,s){const u=this.overlays.get(s.key);if(u!==null){const p=this.cr.get(u.largestBatchId).delete(s.key);this.cr.set(u.largestBatchId,p)}this.overlays=this.overlays.insert(s.key,new BK(r,s));let h=this.cr.get(r);h===void 0&&(h=Ve(),this.cr.set(r,h)),this.cr.set(r,h.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $y{constructor(){this.lr=new Nn(on.hr),this.Pr=new Nn(on.Ir)}isEmpty(){return this.lr.isEmpty()}addReference(t,r){const s=new on(t,r);this.lr=this.lr.add(s),this.Pr=this.Pr.add(s)}Tr(t,r){t.forEach(s=>this.addReference(s,r))}removeReference(t,r){this.Er(new on(t,r))}dr(t,r){t.forEach(s=>this.removeReference(s,r))}Ar(t){const r=new we(new wt([])),s=new on(r,t),u=new on(r,t+1),h=[];return this.Pr.forEachInRange([s,u],p=>{this.Er(p),h.push(p.key)}),h}Rr(){this.lr.forEach(t=>this.Er(t))}Er(t){this.lr=this.lr.delete(t),this.Pr=this.Pr.delete(t)}Vr(t){const r=new we(new wt([])),s=new on(r,t),u=new on(r,t+1);let h=Ve();return this.Pr.forEachInRange([s,u],p=>{h=h.add(p.key)}),h}containsKey(t){const r=new on(t,0),s=this.lr.firstAfterOrEqual(r);return s!==null&&t.isEqual(s.key)}}class on{constructor(t,r){this.key=t,this.mr=r}static hr(t,r){return we.comparator(t.key,r.key)||Je(t.mr,r.mr)}static Ir(t,r){return Je(t.mr,r.mr)||we.comparator(t.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pQ{constructor(t,r){this.indexManager=t,this.referenceDelegate=r,this.mutationQueue=[],this.gr=1,this.pr=new Nn(on.hr)}checkEmpty(t){return se.resolve(this.mutationQueue.length===0)}addMutationBatch(t,r,s,u){const h=this.gr;this.gr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const p=new OK(h,r,s,u);this.mutationQueue.push(p);for(const b of u)this.pr=this.pr.add(new on(b.key,h)),this.indexManager.addToCollectionParentIndex(t,b.key.path.popLast());return se.resolve(p)}lookupMutationBatch(t,r){return se.resolve(this.yr(r))}getNextMutationBatchAfterBatchId(t,r){const s=r+1,u=this.wr(s),h=u<0?0:u;return se.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return se.resolve(this.mutationQueue.length===0?-1:this.gr-1)}getAllMutationBatches(t){return se.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,r){const s=new on(r,0),u=new on(r,Number.POSITIVE_INFINITY),h=[];return this.pr.forEachInRange([s,u],p=>{const b=this.yr(p.mr);h.push(b)}),se.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,r){let s=new Nn(Je);return r.forEach(u=>{const h=new on(u,0),p=new on(u,Number.POSITIVE_INFINITY);this.pr.forEachInRange([h,p],b=>{s=s.add(b.mr)})}),se.resolve(this.Sr(s))}getAllMutationBatchesAffectingQuery(t,r){const s=r.path,u=s.length+1;let h=s;we.isDocumentKey(h)||(h=h.child(""));const p=new on(new we(h),0);let b=new Nn(Je);return this.pr.forEachWhile(m=>{const A=m.key.path;return!!s.isPrefixOf(A)&&(A.length===u&&(b=b.add(m.mr)),!0)},p),se.resolve(this.Sr(b))}Sr(t){const r=[];return t.forEach(s=>{const u=this.yr(s);u!==null&&r.push(u)}),r}removeMutationBatch(t,r){At(this.br(r.batchId,"removed")===0),this.mutationQueue.shift();let s=this.pr;return se.forEach(r.mutations,u=>{const h=new on(u.key,r.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,u.key)}).next(()=>{this.pr=s})}Cn(t){}containsKey(t,r){const s=new on(r,0),u=this.pr.firstAfterOrEqual(s);return se.resolve(r.isEqual(u&&u.key))}performConsistencyCheck(t){return this.mutationQueue.length,se.resolve()}br(t,r){return this.wr(t)}wr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}yr(t){const r=this.wr(t);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gQ{constructor(t){this.Dr=t,this.docs=function(){return new St(we.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,r){const s=r.key,u=this.docs.get(s),h=u?u.size:0,p=this.Dr(r);return this.docs=this.docs.insert(s,{document:r.mutableCopy(),size:p}),this.size+=p-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const r=this.docs.get(t);r&&(this.docs=this.docs.remove(t),this.size-=r.size)}getEntry(t,r){const s=this.docs.get(r);return se.resolve(s?s.document.mutableCopy():Sn.newInvalidDocument(r))}getEntries(t,r){let s=mo();return r.forEach(u=>{const h=this.docs.get(u);s=s.insert(u,h?h.document.mutableCopy():Sn.newInvalidDocument(u))}),se.resolve(s)}getDocumentsMatchingQuery(t,r,s,u){let h=mo();const p=r.path,b=new we(p.child("")),m=this.docs.getIteratorFrom(b);for(;m.hasNext();){const{key:A,value:{document:E}}=m.getNext();if(!p.isPrefixOf(A.path))break;A.path.length>p.length+1||nK(tK(E),s)<=0||(u.has(E.key)||pk(r,E))&&(h=h.insert(E.key,E.mutableCopy()))}return se.resolve(h)}getAllFromCollectionGroup(t,r,s,u){xe()}vr(t,r){return se.forEach(this.docs,s=>r(s))}newChangeBuffer(t){return new mQ(this)}getSize(t){return se.resolve(this.size)}}class mQ extends cQ{constructor(t){super(),this.sr=t}applyChanges(t){const r=[];return this.changes.forEach((s,u)=>{u.isValidDocument()?r.push(this.sr.addEntry(t,u)):this.sr.removeEntry(s)}),se.waitFor(r)}getFromCache(t,r){return this.sr.getEntry(t,r)}getAllFromCache(t,r){return this.sr.getEntries(t,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kQ{constructor(t){this.persistence=t,this.Cr=new Lc(r=>Ly(r),zy),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.Fr=0,this.Mr=new $y,this.targetCount=0,this.Or=Ec.xn()}forEachTarget(t,r){return this.Cr.forEach((s,u)=>r(u)),se.resolve()}getLastRemoteSnapshotVersion(t){return se.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return se.resolve(this.Fr)}allocateTargetId(t){return this.highestTargetId=this.Or.next(),se.resolve(this.highestTargetId)}setTargetsMetadata(t,r,s){return s&&(this.lastRemoteSnapshotVersion=s),r>this.Fr&&(this.Fr=r),se.resolve()}Ln(t){this.Cr.set(t.target,t);const r=t.targetId;r>this.highestTargetId&&(this.Or=new Ec(r),this.highestTargetId=r),t.sequenceNumber>this.Fr&&(this.Fr=t.sequenceNumber)}addTargetData(t,r){return this.Ln(r),this.targetCount+=1,se.resolve()}updateTargetData(t,r){return this.Ln(r),se.resolve()}removeTargetData(t,r){return this.Cr.delete(r.target),this.Mr.Ar(r.targetId),this.targetCount-=1,se.resolve()}removeTargets(t,r,s){let u=0;const h=[];return this.Cr.forEach((p,b)=>{b.sequenceNumber<=r&&s.get(b.targetId)===null&&(this.Cr.delete(p),h.push(this.removeMatchingKeysForTargetId(t,b.targetId)),u++)}),se.waitFor(h).next(()=>u)}getTargetCount(t){return se.resolve(this.targetCount)}getTargetData(t,r){const s=this.Cr.get(r)||null;return se.resolve(s)}addMatchingKeys(t,r,s){return this.Mr.Tr(r,s),se.resolve()}removeMatchingKeys(t,r,s){this.Mr.dr(r,s);const u=this.persistence.referenceDelegate,h=[];return u&&r.forEach(p=>{h.push(u.markPotentiallyOrphaned(t,p))}),se.waitFor(h)}removeMatchingKeysForTargetId(t,r){return this.Mr.Ar(r),se.resolve()}getMatchingKeysForTargetId(t,r){const s=this.Mr.Vr(r);return se.resolve(s)}containsKey(t,r){return se.resolve(this.Mr.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bQ{constructor(t,r){this.Nr={},this.overlays={},this.Br=new Ny(0),this.Lr=!1,this.Lr=!0,this.referenceDelegate=t(this),this.kr=new kQ(this),this.indexManager=new aQ,this.remoteDocumentCache=function(u){return new gQ(u)}(s=>this.referenceDelegate.qr(s)),this.serializer=new oQ(r),this.Qr=new hQ(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Lr=!1,Promise.resolve()}get started(){return this.Lr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let r=this.overlays[t.toKey()];return r||(r=new fQ,this.overlays[t.toKey()]=r),r}getMutationQueue(t,r){let s=this.Nr[t.toKey()];return s||(s=new pQ(r,this.referenceDelegate),this.Nr[t.toKey()]=s),s}getTargetCache(){return this.kr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Qr}runTransaction(t,r,s){me("MemoryPersistence","Starting transaction:",t);const u=new wQ(this.Br.next());return this.referenceDelegate.Kr(),s(u).next(h=>this.referenceDelegate.$r(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ur(t,r){return se.or(Object.values(this.Nr).map(s=>()=>s.containsKey(t,r)))}}class wQ extends rK{constructor(t){super(),this.currentSequenceNumber=t}}class Gy{constructor(t){this.persistence=t,this.Wr=new $y,this.Gr=null}static zr(t){return new Gy(t)}get jr(){if(this.Gr)return this.Gr;throw xe()}addReference(t,r,s){return this.Wr.addReference(s,r),this.jr.delete(s.toString()),se.resolve()}removeReference(t,r,s){return this.Wr.removeReference(s,r),this.jr.add(s.toString()),se.resolve()}markPotentiallyOrphaned(t,r){return this.jr.add(r.toString()),se.resolve()}removeTarget(t,r){this.Wr.Ar(r.targetId).forEach(u=>this.jr.add(u.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,r.targetId).next(u=>{u.forEach(h=>this.jr.add(h.toString()))}).next(()=>s.removeTargetData(t,r))}Kr(){this.Gr=new Set}$r(t){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return se.forEach(this.jr,s=>{const u=we.fromPath(s);return this.Hr(t,u).next(h=>{h||r.removeEntry(u,Se.min())})}).next(()=>(this.Gr=null,r.apply(t)))}updateLimboDocument(t,r){return this.Hr(t,r).next(s=>{s?this.jr.delete(r.toString()):this.jr.add(r.toString())})}qr(t){return 0}Hr(t,r){return se.or([()=>se.resolve(this.Wr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(t,r),()=>this.persistence.Ur(t,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ky{constructor(t,r,s,u){this.targetId=t,this.fromCache=r,this.Li=s,this.ki=u}static qi(t,r){let s=Ve(),u=Ve();for(const h of r.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new Ky(t,r.fromCache,s,u)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Q{constructor(){this.Qi=!1}initialize(t,r){this.Ki=t,this.indexManager=r,this.Qi=!0}getDocumentsMatchingQuery(t,r,s,u){return this.$i(t,r).next(h=>h||this.Ui(t,r,u,s)).next(h=>h||this.Wi(t,r))}$i(t,r){if(_M(r))return se.resolve(null);let s=go(r);return this.indexManager.getIndexType(t,s).next(u=>u===0?null:(r.limit!==null&&u===1&&(r=HA(r,null,"F"),s=go(r)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const p=Ve(...h);return this.Ki.getDocuments(t,p).next(b=>this.indexManager.getMinOffset(t,s).next(m=>{const A=this.Gi(r,b);return this.zi(r,A,p,m.readTime)?this.$i(t,HA(r,null,"F")):this.ji(t,A,r,m)}))})))}Ui(t,r,s,u){return _M(r)||u.isEqual(Se.min())?this.Wi(t,r):this.Ki.getDocuments(t,s).next(h=>{const p=this.Gi(r,h);return this.zi(r,p,s,u)?this.Wi(t,r):(uM()<=Ye.DEBUG&&me("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),WA(r)),this.ji(t,p,r,eK(u,-1)))})}Gi(t,r){let s=new Nn(NO(t));return r.forEach((u,h)=>{pk(t,h)&&(s=s.add(h))}),s}zi(t,r,s,u){if(t.limit===null)return!1;if(s.size!==r.size)return!0;const h=t.limitType==="F"?r.last():r.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Wi(t,r){return uM()<=Ye.DEBUG&&me("QueryEngine","Using full collection scan to execute query:",WA(r)),this.Ki.getDocumentsMatchingQuery(t,r,xs.min())}ji(t,r,s,u){return this.Ki.getDocumentsMatchingQuery(t,s,u).next(h=>(r.forEach(p=>{h=h.insert(p.key,p)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AQ{constructor(t,r,s,u){this.persistence=t,this.Hi=r,this.serializer=u,this.Ji=new St(Je),this.Yi=new Lc(h=>Ly(h),zy),this.Zi=new Map,this.Xi=t.getRemoteDocumentCache(),this.kr=t.getTargetCache(),this.Qr=t.getBundleCache(),this.es(s)}es(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new dQ(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>t.collect(r,this.Ji))}}function vQ(n,t,r,s){return new AQ(n,t,r,s)}async function e3(n,t){const r=Re(n);return await r.persistence.runTransaction("Handle user change","readonly",s=>{let u;return r.mutationQueue.getAllMutationBatches(s).next(h=>(u=h,r.es(t),r.mutationQueue.getAllMutationBatches(s))).next(h=>{const p=[],b=[];let m=Ve();for(const A of u){p.push(A.batchId);for(const E of A.mutations)m=m.add(E.key)}for(const A of h){b.push(A.batchId);for(const E of A.mutations)m=m.add(E.key)}return r.localDocuments.getDocuments(s,m).next(A=>({ts:A,removedBatchIds:p,addedBatchIds:b}))})})}function yQ(n,t){const r=Re(n);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const u=t.batch.keys(),h=r.Xi.newChangeBuffer({trackRemovals:!0});return function(b,m,A,E){const C=A.batch,v=C.keys();let x=se.resolve();return v.forEach(D=>{x=x.next(()=>E.getEntry(m,D)).next(M=>{const L=A.docVersions.get(D);At(L!==null),M.version.compareTo(L)<0&&(C.applyToRemoteDocument(M,A),M.isValidDocument()&&(M.setReadTime(A.commitVersion),E.addEntry(M)))})}),x.next(()=>b.mutationQueue.removeMutationBatch(m,C))}(r,s,t,h).next(()=>h.apply(s)).next(()=>r.mutationQueue.performConsistencyCheck(s)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(s,u,t.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(b){let m=Ve();for(let A=0;A<b.mutationResults.length;++A)b.mutationResults[A].transformResults.length>0&&(m=m.add(b.batch.mutations[A].key));return m}(t))).next(()=>r.localDocuments.getDocuments(s,u))})}function t3(n){const t=Re(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",r=>t.kr.getLastRemoteSnapshotVersion(r))}function CQ(n,t){const r=Re(n),s=t.snapshotVersion;let u=r.Ji;return r.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const p=r.Xi.newChangeBuffer({trackRemovals:!0});u=r.Ji;const b=[];t.targetChanges.forEach((E,C)=>{const v=u.get(C);if(!v)return;b.push(r.kr.removeMatchingKeys(h,E.removedDocuments,C).next(()=>r.kr.addMatchingKeys(h,E.addedDocuments,C)));let x=v.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(C)!==null?x=x.withResumeToken(Bn.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):E.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(E.resumeToken,s)),u=u.insert(C,x),function(M,L,R){return M.resumeToken.approximateByteSize()===0||L.snapshotVersion.toMicroseconds()-M.snapshotVersion.toMicroseconds()>=3e8?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(v,x,E)&&b.push(r.kr.updateTargetData(h,x))});let m=mo(),A=Ve();if(t.documentUpdates.forEach(E=>{t.resolvedLimboDocuments.has(E)&&b.push(r.persistence.referenceDelegate.updateLimboDocument(h,E))}),b.push(EQ(h,p,t.documentUpdates).next(E=>{m=E.ns,A=E.rs})),!s.isEqual(Se.min())){const E=r.kr.getLastRemoteSnapshotVersion(h).next(C=>r.kr.setTargetsMetadata(h,h.currentSequenceNumber,s));b.push(E)}return se.waitFor(b).next(()=>p.apply(h)).next(()=>r.localDocuments.getLocalViewOfDocuments(h,m,A)).next(()=>m)}).then(h=>(r.Ji=u,h))}function EQ(n,t,r){let s=Ve(),u=Ve();return r.forEach(h=>s=s.add(h)),t.getEntries(n,s).next(h=>{let p=mo();return r.forEach((b,m)=>{const A=h.get(b);m.isFoundDocument()!==A.isFoundDocument()&&(u=u.add(b)),m.isNoDocument()&&m.version.isEqual(Se.min())?(t.removeEntry(b,m.readTime),p=p.insert(b,m)):!A.isValidDocument()||m.version.compareTo(A.version)>0||m.version.compareTo(A.version)===0&&A.hasPendingWrites?(t.addEntry(m),p=p.insert(b,m)):me("LocalStore","Ignoring outdated watch update for ",b,". Current version:",A.version," Watch version:",m.version)}),{ns:p,rs:u}})}function xQ(n,t){const r=Re(n);return r.persistence.runTransaction("Get next mutation batch","readonly",s=>(t===void 0&&(t=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(s,t)))}function IQ(n,t){const r=Re(n);return r.persistence.runTransaction("Allocate target","readwrite",s=>{let u;return r.kr.getTargetData(s,t).next(h=>h?(u=h,se.resolve(u)):r.kr.allocateTargetId(s).next(p=>(u=new os(t,p,"TargetPurposeListen",s.currentSequenceNumber),r.kr.addTargetData(s,u).next(()=>u))))}).then(s=>{const u=r.Ji.get(s.targetId);return(u===null||s.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(r.Ji=r.Ji.insert(s.targetId,s),r.Yi.set(t,s.targetId)),s})}async function QA(n,t,r){const s=Re(n),u=s.Ji.get(t),h=r?"readwrite":"readwrite-primary";try{r||await s.persistence.runTransaction("Release target",h,p=>s.persistence.referenceDelegate.removeTarget(p,u))}catch(p){if(!Lh(p))throw p;me("LocalStore",`Failed to update sequence numbers for target ${t}: ${p}`)}s.Ji=s.Ji.remove(t),s.Yi.delete(u.target)}function MM(n,t,r){const s=Re(n);let u=Se.min(),h=Ve();return s.persistence.runTransaction("Execute query","readonly",p=>function(m,A,E){const C=Re(m),v=C.Yi.get(E);return v!==void 0?se.resolve(C.Ji.get(v)):C.kr.getTargetData(A,E)}(s,p,go(t)).next(b=>{if(b)return u=b.lastLimboFreeSnapshotVersion,s.kr.getMatchingKeysForTargetId(p,b.targetId).next(m=>{h=m})}).next(()=>s.Hi.getDocumentsMatchingQuery(p,t,r?u:Se.min(),r?h:Ve())).next(b=>(TQ(s,_K(t),b),{documents:b,ss:h})))}function TQ(n,t,r){let s=n.Zi.get(t)||Se.min();r.forEach((u,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),n.Zi.set(t,s)}class PM{constructor(){this.activeTargetIds=xK()}hs(t){this.activeTargetIds=this.activeTargetIds.add(t)}Ps(t){this.activeTargetIds=this.activeTargetIds.delete(t)}ls(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class SQ{constructor(){this.Hs=new PM,this.Js={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,r,s){}addLocalQueryTarget(t){return this.Hs.hs(t),this.Js[t]||"not-current"}updateQueryState(t,r,s){this.Js[t]=r}removeLocalQueryTarget(t){this.Hs.Ps(t)}isLocalQueryTarget(t){return this.Hs.activeTargetIds.has(t)}clearQueryState(t){delete this.Js[t]}getAllActiveQueryTargets(){return this.Hs.activeTargetIds}isActiveQueryTarget(t){return this.Hs.activeTargetIds.has(t)}start(){return this.Hs=new PM,Promise.resolve()}handleUserChange(t,r,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DQ{Ys(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NM{constructor(){this.Zs=()=>this.Xs(),this.eo=()=>this.no(),this.ro=[],this.io()}Ys(t){this.ro.push(t)}shutdown(){window.removeEventListener("online",this.Zs),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Zs),window.addEventListener("offline",this.eo)}Xs(){me("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.ro)t(0)}no(){me("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.ro)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eg=null;function p0(){return eg===null?eg=function(){return 268435456+Math.round(2147483648*Math.random())}():eg++,"0x"+eg.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MQ={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PQ{constructor(t){this.so=t.so,this.oo=t.oo}_o(t){this.ao=t}uo(t){this.co=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.so(t)}ho(){this.ao()}Po(t){this.co(t)}Io(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xn="WebChannelConnection";class NQ extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const s=r.ssl?"https":"http",u=encodeURIComponent(this.databaseId.projectId),h=encodeURIComponent(this.databaseId.database);this.To=s+"://"+r.host,this.Eo=`projects/${u}/databases/${h}`,this.Ao=this.databaseId.database==="(default)"?`project_id=${u}`:`project_id=${u}&database_id=${h}`}get Ro(){return!1}Vo(r,s,u,h,p){const b=p0(),m=this.mo(r,s);me("RestConnection",`Sending RPC '${r}' ${b}:`,m,u);const A={"google-cloud-resource-prefix":this.Eo,"x-goog-request-params":this.Ao};return this.fo(A,h,p),this.po(r,m,A,u).then(E=>(me("RestConnection",`Received RPC '${r}' ${b}: `,E),E),E=>{throw Ac("RestConnection",`RPC '${r}' ${b} failed with error: `,E,"url: ",m,"request:",u),E})}yo(r,s,u,h,p,b){return this.Vo(r,s,u,h,p)}fo(r,s,u){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bc}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((h,p)=>r[p]=h),u&&u.headers.forEach((h,p)=>r[p]=h)}mo(r,s){const u=MQ[r];return`${this.To}/v1/${s}:${u}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}po(t,r,s,u){const h=p0();return new Promise((p,b)=>{const m=new HG;m.setWithCredentials(!0),m.listenOnce(VG.COMPLETE,()=>{try{switch(m.getLastErrorCode()){case h0.NO_ERROR:const E=m.getResponseJson();me(xn,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(E)),p(E);break;case h0.TIMEOUT:me(xn,`RPC '${t}' ${h} timed out`),b(new pe(X.DEADLINE_EXCEEDED,"Request time out"));break;case h0.HTTP_ERROR:const C=m.getStatus();if(me(xn,`RPC '${t}' ${h} failed with status:`,C,"response text:",m.getResponseText()),C>0){let v=m.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const D=function(L){const R=L.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(R)>=0?R:X.UNKNOWN}(x.status);b(new pe(D,x.message))}else b(new pe(X.UNKNOWN,"Server responded with status "+m.getStatus()))}else b(new pe(X.UNAVAILABLE,"Connection failed."));break;default:xe()}}finally{me(xn,`RPC '${t}' ${h} completed.`)}});const A=JSON.stringify(u);me(xn,`RPC '${t}' ${h} sending request:`,u),m.send(r,"POST",A,s,15)})}wo(t,r,s){const u=p0(),h=[this.To,"/","google.firestore.v1.Firestore","/",t,"/channel"],p=zG(),b=jG(),m={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},A=this.longPollingOptions.timeoutSeconds;A!==void 0&&(m.longPollingTimeout=Math.round(1e3*A)),this.useFetchStreams&&(m.xmlHttpFactory=new UG({})),this.fo(m.initMessageHeaders,r,s),m.encodeInitMessageHeaders=!0;const E=h.join("");me(xn,`Creating RPC '${t}' stream ${u}: ${E}`,m);const C=p.createWebChannel(E,m);let v=!1,x=!1;const D=new PQ({so:L=>{x?me(xn,`Not sending because RPC '${t}' stream ${u} is closed:`,L):(v||(me(xn,`Opening RPC '${t}' stream ${u} transport.`),C.open(),v=!0),me(xn,`RPC '${t}' stream ${u} sending:`,L),C.send(L))},oo:()=>C.close()}),M=(L,R,O)=>{L.listen(R,z=>{try{O(z)}catch(U){setTimeout(()=>{throw U},0)}})};return M(C,Yp.EventType.OPEN,()=>{x||me(xn,`RPC '${t}' stream ${u} transport opened.`)}),M(C,Yp.EventType.CLOSE,()=>{x||(x=!0,me(xn,`RPC '${t}' stream ${u} transport closed`),D.Po())}),M(C,Yp.EventType.ERROR,L=>{x||(x=!0,Ac(xn,`RPC '${t}' stream ${u} transport errored:`,L),D.Po(new pe(X.UNAVAILABLE,"The operation could not be completed")))}),M(C,Yp.EventType.MESSAGE,L=>{var R;if(!x){const O=L.data[0];At(!!O);const z=O,U=z.error||((R=z[0])===null||R===void 0?void 0:R.error);if(U){me(xn,`RPC '${t}' stream ${u} received error:`,U);const $=U.status;let Y=function(q){const Z=Wt[q];if(Z!==void 0)return qO(Z)}($),K=U.message;Y===void 0&&(Y=X.INTERNAL,K="Unknown error status: "+$+" with message "+U.message),x=!0,D.Po(new pe(Y,K)),C.close()}else me(xn,`RPC '${t}' stream ${u} received:`,O),D.Io(O)}}),M(b,FG.STAT_EVENT,L=>{L.stat===lM.PROXY?me(xn,`RPC '${t}' stream ${u} detected buffering proxy`):L.stat===lM.NOPROXY&&me(xn,`RPC '${t}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{D.ho()},0),D}}function g0(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bk(n){return new qK(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n3{constructor(t,r,s=1e3,u=1.5,h=6e4){this.ii=t,this.timerId=r,this.So=s,this.bo=u,this.Do=h,this.vo=0,this.Co=null,this.Fo=Date.now(),this.reset()}reset(){this.vo=0}Mo(){this.vo=this.Do}xo(t){this.cancel();const r=Math.floor(this.vo+this.Oo()),s=Math.max(0,Date.now()-this.Fo),u=Math.max(0,r-s);u>0&&me("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.vo} ms, delay with jitter: ${r} ms, last attempt: ${s} ms ago)`),this.Co=this.ii.enqueueAfterDelay(this.timerId,u,()=>(this.Fo=Date.now(),t())),this.vo*=this.bo,this.vo<this.So&&(this.vo=this.So),this.vo>this.Do&&(this.vo=this.Do)}No(){this.Co!==null&&(this.Co.skipDelay(),this.Co=null)}cancel(){this.Co!==null&&(this.Co.cancel(),this.Co=null)}Oo(){return(Math.random()-.5)*this.vo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i3{constructor(t,r,s,u,h,p,b,m){this.ii=t,this.Bo=s,this.Lo=u,this.connection=h,this.authCredentialsProvider=p,this.appCheckCredentialsProvider=b,this.listener=m,this.state=0,this.ko=0,this.qo=null,this.Qo=null,this.stream=null,this.Ko=new n3(t,r)}$o(){return this.state===1||this.state===5||this.Uo()}Uo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Wo()}async stop(){this.$o()&&await this.close(0)}Go(){this.state=0,this.Ko.reset()}zo(){this.Uo()&&this.qo===null&&(this.qo=this.ii.enqueueAfterDelay(this.Bo,6e4,()=>this.jo()))}Ho(t){this.Jo(),this.stream.send(t)}async jo(){if(this.Uo())return this.close(0)}Jo(){this.qo&&(this.qo.cancel(),this.qo=null)}Yo(){this.Qo&&(this.Qo.cancel(),this.Qo=null)}async close(t,r){this.Jo(),this.Yo(),this.Ko.cancel(),this.ko++,t!==4?this.Ko.reset():r&&r.code===X.RESOURCE_EXHAUSTED?(po(r.toString()),po("Using maximum backoff delay to prevent overloading the backend."),this.Ko.Mo()):r&&r.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Zo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.uo(r)}Zo(){}auth(){this.state=1;const t=this.Xo(this.ko),r=this.ko;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,u])=>{this.ko===r&&this.e_(s,u)},s=>{t(()=>{const u=new pe(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.t_(u)})})}e_(t,r){const s=this.Xo(this.ko);this.stream=this.n_(t,r),this.stream._o(()=>{s(()=>(this.state=2,this.Qo=this.ii.enqueueAfterDelay(this.Lo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener._o()))}),this.stream.uo(u=>{s(()=>this.t_(u))}),this.stream.onMessage(u=>{s(()=>this.onMessage(u))})}Wo(){this.state=5,this.Ko.xo(async()=>{this.state=0,this.start()})}t_(t){return me("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return r=>{this.ii.enqueueAndForget(()=>this.ko===t?r():(me("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class RQ extends i3{constructor(t,r,s,u,h,p){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,s,u,p),this.serializer=h}n_(t,r){return this.connection.wo("Listen",t,r)}onMessage(t){this.Ko.reset();const r=KK(this.serializer,t),s=function(h){if(!("targetChange"in h))return Se.min();const p=h.targetChange;return p.targetIds&&p.targetIds.length?Se.min():p.readTime?Or(p.readTime):Se.min()}(t);return this.listener.r_(r,s)}i_(t){const r={};r.database=KA(this.serializer),r.addTarget=function(h,p){let b;const m=p.target;if(b=FA(m)?{documents:ZK(h,m)}:{query:JK(h,m)},b.targetId=p.targetId,p.resumeToken.approximateByteSize()>0){b.resumeToken=KO(h,p.resumeToken);const A=qA(h,p.expectedCount);A!==null&&(b.expectedCount=A)}else if(p.snapshotVersion.compareTo(Se.min())>0){b.readTime=pm(h,p.snapshotVersion.toTimestamp());const A=qA(h,p.expectedCount);A!==null&&(b.expectedCount=A)}return b}(this.serializer,t);const s=eQ(this.serializer,t);s&&(r.labels=s),this.Ho(r)}s_(t){const r={};r.database=KA(this.serializer),r.removeTarget=t,this.Ho(r)}}class OQ extends i3{constructor(t,r,s,u,h,p){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,s,u,p),this.serializer=h,this.o_=!1}get __(){return this.o_}start(){this.o_=!1,this.lastStreamToken=void 0,super.start()}Zo(){this.o_&&this.a_([])}n_(t,r){return this.connection.wo("Write",t,r)}onMessage(t){if(At(!!t.streamToken),this.lastStreamToken=t.streamToken,this.o_){this.Ko.reset();const r=YK(t.writeResults,t.commitTime),s=Or(t.commitTime);return this.listener.u_(s,r)}return At(!t.writeResults||t.writeResults.length===0),this.o_=!0,this.listener.c_()}l_(){const t={};t.database=KA(this.serializer),this.Ho(t)}a_(t){const r={streamToken:this.lastStreamToken,writes:t.map(s=>QK(this.serializer,s))};this.Ho(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BQ extends class{}{constructor(t,r,s,u){super(),this.authCredentials=t,this.appCheckCredentials=r,this.connection=s,this.serializer=u,this.h_=!1}P_(){if(this.h_)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}Vo(t,r,s){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Vo(t,r,s,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(X.UNKNOWN,u.toString())})}yo(t,r,s,u){return this.P_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,p])=>this.connection.yo(t,r,s,h,p,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new pe(X.UNKNOWN,h.toString())})}terminate(){this.h_=!0}}class LQ{constructor(t,r){this.asyncQueue=t,this.onlineStateHandler=r,this.state="Unknown",this.T_=0,this.E_=null,this.d_=!0}A_(){this.T_===0&&(this.R_("Unknown"),this.E_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.E_=null,this.V_("Backend didn't respond within 10 seconds."),this.R_("Offline"),Promise.resolve())))}m_(t){this.state==="Online"?this.R_("Unknown"):(this.T_++,this.T_>=1&&(this.f_(),this.V_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.R_("Offline")))}set(t){this.f_(),this.T_=0,t==="Online"&&(this.d_=!1),this.R_(t)}R_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}V_(t){const r=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.d_?(po(r),this.d_=!1):me("OnlineStateTracker",r)}f_(){this.E_!==null&&(this.E_.cancel(),this.E_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zQ{constructor(t,r,s,u,h){this.localStore=t,this.datastore=r,this.asyncQueue=s,this.remoteSyncer={},this.g_=[],this.p_=new Map,this.y_=new Set,this.w_=[],this.S_=h,this.S_.Ys(p=>{s.enqueueAndForget(async()=>{Ua(this)&&(me("RemoteStore","Restarting streams for network reachability change."),await async function(m){const A=Re(m);A.y_.add(4),await Fh(A),A.b_.set("Unknown"),A.y_.delete(4),await wk(A)}(this))})}),this.b_=new LQ(s,u)}}async function wk(n){if(Ua(n))for(const t of n.w_)await t(!0)}async function Fh(n){for(const t of n.w_)await t(!1)}function r3(n,t){const r=Re(n);r.p_.has(t.targetId)||(r.p_.set(t.targetId,t),Zy(r)?Yy(r):zc(r).Uo()&&Qy(r,t))}function o3(n,t){const r=Re(n),s=zc(r);r.p_.delete(t),s.Uo()&&s3(r,t),r.p_.size===0&&(s.Uo()?s.zo():Ua(r)&&r.b_.set("Unknown"))}function Qy(n,t){if(n.D_.Be(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Se.min())>0){const r=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(r)}zc(n).i_(t)}function s3(n,t){n.D_.Be(t),zc(n).s_(t)}function Yy(n){n.D_=new FK({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>n.p_.get(t)||null,rt:()=>n.datastore.serializer.databaseId}),zc(n).start(),n.b_.A_()}function Zy(n){return Ua(n)&&!zc(n).$o()&&n.p_.size>0}function Ua(n){return Re(n).y_.size===0}function a3(n){n.D_=void 0}async function jQ(n){n.p_.forEach((t,r)=>{Qy(n,t)})}async function VQ(n,t){a3(n),Zy(n)?(n.b_.m_(t),Yy(n)):n.b_.set("Unknown")}async function FQ(n,t,r){if(n.b_.set("Online"),t instanceof GO&&t.state===2&&t.cause)try{await async function(u,h){const p=h.cause;for(const b of h.targetIds)u.p_.has(b)&&(await u.remoteSyncer.rejectListen(b,p),u.p_.delete(b),u.D_.removeTarget(b))}(n,t)}catch(s){me("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),s),await gm(n,s)}else if(t instanceof Ag?n.D_.We(t):t instanceof $O?n.D_.Ze(t):n.D_.je(t),!r.isEqual(Se.min()))try{const s=await t3(n.localStore);r.compareTo(s)>=0&&await function(h,p){const b=h.D_.st(p);return b.targetChanges.forEach((m,A)=>{if(m.resumeToken.approximateByteSize()>0){const E=h.p_.get(A);E&&h.p_.set(A,E.withResumeToken(m.resumeToken,p))}}),b.targetMismatches.forEach((m,A)=>{const E=h.p_.get(m);if(!E)return;h.p_.set(m,E.withResumeToken(Bn.EMPTY_BYTE_STRING,E.snapshotVersion)),s3(h,m);const C=new os(E.target,m,A,E.sequenceNumber);Qy(h,C)}),h.remoteSyncer.applyRemoteEvent(b)}(n,r)}catch(s){me("RemoteStore","Failed to raise snapshot:",s),await gm(n,s)}}async function gm(n,t,r){if(!Lh(t))throw t;n.y_.add(1),await Fh(n),n.b_.set("Offline"),r||(r=()=>t3(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{me("RemoteStore","Retrying IndexedDB access"),await r(),n.y_.delete(1),await wk(n)})}function l3(n,t){return t().catch(r=>gm(n,r,t))}async function _k(n){const t=Re(n),r=Ts(t);let s=t.g_.length>0?t.g_[t.g_.length-1].batchId:-1;for(;UQ(t);)try{const u=await xQ(t.localStore,s);if(u===null){t.g_.length===0&&r.zo();break}s=u.batchId,HQ(t,u)}catch(u){await gm(t,u)}c3(t)&&u3(t)}function UQ(n){return Ua(n)&&n.g_.length<10}function HQ(n,t){n.g_.push(t);const r=Ts(n);r.Uo()&&r.__&&r.a_(t.mutations)}function c3(n){return Ua(n)&&!Ts(n).$o()&&n.g_.length>0}function u3(n){Ts(n).start()}async function WQ(n){Ts(n).l_()}async function qQ(n){const t=Ts(n);for(const r of n.g_)t.a_(r.mutations)}async function $Q(n,t,r){const s=n.g_.shift(),u=Uy.from(s,t,r);await l3(n,()=>n.remoteSyncer.applySuccessfulWrite(u)),await _k(n)}async function GQ(n,t){t&&Ts(n).__&&await async function(s,u){if(function(p){return zK(p)&&p!==X.ABORTED}(u.code)){const h=s.g_.shift();Ts(s).Go(),await l3(s,()=>s.remoteSyncer.rejectFailedWrite(h.batchId,u)),await _k(s)}}(n,t),c3(n)&&u3(n)}async function RM(n,t){const r=Re(n);r.asyncQueue.verifyOperationInProgress(),me("RemoteStore","RemoteStore received new credentials");const s=Ua(r);r.y_.add(3),await Fh(r),s&&r.b_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(t),r.y_.delete(3),await wk(r)}async function KQ(n,t){const r=Re(n);t?(r.y_.delete(2),await wk(r)):t||(r.y_.add(2),await Fh(r),r.b_.set("Unknown"))}function zc(n){return n.v_||(n.v_=function(r,s,u){const h=Re(r);return h.P_(),new RQ(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(n.datastore,n.asyncQueue,{_o:jQ.bind(null,n),uo:VQ.bind(null,n),r_:FQ.bind(null,n)}),n.w_.push(async t=>{t?(n.v_.Go(),Zy(n)?Yy(n):n.b_.set("Unknown")):(await n.v_.stop(),a3(n))})),n.v_}function Ts(n){return n.C_||(n.C_=function(r,s,u){const h=Re(r);return h.P_(),new OQ(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(n.datastore,n.asyncQueue,{_o:WQ.bind(null,n),uo:GQ.bind(null,n),c_:qQ.bind(null,n),u_:$Q.bind(null,n)}),n.w_.push(async t=>{t?(n.C_.Go(),await _k(n)):(await n.C_.stop(),n.g_.length>0&&(me("RemoteStore",`Stopping write stream with ${n.g_.length} pending writes`),n.g_=[]))})),n.C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jy{constructor(t,r,s,u,h){this.asyncQueue=t,this.timerId=r,this.targetTimeMs=s,this.op=u,this.removalCallback=h,this.deferred=new ya,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(p=>{})}static createAndSchedule(t,r,s,u,h){const p=Date.now()+s,b=new Jy(t,r,p,u,h);return b.start(s),b}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xy(n,t){if(po("AsyncQueue",`${t}: ${n}`),Lh(n))return new pe(X.UNAVAILABLE,`${t}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ac{constructor(t){this.comparator=t?(r,s)=>t(r,s)||we.comparator(r.key,s.key):(r,s)=>we.comparator(r.key,s.key),this.keyedMap=sd(),this.sortedSet=new St(this.comparator)}static emptySet(t){return new ac(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const r=this.keyedMap.get(t);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((r,s)=>(t(r),!1))}add(t){const r=this.delete(t.key);return r.copy(r.keyedMap.insert(t.key,t),r.sortedSet.insert(t,null))}delete(t){const r=this.get(t);return r?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(r)):this}isEqual(t){if(!(t instanceof ac)||this.size!==t.size)return!1;const r=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;r.hasNext();){const u=r.getNext().key,h=s.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(r=>{t.push(r.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,r){const s=new ac;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=r,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OM{constructor(){this.F_=new St(we.comparator)}track(t){const r=t.doc.key,s=this.F_.get(r);s?t.type!==0&&s.type===3?this.F_=this.F_.insert(r,t):t.type===3&&s.type!==1?this.F_=this.F_.insert(r,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.F_=this.F_.insert(r,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.F_=this.F_.insert(r,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.F_=this.F_.remove(r):t.type===1&&s.type===2?this.F_=this.F_.insert(r,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.F_=this.F_.insert(r,{type:2,doc:t.doc}):xe():this.F_=this.F_.insert(r,t)}M_(){const t=[];return this.F_.inorderTraversal((r,s)=>{t.push(s)}),t}}class xc{constructor(t,r,s,u,h,p,b,m,A){this.query=t,this.docs=r,this.oldDocs=s,this.docChanges=u,this.mutatedKeys=h,this.fromCache=p,this.syncStateChanged=b,this.excludesMetadataChanges=m,this.hasCachedResults=A}static fromInitialDocuments(t,r,s,u,h){const p=[];return r.forEach(b=>{p.push({type:0,doc:b})}),new xc(t,r,ac.emptySet(r),p,s,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&fk(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const r=this.docChanges,s=t.docChanges;if(r.length!==s.length)return!1;for(let u=0;u<r.length;u++)if(r[u].type!==s[u].type||!r[u].doc.isEqual(s[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QQ{constructor(){this.x_=void 0,this.listeners=[]}}class YQ{constructor(){this.queries=new Lc(t=>PO(t),fk),this.onlineState="Unknown",this.O_=new Set}}async function ZQ(n,t){const r=Re(n),s=t.query;let u=!1,h=r.queries.get(s);if(h||(u=!0,h=new QQ),u)try{h.x_=await r.onListen(s)}catch(p){const b=Xy(p,`Initialization of query '${WA(t.query)}' failed`);return void t.onError(b)}r.queries.set(s,h),h.listeners.push(t),t.N_(r.onlineState),h.x_&&t.B_(h.x_)&&eC(r)}async function JQ(n,t){const r=Re(n),s=t.query;let u=!1;const h=r.queries.get(s);if(h){const p=h.listeners.indexOf(t);p>=0&&(h.listeners.splice(p,1),u=h.listeners.length===0)}if(u)return r.queries.delete(s),r.onUnlisten(s)}function XQ(n,t){const r=Re(n);let s=!1;for(const u of t){const h=u.query,p=r.queries.get(h);if(p){for(const b of p.listeners)b.B_(u)&&(s=!0);p.x_=u}}s&&eC(r)}function eY(n,t,r){const s=Re(n),u=s.queries.get(t);if(u)for(const h of u.listeners)h.onError(r);s.queries.delete(t)}function eC(n){n.O_.forEach(t=>{t.next()})}class tY{constructor(t,r,s){this.query=t,this.L_=r,this.k_=!1,this.q_=null,this.onlineState="Unknown",this.options=s||{}}B_(t){if(!this.options.includeMetadataChanges){const s=[];for(const u of t.docChanges)u.type!==3&&s.push(u);t=new xc(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let r=!1;return this.k_?this.Q_(t)&&(this.L_.next(t),r=!0):this.K_(t,this.onlineState)&&(this.U_(t),r=!0),this.q_=t,r}onError(t){this.L_.error(t)}N_(t){this.onlineState=t;let r=!1;return this.q_&&!this.k_&&this.K_(this.q_,t)&&(this.U_(this.q_),r=!0),r}K_(t,r){if(!t.fromCache)return!0;const s=r!=="Offline";return(!this.options.W_||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||r==="Offline")}Q_(t){if(t.docChanges.length>0)return!0;const r=this.q_&&this.q_.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}U_(t){t=xc.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.k_=!0,this.L_.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d3{constructor(t){this.key=t}}class h3{constructor(t){this.key=t}}class nY{constructor(t,r){this.query=t,this.X_=r,this.ea=null,this.hasCachedResults=!1,this.current=!1,this.ta=Ve(),this.mutatedKeys=Ve(),this.na=NO(t),this.ra=new ac(this.na)}get ia(){return this.X_}sa(t,r){const s=r?r.oa:new OM,u=r?r.ra:this.ra;let h=r?r.mutatedKeys:this.mutatedKeys,p=u,b=!1;const m=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,A=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(t.inorderTraversal((E,C)=>{const v=u.get(E),x=pk(this.query,C)?C:null,D=!!v&&this.mutatedKeys.has(v.key),M=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let L=!1;v&&x?v.data.isEqual(x.data)?D!==M&&(s.track({type:3,doc:x}),L=!0):this._a(v,x)||(s.track({type:2,doc:x}),L=!0,(m&&this.na(x,m)>0||A&&this.na(x,A)<0)&&(b=!0)):!v&&x?(s.track({type:0,doc:x}),L=!0):v&&!x&&(s.track({type:1,doc:v}),L=!0,(m||A)&&(b=!0)),L&&(x?(p=p.add(x),h=M?h.add(E):h.delete(E)):(p=p.delete(E),h=h.delete(E)))}),this.query.limit!==null)for(;p.size>this.query.limit;){const E=this.query.limitType==="F"?p.last():p.first();p=p.delete(E.key),h=h.delete(E.key),s.track({type:1,doc:E})}return{ra:p,oa:s,zi:b,mutatedKeys:h}}_a(t,r){return t.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(t,r,s){const u=this.ra;this.ra=t.ra,this.mutatedKeys=t.mutatedKeys;const h=t.oa.M_();h.sort((A,E)=>function(v,x){const D=M=>{switch(M){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return xe()}};return D(v)-D(x)}(A.type,E.type)||this.na(A.doc,E.doc)),this.aa(s);const p=r?this.ua():[],b=this.ta.size===0&&this.current?1:0,m=b!==this.ea;return this.ea=b,h.length!==0||m?{snapshot:new xc(this.query,t.ra,u,h,t.mutatedKeys,b===0,m,!1,!!s&&s.resumeToken.approximateByteSize()>0),ca:p}:{ca:p}}N_(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ra:this.ra,oa:new OM,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{ca:[]}}la(t){return!this.X_.has(t)&&!!this.ra.has(t)&&!this.ra.get(t).hasLocalMutations}aa(t){t&&(t.addedDocuments.forEach(r=>this.X_=this.X_.add(r)),t.modifiedDocuments.forEach(r=>{}),t.removedDocuments.forEach(r=>this.X_=this.X_.delete(r)),this.current=t.current)}ua(){if(!this.current)return[];const t=this.ta;this.ta=Ve(),this.ra.forEach(s=>{this.la(s.key)&&(this.ta=this.ta.add(s.key))});const r=[];return t.forEach(s=>{this.ta.has(s)||r.push(new h3(s))}),this.ta.forEach(s=>{t.has(s)||r.push(new d3(s))}),r}ha(t){this.X_=t.ss,this.ta=Ve();const r=this.sa(t.documents);return this.applyChanges(r,!0)}Pa(){return xc.fromInitialDocuments(this.query,this.ra,this.mutatedKeys,this.ea===0,this.hasCachedResults)}}class iY{constructor(t,r,s){this.query=t,this.targetId=r,this.view=s}}class rY{constructor(t){this.key=t,this.Ia=!1}}class oY{constructor(t,r,s,u,h,p){this.localStore=t,this.remoteStore=r,this.eventManager=s,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=p,this.Ta={},this.Ea=new Lc(b=>PO(b),fk),this.da=new Map,this.Aa=new Set,this.Ra=new St(we.comparator),this.Va=new Map,this.ma=new $y,this.fa={},this.ga=new Map,this.pa=Ec.On(),this.onlineState="Unknown",this.ya=void 0}get isPrimaryClient(){return this.ya===!0}}async function sY(n,t){const r=mY(n);let s,u;const h=r.Ea.get(t);if(h)s=h.targetId,r.sharedClientState.addLocalQueryTarget(s),u=h.view.Pa();else{const p=await IQ(r.localStore,go(t)),b=r.sharedClientState.addLocalQueryTarget(p.targetId);s=p.targetId,u=await aY(r,t,s,b==="current",p.resumeToken),r.isPrimaryClient&&r3(r.remoteStore,p)}return u}async function aY(n,t,r,s,u){n.wa=(C,v,x)=>async function(M,L,R,O){let z=L.view.sa(R);z.zi&&(z=await MM(M.localStore,L.query,!1).then(({documents:Y})=>L.view.sa(Y,z)));const U=O&&O.targetChanges.get(L.targetId),$=L.view.applyChanges(z,M.isPrimaryClient,U);return LM(M,L.targetId,$.ca),$.snapshot}(n,C,v,x);const h=await MM(n.localStore,t,!0),p=new nY(t,h.ss),b=p.sa(h.documents),m=Vh.createSynthesizedTargetChangeForCurrentChange(r,s&&n.onlineState!=="Offline",u),A=p.applyChanges(b,n.isPrimaryClient,m);LM(n,r,A.ca);const E=new iY(t,r,p);return n.Ea.set(t,E),n.da.has(r)?n.da.get(r).push(t):n.da.set(r,[t]),A.snapshot}async function lY(n,t){const r=Re(n),s=r.Ea.get(t),u=r.da.get(s.targetId);if(u.length>1)return r.da.set(s.targetId,u.filter(h=>!fk(h,t))),void r.Ea.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await QA(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),o3(r.remoteStore,s.targetId),YA(r,s.targetId)}).catch(Bh)):(YA(r,s.targetId),await QA(r.localStore,s.targetId,!0))}async function cY(n,t,r){const s=kY(n);try{const u=await function(p,b){const m=Re(p),A=Jt.now(),E=b.reduce((x,D)=>x.add(D.key),Ve());let C,v;return m.persistence.runTransaction("Locally write mutations","readwrite",x=>{let D=mo(),M=Ve();return m.Xi.getEntries(x,E).next(L=>{D=L,D.forEach((R,O)=>{O.isValidDocument()||(M=M.add(R))})}).next(()=>m.localDocuments.getOverlayedDocuments(x,D)).next(L=>{C=L;const R=[];for(const O of b){const z=NK(O,C.get(O.key).overlayedDocument);z!=null&&R.push(new Rs(O.key,z,yO(z.value.mapValue),er.exists(!0)))}return m.mutationQueue.addMutationBatch(x,A,R,b)}).next(L=>{v=L;const R=L.applyToLocalDocumentSet(C,M);return m.documentOverlayCache.saveOverlays(x,L.batchId,R)})}).then(()=>({batchId:v.batchId,changes:OO(C)}))}(s.localStore,t);s.sharedClientState.addPendingMutation(u.batchId),function(p,b,m){let A=p.fa[p.currentUser.toKey()];A||(A=new St(Je)),A=A.insert(b,m),p.fa[p.currentUser.toKey()]=A}(s,u.batchId,r),await Uh(s,u.changes),await _k(s.remoteStore)}catch(u){const h=Xy(u,"Failed to persist write");r.reject(h)}}async function f3(n,t){const r=Re(n);try{const s=await CQ(r.localStore,t);t.targetChanges.forEach((u,h)=>{const p=r.Va.get(h);p&&(At(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?p.Ia=!0:u.modifiedDocuments.size>0?At(p.Ia):u.removedDocuments.size>0&&(At(p.Ia),p.Ia=!1))}),await Uh(r,s,t)}catch(s){await Bh(s)}}function BM(n,t,r){const s=Re(n);if(s.isPrimaryClient&&r===0||!s.isPrimaryClient&&r===1){const u=[];s.Ea.forEach((h,p)=>{const b=p.view.N_(t);b.snapshot&&u.push(b.snapshot)}),function(p,b){const m=Re(p);m.onlineState=b;let A=!1;m.queries.forEach((E,C)=>{for(const v of C.listeners)v.N_(b)&&(A=!0)}),A&&eC(m)}(s.eventManager,t),u.length&&s.Ta.r_(u),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function uY(n,t,r){const s=Re(n);s.sharedClientState.updateQueryState(t,"rejected",r);const u=s.Va.get(t),h=u&&u.key;if(h){let p=new St(we.comparator);p=p.insert(h,Sn.newNoDocument(h,Se.min()));const b=Ve().add(h),m=new kk(Se.min(),new Map,new St(Je),p,b);await f3(s,m),s.Ra=s.Ra.remove(h),s.Va.delete(t),tC(s)}else await QA(s.localStore,t,!1).then(()=>YA(s,t,r)).catch(Bh)}async function dY(n,t){const r=Re(n),s=t.batch.batchId;try{const u=await yQ(r.localStore,t);g3(r,s,null),p3(r,s),r.sharedClientState.updateMutationState(s,"acknowledged"),await Uh(r,u)}catch(u){await Bh(u)}}async function hY(n,t,r){const s=Re(n);try{const u=await function(p,b){const m=Re(p);return m.persistence.runTransaction("Reject batch","readwrite-primary",A=>{let E;return m.mutationQueue.lookupMutationBatch(A,b).next(C=>(At(C!==null),E=C.keys(),m.mutationQueue.removeMutationBatch(A,C))).next(()=>m.mutationQueue.performConsistencyCheck(A)).next(()=>m.documentOverlayCache.removeOverlaysForBatchId(A,E,b)).next(()=>m.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(A,E)).next(()=>m.localDocuments.getDocuments(A,E))})}(s.localStore,t);g3(s,t,r),p3(s,t),s.sharedClientState.updateMutationState(t,"rejected",r),await Uh(s,u)}catch(u){await Bh(u)}}function p3(n,t){(n.ga.get(t)||[]).forEach(r=>{r.resolve()}),n.ga.delete(t)}function g3(n,t,r){const s=Re(n);let u=s.fa[s.currentUser.toKey()];if(u){const h=u.get(t);h&&(r?h.reject(r):h.resolve(),u=u.remove(t)),s.fa[s.currentUser.toKey()]=u}}function YA(n,t,r=null){n.sharedClientState.removeLocalQueryTarget(t);for(const s of n.da.get(t))n.Ea.delete(s),r&&n.Ta.Sa(s,r);n.da.delete(t),n.isPrimaryClient&&n.ma.Ar(t).forEach(s=>{n.ma.containsKey(s)||m3(n,s)})}function m3(n,t){n.Aa.delete(t.path.canonicalString());const r=n.Ra.get(t);r!==null&&(o3(n.remoteStore,r),n.Ra=n.Ra.remove(t),n.Va.delete(r),tC(n))}function LM(n,t,r){for(const s of r)s instanceof d3?(n.ma.addReference(s.key,t),fY(n,s)):s instanceof h3?(me("SyncEngine","Document no longer in limbo: "+s.key),n.ma.removeReference(s.key,t),n.ma.containsKey(s.key)||m3(n,s.key)):xe()}function fY(n,t){const r=t.key,s=r.path.canonicalString();n.Ra.get(r)||n.Aa.has(s)||(me("SyncEngine","New document in limbo: "+r),n.Aa.add(s),tC(n))}function tC(n){for(;n.Aa.size>0&&n.Ra.size<n.maxConcurrentLimboResolutions;){const t=n.Aa.values().next().value;n.Aa.delete(t);const r=new we(wt.fromString(t)),s=n.pa.next();n.Va.set(s,new rY(r)),n.Ra=n.Ra.insert(r,s),r3(n.remoteStore,new os(go(jy(r.path)),s,"TargetPurposeLimboResolution",Ny.ae))}}async function Uh(n,t,r){const s=Re(n),u=[],h=[],p=[];s.Ea.isEmpty()||(s.Ea.forEach((b,m)=>{p.push(s.wa(m,t,r).then(A=>{if((A||r)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(m.targetId,A!=null&&A.fromCache?"not-current":"current"),A){u.push(A);const E=Ky.qi(m.targetId,A);h.push(E)}}))}),await Promise.all(p),s.Ta.r_(u),await async function(m,A){const E=Re(m);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",C=>se.forEach(A,v=>se.forEach(v.Li,x=>E.persistence.referenceDelegate.addReference(C,v.targetId,x)).next(()=>se.forEach(v.ki,x=>E.persistence.referenceDelegate.removeReference(C,v.targetId,x)))))}catch(C){if(!Lh(C))throw C;me("LocalStore","Failed to update sequence numbers: "+C)}for(const C of A){const v=C.targetId;if(!C.fromCache){const x=E.Ji.get(v),D=x.snapshotVersion,M=x.withLastLimboFreeSnapshotVersion(D);E.Ji=E.Ji.insert(v,M)}}}(s.localStore,h))}async function pY(n,t){const r=Re(n);if(!r.currentUser.isEqual(t)){me("SyncEngine","User change. New user:",t.toKey());const s=await e3(r.localStore,t);r.currentUser=t,function(h,p){h.ga.forEach(b=>{b.forEach(m=>{m.reject(new pe(X.CANCELLED,p))})}),h.ga.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await Uh(r,s.ts)}}function gY(n,t){const r=Re(n),s=r.Va.get(t);if(s&&s.Ia)return Ve().add(s.key);{let u=Ve();const h=r.da.get(t);if(!h)return u;for(const p of h){const b=r.Ea.get(p);u=u.unionWith(b.view.ia)}return u}}function mY(n){const t=Re(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=f3.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=gY.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=uY.bind(null,t),t.Ta.r_=XQ.bind(null,t.eventManager),t.Ta.Sa=eY.bind(null,t.eventManager),t}function kY(n){const t=Re(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=dY.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=hY.bind(null,t),t}class zM{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=bk(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,r){return null}createIndexBackfillerScheduler(t,r){return null}createLocalStore(t){return vQ(this.persistence,new _Q,t.initialUser,this.serializer)}createPersistence(t){return new bQ(Gy.zr,this.serializer)}createSharedClientState(t){return new SQ}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class bY{async initialize(t,r){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>BM(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=pY.bind(null,this.syncEngine),await KQ(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new YQ}()}createDatastore(t){const r=bk(t.databaseInfo.databaseId),s=function(h){return new NQ(h)}(t.databaseInfo);return function(h,p,b,m){return new BQ(h,p,b,m)}(t.authCredentials,t.appCheckCredentials,s,r)}createRemoteStore(t){return function(s,u,h,p,b){return new zQ(s,u,h,p,b)}(this.localStore,this.datastore,t.asyncQueue,r=>BM(this.syncEngine,r,0),function(){return NM.v()?new NM:new DQ}())}createSyncEngine(t,r){return function(u,h,p,b,m,A,E){const C=new oY(u,h,p,b,m,A);return E&&(C.ya=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return async function(r){const s=Re(r);me("RemoteStore","RemoteStore shutting down."),s.y_.add(5),await Fh(s),s.S_.shutdown(),s.b_.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wY{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.va(this.observer.next,t)}error(t){this.observer.error?this.va(this.observer.error,t):po("Uncaught Error in snapshot listener:",t.toString())}Ca(){this.muted=!0}va(t,r){this.muted||setTimeout(()=>{this.muted||t(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _Y{constructor(t,r,s,u){this.authCredentials=t,this.appCheckCredentials=r,this.asyncQueue=s,this.databaseInfo=u,this.user=In.UNAUTHENTICATED,this.clientId=_O.V(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async h=>{me("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(me("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new pe(X.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ya;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Xy(r,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function m0(n,t){n.asyncQueue.verifyOperationInProgress(),me("FirestoreClient","Initializing OfflineComponentProvider");const r=await n.getConfiguration();await t.initialize(r);let s=r.initialUser;n.setCredentialChangeListener(async u=>{s.isEqual(u)||(await e3(t.localStore,u),s=u)}),t.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=t}async function jM(n,t){n.asyncQueue.verifyOperationInProgress();const r=await vY(n);me("FirestoreClient","Initializing OnlineComponentProvider");const s=await n.getConfiguration();await t.initialize(r,s),n.setCredentialChangeListener(u=>RM(t.remoteStore,u)),n.setAppCheckTokenChangeListener((u,h)=>RM(t.remoteStore,h)),n._onlineComponents=t}function AY(n){return n.name==="FirebaseError"?n.code===X.FAILED_PRECONDITION||n.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||n.code===22||n.code===20||n.code===11}async function vY(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){me("FirestoreClient","Using user provided OfflineComponentProvider");try{await m0(n,n._uninitializedComponentsProvider._offline)}catch(t){const r=t;if(!AY(r))throw r;Ac("Error using user provided cache. Falling back to memory cache: "+r),await m0(n,new zM)}}else me("FirestoreClient","Using default OfflineComponentProvider"),await m0(n,new zM);return n._offlineComponents}async function k3(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(me("FirestoreClient","Using user provided OnlineComponentProvider"),await jM(n,n._uninitializedComponentsProvider._online)):(me("FirestoreClient","Using default OnlineComponentProvider"),await jM(n,new bY))),n._onlineComponents}function yY(n){return k3(n).then(t=>t.syncEngine)}async function VM(n){const t=await k3(n),r=t.eventManager;return r.onListen=sY.bind(null,t.syncEngine),r.onUnlisten=lY.bind(null,t.syncEngine),r}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b3(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FM=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w3(n,t,r){if(!r)throw new pe(X.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function CY(n,t,r,s){if(t===!0&&s===!0)throw new pe(X.INVALID_ARGUMENT,`${n} and ${r} cannot be used together.`)}function UM(n){if(!we.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function HM(n){if(we.isDocumentKey(n))throw new pe(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Ak(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":xe()}function _s(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new pe(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=Ak(n);throw new pe(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${r}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WM{constructor(t){var r,s;if(t.host===void 0){if(t.ssl!==void 0)throw new pe(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(r=t.ssl)===null||r===void 0||r;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new pe(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}CY("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=b3((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new pe(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,u){return s.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class vk{constructor(t,r,s,u){this._authCredentials=t,this._appCheckCredentials=r,this._databaseId=s,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new WM({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new pe(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new pe(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new WM(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new qG;switch(s.type){case"firstParty":return new QG(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new pe(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const s=FM.get(r);s&&(me("ComponentProvider","Removing Datastore"),FM.delete(r),s.terminate())}(this),Promise.resolve()}}function EY(n,t,r,s={}){var u;const h=(n=_s(n,vk))._getSettings(),p=`${t}:${r}`;if(h.host!=="firestore.googleapis.com"&&h.host!==p&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},h),{host:p,ssl:!1})),s.mockUserToken){let b,m;if(typeof s.mockUserToken=="string")b=s.mockUserToken,m=In.MOCK_USER;else{b=wq(s.mockUserToken,(u=n._app)===null||u===void 0?void 0:u.options.projectId);const A=s.mockUserToken.sub||s.mockUserToken.user_id;if(!A)throw new pe(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new In(A)}n._authCredentials=new $G(new wO(b,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jc{constructor(t,r,s){this.converter=r,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new jc(this.firestore,t,this._query)}}class ri{constructor(t,r,s){this.converter=r,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new As(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ri(this.firestore,t,this._key)}}class As extends jc{constructor(t,r,s){super(t,r,jy(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ri(this.firestore,null,new we(t))}withConverter(t){return new As(this.firestore,t,this._path)}}function xY(n,t,...r){if(n=Xt(n),w3("collection","path",t),n instanceof vk){const s=wt.fromString(t,...r);return HM(s),new As(n,null,s)}{if(!(n instanceof ri||n instanceof As))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(t,...r));return HM(s),new As(n.firestore,null,s)}}function Rl(n,t,...r){if(n=Xt(n),arguments.length===1&&(t=_O.V()),w3("doc","path",t),n instanceof vk){const s=wt.fromString(t,...r);return UM(s),new ri(n,null,new we(s))}{if(!(n instanceof ri||n instanceof As))throw new pe(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=n._path.child(wt.fromString(t,...r));return UM(s),new ri(n.firestore,n instanceof As?n.converter:null,new we(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IY{constructor(){this.Wa=Promise.resolve(),this.Ga=[],this.za=!1,this.ja=[],this.Ha=null,this.Ja=!1,this.Ya=!1,this.Za=[],this.Ko=new n3(this,"async_queue_retry"),this.Xa=()=>{const r=g0();r&&me("AsyncQueue","Visibility state changed to "+r.visibilityState),this.Ko.No()};const t=g0();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xa)}get isShuttingDown(){return this.za}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.eu(),this.tu(t)}enterRestrictedMode(t){if(!this.za){this.za=!0,this.Ya=t||!1;const r=g0();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Xa)}}enqueue(t){if(this.eu(),this.za)return new Promise(()=>{});const r=new ya;return this.tu(()=>this.za&&this.Ya?Promise.resolve():(t().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Ga.push(t),this.nu()))}async nu(){if(this.Ga.length!==0){try{await this.Ga[0](),this.Ga.shift(),this.Ko.reset()}catch(t){if(!Lh(t))throw t;me("AsyncQueue","Operation failed with retryable error: "+t)}this.Ga.length>0&&this.Ko.xo(()=>this.nu())}}tu(t){const r=this.Wa.then(()=>(this.Ja=!0,t().catch(s=>{this.Ha=s,this.Ja=!1;const u=function(p){let b=p.message||"";return p.stack&&(b=p.stack.includes(p.message)?p.stack:p.message+`
`+p.stack),b}(s);throw po("INTERNAL UNHANDLED ERROR: ",u),s}).then(s=>(this.Ja=!1,s))));return this.Wa=r,r}enqueueAfterDelay(t,r,s){this.eu(),this.Za.indexOf(t)>-1&&(r=0);const u=Jy.createAndSchedule(this,t,r,s,h=>this.ru(h));return this.ja.push(u),u}eu(){this.Ha&&xe()}verifyOperationInProgress(){}async iu(){let t;do t=this.Wa,await t;while(t!==this.Wa)}su(t){for(const r of this.ja)if(r.timerId===t)return!0;return!1}ou(t){return this.iu().then(()=>{this.ja.sort((r,s)=>r.targetTimeMs-s.targetTimeMs);for(const r of this.ja)if(r.skipDelay(),t!=="all"&&r.timerId===t)break;return this.iu()})}_u(t){this.Za.push(t)}ru(t){const r=this.ja.indexOf(t);this.ja.splice(r,1)}}function qM(n){return function(r,s){if(typeof r!="object"||r===null)return!1;const u=r;for(const h of s)if(h in u&&typeof u[h]=="function")return!0;return!1}(n,["next","error","complete"])}class Ic extends vk{constructor(t,r,s,u){super(t,r,s,u),this.type="firestore",this._queue=function(){return new IY}(),this._persistenceKey=(u==null?void 0:u.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||A3(this),this._firestoreClient.terminate()}}function TY(n,t){const r=typeof n=="object"?n:p4(),s=typeof n=="string"?n:t||"(default)",u=cy(r,"firestore").getImmediate({identifier:s});if(!u._initialized){const h=kq("firestore");h&&EY(u,...h)}return u}function _3(n){return n._firestoreClient||A3(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function A3(n){var t,r,s;const u=n._freezeSettings(),h=function(b,m,A,E){return new aK(b,m,A,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,b3(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((t=n._app)===null||t===void 0?void 0:t.options.appId)||"",n._persistenceKey,u);n._firestoreClient=new _Y(n._authCredentials,n._appCheckCredentials,n._queue,h),!((r=u.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((s=u.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:u.localCache.kind,_offline:u.localCache._offlineComponentProvider,_online:u.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tc(Bn.fromBase64String(t))}catch(r){throw new pe(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(t){return new Tc(Bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yk{constructor(...t){for(let r=0;r<t.length;++r)if(t[r].length===0)throw new pe(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Dn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nC{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iC{constructor(t,r){if(!isFinite(t)||t<-90||t>90)throw new pe(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(r)||r<-180||r>180)throw new pe(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=t,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Je(this._lat,t._lat)||Je(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SY=/^__.*__$/;class DY{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return this.fieldMask!==null?new Rs(t,this.data,this.fieldMask,r,this.fieldTransforms):new jh(t,this.data,r,this.fieldTransforms)}}class v3{constructor(t,r,s){this.data=t,this.fieldMask=r,this.fieldTransforms=s}toMutation(t,r){return new Rs(t,this.data,this.fieldMask,r,this.fieldTransforms)}}function y3(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw xe()}}class rC{constructor(t,r,s,u,h,p){this.settings=t,this.databaseId=r,this.serializer=s,this.ignoreUndefinedProperties=u,h===void 0&&this.au(),this.fieldTransforms=h||[],this.fieldMask=p||[]}get path(){return this.settings.path}get uu(){return this.settings.uu}cu(t){return new rC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}lu(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),u=this.cu({path:s,hu:!1});return u.Pu(t),u}Iu(t){var r;const s=(r=this.path)===null||r===void 0?void 0:r.child(t),u=this.cu({path:s,hu:!1});return u.au(),u}Tu(t){return this.cu({path:void 0,hu:!0})}Eu(t){return mm(t,this.settings.methodName,this.settings.du||!1,this.path,this.settings.Au)}contains(t){return this.fieldMask.find(r=>t.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>t.isPrefixOf(r.field))!==void 0}au(){if(this.path)for(let t=0;t<this.path.length;t++)this.Pu(this.path.get(t))}Pu(t){if(t.length===0)throw this.Eu("Document fields must not be empty");if(y3(this.uu)&&SY.test(t))throw this.Eu('Document fields cannot begin and end with "__"')}}class MY{constructor(t,r,s){this.databaseId=t,this.ignoreUndefinedProperties=r,this.serializer=s||bk(t)}Ru(t,r,s,u=!1){return new rC({uu:t,methodName:r,Au:s,path:Dn.emptyPath(),hu:!1,du:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function oC(n){const t=n._freezeSettings(),r=bk(n._databaseId);return new MY(n._databaseId,!!t.ignoreUndefinedProperties,r)}function PY(n,t,r,s,u,h={}){const p=n.Ru(h.merge||h.mergeFields?2:0,t,r,u);sC("Data must be an object, but it was:",p,s);const b=C3(s,p);let m,A;if(h.merge)m=new gi(p.fieldMask),A=p.fieldTransforms;else if(h.mergeFields){const E=[];for(const C of h.mergeFields){const v=ZA(t,C,r);if(!p.contains(v))throw new pe(X.INVALID_ARGUMENT,`Field '${v}' is specified in your field mask but missing from your input data.`);x3(E,v)||E.push(v)}m=new gi(E),A=p.fieldTransforms.filter(C=>m.covers(C.field))}else m=null,A=p.fieldTransforms;return new DY(new Xn(b),m,A)}class Ck extends nC{_toFieldTransform(t){if(t.uu!==2)throw t.uu===1?t.Eu(`${this._methodName}() can only appear at the top level of your update data`):t.Eu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ck}}function NY(n,t,r,s){const u=n.Ru(1,t,r);sC("Data must be an object, but it was:",u,s);const h=[],p=Xn.empty();Fa(s,(m,A)=>{const E=aC(t,m,r);A=Xt(A);const C=u.Iu(E);if(A instanceof Ck)h.push(E);else{const v=Hh(A,C);v!=null&&(h.push(E),p.set(E,v))}});const b=new gi(h);return new v3(p,b,u.fieldTransforms)}function RY(n,t,r,s,u,h){const p=n.Ru(1,t,r),b=[ZA(t,s,r)],m=[u];if(h.length%2!=0)throw new pe(X.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let v=0;v<h.length;v+=2)b.push(ZA(t,h[v])),m.push(h[v+1]);const A=[],E=Xn.empty();for(let v=b.length-1;v>=0;--v)if(!x3(A,b[v])){const x=b[v];let D=m[v];D=Xt(D);const M=p.Iu(x);if(D instanceof Ck)A.push(x);else{const L=Hh(D,M);L!=null&&(A.push(x),E.set(x,L))}}const C=new gi(A);return new v3(E,C,p.fieldTransforms)}function OY(n,t,r,s=!1){return Hh(r,n.Ru(s?4:3,t))}function Hh(n,t){if(E3(n=Xt(n)))return sC("Unsupported field value:",t,n),C3(n,t);if(n instanceof nC)return function(s,u){if(!y3(u.uu))throw u.Eu(`${s._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Eu(`${s._methodName}() is not currently supported inside arrays`);const h=s._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.hu&&t.uu!==4)throw t.Eu("Nested arrays are not supported");return function(s,u){const h=[];let p=0;for(const b of s){let m=Hh(b,u.Tu(p));m==null&&(m={nullValue:"NULL_VALUE"}),h.push(m),p++}return{arrayValue:{values:h}}}(n,t)}return function(s,u){if((s=Xt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return IK(u.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const h=Jt.fromDate(s);return{timestampValue:pm(u.serializer,h)}}if(s instanceof Jt){const h=new Jt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:pm(u.serializer,h)}}if(s instanceof iC)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Tc)return{bytesValue:KO(u.serializer,s._byteString)};if(s instanceof ri){const h=u.databaseId,p=s.firestore._databaseId;if(!p.isEqual(h))throw u.Eu(`Document reference is for database ${p.projectId}/${p.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:qy(s.firestore._databaseId||u.databaseId,s._key.path)}}throw u.Eu(`Unsupported field value: ${Ak(s)}`)}(n,t)}function C3(n,t){const r={};return AO(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Fa(n,(s,u)=>{const h=Hh(u,t.lu(s));h!=null&&(r[s]=h)}),{mapValue:{fields:r}}}function E3(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Jt||n instanceof iC||n instanceof Tc||n instanceof ri||n instanceof nC)}function sC(n,t,r){if(!E3(r)||!function(u){return typeof u=="object"&&u!==null&&(Object.getPrototypeOf(u)===Object.prototype||Object.getPrototypeOf(u)===null)}(r)){const s=Ak(r);throw s==="an object"?t.Eu(n+" a custom object"):t.Eu(n+" "+s)}}function ZA(n,t,r){if((t=Xt(t))instanceof yk)return t._internalPath;if(typeof t=="string")return aC(n,t);throw mm("Field path arguments must be of type string or ",n,!1,void 0,r)}const BY=new RegExp("[~\\*/\\[\\]]");function aC(n,t,r){if(t.search(BY)>=0)throw mm(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,r);try{return new yk(...t.split("."))._internalPath}catch{throw mm(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,r)}}function mm(n,t,r,s,u){const h=s&&!s.isEmpty(),p=u!==void 0;let b=`Function ${t}() called with invalid data`;r&&(b+=" (via `toFirestore()`)"),b+=". ";let m="";return(h||p)&&(m+=" (found",h&&(m+=` in field ${s}`),p&&(m+=` in document ${u}`),m+=")"),new pe(X.INVALID_ARGUMENT,b+n+m)}function x3(n,t){return n.some(r=>r.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I3{constructor(t,r,s,u,h){this._firestore=t,this._userDataWriter=r,this._key=s,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new ri(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new LY(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const r=this._document.data.field(lC("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r)}}}class LY extends I3{data(){return super.data()}}function lC(n,t){return typeof t=="string"?aC(n,t):t instanceof yk?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zY(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class cC{}class jY extends cC{}function VY(n,t,...r){let s=[];t instanceof cC&&s.push(t),s=s.concat(r),function(h){const p=h.filter(m=>m instanceof uC).length,b=h.filter(m=>m instanceof Ek).length;if(p>1||p>0&&b>0)throw new pe(X.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const u of s)n=u._apply(n);return n}class Ek extends jY{constructor(t,r,s){super(),this._field=t,this._op=r,this._value=s,this.type="where"}static _create(t,r,s){return new Ek(t,r,s)}_apply(t){const r=this._parse(t);return T3(t._query,r),new jc(t.firestore,t.converter,UA(t._query,r))}_parse(t){const r=oC(t.firestore);return function(h,p,b,m,A,E,C){let v;if(A.isKeyField()){if(E==="array-contains"||E==="array-contains-any")throw new pe(X.INVALID_ARGUMENT,`Invalid Query. You can't perform '${E}' queries on documentId().`);if(E==="in"||E==="not-in"){GM(C,E);const x=[];for(const D of C)x.push($M(m,h,D));v={arrayValue:{values:x}}}else v=$M(m,h,C)}else E!=="in"&&E!=="not-in"&&E!=="array-contains-any"||GM(C,E),v=OY(b,p,C,E==="in"||E==="not-in");return Gt.create(A,E,v)}(t._query,"where",r,t.firestore._databaseId,this._field,this._op,this._value)}}function FY(n,t,r){const s=t,u=lC("where",n);return Ek._create(u,s,r)}class uC extends cC{constructor(t,r){super(),this.type=t,this._queryConstraints=r}static _create(t,r){return new uC(t,r)}_parse(t){const r=this._queryConstraints.map(s=>s._parse(t)).filter(s=>s.getFilters().length>0);return r.length===1?r[0]:ir.create(r,this._getOperator())}_apply(t){const r=this._parse(t);return r.getFilters().length===0?t:(function(u,h){let p=u;const b=h.getFlattenedFilters();for(const m of b)T3(p,m),p=UA(p,m)}(t._query,r),new jc(t.firestore,t.converter,UA(t._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}function $M(n,t,r){if(typeof(r=Xt(r))=="string"){if(r==="")throw new pe(X.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!MO(t)&&r.indexOf("/")!==-1)throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const s=t.path.child(wt.fromString(r));if(!we.isDocumentKey(s))throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return pM(n,new we(s))}if(r instanceof ri)return pM(n,r._key);throw new pe(X.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ak(r)}.`)}function GM(n,t){if(!Array.isArray(n)||n.length===0)throw new pe(X.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function T3(n,t){if(t.isInequality()){const s=Vy(n),u=t.field;if(s!==null&&!s.isEqual(u))throw new pe(X.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${u.toString()}'`);const h=DO(n);h!==null&&UY(n,u,h)}const r=function(u,h){for(const p of u)for(const b of p.getFlattenedFilters())if(h.indexOf(b.op)>=0)return b.op;return null}(n.filters,function(u){switch(u){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(r!==null)throw r===t.op?new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new pe(X.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${r.toString()}' filters.`)}function UY(n,t,r){if(!r.isEqual(t))throw new pe(X.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${r.toString()}' instead.`)}class HY{convertValue(t,r="none"){switch(Ra(t)){case 0:return null;case 1:return t.booleanValue;case 2:return qt(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,r);case 5:return t.stringValue;case 6:return this.convertBytes(Na(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,r);case 10:return this.convertObject(t.mapValue,r);default:throw xe()}}convertObject(t,r){return this.convertObjectMap(t.fields,r)}convertObjectMap(t,r="none"){const s={};return Fa(t,(u,h)=>{s[u]=this.convertValue(h,r)}),s}convertGeoPoint(t){return new iC(qt(t.latitude),qt(t.longitude))}convertArray(t,r){return(t.values||[]).map(s=>this.convertValue(s,r))}convertServerTimestamp(t,r){switch(r){case"previous":const s=Oy(t);return s==null?null:this.convertValue(s,r);case"estimate":return this.convertTimestamp(nh(t));default:return null}}convertTimestamp(t){const r=Is(t);return new Jt(r.seconds,r.nanos)}convertDocumentKey(t,r){const s=wt.fromString(t);At(XO(s));const u=new ih(s.get(1),s.get(3)),h=new we(s.popFirst(5));return u.isEqual(r)||po(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WY(n,t,r){let s;return s=n?r&&(r.merge||r.mergeFields)?n.toFirestore(t,r):n.toFirestore(t):t,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ld{constructor(t,r){this.hasPendingWrites=t,this.fromCache=r}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class S3 extends I3{constructor(t,r,s,u,h,p){super(t,r,s,u,p),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const r=new vg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,r={}){if(this._document){const s=this._document.data.field(lC("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,r.serverTimestamps)}}}class vg extends S3{data(t={}){return super.data(t)}}class qY{constructor(t,r,s,u){this._firestore=t,this._userDataWriter=r,this._snapshot=u,this.metadata=new ld(u.hasPendingWrites,u.fromCache),this.query=s}get docs(){const t=[];return this.forEach(r=>t.push(r)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,r){this._snapshot.docs.forEach(s=>{t.call(r,new vg(this._firestore,this._userDataWriter,s.key,s,new ld(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const r=!!t.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new pe(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let p=0;return u._snapshot.docChanges.map(b=>{const m=new vg(u._firestore,u._userDataWriter,b.doc.key,b.doc,new ld(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter);return b.doc,{type:"added",doc:m,oldIndex:-1,newIndex:p++}})}{let p=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(b=>h||b.type!==3).map(b=>{const m=new vg(u._firestore,u._userDataWriter,b.doc.key,b.doc,new ld(u._snapshot.mutatedKeys.has(b.doc.key),u._snapshot.fromCache),u.query.converter);let A=-1,E=-1;return b.type!==0&&(A=p.indexOf(b.doc.key),p=p.delete(b.doc.key)),b.type!==1&&(p=p.add(b.doc),E=p.indexOf(b.doc.key)),{type:$Y(b.type),doc:m,oldIndex:A,newIndex:E}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function $Y(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return xe()}}class D3 extends HY{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tc(t)}convertReference(t){const r=this.convertDocumentKey(t,this.firestore._databaseId);return new ri(this.firestore,null,r)}}function tg(n,t,r,...s){n=_s(n,ri);const u=_s(n.firestore,Ic),h=oC(u);let p;return p=typeof(t=Xt(t))=="string"||t instanceof yk?RY(h,"updateDoc",n._key,t,r,s):NY(h,"updateDoc",n._key,t),dC(u,[p.toMutation(n._key,er.exists(!0))])}function GY(n){return dC(_s(n.firestore,Ic),[new Fy(n._key,er.none())])}function KY(n,t){const r=_s(n.firestore,Ic),s=Rl(n),u=WY(n.converter,t);return dC(r,[PY(oC(n.firestore),"addDoc",s._key,u,n.converter!==null,{}).toMutation(s._key,er.exists(!1))]).then(()=>s)}function QY(n,...t){var r,s,u;n=Xt(n);let h={includeMetadataChanges:!1},p=0;typeof t[p]!="object"||qM(t[p])||(h=t[p],p++);const b={includeMetadataChanges:h.includeMetadataChanges};if(qM(t[p])){const C=t[p];t[p]=(r=C.next)===null||r===void 0?void 0:r.bind(C),t[p+1]=(s=C.error)===null||s===void 0?void 0:s.bind(C),t[p+2]=(u=C.complete)===null||u===void 0?void 0:u.bind(C)}let m,A,E;if(n instanceof ri)A=_s(n.firestore,Ic),E=jy(n._key.path),m={next:C=>{t[p]&&t[p](YY(A,n,C))},error:t[p+1],complete:t[p+2]};else{const C=_s(n,jc);A=_s(C.firestore,Ic),E=C._query;const v=new D3(A);m={next:x=>{t[p]&&t[p](new qY(A,v,C,x))},error:t[p+1],complete:t[p+2]},zY(n._query)}return function(v,x,D,M){const L=new wY(M),R=new tY(x,L,D);return v.asyncQueue.enqueueAndForget(async()=>ZQ(await VM(v),R)),()=>{L.Ca(),v.asyncQueue.enqueueAndForget(async()=>JQ(await VM(v),R))}}(_3(A),E,b,m)}function dC(n,t){return function(s,u){const h=new ya;return s.asyncQueue.enqueueAndForget(async()=>cY(await yY(s),u,h)),h.promise}(_3(n),t)}function YY(n,t,r){const s=r.docs.get(t._key),u=new D3(n);return new S3(n,u,t._key,s,new ld(r.hasPendingWrites,r.fromCache),t.converter)}(function(t,r=!0){(function(u){Bc=u})(Nc),wc(new Da("firestore",(s,{instanceIdentifier:u,options:h})=>{const p=s.getProvider("app").getImmediate(),b=new Ic(new GG(s.getProvider("auth-internal")),new ZG(s.getProvider("app-check-internal")),function(A,E){if(!Object.prototype.hasOwnProperty.apply(A.options,["projectId"]))throw new pe(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ih(A.options.projectId,E)}(p,u),p);return h=Object.assign({useFetchStreams:r},h),b._setSettings(h),b},"PUBLIC").setMultipleInstances(!0)),ws(cM,"4.1.0",t),ws(cM,"4.1.0","esm2017")})();var ZY="firebase",JY="10.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ws(ZY,JY,"app");function hC(n,t){var r={};for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&t.indexOf(s)<0&&(r[s]=n[s]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,s=Object.getOwnPropertySymbols(n);u<s.length;u++)t.indexOf(s[u])<0&&Object.prototype.propertyIsEnumerable.call(n,s[u])&&(r[s[u]]=n[s[u]]);return r}function M3(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XY=M3,P3=new Eh("auth","Firebase",M3());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=new ay("@firebase/auth");function eZ(n,...t){km.logLevel<=Ye.WARN&&km.warn(`Auth (${Nc}): ${n}`,...t)}function yg(n,...t){km.logLevel<=Ye.ERROR&&km.error(`Auth (${Nc}): ${n}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(n,...t){throw fC(n,...t)}function Br(n,...t){return fC(n,...t)}function tZ(n,t,r){const s=Object.assign(Object.assign({},XY()),{[t]:r});return new Eh("auth","Firebase",s).create(t,{appName:n.name})}function fC(n,...t){if(typeof n!="string"){const r=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=n.name),n._errorFactory.create(r,...s)}return P3.create(n,...t)}function Ee(n,t,...r){if(!n)throw fC(t,...r)}function oo(n){const t="INTERNAL ASSERTION FAILED: "+n;throw yg(t),new Error(t)}function ko(n,t){n||oo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JA(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function nZ(){return KM()==="http:"||KM()==="https:"}function KM(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iZ(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(nZ()||Aq()||"connection"in navigator)?navigator.onLine:!0}function rZ(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wh{constructor(t,r){this.shortDelay=t,this.longDelay=r,ko(r>t,"Short delay should be less than long delay!"),this.isMobile=_q()||vq()}get(){return iZ()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pC(n,t){ko(n.emulator,"Emulator should always be set here");const{url:r}=n.emulator;return t?`${r}${t.startsWith("/")?t.slice(1):t}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N3{static initialize(t,r,s){this.fetchImpl=t,r&&(this.headersImpl=r),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;oo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;oo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;oo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oZ={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ=new Wh(3e4,6e4);function Vc(n,t){return n.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:n.tenantId}):t}async function Fc(n,t,r,s,u={}){return R3(n,u,async()=>{let h={},p={};s&&(t==="GET"?p=s:h={body:JSON.stringify(s)});const b=xh(Object.assign({key:n.config.apiKey},p)).slice(1),m=await n._getAdditionalHeaders();return m["Content-Type"]="application/json",n.languageCode&&(m["X-Firebase-Locale"]=n.languageCode),N3.fetch()(O3(n,n.config.apiHost,r,b),Object.assign({method:t,headers:m,referrerPolicy:"no-referrer"},h))})}async function R3(n,t,r){n._canInitEmulator=!1;const s=Object.assign(Object.assign({},oZ),t);try{const u=new aZ(n),h=await Promise.race([r(),u.promise]);u.clearNetworkTimeout();const p=await h.json();if("needConfirmation"in p)throw ng(n,"account-exists-with-different-credential",p);if(h.ok&&!("errorMessage"in p))return p;{const b=h.ok?p.errorMessage:p.error.message,[m,A]=b.split(" : ");if(m==="FEDERATED_USER_ID_ALREADY_LINKED")throw ng(n,"credential-already-in-use",p);if(m==="EMAIL_EXISTS")throw ng(n,"email-already-in-use",p);if(m==="USER_DISABLED")throw ng(n,"user-disabled",p);const E=s[m]||m.toLowerCase().replace(/[_\s]+/g,"-");if(A)throw tZ(n,E,A);rr(n,E)}}catch(u){if(u instanceof wo)throw u;rr(n,"network-request-failed",{message:String(u)})}}async function qh(n,t,r,s,u={}){const h=await Fc(n,t,r,s,u);return"mfaPendingCredential"in h&&rr(n,"multi-factor-auth-required",{_serverResponse:h}),h}function O3(n,t,r,s){const u=`${t}${r}?${s}`;return n.config.emulator?pC(n.config,u):`${n.config.apiScheme}://${u}`}class aZ{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((r,s)=>{this.timer=setTimeout(()=>s(Br(this.auth,"network-request-failed")),sZ.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function ng(n,t,r){const s={appName:n.name};r.email&&(s.email=r.email),r.phoneNumber&&(s.phoneNumber=r.phoneNumber);const u=Br(n,t,s);return u.customData._tokenResponse=r,u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lZ(n,t){return Fc(n,"POST","/v1/accounts:delete",t)}async function cZ(n,t){return Fc(n,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function uZ(n,t=!1){const r=Xt(n),s=await r.getIdToken(t),u=gC(s);Ee(u&&u.exp&&u.auth_time&&u.iat,r.auth,"internal-error");const h=typeof u.firebase=="object"?u.firebase:void 0,p=h==null?void 0:h.sign_in_provider;return{claims:u,token:s,authTime:Cd(k0(u.auth_time)),issuedAtTime:Cd(k0(u.iat)),expirationTime:Cd(k0(u.exp)),signInProvider:p||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function k0(n){return Number(n)*1e3}function gC(n){const[t,r,s]=n.split(".");if(t===void 0||r===void 0||s===void 0)return yg("JWT malformed, contained fewer than 3 sections"),null;try{const u=a4(r);return u?JSON.parse(u):(yg("Failed to decode base64 JWT payload"),null)}catch(u){return yg("Caught error parsing JWT payload as JSON",u==null?void 0:u.toString()),null}}function dZ(n){const t=gC(n);return Ee(t,"internal-error"),Ee(typeof t.exp<"u","internal-error"),Ee(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(n,t,r=!1){if(r)return t;try{return await t}catch(s){throw s instanceof wo&&hZ(s)&&n.auth.currentUser===n&&await n.auth.signOut(),s}}function hZ({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fZ{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var r;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const u=((r=this.user.stsTokenManager.expirationTime)!==null&&r!==void 0?r:0)-Date.now()-3e5;return Math.max(0,u)}}schedule(t=!1){if(!this.isRunning)return;const r=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B3{constructor(t,r){this.createdAt=t,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=Cd(this.lastLoginAt),this.creationTime=Cd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bm(n){var t;const r=n.auth,s=await n.getIdToken(),u=await ah(n,cZ(r,{idToken:s}));Ee(u==null?void 0:u.users.length,r,"internal-error");const h=u.users[0];n._notifyReloadListener(h);const p=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?mZ(h.providerUserInfo):[],b=gZ(n.providerData,p),m=n.isAnonymous,A=!(n.email&&h.passwordHash)&&!(b!=null&&b.length),E=m?A:!1,C={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:b,metadata:new B3(h.createdAt,h.lastLoginAt),isAnonymous:E};Object.assign(n,C)}async function pZ(n){const t=Xt(n);await bm(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function gZ(n,t){return[...n.filter(s=>!t.some(u=>u.providerId===s.providerId)),...t]}function mZ(n){return n.map(t=>{var{providerId:r}=t,s=hC(t,["providerId"]);return{providerId:r,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kZ(n,t){const r=await R3(n,{},async()=>{const s=xh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:u,apiKey:h}=n.config,p=O3(n,u,"/v1/token",`key=${h}`),b=await n._getAdditionalHeaders();return b["Content-Type"]="application/x-www-form-urlencoded",N3.fetch()(p,{method:"POST",headers:b,body:s})});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lh{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ee(t.idToken,"internal-error"),Ee(typeof t.idToken<"u","internal-error"),Ee(typeof t.refreshToken<"u","internal-error");const r="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dZ(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,r)}async getToken(t,r=!1){return Ee(!this.accessToken||this.refreshToken,t,"user-token-expired"),!r&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,r){const{accessToken:s,refreshToken:u,expiresIn:h}=await kZ(t,r);this.updateTokensAndExpiration(s,u,Number(h))}updateTokensAndExpiration(t,r,s){this.refreshToken=r||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,r){const{refreshToken:s,accessToken:u,expirationTime:h}=r,p=new lh;return s&&(Ee(typeof s=="string","internal-error",{appName:t}),p.refreshToken=s),u&&(Ee(typeof u=="string","internal-error",{appName:t}),p.accessToken=u),h&&(Ee(typeof h=="number","internal-error",{appName:t}),p.expirationTime=h),p}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new lh,this.toJSON())}_performRefresh(){return oo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $o(n,t){Ee(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Ca{constructor(t){var{uid:r,auth:s,stsTokenManager:u}=t,h=hC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new fZ(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=r,this.auth=s,this.stsTokenManager=u,this.accessToken=u.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new B3(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const r=await ah(this,this.stsTokenManager.getToken(this.auth,t));return Ee(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(t){return uZ(this,t)}reload(){return pZ(this)}_assign(t){this!==t&&(Ee(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(r=>Object.assign({},r)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const r=new Ca(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return r.metadata._copy(this.metadata),r}_onReload(t){Ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,r=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),r&&await bm(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await ah(this,lZ(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,r){var s,u,h,p,b,m,A,E;const C=(s=r.displayName)!==null&&s!==void 0?s:void 0,v=(u=r.email)!==null&&u!==void 0?u:void 0,x=(h=r.phoneNumber)!==null&&h!==void 0?h:void 0,D=(p=r.photoURL)!==null&&p!==void 0?p:void 0,M=(b=r.tenantId)!==null&&b!==void 0?b:void 0,L=(m=r._redirectEventId)!==null&&m!==void 0?m:void 0,R=(A=r.createdAt)!==null&&A!==void 0?A:void 0,O=(E=r.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:z,emailVerified:U,isAnonymous:$,providerData:Y,stsTokenManager:K}=r;Ee(z&&K,t,"internal-error");const j=lh.fromJSON(this.name,K);Ee(typeof z=="string",t,"internal-error"),$o(C,t.name),$o(v,t.name),Ee(typeof U=="boolean",t,"internal-error"),Ee(typeof $=="boolean",t,"internal-error"),$o(x,t.name),$o(D,t.name),$o(M,t.name),$o(L,t.name),$o(R,t.name),$o(O,t.name);const q=new Ca({uid:z,auth:t,email:v,emailVerified:U,displayName:C,isAnonymous:$,photoURL:D,phoneNumber:x,tenantId:M,stsTokenManager:j,createdAt:R,lastLoginAt:O});return Y&&Array.isArray(Y)&&(q.providerData=Y.map(Z=>Object.assign({},Z))),L&&(q._redirectEventId=L),q}static async _fromIdTokenResponse(t,r,s=!1){const u=new lh;u.updateFromServerResponse(r);const h=new Ca({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:s});return await bm(h),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QM=new Map;function so(n){ko(n instanceof Function,"Expected a class definition");let t=QM.get(n);return t?(ko(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,QM.set(n,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L3{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,r){this.storage[t]=r}async _get(t){const r=this.storage[t];return r===void 0?null:r}async _remove(t){delete this.storage[t]}_addListener(t,r){}_removeListener(t,r){}}L3.type="NONE";const YM=L3;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cg(n,t,r){return`firebase:${n}:${t}:${r}`}class lc{constructor(t,r,s){this.persistence=t,this.auth=r,this.userKey=s;const{config:u,name:h}=this.auth;this.fullUserKey=Cg(this.userKey,u.apiKey,h),this.fullPersistenceKey=Cg("persistence",u.apiKey,h),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Ca._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,r,s="authUser"){if(!r.length)return new lc(so(YM),t,s);const u=(await Promise.all(r.map(async A=>{if(await A._isAvailable())return A}))).filter(A=>A);let h=u[0]||so(YM);const p=Cg(s,t.config.apiKey,t.name);let b=null;for(const A of r)try{const E=await A._get(p);if(E){const C=Ca._fromJSON(t,E);A!==h&&(b=C),h=A;break}}catch{}const m=u.filter(A=>A._shouldAllowMigration);return!h._shouldAllowMigration||!m.length?new lc(h,t,s):(h=m[0],b&&await h._set(p,b.toJSON()),await Promise.all(r.map(async A=>{if(A!==h)try{await A._remove(p)}catch{}})),new lc(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZM(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(V3(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(z3(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(U3(t))return"Blackberry";if(H3(t))return"Webos";if(mC(t))return"Safari";if((t.includes("chrome/")||j3(t))&&!t.includes("edge/"))return"Chrome";if(F3(t))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=n.match(r);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function z3(n=On()){return/firefox\//i.test(n)}function mC(n=On()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function j3(n=On()){return/crios\//i.test(n)}function V3(n=On()){return/iemobile/i.test(n)}function F3(n=On()){return/android/i.test(n)}function U3(n=On()){return/blackberry/i.test(n)}function H3(n=On()){return/webos/i.test(n)}function xk(n=On()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bZ(n=On()){var t;return xk(n)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function wZ(){return yq()&&document.documentMode===10}function W3(n=On()){return xk(n)||F3(n)||H3(n)||U3(n)||/windows phone/i.test(n)||V3(n)}function _Z(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(n,t=[]){let r;switch(n){case"Browser":r=ZM(On());break;case"Worker":r=`${ZM(On())}-${n}`;break;default:r=n}const s=t.length?t.join(","):"FirebaseCore-web";return`${r}/JsCore/${Nc}/${s}`}async function $3(n,t){return Fc(n,"GET","/v2/recaptchaConfig",Vc(n,t))}function JM(n){return n!==void 0&&n.enterprise!==void 0}class G3{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(r=>r.provider==="EMAIL_PASSWORD_PROVIDER"&&r.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AZ(){var n,t;return(t=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&t!==void 0?t:document}function K3(n){return new Promise((t,r)=>{const s=document.createElement("script");s.setAttribute("src",n),s.onload=t,s.onerror=u=>{const h=Br("internal-error");h.customData=u,r(h)},s.type="text/javascript",s.charset="UTF-8",AZ().appendChild(s)})}function vZ(n){return`__${n}${Math.floor(Math.random()*1e6)}`}const yZ="https://www.google.com/recaptcha/enterprise.js?render=",CZ="recaptcha-enterprise",EZ="NO_RECAPTCHA";class Q3{constructor(t){this.type=CZ,this.auth=Uc(t)}async verify(t="verify",r=!1){async function s(h){if(!r){if(h.tenantId==null&&h._agentRecaptchaConfig!=null)return h._agentRecaptchaConfig.siteKey;if(h.tenantId!=null&&h._tenantRecaptchaConfigs[h.tenantId]!==void 0)return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(async(p,b)=>{$3(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(m=>{if(m.recaptchaKey===void 0)b(new Error("recaptcha Enterprise site key undefined"));else{const A=new G3(m);return h.tenantId==null?h._agentRecaptchaConfig=A:h._tenantRecaptchaConfigs[h.tenantId]=A,p(A.siteKey)}}).catch(m=>{b(m)})})}function u(h,p,b){const m=window.grecaptcha;JM(m)?m.enterprise.ready(()=>{m.enterprise.execute(h,{action:t}).then(A=>{p(A)}).catch(()=>{p(EZ)})}):b(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((h,p)=>{s(this.auth).then(b=>{if(!r&&JM(window.grecaptcha))u(b,h,p);else{if(typeof window>"u"){p(new Error("RecaptchaVerifier is only supported in browser"));return}K3(yZ+b).then(()=>{u(b,h,p)}).catch(m=>{p(m)})}}).catch(b=>{p(b)})})}}async function wm(n,t,r,s=!1){const u=new Q3(n);let h;try{h=await u.verify(r)}catch{h=await u.verify(r,!0)}const p=Object.assign({},t);return s?Object.assign(p,{captchaResp:h}):Object.assign(p,{captchaResponse:h}),Object.assign(p,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(p,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),p}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,r){const s=h=>new Promise((p,b)=>{try{const m=t(h);p(m)}catch(m){b(m)}});s.onAbort=r,this.queue.push(s);const u=this.queue.length-1;return()=>{this.queue[u]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const r=[];try{for(const s of this.queue)await s(t),s.onAbort&&r.push(s.onAbort)}catch(s){r.reverse();for(const u of r)try{u()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{constructor(t,r,s,u){this.app=t,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=s,this.config=u,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new XM(this),this.idTokenSubscription=new XM(this),this.beforeStateQueue=new xZ(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=P3,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=u.sdkClientVersion}_initializeWithPersistence(t,r){return r&&(this._popupRedirectResolver=so(r)),this._initializationPromise=this.queue(async()=>{var s,u;if(!this._deleted&&(this.persistenceManager=await lc.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var r;const s=await this.assertedPersistence.getCurrentUser();let u=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const p=(r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId,b=u==null?void 0:u._redirectEventId,m=await this.tryRedirectSignIn(t);(!p||p===b)&&(m!=null&&m.user)&&(u=m.user,h=!0)}if(!u)return this.directlySetCurrentUser(null);if(!u._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(u)}catch(p){u=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(p))}return u?this.reloadAndSetCurrentUserOrClear(u):this.directlySetCurrentUser(null)}return Ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===u._redirectEventId?this.directlySetCurrentUser(u):this.reloadAndSetCurrentUserOrClear(u)}async tryRedirectSignIn(t){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(t){try{await bm(t)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=rZ()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const r=t?Xt(t):null;return r&&Ee(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(t,r=!1){if(!this._deleted)return t&&Ee(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(so(t))})}async initializeRecaptchaConfig(){const t=await $3(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new G3(t);this.tenantId==null?this._agentRecaptchaConfig=r:this._tenantRecaptchaConfigs[this.tenantId]=r,r.emailPasswordEnabled&&new Q3(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Eh("auth","Firebase",t())}onAuthStateChanged(t,r,s){return this.registerStateListener(this.authStateSubscription,t,r,s)}beforeAuthStateChanged(t,r){return this.beforeStateQueue.pushCallback(t,r)}onIdTokenChanged(t,r,s){return this.registerStateListener(this.idTokenSubscription,t,r,s)}authStateReady(){return new Promise((t,r)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},r)}})}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,r){const s=await this.getOrInitRedirectPersistenceManager(r);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const r=t&&so(t)||this._popupRedirectResolver;Ee(r,this,"argument-error"),this.redirectPersistenceManager=await lc.create(this,[so(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var r,s;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)===null||r===void 0?void 0:r._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(r=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&r!==void 0?r:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,r,s,u){if(this._deleted)return()=>{};const h=typeof r=="function"?r:r.next.bind(r),p=this._isInitialized?Promise.resolve():this._initializationPromise;return Ee(p,this,"internal-error"),p.then(()=>h(this.currentUser)),typeof r=="function"?t.addObserver(r,s,u):t.addObserver(r)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=q3(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const r={"X-Client-Version":this.clientVersion};this.app.options.appId&&(r["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(r["X-Firebase-Client"]=s);const u=await this._getAppCheckToken();return u&&(r["X-Firebase-AppCheck"]=u),r}async _getAppCheckToken(){var t;const r=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return r!=null&&r.error&&eZ(`Error while retrieving App Check token: ${r.error}`),r==null?void 0:r.token}}function Uc(n){return Xt(n)}class XM{constructor(t){this.auth=t,this.observer=null,this.addObserver=Dq(r=>this.observer=r)}get next(){return Ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TZ(n,t){const r=cy(n,"auth");if(r.isInitialized()){const u=r.getImmediate(),h=r.getOptions();if(tm(h,t??{}))return u;rr(u,"already-initialized")}return r.initialize({options:t})}function SZ(n,t){const r=(t==null?void 0:t.persistence)||[],s=(Array.isArray(r)?r:[r]).map(so);t!=null&&t.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function DZ(n,t,r){const s=Uc(n);Ee(s._canInitEmulator,s,"emulator-config-failed"),Ee(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const u=!!(r!=null&&r.disableWarnings),h=Y3(t),{host:p,port:b}=MZ(t),m=b===null?"":`:${b}`;s.config.emulator={url:`${h}//${p}${m}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:p,port:b,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:u})}),u||PZ()}function Y3(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function MZ(n){const t=Y3(n),r=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!r)return{host:"",port:null};const s=r[2].split("@").pop()||"",u=/^(\[[^\]]+\])(:|$)/.exec(s);if(u){const h=u[1];return{host:h,port:eP(s.substr(h.length+1))}}else{const[h,p]=s.split(":");return{host:h,port:eP(p)}}}function eP(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function PZ(){function n(){const t=document.createElement("p"),r=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kC{constructor(t,r){this.providerId=t,this.signInMethod=r}toJSON(){return oo("not implemented")}_getIdTokenResponse(t){return oo("not implemented")}_linkToIdToken(t,r){return oo("not implemented")}_getReauthenticationResolver(t){return oo("not implemented")}}async function NZ(n,t){return Fc(n,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function b0(n,t){return qh(n,"POST","/v1/accounts:signInWithPassword",Vc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RZ(n,t){return qh(n,"POST","/v1/accounts:signInWithEmailLink",Vc(n,t))}async function OZ(n,t){return qh(n,"POST","/v1/accounts:signInWithEmailLink",Vc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch extends kC{constructor(t,r,s,u=null){super("password",s),this._email=t,this._password=r,this._tenantId=u}static _fromEmailAndPassword(t,r){return new ch(t,r,"password")}static _fromEmailAndCode(t,r,s=null){return new ch(t,r,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(t){var r;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((r=t._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await wm(t,s,"signInWithPassword");return b0(t,u)}else return b0(t,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const h=await wm(t,s,"signInWithPassword");return b0(t,h)}else return Promise.reject(u)});case"emailLink":return RZ(t,{email:this._email,oobCode:this._password});default:rr(t,"internal-error")}}async _linkToIdToken(t,r){switch(this.signInMethod){case"password":return NZ(t,{idToken:r,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return OZ(t,{idToken:r,email:this._email,oobCode:this._password});default:rr(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(n,t){return qh(n,"POST","/v1/accounts:signInWithIdp",Vc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BZ="http://localhost";class Oa extends kC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const r=new Oa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(r.idToken=t.idToken),t.accessToken&&(r.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(r.nonce=t.nonce),t.pendingToken&&(r.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(r.accessToken=t.oauthToken,r.secret=t.oauthTokenSecret):rr("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const r=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:u}=r,h=hC(r,["providerId","signInMethod"]);if(!s||!u)return null;const p=new Oa(s,u);return p.idToken=h.idToken||void 0,p.accessToken=h.accessToken||void 0,p.secret=h.secret,p.nonce=h.nonce,p.pendingToken=h.pendingToken||null,p}_getIdTokenResponse(t){const r=this.buildRequest();return cc(t,r)}_linkToIdToken(t,r){const s=this.buildRequest();return s.idToken=r,cc(t,s)}_getReauthenticationResolver(t){const r=this.buildRequest();return r.autoCreate=!1,cc(t,r)}buildRequest(){const t={requestUri:BZ,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),t.postBody=xh(r)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LZ(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zZ(n){const t=nd(id(n)).link,r=t?nd(id(t)).deep_link_id:null,s=nd(id(n)).deep_link_id;return(s?nd(id(s)).link:null)||s||r||t||n}class bC{constructor(t){var r,s,u,h,p,b;const m=nd(id(t)),A=(r=m.apiKey)!==null&&r!==void 0?r:null,E=(s=m.oobCode)!==null&&s!==void 0?s:null,C=LZ((u=m.mode)!==null&&u!==void 0?u:null);Ee(A&&E&&C,"argument-error"),this.apiKey=A,this.operation=C,this.code=E,this.continueUrl=(h=m.continueUrl)!==null&&h!==void 0?h:null,this.languageCode=(p=m.languageCode)!==null&&p!==void 0?p:null,this.tenantId=(b=m.tenantId)!==null&&b!==void 0?b:null}static parseLink(t){const r=zZ(t);try{return new bC(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hc{constructor(){this.providerId=Hc.PROVIDER_ID}static credential(t,r){return ch._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const s=bC.parseLink(r);return Ee(s,"argument-error"),ch._fromEmailAndCode(t,s.code,s.tenantId)}}Hc.PROVIDER_ID="password";Hc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Hc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z3{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h extends Z3{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo extends $h{constructor(){super("facebook.com")}static credential(t){return Oa._fromParams({providerId:Jo.PROVIDER_ID,signInMethod:Jo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Jo.credentialFromTaggedObject(t)}static credentialFromError(t){return Jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Jo.credential(t.oauthAccessToken)}catch{return null}}}Jo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Jo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xo extends $h{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Oa._fromParams({providerId:Xo.PROVIDER_ID,signInMethod:Xo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return Xo.credentialFromTaggedObject(t)}static credentialFromError(t){return Xo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:s}=t;if(!r&&!s)return null;try{return Xo.credential(r,s)}catch{return null}}}Xo.GOOGLE_SIGN_IN_METHOD="google.com";Xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class es extends $h{constructor(){super("github.com")}static credential(t){return Oa._fromParams({providerId:es.PROVIDER_ID,signInMethod:es.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return es.credentialFromTaggedObject(t)}static credentialFromError(t){return es.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return es.credential(t.oauthAccessToken)}catch{return null}}}es.GITHUB_SIGN_IN_METHOD="github.com";es.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ts extends $h{constructor(){super("twitter.com")}static credential(t,r){return Oa._fromParams({providerId:ts.PROVIDER_ID,signInMethod:ts.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:r})}static credentialFromResult(t){return ts.credentialFromTaggedObject(t)}static credentialFromError(t){return ts.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:r,oauthTokenSecret:s}=t;if(!r||!s)return null;try{return ts.credential(r,s)}catch{return null}}}ts.TWITTER_SIGN_IN_METHOD="twitter.com";ts.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w0(n,t){return qh(n,"POST","/v1/accounts:signUp",Vc(n,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,r,s,u=!1){const h=await Ca._fromIdTokenResponse(t,s,u),p=tP(s);return new Ba({user:h,providerId:p,_tokenResponse:s,operationType:r})}static async _forOperation(t,r,s){await t._updateTokensIfNecessary(s,!0);const u=tP(s);return new Ba({user:t,providerId:u,_tokenResponse:s,operationType:r})}}function tP(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _m extends wo{constructor(t,r,s,u){var h;super(r.code,r.message),this.operationType=s,this.user=u,Object.setPrototypeOf(this,_m.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:r.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,r,s,u){return new _m(t,r,s,u)}}function J3(n,t,r,s){return(t==="reauthenticate"?r._getReauthenticationResolver(n):r._getIdTokenResponse(n)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?_m._fromErrorAndOperation(n,h,t,s):h})}async function jZ(n,t,r=!1){const s=await ah(n,t._linkToIdToken(n.auth,await n.getIdToken()),r);return Ba._forOperation(n,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function VZ(n,t,r=!1){const{auth:s}=n,u="reauthenticate";try{const h=await ah(n,J3(s,u,t,n),r);Ee(h.idToken,s,"internal-error");const p=gC(h.idToken);Ee(p,s,"internal-error");const{sub:b}=p;return Ee(n.uid===b,s,"user-mismatch"),Ba._forOperation(n,u,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&rr(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function X3(n,t,r=!1){const s="signIn",u=await J3(n,s,t),h=await Ba._fromIdTokenResponse(n,s,u);return r||await n._updateCurrentUser(h.user),h}async function FZ(n,t){return X3(Uc(n),t)}async function UZ(n,t,r){var s;const u=Uc(n),h={returnSecureToken:!0,email:t,password:r,clientType:"CLIENT_TYPE_WEB"};let p;if(!((s=u._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const A=await wm(u,h,"signUpPassword");p=w0(u,A)}else p=w0(u,h).catch(async A=>{if(A.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const E=await wm(u,h,"signUpPassword");return w0(u,E)}else return Promise.reject(A)});const b=await p.catch(A=>Promise.reject(A)),m=await Ba._fromIdTokenResponse(u,"signIn",b);return await u._updateCurrentUser(m.user),m}function HZ(n,t,r){return FZ(Xt(n),Hc.credential(t,r))}function WZ(n,t,r,s){return Xt(n).onIdTokenChanged(t,r,s)}function qZ(n,t,r){return Xt(n).beforeAuthStateChanged(t,r)}function $Z(n,t,r,s){return Xt(n).onAuthStateChanged(t,r,s)}function GZ(n){return Xt(n).signOut()}const Am="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eB{constructor(t,r){this.storageRetriever=t,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(Am,"1"),this.storage.removeItem(Am),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,r){return this.storage.setItem(t,JSON.stringify(r)),Promise.resolve()}_get(t){const r=this.storage.getItem(t);return Promise.resolve(r?JSON.parse(r):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(){const n=On();return mC(n)||xk(n)}const QZ=1e3,YZ=10;class tB extends eB{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=KZ()&&_Z(),this.fallbackToPolling=W3(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const s=this.storage.getItem(r),u=this.localCache[r];s!==u&&t(r,u,s)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((p,b,m)=>{this.notifyListeners(p,m)});return}const s=t.key;if(r?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const p=this.storage.getItem(s);if(t.newValue!==p)t.newValue!==null?this.storage.setItem(s,t.newValue):this.storage.removeItem(s);else if(this.localCache[s]===t.newValue&&!r)return}const u=()=>{const p=this.storage.getItem(s);!r&&this.localCache[s]===p||this.notifyListeners(s,p)},h=this.storage.getItem(s);wZ()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(u,YZ):u()}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const u of Array.from(s))u(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:s}),!0)})},QZ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,r){await super._set(t,r),this.localCache[t]=JSON.stringify(r)}async _get(t){const r=await super._get(t);return this.localCache[t]=JSON.stringify(r),r}async _remove(t){await super._remove(t),delete this.localCache[t]}}tB.type="LOCAL";const ZZ=tB;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB extends eB{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}nB.type="SESSION";const iB=nB;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JZ(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ik{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(u=>u.isListeningto(t));if(r)return r;const s=new Ik(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const r=t,{eventId:s,eventType:u,data:h}=r.data,p=this.handlersMap[u];if(!(p!=null&&p.size))return;r.ports[0].postMessage({status:"ack",eventId:s,eventType:u});const b=Array.from(p).map(async A=>A(r.origin,h)),m=await JZ(b);r.ports[0].postMessage({status:"done",eventId:s,eventType:u,response:m})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ik.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wC(n="",t=10){let r="";for(let s=0;s<t;s++)r+=Math.floor(Math.random()*10);return n+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XZ{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,r,s=50){const u=typeof MessageChannel<"u"?new MessageChannel:null;if(!u)throw new Error("connection_unavailable");let h,p;return new Promise((b,m)=>{const A=wC("",20);u.port1.start();const E=setTimeout(()=>{m(new Error("unsupported_event"))},s);p={messageChannel:u,onMessage(C){const v=C;if(v.data.eventId===A)switch(v.data.status){case"ack":clearTimeout(E),h=setTimeout(()=>{m(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),b(v.data.response);break;default:clearTimeout(E),clearTimeout(h),m(new Error("invalid_response"));break}}},this.handlers.add(p),u.port1.addEventListener("message",p.onMessage),this.target.postMessage({eventType:t,eventId:A,data:r},[u.port2])}).finally(()=>{p&&this.removeMessageHandler(p)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(){return window}function eJ(n){Lr().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rB(){return typeof Lr().WorkerGlobalScope<"u"&&typeof Lr().importScripts=="function"}async function tJ(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function nJ(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function iJ(){return rB()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oB="firebaseLocalStorageDb",rJ=1,vm="firebaseLocalStorage",sB="fbase_key";class Gh{constructor(t){this.request=t}toPromise(){return new Promise((t,r)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function Tk(n,t){return n.transaction([vm],t?"readwrite":"readonly").objectStore(vm)}function oJ(){const n=indexedDB.deleteDatabase(oB);return new Gh(n).toPromise()}function XA(){const n=indexedDB.open(oB,rJ);return new Promise((t,r)=>{n.addEventListener("error",()=>{r(n.error)}),n.addEventListener("upgradeneeded",()=>{const s=n.result;try{s.createObjectStore(vm,{keyPath:sB})}catch(u){r(u)}}),n.addEventListener("success",async()=>{const s=n.result;s.objectStoreNames.contains(vm)?t(s):(s.close(),await oJ(),t(await XA()))})})}async function nP(n,t,r){const s=Tk(n,!0).put({[sB]:t,value:r});return new Gh(s).toPromise()}async function sJ(n,t){const r=Tk(n,!1).get(t),s=await new Gh(r).toPromise();return s===void 0?null:s.value}function iP(n,t){const r=Tk(n,!0).delete(t);return new Gh(r).toPromise()}const aJ=800,lJ=3;class aB{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await XA(),this.db)}async _withRetries(t){let r=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(r++>lJ)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return rB()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ik._getInstance(iJ()),this.receiver._subscribe("keyChanged",async(t,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(t,r)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await tJ(),!this.activeServiceWorker)return;this.sender=new XZ(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((r=s[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||nJ()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await XA();return await nP(t,Am,"1"),await iP(t,Am),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,r){return this._withPendingWrite(async()=>(await this._withRetries(s=>nP(s,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)))}async _get(t){const r=await this._withRetries(s=>sJ(s,t));return this.localCache[t]=r,r}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(r=>iP(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(u=>{const h=Tk(u,!1).getAll();return new Gh(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const r=[],s=new Set;for(const{fbase_key:u,value:h}of t)s.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(h)&&(this.notifyListeners(u,h),r.push(u));for(const u of Object.keys(this.localCache))this.localCache[u]&&!s.has(u)&&(this.notifyListeners(u,null),r.push(u));return r}notifyListeners(t,r){this.localCache[t]=r;const s=this.listeners[t];if(s)for(const u of Array.from(s))u(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aJ)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}aB.type="LOCAL";const cJ=aB;new Wh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uJ(n,t){return t?so(t):(Ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _C extends kC{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return cc(t,this._buildIdpRequest())}_linkToIdToken(t,r){return cc(t,this._buildIdpRequest(r))}_getReauthenticationResolver(t){return cc(t,this._buildIdpRequest())}_buildIdpRequest(t){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(r.idToken=t),r}}function dJ(n){return X3(n.auth,new _C(n),n.bypassAuthState)}function hJ(n){const{auth:t,user:r}=n;return Ee(r,t,"internal-error"),VZ(r,new _C(n),n.bypassAuthState)}async function fJ(n){const{auth:t,user:r}=n;return Ee(r,t,"internal-error"),jZ(r,new _C(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(t,r,s,u,h=!1){this.auth=t,this.resolver=s,this.user=u,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(t,r)=>{this.pendingPromise={resolve:t,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:r,sessionId:s,postBody:u,tenantId:h,error:p,type:b}=t;if(p){this.reject(p);return}const m={auth:this.auth,requestUri:r,sessionId:s,tenantId:h||void 0,postBody:u||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(b)(m))}catch(A){this.reject(A)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return dJ;case"linkViaPopup":case"linkViaRedirect":return fJ;case"reauthViaPopup":case"reauthViaRedirect":return hJ;default:rr(this.auth,"internal-error")}}resolve(t){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){ko(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ=new Wh(2e3,1e4);class Yl extends lB{constructor(t,r,s,u,h){super(t,r,u,h),this.provider=s,this.authWindow=null,this.pollId=null,Yl.currentPopupAction&&Yl.currentPopupAction.cancel(),Yl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ee(t,this.auth,"internal-error"),t}async onExecution(){ko(this.filter.length===1,"Popup operations only handle one event");const t=wC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Br(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Br(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Yl.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,s;if(!((s=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Br(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,pJ.get())};t()}}Yl.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ="pendingRedirect",Eg=new Map;class mJ extends lB{constructor(t,r,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,s),this.eventId=null}async execute(){let t=Eg.get(this.auth._key());if(!t){try{const s=await kJ(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(r){t=()=>Promise.reject(r)}Eg.set(this.auth._key(),t)}return this.bypassAuthState||Eg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const r=await this.auth._redirectUserForId(t.eventId);if(r)return this.user=r,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function kJ(n,t){const r=_J(t),s=wJ(n);if(!await s._isAvailable())return!1;const u=await s._get(r)==="true";return await s._remove(r),u}function bJ(n,t){Eg.set(n._key(),t)}function wJ(n){return so(n._redirectPersistence)}function _J(n){return Cg(gJ,n.config.apiKey,n.name)}async function AJ(n,t,r=!1){const s=Uc(n),u=uJ(s,t),p=await new mJ(s,u,r).execute();return p&&!r&&(delete p.user._redirectEventId,await s._persistUserIfCurrent(p.user),await s._setRedirectUser(null,t)),p}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vJ=10*60*1e3;class yJ{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let r=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(r=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CJ(t)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=t,r=!0)),r}sendToConsumer(t,r){var s;if(t.error&&!cB(t)){const u=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";r.onError(Br(this.auth,u))}else r.onAuthEvent(t)}isEventForConsumer(t,r){const s=r.eventId===null||!!t.eventId&&t.eventId===r.eventId;return r.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=vJ&&this.cachedEventUids.clear(),this.cachedEventUids.has(rP(t))}saveEventToCache(t){this.cachedEventUids.add(rP(t)),this.lastProcessedEventTime=Date.now()}}function rP(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function cB({type:n,error:t}){return n==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function CJ(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return cB(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EJ(n,t={}){return Fc(n,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,IJ=/^https?/;async function TJ(n){if(n.config.emulator)return;const{authorizedDomains:t}=await EJ(n);for(const r of t)try{if(SJ(r))return}catch{}rr(n,"unauthorized-domain")}function SJ(n){const t=JA(),{protocol:r,hostname:s}=new URL(t);if(n.startsWith("chrome-extension://")){const p=new URL(n);return p.hostname===""&&s===""?r==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):r==="chrome-extension:"&&p.hostname===s}if(!IJ.test(r))return!1;if(xJ.test(n))return s===n;const u=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+u+"|"+u+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DJ=new Wh(3e4,6e4);function oP(){const n=Lr().___jsl;if(n!=null&&n.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let r=0;r<n.CP.length;r++)n.CP[r]=null}}function MJ(n){return new Promise((t,r)=>{var s,u,h;function p(){oP(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oP(),r(Br(n,"network-request-failed"))},timeout:DJ.get()})}if(!((u=(s=Lr().gapi)===null||s===void 0?void 0:s.iframes)===null||u===void 0)&&u.Iframe)t(gapi.iframes.getContext());else if(!((h=Lr().gapi)===null||h===void 0)&&h.load)p();else{const b=vZ("iframefcb");return Lr()[b]=()=>{gapi.load?p():r(Br(n,"network-request-failed"))},K3(`https://apis.google.com/js/api.js?onload=${b}`).catch(m=>r(m))}}).catch(t=>{throw xg=null,t})}let xg=null;function PJ(n){return xg=xg||MJ(n),xg}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NJ=new Wh(5e3,15e3),RJ="__/auth/iframe",OJ="emulator/auth/iframe",BJ={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LJ=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zJ(n){const t=n.config;Ee(t.authDomain,n,"auth-domain-config-required");const r=t.emulator?pC(t,OJ):`https://${n.config.authDomain}/${RJ}`,s={apiKey:t.apiKey,appName:n.name,v:Nc},u=LJ.get(n.config.apiHost);u&&(s.eid=u);const h=n._getFrameworks();return h.length&&(s.fw=h.join(",")),`${r}?${xh(s).slice(1)}`}async function jJ(n){const t=await PJ(n),r=Lr().gapi;return Ee(r,n,"internal-error"),t.open({where:document.body,url:zJ(n),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:BJ,dontclear:!0},s=>new Promise(async(u,h)=>{await s.restyle({setHideOnLeave:!1});const p=Br(n,"network-request-failed"),b=Lr().setTimeout(()=>{h(p)},NJ.get());function m(){Lr().clearTimeout(b),u(s)}s.ping(m).then(m,()=>{h(p)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VJ={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FJ=500,UJ=600,HJ="_blank",WJ="http://localhost";class sP{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qJ(n,t,r,s=FJ,u=UJ){const h=Math.max((window.screen.availHeight-u)/2,0).toString(),p=Math.max((window.screen.availWidth-s)/2,0).toString();let b="";const m=Object.assign(Object.assign({},VJ),{width:s.toString(),height:u.toString(),top:h,left:p}),A=On().toLowerCase();r&&(b=j3(A)?HJ:r),z3(A)&&(t=t||WJ,m.scrollbars="yes");const E=Object.entries(m).reduce((v,[x,D])=>`${v}${x}=${D},`,"");if(bZ(A)&&b!=="_self")return $J(t||"",b),new sP(null);const C=window.open(t||"",b,E);Ee(C,n,"popup-blocked");try{C.focus()}catch{}return new sP(C)}function $J(n,t){const r=document.createElement("a");r.href=n,r.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GJ="__/auth/handler",KJ="emulator/auth/handler",QJ=encodeURIComponent("fac");async function aP(n,t,r,s,u,h){Ee(n.config.authDomain,n,"auth-domain-config-required"),Ee(n.config.apiKey,n,"invalid-api-key");const p={apiKey:n.config.apiKey,appName:n.name,authType:r,redirectUrl:s,v:Nc,eventId:u};if(t instanceof Z3){t.setDefaultLanguage(n.languageCode),p.providerId=t.providerId||"",Sq(t.getCustomParameters())||(p.customParameters=JSON.stringify(t.getCustomParameters()));for(const[E,C]of Object.entries(h||{}))p[E]=C}if(t instanceof $h){const E=t.getScopes().filter(C=>C!=="");E.length>0&&(p.scopes=E.join(","))}n.tenantId&&(p.tid=n.tenantId);const b=p;for(const E of Object.keys(b))b[E]===void 0&&delete b[E];const m=await n._getAppCheckToken(),A=m?`#${QJ}=${encodeURIComponent(m)}`:"";return`${YJ(n)}?${xh(b).slice(1)}${A}`}function YJ({config:n}){return n.emulator?pC(n,KJ):`https://${n.authDomain}/${GJ}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _0="webStorageSupport";class ZJ{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=iB,this._completeRedirectFn=AJ,this._overrideRedirectResult=bJ}async _openPopup(t,r,s,u){var h;ko((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const p=await aP(t,r,s,JA(),u);return qJ(t,p,wC())}async _openRedirect(t,r,s,u){await this._originValidation(t);const h=await aP(t,r,s,JA(),u);return eJ(h),new Promise(()=>{})}_initialize(t){const r=t._key();if(this.eventManagers[r]){const{manager:u,promise:h}=this.eventManagers[r];return u?Promise.resolve(u):(ko(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[r]={promise:s},s.catch(()=>{delete this.eventManagers[r]}),s}async initAndGetManager(t){const r=await jJ(t),s=new yJ(t);return r.register("authEvent",u=>(Ee(u==null?void 0:u.authEvent,t,"invalid-auth-event"),{status:s.onEvent(u.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=r,s}_isIframeWebStorageSupported(t,r){this.iframes[t._key()].send(_0,{type:_0},u=>{var h;const p=(h=u==null?void 0:u[0])===null||h===void 0?void 0:h[_0];p!==void 0&&r(!!p),rr(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const r=t._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=TJ(t)),this.originValidationPromises[r]}get _shouldInitProactively(){return W3()||mC()||xk()}}const JJ=ZJ;var lP="@firebase/auth",cP="1.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const r=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,r),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const r=this.internalListeners.get(t);r&&(this.internalListeners.delete(t),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eX(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function tX(n){wc(new Da("auth",(t,{options:r})=>{const s=t.getProvider("app").getImmediate(),u=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:p,authDomain:b}=s.options;Ee(p&&!p.includes(":"),"invalid-api-key",{appName:s.name});const m={apiKey:p,authDomain:b,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:q3(n)},A=new IZ(s,u,h,m);return SZ(A,r),A},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,r,s)=>{t.getProvider("auth-internal").initialize()})),wc(new Da("auth-internal",t=>{const r=Uc(t.getProvider("auth").getImmediate());return(s=>new XJ(s))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),ws(lP,cP,eX(n)),ws(lP,cP,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nX=5*60,iX=u4("authIdTokenMaxAge")||nX;let uP=null;const rX=n=>async t=>{const r=t&&await t.getIdTokenResult(),s=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(s&&s>iX)return;const u=r==null?void 0:r.token;uP!==u&&(uP=u,await fetch(n,{method:u?"POST":"DELETE",headers:u?{Authorization:`Bearer ${u}`}:{}}))};function oX(n=p4()){const t=cy(n,"auth");if(t.isInitialized())return t.getImmediate();const r=TZ(n,{popupRedirectResolver:JJ,persistence:[cJ,ZZ,iB]}),s=u4("authTokenSyncURL");if(s){const h=rX(s);qZ(r,h,()=>h(r.currentUser)),WZ(r,p=>h(p))}const u=l4("auth");return u&&DZ(r,`http://${u}`),r}tX("Browser");const sX={apiKey:"AIzaSyCWuGs1fWgkCZU_s3CIvm9vh8Bn10b_rtI",authDomain:"mynotesapp-3ff9c.firebaseapp.com",projectId:"mynotesapp-3ff9c",storageBucket:"mynotesapp-3ff9c.appspot.com",messagingSenderId:"193348084654",appId:"1:193348084654:web:f2b21dd4ab42df16ee1e3f",measurementId:"G-PZDQYWVX5K"},uB=f4(sX),Ol=TY(uB),ym=oX(uB);let Ir={};async function aX(){await $Z(ym,n=>{Ir=n})}aX();console.log(Ir);const dP=xY(Ol,"notes"),lX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEYAAABGCAYAAABxLuKEAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAhnSURBVHgB5VxNdtNIEK5qOU4yMO+ZEyA/mNniLINnID4B4QQkJwBOgHMCkhMkOQHhBDYwCbuJ2c7Ak7OZLeY9mNhO1D1Vshxsq2XJ6paTMN/GidWWuj9XVddfG2GOOPzra8UXTqXgOPcApKsAKuEld2JoGwA7CKoDIFrK9z+A9FvVX2+2YE5AyBENT5UW5OmGEOKhBFijh5XAAERkRwA0la9e9x1o1srLbcgJuRDz7u/TNaeAL2gha5AjaPIH5z7uP7i7eACWYZWYw4+nG+DgU/iuIvNCG3y1Vb27vAeWYIUYlhBRwF2I2op5wxpBRsQ0vFN3EXB3FpVhO0EvLZTwQQnZloGRZWM7NsYVoEoohasEkKGGymz2Cff6ILdMbFBmYt6f9J/4Um6nmbBigwnqDf3Z/L283IQMeOedkvFWpKLiCaZTVSPpyUTMkdd9SYt9Nm0MSwaRsSPAP6iW7W6z70lSfQV1RHwICepLC9y+X156DjNiJmJ4+12E3qtpqjMk5CYsba+UsQM5ggk6B9gQgE9gKkHYItV6PItqpSaG7UkRsDF1AhJ2fhKL9bwJmcSIBD2ZMqzdB1VLS04qYlKQQkZUbWa1H7bAdoikZ9rumJqcRGKSSGHDegMWH89bSuLA0kM73Uv6cz1mCJGzuFJLmK+ABBRBvIK4b0Cqrd/KS7WrQgpjlaShWl56TBK8FTPEZTuZdJ+pxPDuA8EWqQGRUr2zXIcrClLrehw5vHkM1haPWFUK3ftd7cUrTsooyO7Uye680F2j4HZj9XZxX3dNS8xUu3KNSBkinhzs0Da+ojPGWlUiu8I3cTWXDq4bKQxWK94kolfYL9NrRURipqhQm+KX2qqlHAg7i4XzbsUpOI8Ux0Wg3PBSx5eKElMUPvxib/tveJ9LRVg+Bs0XTraoNulqRInxul7aD2eboCotQf+pD+pZijirTVNsmgaEQ4R+TkP3HNrJyqNvjKlSIC1aFcI9G6QcnXSfLkDPI5LrKaNll8R9g+1dODcj8BqklDu650zef9zGOFrrTSok43yC1AgCTwnbmC296bJ6J22xaXAuenUYpD7GMUiwXeCCmLcfv62DfhfaN7Urh15vNykaTwO+B98LDFAr3+qQxOqkpsKqNvznghjHKegCsLYQsAcGODzpvWB1AGtQG0efukYkn0N3GzRS44xs6YHxDf0WL3oL3KuWFzchI+LvawPnKyZ5njjfhuKoWxxHBRJT9PX5FVPbshDjI9gAQsHI3ghwtJWFBdnbGFxnOOKRZkzLxLawtGCO5ROOd0ZtwqyolostndOHKNf4NbQxai3yYAnaGCItClIZG9skCInrYIAwDz0OdB4G9z70+hw9R7ZQJZRRnhap+gh5Q4DpM5rRt1Tp0PtaoVy1r0krYMfUocP5FN2MnhGuMerT+E6FpDGab6G4xUhaOIsGc8Kf/6jbYACyM9G1IlYEify9yGAqhsH/BErK6FpRumx8o/ZlojI4K7rQnVuq80sPvoABUGjWiuKe0MUuqJTRwtjtBp3uWgd2aob5ZunrP88S40YGO2YSw9DqrmWY2sLgHvq1uolVgqzQ+gj2n2Hka01DbsSEgVquEFo/xNq9o1Ags+RMxsB2Rqn8vlEOcFdzbDVjYtqTbzq+MCaGcYZBeiAPI2wlecZQvjbp39ZLDKIVYlhqfPAzpy3igIDPbUmLcJRurZx2wIhlR4H3wBIelG8cTCmXzg6qa90v22tGJGfWnXwPmRgp/ZPoBeWCRYR1HW7eyaxWg74beG67rhXn+QulohKjAK0HgFT836a61IrKsJPwZxz6LN8DLEMb7FJmQTiOo3GSVMkkCRQHtgvcHcE1Kt6x1BQJCiWkyWP5M3nsQOEaNTbGbxU4k0VFts7kACGD7FsTckAY7jeHk2P3AKUIvjlFsQt3cd6EpVbe7SWDZsfJmiN2OJdcCP9p0pTGsmFkgPNPNMEFSQxrBjU9RLQyovzAYw+2awV+xH03zaledYQ56ah9QQy+oICYM+jtgUbfTXOqVxlhR0cEwzDjQsH+8LqNaFaf+0eK5VoOuh70yp35JV8suDARgqAaeOOFArTzMLphvYs7HyYM7/c6WmH4FkWqW+RRro0PVKWiDNz6OhhNRJUcv7vO55ToOWRslSt5UgsFqv4piGvsojHcfQGhE9oCX76xcRynKMi2yKjHK0FexHZjM7IpNcN2jwERtutL2FLS3z8TeDArSSwtVAg81iToxlpBxmIl1OY3SGqgn7rqxydRjojgIvQ+c7uHfVKCOVXIY33J5V8u8jdmSL6zbdF3XIyHLREZ1ktNcuNQlpModpF84mRat9jUxiGGign4uOOa1UN3bdAQhMeXRwojaDDy3ns97W4TSJW+/wd8itYn39NaPTJ43CC8rhncvE/u+feHJR+6uAzwkcAeLG6O2sW4NcV1dGjzMX045YERYzvaODzY8vqNq0YKg+a0TjbueGh7Bj062hb62IRXbAP0W+/bugOOtrWc1Kougwcp61G4XWCLNpRmfDeX2qyW9Qe9YolhvPv077YQ4in8iEho5J5KDCNul7rmOOCDGNMGJJZPzuCUb5B78Wx+wNZPkNw+lygxjPAMUAMu//iwKVJ3t6cihvEDkDNTy3/qSiTfkG8M11CtOEVK6rOymsdh0VFcq91Kwk71ztKzWT+WiRjGoce99xh3fOfSMfjlENzMWoPKTAwj5bHeuSMst2yuXsZPGIziCkmPtWPOVogZ4rIIYgnhXFKce58FVokZIoyzWL1yS6YPf1WE0yR5HITPhZghBr4PhxP4SFn6KSZOffigXv8MSwd5FuRyJWYS3HEN4FRAYiX8XZhSSJY7MbQdvrZouz3xqZa8QITk2Sg0if8A2KXS6DIDjHgAAAAASUVORK5CYII=",dB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFbSURBVHgBrVNbTsJQEJ255RFCIekOLisQ/vwwWlfgUtQVADugK0B34A5sIib+iTtgByUhfPBox5lgk5a+aO1JbjqvnszcORehAJ5n61bLfxd7vz/cW9bXKq9eQQGaTX/OHy2n3W7Oi+pzCTebGxsR7NAnAltilQkRcXweM4xk7CLC8+5CFHWZSiiLUAoz70tynnet03IYdsOjPLCpuYMhnJZwAXCJSCvfpx8iXPb7H2+43d5+8yBDqAF8RS6PTBpqgkyniIIp1AZylGl+zoKAaiClabe7mGDo8mImvL0xVMKJTCyMhpl0xqSPUAJE5Jjm4in0YzpsNBozKI3gJerFCI/Ho4Z/IkbIIq2gR7RzCPEOytKhusok5PQw+QOsWKvPcsSGJOwcwvgbFn12OsZItCpntzNGKZrVmYRc7MiXpeAqdRj0eixUdNdh3rLctcSUMgb8zF7/ap0oxy/ZKoXNhLK1DwAAAABJRU5ErkJggg==",cX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAXCAYAAAARIY8tAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHmSURBVHgBtVXNcYJAFF4gBZAOSAViBYgVaAXRW26Ys+MEdTwn6cAOMlYA3nILViAdxJz9y/c5uw5ZGQE138xz17f7/h9vDVES4/E4wBKCVqDpYDAYlpEzy1wajUYdLL3tdlsH+dh3YLBVRraUAcMwXrB0wzBMSdyDXsUtQO/hbaTzyZORnUVhBNL7vHwP5dnlYGHzvM+cM4reOR13aoPc2qZpsnA1eOZgdcmXRc0FzrqWZUUw9Ii/6W63W+z3+wT7RNZKGNKTBpYPHuDCDAZSCB8vFWEymbhQ7oBcOFmjc1jb/X4/UaEueUncCHQY9M29KrK9Xq9TcSMweurMGkgQ0nUdkQHqEiDN06MBFguMFsK62ojU0dlsNofWtvgTx/HK87wZonhrNpt2FEVzcQGUcnaeahBLHWaN+L5vwMinqAA5DJ+yyok/X7KaM0hXIKqDnrf11j4ZFbjEJRUXAMW1dd6JAaSIH81CVARk5vhI3UIDSI+Hi7GoCMix9xs6/y7nLi8960zk1kF0gfT2Xc81eDFSdPJG5I1rWxdm+3Gowcsf0D32X/o3I2WKawDEagRDiDNlyajYfniHQxC7pQ7eA8/UoyPbNNGVGTpDTkZOVofGQEMojXMcObx2iIijukHleW367/gF2fr7Pcx7Y6wAAAAASUVORK5CYII=",hB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGPSURBVHgBrVTLbcJAEJ2xc8nn4FQQl0AJdABCxldEB6GCJBWEDkKOCKFQAiXQQZwKMIpIOOCdvDXxYuO1ESRPWjHe2XnMvNlZpgp8h2FPRB5h+geuhSj1dD2dzmxxThWhEhlayDQa7DgvVXFWws8gaDKRR9XwpNO5szk4DWb2ScQD+x1sT7Dw3a4hJPzhHJIshGiFFRNzjO0Fr7vdpc5Gb7JeItEugqNKNhFf/yjE6QRoL01E0m7XlXYSNBdnH+jqAxpxf0Q7OxxncDUeD1NzTy/Ns8gATpKW4c4MZPdBZ0Ixr0qEfwFIlpl9kRm4AjE6lj8XbZUa8O46FAmYn3GyYTLMVWcIrYGOozUt6Vqn9T5D3Dsu+nyUUjlieWC2I5ME/QNUrrq8hhEVNdSljS4nk35+bx0EI8jTK5yzEdo0xDg2v8LwDeNofBi3FtXAELquG0uSHPr1o+FLMesSbpR6z2yj4WazielMxEqVL/btbKZfmzmdCMgx17ElwhSu20dzXtP37Qh+n7sRbbeFpv0AdSqZUchR5noAAAAASUVORK5CYII=",uX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGpSURBVHgBlVQ7csIwEJXkVNC4oaIRHVDBDeAGpEuXcALCCSBlqsAJ4pwguQGUlDR8OpSewmmAgk/eZuyMLFbM+M3I+qze25V2LSkY1Ov1gZTy+XK5xLvdrmmMiWm9Wq1qpdQnhiFatFwuX1yutCcJYYKh/t8g5WixWPQTR+/oniyKOZ/P7fV6bVhBhvAHRDpNxFviGhRpN53cOURw5BXDI8RCOYKRyAkc+cMrCBiRE4fDYc4Kaq3DIAh6DIcyHKF94QTGNRaLxYE9l7VarYM7ehNWZlNAYL7f79tM2TQYxwb7+xKZ3XBiBNxPxS4JS3QjeMTKJ0al4ooRaA0nmnsEQ+UxUKmEwo/YZ1A3jA1KlLtIR0b0LY5ASVP4dLnsEQqFwsQWpXGSFA7mdDr13V9vhM4tHYM2pQGuoQPnoRPVGJUwTCuBexx8GWQBQb1arb7TuZsULXICghV7nhFEdD2RE+A8egXh7UfwUUzR+Wov68AhDpmMR7ijNt68JsZjZz89sJlXO7An2+02RhuXSiVKVgOEGf2ftE72crk8Ox6PD8mb+QpH96ktxS+r/deqabcYqwAAAABJRU5ErkJggg==",dX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAUCAYAAACEYr13AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEtSURBVHgBxVNLTgJBFHzVw2xcGBYmuOyVGYmTtHoBvAHewBvgFTiB4QTICZwbwBE6wZiJLsSdMS5YG+2yZ5Q4dkAQFtSiP69fVb9XnYYEaDaNYQ19IUxwNHn/cOcPd9ZWgyoUYKRu5pAL6FhF/TBYCiRHppUkRhdriNRlAQiaWZWzfHWQnrYBNUSMUp2UgSxUkF4xuQhXiNVjcTGS9HgIQeuL7M7yWztKUnMhVLrKdXD2fmyzkuQv/FYc4TA9YSVv6nvo8s1leW4nVQGtTX1nV3V8FZf8aXMaCvwbSjbE9gVqv3b+mSguq4Ygqu2HjqxSgYJwTsafJm//FZZ6ECL0ZLkHIQJPNveA/kPImgBpfQscyJpwYC96fXm2e43GEyhagP1ViKSvGuzmY3v9CWcyac5HyE80AAAAAElFTkSuQmCC",hX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAHFSURBVHgBrVQ7bsJAEF3bFIZqEUJKuXR8muUEcW6QNhX4BrlBwgnIDTAnSG6A0yWVqYDSqVJA4QrcgPPGsiVrs8YI8aTBeDzz5rtrsQpIKXmr1fqFfO92u7DK3qwyiOOYJ0nCTdMU7AIYxRchBK/X645hGFyxu4f8QMJcgSARZLnZbMJ/hETUaDSm+DvWBA1Xq1Wn1+t5CDRSP4LUh7g5cVoyyIISskglVw0QxEE7gm63K1LCfr8/piSZBsiseTqd3MzxjTLFc6kx5dDPUrvBYBAgZcn08EDi5i/IYoRsvBJbtt/vm+YZMsIYFcwuISPYti0NOCSsAiiHJsqr7NCehxp+OkUlsuDQSZC8QATpNGQT2PhMGRJ2NqrBSRb3jvYLK+ChRHJY5KSFLNzsO03XUQJ9lJUcosFD9OQRTrOCPh0SBjlF4GemKflcDydwfsX397yC4/FIExcIstA5VBFGMBiqRwv2dAhkGWGNlYNblhWAQD0t4owPI0Jy0K5ENt3KdSnCLDlK14C2wzfR6Am7AVDNnJ4W3cLtdpuuMYddCboXD4eDG0VRbJFiu936uOI/s/W4g9gX8NBx/ILPfL1ePxEZKf8Au/rb90o+kkYAAAAASUVORK5CYII=",fX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAADFSURBVHgB7ZWxDcIwEEX/2dBnBI8AG6QEOiSQqECZgBGADWCCBNr0NDTZADYgI7gPtnGkFLS2IBLSPemk78J+le8TIpisciWNvDtANzDzW5k9EIhABPQSey9NfFRDyC0iiBJ/AxazmMUs/j8xzZb5COH7NvWjulz7qRCAbczBiy/Pj0f6QguCS9AzDk4PjLRjYeQu8GJKINXl2ucKARDsiRDBdHEuiGjTHYtruc4QCP9jFrOYxSz+rZjIHtty8BWh225FBG/RdTX5I4gUPAAAAABJRU5ErkJggg==",pX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAFxSURBVHgBrZTLcYMwEIZXGPtMB6aElOAOnA48PvMYXEGSCsIM3EMqcEqgBDoIqSD4ziP/ZpAjBGIS4n/Gw0pafVqtdi3IoDAMD13XPcJ01XkhRNG27VOapm9T+ywTELBYh/Xzd4C+mPZNAn3f3+HjkFmO53nbqQXBm3Gii2s4tm1v+dvD7mleuWVZRdM0F0Rdwa5gFzZgZwbwBGAVFsvvk4TITCT4uPwFgINxOCAer1arkqIocuhGYpaQA7zqA06OaD53Jp2SJOFH/HkUwHYLYbx3L20V+EELhRxeRsB/6lMatjJZaU4loj5NzBMq4pkLXI7V280B+SqyJgcCwJhrW9lcamsufsYWU4X6LaV9kxxyU0j7GiF3CKLUfTPU11GdQKtm8DtofmMgtx1aRwfugiA40zC/e5rRFbjZbLi59XWXJv7CdOF279JWc1jRQq3X63Fhx3HMwJz+KESX93uHQBZyeITDK/0uWvbJ6roePNoXan2dBlLONocAAAAASUVORK5CYII=",gX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAoCAYAAAB0HkOaAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAGRSURBVHgB7ZjtTcMwEIYvVf/TDfAIbEBHYAQzAd2AEVomCCOwQWAC2CBmgpQJjjOJhZXGH5fYaSvlkU6t7LP99s6fBVhYuGIKmAAiSvq4JzuSfRRF8QYpoQEeyGqyUn/3+O3xFN1Okm0gBdTRbmAALWxr+Uj0Y9oImIoemOy167Q/yH6g3EWDnuimFBaLFpQmbT1hOj0V8pGQC+pcMKOVLlUBYTJClIA5wXZuVQNCajgXVgptytmjs4iaIKqy5xLZM5yT/uqz64ouXCWZgLQoskc6yRU4RGkfqn+3Cw+YjwMwWJGlPzf+ueE4azEK8vHNcV7BBZE7MorjvA7Uv5B9BXzuyJ4cdUfggO0B5yJqcnvab4HBOqC+og5DkRGQCLPp5TrmBW1q0StKT2BeXnn8cJz/HnE6uQE/NVC2gcCGSVHhPxKxvcG72Hna+Y6SBpiYTc+XqltPnW/AcemnX/GJ6amASUxkZsOIYR1okbBWkiZnZBQwMWLS/q8ytU88vcFPgXXDcwkyD/tmhIC6aythJL80cRW6FkW+5AAAAABJRU5ErkJggg==",mX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJVSURBVHgBxVfdUdwwEF7J1uXCkMFUgNOBO8iVwAyY4S1QAU4HpAJIBQmv3DFzHSQlkAqiVHC6CUOc8VibFRyDf2TLBh98L2dJn/bzan/kY9ABi93dYDwanSDiEQ3DBto1Y2z+9vLyM3QA70IaCXFGoqctogaR4dweHJxBBzAXwXj7RogFdIf6l2Xvt+dz1UZyeuz7fgT9EAghQhfJKUxH0lcYIM+de9if/f0JqU9IYIuSI6C5EB9jGcLTIe8EVr9mTDmgyPYSKQnZbRwj9ACRFRkrxi+E/lC+Bjj2AD5oxN/GKDCm6M0kea+8LFNjI+RIlNKLUTKmFOdciIDsmBMkkyxkiKF55ozt0PxPeC2UymlxeBiO8/wrPi+2NhGZZtkxlZh8mPOLBJFlCXI+gYFhHBGel9Bj8jBXKqdVVq8FHudbxXG1jiWsCSZ5oUX4xVASpsKWsCag1rI49rtu1Fp/Ac6vHaSIc35iXaK+0ChsGgdlmG0fZHl+un115Wwk1AmtwqxNuLpYBF2N3//GcbvH932+E0rCnucpzPMmboRPualW2NT6V3FcSq40TTv35L5QWi+L41pAO9xWsjpBGwIy1Np8NqbTkpZvMaIajSB+2pjNzm1LN3t7500ZDeVr9A61BsIspEc232laovxo+y6r2ax7TF8JrKGkaDGhUCT2peYIMVOmFdQ85i0lNSRqwtVmPgSoay2dwuaoYWBU+7RdmL4AYWhhi82a8LvZ7Acd9wUMBHO5GJvV+ca/MDdxfOQhfqT4RK7mYIGkmEnae7E5nX6zEf4DgCHmz3V0b/oAAAAASUVORK5CYII=",kX="/assets/background-43403014.png",bX="/assets/ellipse-f10f8c78.png",wX="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGQAAABqCAYAAABK6PQkAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAvdSURBVHgB7Z17cFxVHcd/53E3m02ThjB0ACkoDpVxHGQQEIHRlop08AEDSFvoDDIKCDiMDPiCGQwCxREFpFL5A2GK8upoWy0CGaEFAWfsQ+UlaRmoLZIWOoQkG5vsvefc4/fcfWTTJptN9nVvcj+wuZtsutl7vvf3+53z+51zLlHIMcY0e8YsxDFFMY0DArC+vr6PK+WvUUoNeJ73p2Fv+Ez83KGY+rLaGOG67ikQYZvylFHKw8Me1QCe/35wcPDQzs5OTjG1BxaQ9DKZ73tK9eREGOsxkMlkbsXvtlJM7UADH660XhE0uqeLLeOAhxccvU2ZjPo6/l0TxVQXNOrRnqc2KZ1vdK+kINnXdPDcVe6q4eHhY2zcoYgTihOA+zlWSrkODfoJmjpp6LFicJDf0d5O/YwxQxGkoYKYIHjrc6Vk91h3RRVhT8XgPWmrMf59juM8ClH+RxGjYYJAAKkz+iyS9Ci+rTA4W2Ngo4+GbTQkbpSSNkMYRRGhIYJADK61vghPV1LFYpSGEbvX9dxfJJPJnRDGp5BTd0HswA5iLMY1vJLVWIysxVgY4ou5K51O39nR0dFPIaaugmRH2XqR1vQw1VyMwl/Ff7CTbHzZwpj8+Y4dtO6YY1iGQkjdBLFuyvP0xZzTvVQ3Mcb7LLQegf8WBP5/hi2+1EUQG8BdrZeIOsSM8jFpnP5aIcSP8c3OsHSTay6ItYyM1osk0WP4c60jfr3R2FP3rbVs55zfj8evIcogNZiaC4KB9AWIGw9QaCxjbHDhbMXhBgxQn4cwDYsvNRXEpjPgEp7ACc6jCGCyX9ZprX7Q1NT0Fj63pjpTM0GGhoY+hqttNTF2YrQSTOiTMd4DV9blikxniqV2UR2pSVu9/76Z1dGhn8XTkynCIDeG+KLv5txZBWvZR3Wg6kUemwqHGLdTxMWwYGA/D32SlRjIPo9i2Zlvvln7NH9VLcRW+s5x3cVC8IdDkkieMvms2EiOzGC0T89kpLyqhei9WnWTq9pqiBtfdKTzEN71MJq+pLUxKxJS2m7yf6nKVE0QuKojUTCCrzXzs54wkuWIiQlMx5Bv+Dbum5t6+3ufnDNnTtXGL1URxOaofN+/G+mIq6r4thEgcGebEGMuTSQS26rRTa5KUMenOM/4Vgz7AWeKGJbAC5yMsdbrEGXF0JA5urPTVNSmFbcerOPTqIM/hXzqdI4bZWGY2Y5szAOuK3/b0sJ6aApUJIidsqOUehym+jWa4WR7Zdn8GJ5tRtvchIHxBrSNO5n3qci8XNc9H39wAcXkruxCZ/kktMtTcGMvoY1OsNnuyb3PFIC//KiUqisqeaqGwSiNZMyDynXvQhl510Rl5CkJYmeLaO3fj2ffoJiJMXbUTz04XN8rxPo5JdL8U3JZiBsLMN74EsWUBws0ORxfH+nQZiPSMIvGm205aQuxywOUNn9m5C8YSSvETBJUK+lZjN3yZeRCI07aQjytlzEyQSBnsRiTw+QeQeWUzuWcPaGUf/eHxrTnp8FOykL6+/s7Zs1qeRVJtgpnGcYUAxHSSusr0L7ry7YQWxtPpVLf8iue8hmzP9ZoOJenJJOHNJUtyDDRXM75N9mMSo3UHlzoG5USJ734Ir+urY19UNaAxfo311VLjYjHHJWRv5jt3GOzW2l22d69ezbMnTt3aP/fKAkGgUclEn5XhcsFYgqYNa7rXdvc3PzO/oWuslyWlP7SWIzKwdXfg3TK0u5uuRTxeNdYVccJLaS/33S0pPRr07wKWDuClREYIPj6d8PDw9e2trZ+UKr8O2EMmZVSl+INYzGmCnJZnNFPuOOsQBFrwgl4JQWxo3Kt1ZKRgn/MZIAl9KBnehae/rvctSklY4jr6rPxthGb6NY4Rvshvh7x4mwI8dpkFgqNK4hNfnFOV1JMWWRXoRS4Vwh2CVzUyzRJxndZHh3LuJ3sZnIpxNhOSsGy9cI04u0qwfkPp7rgdFxBXKMuFEESLE4hliK/OitYNkdmGcR4erJl22LGdFl79uxpkZJfQDETkrtc075vrhZCPFWJGJYxBWk7uO04xJA4TTIhzHalIIZ/teOIhyGGRxVygMuyWV3fV4t9E3d1xyJwTiyYvGgDeRpfLkaR6elqLbk+wEKGhoaOQC7xwjhyjE3QLtn/bdVvCdxUVzUsI88BFiJl4gwcDovtYzxYEMglqctJJLqqvcpqlIWsXm3QSaATKaYkvlG3Q4w1tVjyNsoM9u7d29rR0dFt4qrguKBtfiql7KzVwtBRFtLW1rYwFqMkm/ukXF7LVbqjBGGcz6eYMbDbcphtg0otPQTdXKohBUE2GiM5Y6dTzBhYEeQ17cnkW1RjCoKcMDDQhsNnKGYEk0uKMHablLSB6kBBkGRLyxkUU0Ru9Ee0ZS/nv6rXJjUFQbgxp8YZ3WKMLb1uN7647NA6bhUYCBLsY8XYafHovPiCZGlm+B2OQ69QHQkEgfwHowrfTjEjcPOsEPRIvbcFDARJePs+whiPs7sjHiLtK//Wem2nUUwuhjjHUUxhWRpc+D12mQA1gEAQXAnHU0x2uSbj3Z7n3deoHUy5XZ6GPx75jWKqgbUQpVRnKpWq+pYZ5WItJAlBjqQZiyk6mk2JRGI9NRDe29srpsMm9lMnv8CCk9bsjkYE8mJ4y+zZNn81g6eK5kZfzNyXSIh11GC41DpJM5ogP5H2tf9gGPbw5STEDM+X2DmH9MZ7jvMqhQDu+/6FNIPJXY0/m8vYEIUALoT4F2VnUBQxc3JahsRm0Su6KCTwt9/md6KXdRY+2Vaa+vL1yIJzf5zNafyO1nkK8cOuBYH7uso35rrs3lczwkrSg4PiqPZ29iGFhIIpoIcxxDm/UwrxOWP85VRwY9NPmKIzWjt7NvVRiBg9yYEx1GTYzpel7ERs+SpeXmdyO6dMJ3Juwd7k5aGw3TysZJcXHziBw0me8n/D2XRbhWu2CCG/0OiR+f6UjN65qfV/G0z3fxbHK5gx27OvZC8qCEZRBVndJ3EIRVe3mLIHhbldqz+JOLMMZ3Mls7c9ZdEdU6IDcyISiVspZExlvyyuFM2H670RpxXNmSoG7krKz7OQDAaLmfSAwxZuHIdtQMblyyRosZ3RF7Woj679KzffTNPzpmD7jDlCKLUMGbHbA31NbpeuELszremCpib5BwohVWu1gYHheamUvAHd5PPwbWuYpxSl0+mDQKjGH3mqehnbbjJKoNY330aUXVKdfaEwC7Daf7J88ndkNeY5KeVCFtK7flY1aWW7yY7jPINB5Rmkyd5aNZ2dkhm8Sg1dlZW7wRRx/lJYxbDUJItoF83LJvkoBl5Honu5Ag2xO3ghBF5Mcr6FQkxN07oQpm/5cue7Gd98Ba7ij8RZurGiBBvkb6YQU89brzZllFogiG6BUA1YxxgsLHgX7nRe2NIlxdSt8GGXgSUd52kE1Pnodl6MH+2muhLcuWAthTBdUkzdK1E2viQS4jHP8041ht1DdaxWMiPcsGV396chpUHby2lubv6PlPx6uJD5NpVRuNVDzaaI2fUe5q8Uchpaq7U7IODxD+SVTjNGLiLjb6EaXcA2gYAe3zsUckJRPM+OX1hXxnXPQXz5Eb4v5MeyXyu3GqTbbUEqtME8T+gSTjabjMNRWuvv4XjlyI5UFe/8iIKUOL2Rd4Iuh9BNL7HxBY8dL7wgrtF66FP4yd9Nfr+2CsjV0kI7Qs8T2vk+CxYw1dTU+jqu6oWazBJE5G6qCOM991z46wSRKfnBlR2BoPxtHK/Bt62ju8cTnwb+7ePIsy2Nu71Vwt53FuXjm4Yx0oYWa7K7K9iPX941BUvbFHYxLJGaomjjyyzG9ggpLlJGnY/YkltcY0b1yaJMJOeMZtMwyb9IwZbY/Q7xo91sgl4Yfo+iQKQn8dokYSKRWIk0/2k4lVV0QBpmBHSjK9ottF5Mi1nVtpvc3f3G5UILO39sU9Hdtwpwx4mGiUw33jUmpTKZxUheblHKM56HaKOUGXbd71BM40D3uNV13V9CmJ5YkJBgVxfjcbyn1FqIcwnFhANbrdzZ13cQRYD/A7kmcZs4b6rMAAAAAElFTkSuQmCC",_X="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACgAAAAoCAYAAACM/rhtAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEgSURBVHgB7dcxTsNAEIXhN8YCIlEkN4hPgCkpkPCJwEfgBMCJjBQIbXqE1pwAd14ha5dxqkBSeSbSFvMVibWF9Uu2rBlAyfrL3706//3mvFt/+nsoIShoXL88Bbndsx+cLaqCOghlUJADy/0zX0KBSuAxWaCUBUpZoJQFSlmglAVKJR+Yjz+Ni/N8mD4enYAu478zApWrjx5TDTnaqpi1NE7CMeAJCaKAmsYRHQcGzjRQN76DcyQrdhm/Ow9IFLc9b5emd156BsFjpkAlZXj8e/NQR9AGE13gfHPFS5fKVrdy/W0GanbPAmJ1U8xeIGQfaikLlLJAKQuUskApC5SyQCmVwAF+b+7jbayFApXAqlh0PP3WfNny//b6mjcyKPgFV5tQVpVFBKEAAAAASUVORK5CYII=",AX="/assets/Ellipse_side-5e01d0e1.png",vX="/assets/signup-1ffaf15c.png",fB="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACMAAAAuCAYAAACiR6CHAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAunSURBVHgBtVhrjF1VFV5773POfczc6cy00/Io0pbio4GAJoQYQmiLgAREFCdCkNAYQ+RHaWNCg78shl/8gQpRIYbUqKWQUEtp0KTaDjEqpr6oGkqL0GH6nM7jzp0793XO2dtvrX3u7Q22Yml7mt1z595z9vn2t771rbWPovNwuJUrg+m5xu220bjXpMl1RGrIadNLgWnqwLyvij3vUaHw0tTFC7ct3by5caZ5FJ3D4ZxTR6/53NfDeuMHqtEYUjybMaTCACPEiEhHIZkoTzqfIwAqUxB9vzDU/5x6/vnaeQNz4vrrFyVTs88E1dlhspaUwWQmAJiQdC4ilc+TKuTJ5AAklwOGiAy+IwxL+l1ccaf6+QvvdM+p6WMcY7fdNmgnpl8zM+VhF7dAUUpksS6nSGsemhAekGRIgyEDcARmHADx32GpuNwWot/UH1574zmBcUzAu+8/qyqz11Eak0JsFE+jAMBoUoH2oeJ/FjekFlidXGOCQK5jGnWptBiBe8099tiyjw3m6Iqr16jZ6n0CBLdLnMGEAhCnA+iIBz4DiEP4XByTbbVwOUaSyHKUZSYR2p7iPFttbHPrN/afNZh/Dg9Hplb/rkoTAaGUE2Y0ny0PPIC5k8ECZ1asB1OvU1KrCTj+npJYrlFBcE1C1fXymc7iOHnVtXfYycmd1GyILmSVcsY0Ossg6IKiUETLWeX4dwhb43sWdFgsUtDXS6ZQJMdaUgHZ6tzUTG7B0uBswFhr79RgxWVrUIg/0pspwGemHg+WEBgfog5T+CpmYRvovEGWUz8AcNznFFirzAwWzOytHwlmes2a/nq99aCu1b9tRg99msPi1ClCGYvySPHwlDiElAAksokv88yQqEupWP62tTqHB2zlyCJcttmkuN786v8Ec/gbDz5cn5p5XFUqQ8xHlKaiEcnijjpcB5WCQAUo0lslxqN0xv/M12uASQE0QWgasATozLKGROTNz58WzNjw8CCc6WV9eOxmVa2KURVK8yjUU5jbiCj5OSn/J8isp4jP1kqonNAF4zP43mYTA6RrgRlxSC2sOIsFcJaldjA4DZDlqtbaZSZOLlEzZVyUUFALKZgqw1xD0I9VwTc4I3TGisoSSM6pmAsYbOLhAA5UyiQZeUqAWT4zw2krAy/zhaYbyKEHvrVUV2Z/b44fX6zLANJE+agjc+pNMjFAgSFtT6WufwACwA/s+g7JnHkQ/jEgcZAMOv+n/H0CpM0yqZMdMAfXrs3lp6b36hMAMjMDIHWiVkyGMyL1I8gXKOBMEGF6AI79xWVZg7N1iYDwRgQRaw+IQ8TmKENcm/2pwy3A0JudMBXHp3+kJyeWqNlZiC8W6rRQ77zQUH+SuRpFixZ6+y9gNfAbZ6uUMt1pKlpR4j2hZ6Cd3tAF0Gex9NphkPwbSeQc16xtAubw8H2r1fT0Gl2eETY0Uy83aAEiYsCqGYzF3wZFL0Tq6v4BTDxOrgyGUt8RKJiYY2G4Nuneh4gy9owSkogBygd4T2prqlT8lS8H1dpDplJRqtVAOFJhw9u88oVQBi5FfWmOTxH19iIChoJ58yj3mRUUDQzAUXuwupyEUNLckf9MqhMWXiAnl0pSKQdieswe0ZaB118f1WO33HOlmasNmwZWlqQ+/pwpTLvz4pLBxRDDNRJKJhHKQkEMzlx8EeW/eDtFy5ZR2NdHpicDxRWc2RWpAATuDVjoMDjCs7QIHOlt09FmPnyCYZvvLFtyT1ibu0vX50i1EmRL6oseA7HUAUNZFxciDKqGCSFm3Vvw8V9yOQU33EAaTKnaHMKspKniWiWdHqyfWXZgXqyip1dqWOpcNS0UvrZwZPc+fkQAV71Dx01xT6m61huXzkxK3Es0k1k/N0/IEjdZkRqjuUc5cpSor5/M6tVkVq0it38/uQMHyJ2AnqYnYf9crTE/iqdBoSTcE4Op+NJLJwZf2vK7dhIFxtkVRjLBtwASb8riLurXXi9t1w/YNQKZkJl001VgHYPwkVGVCtFli0lddTXYWkL097fI/WOfhE0m4DDjOU2cWwgjRdHlbsOGknryyVkPRqlLOtmuqCuDyNt79oNSPmA2wIgCaCAQI+OQUhl6qwHQ8XGit+dB4D1yr6vO4XMJ/XBBrD9ttiiGLmOE0nIhjRM13mhcjYn+IGAwd+ioK2MQEiMp13bUtoF505IkRcHTUcEDicGqBmiEgWYRjrFxKZZpXw9u4yLYoqTRpJR9BVXasQFyV4jrXavO863ogNHIcdAR+R7WSHh0W7BK+d4lAyL9rfPsOdf04uWrU5s5iqMEFSbm+yplCk8coWT+ENkeMMNz833K61AKJFfsNM11NKOtncKk/ZwpAoKdVzq3TMA8sc40EnrDVvJwPBrCT9ELE1asuDcB9TEeYusIW2WKYqQ5Bd552Uhdu7I7ly1Uw25sfAqMcn8EkGXc7AhoZl3qR+bg2mTtJA+kMtcmXMRl30EDLNwUKcvApGiyX+GzrJ5bBTY4hJU1L8HPiqSES6q6Gz2VTdrsQY9yv862EU77iiuFENYt2w7uZ2FyxGlZxJlbRmhBQaAWbYZBCbFZ9yf+hOxMYx8Gr718+3l+oyflBmUAo16d+UsXmMKvrWlJG6gAxEp6Z3WJFQ9GiIH0AAjTDsMSUEz3XFX2Sq4yA5t3XGOwjMjTS3Uwxi1lmtUn67tEnfXJYDgNzLFPvfjiRAeM2r3ziL1x9XYY691SdTk24jFGGBAgpV6pRzJ6Sp4d9gn+PsFD8FAOjUH7YPke4IG9+kUhnLYV+00nM55yB4BRyFGiaC91HaLINKRnUPbuAhCtpHUk33fwVoKZ6Cv5Ac8gbDHkew5rgkToR1s6MZntCnwmKuBRtuAJUb4wImvIoVFjC7Bg25oILLmnusFIAoW7d++Gze+kLGuYQg4R974SHmak1IdR8obGbPFvfC70+Hs4dY0XJbOmYYy6wJv+vA911lQxKw7soSYdXLp168h/MeOVZddBqTfiPMA9h0zKk2BSwqRevMxK3oeIR+L8bxwafgHA5me6vFK21bCMphFfYsIt99BYkArMBvrQ0dneqpGRQ+9d+9lNFIayOxQ99MHac6FfOYPIgQlkFr9RYG+hfCTVW37PGOGFqNDrTQW8q8TAdcIO75WgNx3lf3jp9le2fxhMh5ktO/Y89Sey62fmD9K1e9+UHR/19/kQiU4YQCSDPcJnssuA4VqsXrYt4sjO7zbZJiBqeXmDlFaR4VC/NZTXj9JpDtMGgplk8z1x0SWw9BxdfOyo100/2EHTJNpgMLJiP7k4NBvf8RMwv6a3FNfebfp0dqhdFhmVwomTYs++eKB0a2nHjvJpwfzsl7tWQls/7v5yYtFF9LeJ43Q5tit5bg04dMW8ZyDIwtGOcgMZcvwYqnbdV3vOqpRTmR06FiC8BXfF/MtxX+/di159dZrOcAQm0Ou6tjxiTPValXaM/pv2L1pE3wQry8c+wKYbve/ChUQLFnghM0BWaer3PmL7LGL2nKQlf/NGD1uzwzDQ75X27H6BPuIIkGkru9+LcOU+dOBtimHlKdrINz55Jc0N3kRXfDBKvfv+6ru6YubGfOaHc1+bNn3HzxsPLoKhGUUz8hOUz2fVyJ4y/R8H2hnqP8WKhk7zNHvyhBSzOl7wFOYtpNJNtxLaJpqanqDCwXdoaOvmXTQ+vhxhuwysBmKrQTSFMI2BixHUqVcOJ+mfl46MNOgsDvWLHb+dbgMK8Kp0YHAQ3ZalbT99juqzM/TQo4/T4OJPdN9TvmJ+MMAf+NUrPfJI9K/5891VGze26ByPAIyOYHV3s1ZC6KCIrBlcMETrnnj6tDcAwBudlSjZ6jfpPB14EWU3tf/gV6Uhvx415ow3IHpP0wU69ANfuWUEqxVAOtuoKaXOAMRtunIoHKELdIhh3P/lL6yH/jfZrDWU9vA0QJYvCNfTBTw6teneL928PnXxqiRNtqPct1OxDD1tx2Z/1YUGwsd/ALV/a+NUyH79AAAAAElFTkSuQmCC",ig="/assets/hand-0c8acca7.png";function yX(n){const t={backgroundColor:n.id===n.currentNoteId?"#c0c0c0":"transparent",color:n.id===n.currentNoteId?"black":"var(--second-color)"};return te.jsxs("div",{className:"sidebar__notes-container__note",style:t,id:n.id,onClick:()=>{n.setCurrentNoteId(n.id)},children:[te.jsx("img",{src:dX,alt:"noteIcon"}),te.jsx("h6",{children:n.noteTitle}),te.jsx("img",{src:n.isStarred?dB:cX,alt:"unfille_star",onClick:n.starred}),te.jsx("img",{src:n.isTrashed?hB:pX,alt:"trashIcon",onClick:n.trashed})]})}function CX(n){const[t,r]=J.useState(!1);function s(){r(!t)}const u=n.notes.map(h=>te.jsx(yX,{id:h.id,noteTitle:h.title,isStarred:h.isStarred,isTrashed:h.isTrashed,currentNoteId:n.currentNoteId,setCurrentNoteId:n.setCurrentNoteId,starred:()=>{n.starred(h.id)},trashed:()=>{n.trashed(h.id)}},h.id));return te.jsxs("aside",{className:"sidebar",children:[te.jsxs("div",{className:"sidebar__header",children:[te.jsx("img",{src:lX,alt:"profileLogo"}),te.jsxs("div",{className:"sidebar__header__text",children:[te.jsx("h1",{children:n.user}),te.jsx("h6",{onClick:n.signoutUser,children:" "})]})]}),te.jsxs("div",{className:"sidebar__icons",children:[te.jsxs("div",{id:"star",className:"sidebar__icons__star",style:n.starClicked?{backgroundColor:"#c0c0c0"}:{},onClick:h=>n.show(h),children:[te.jsx("img",{id:"star",src:dB,alt:"star"}),te.jsxs("h6",{id:"star",style:n.starClicked?{color:"black",fontWeight:"700"}:{},children:[" (",n.starredArray.length,")"]})]}),te.jsxs("div",{id:"trash",className:"sidebar__icons__trash",style:n.trashClicked?{backgroundColor:"#c0c0c0"}:{},onClick:h=>n.show(h),children:[te.jsx("img",{id:"trash",src:hB,alt:"trash"}),te.jsxs("h6",{id:"trash",style:n.trashClicked?{color:"black",fontWeight:"700"}:{},children:[" (",n.trashArray.length,")"]})]}),te.jsxs("div",{className:"sidebar__icons__notifications",children:[te.jsx("img",{src:hX,alt:"notifications"}),te.jsx("h6",{children:""})]}),te.jsxs("div",{className:"sidebar__icons__settings",children:[te.jsx("img",{src:uX,alt:"settings"}),te.jsx("h6",{children:""})]})]}),te.jsx("div",{className:"sidebar__notes-container",children:u}),te.jsx("div",{className:"sidebar__new-note",onClick:n.handleClick,children:te.jsx("img",{src:fX,alt:"addIcon"})}),n.trashClicked&&te.jsx("div",{className:"sidebar__delete-all",onClick:n.deleteAll,onMouseEnter:s,onMouseLeave:s,children:te.jsx("img",{src:t?gX:mX,alt:"addIcon"})})]})}var Cm={exports:{}};/*!
 * @license Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md.
 */Cm.exports;(function(n,t){(function(r,s){n.exports=s(J)})(self,r=>(()=>{var s={703:(b,m,A)=>{var E=A(414);function C(){}function v(){}v.resetWarningCache=C,b.exports=function(){function x(L,R,O,z,U,$){if($!==E){var Y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw Y.name="Invariant Violation",Y}}function D(){return x}x.isRequired=x;var M={array:x,bigint:x,bool:x,func:x,number:x,object:x,string:x,symbol:x,any:x,arrayOf:D,element:x,elementType:x,instanceOf:D,node:x,objectOf:D,oneOf:D,oneOfType:D,shape:D,exact:D,checkPropTypes:v,resetWarningCache:C};return M.PropTypes=M,M}},697:(b,m,A)=>{b.exports=A(703)()},414:b=>{b.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},787:b=>{b.exports=r}},u={};function h(b){var m=u[b];if(m!==void 0)return m.exports;var A=u[b]={exports:{}};return s[b](A,A.exports,h),A.exports}h.n=b=>{var m=b&&b.__esModule?()=>b.default:()=>b;return h.d(m,{a:m}),m},h.d=(b,m)=>{for(var A in m)h.o(m,A)&&!h.o(b,A)&&Object.defineProperty(b,A,{enumerable:!0,get:m[A]})},h.o=(b,m)=>Object.prototype.hasOwnProperty.call(b,m),h.r=b=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})};var p={};return(()=>{h.r(p),h.d(p,{CKEditor:()=>Mo,CKEditorContext:()=>Gs});var b=h(787),m=h.n(b),A=h(697),E=h.n(A);const C=new Array(256).fill("").map((P,N)=>("0"+N.toString(16)).slice(-2));class v{constructor(N){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof N.crashNumberLimit=="number"?N.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof N.minimumNonErrorTimePeriod=="number"?N.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=F=>{const W="error"in F?F.error:F.reason;W instanceof Error&&this._handleError(W,F)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(N,F){this._listeners[N]||(this._listeners[N]=[]),this._listeners[N].push(F)}off(N,F){this._listeners[N]=this._listeners[N].filter(W=>W!==F)}_fire(N,...F){const W=this._listeners[N]||[];for(const ge of W)ge.apply(this,[null,...F])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(N,F){if(this._shouldReactToError(N)){this.crashes.push({message:N.message,stack:N.stack,filename:F instanceof ErrorEvent?F.filename:void 0,lineno:F instanceof ErrorEvent?F.lineno:void 0,colno:F instanceof ErrorEvent?F.colno:void 0,date:this._now()});const W=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:N,causesRestart:W}),W?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(N){return N.is&&N.is("CKEditorError")&&N.context!==void 0&&N.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(N)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function x(P,N=new Set){const F=[P],W=new Set;let ge=0;for(;F.length>ge;){const Ce=F[ge++];if(!W.has(Ce)&&D(Ce)&&!N.has(Ce))if(W.add(Ce),Symbol.iterator in Ce)try{for(const Pe of Ce)F.push(Pe)}catch{}else for(const Pe in Ce)Pe!=="defaultValue"&&F.push(Ce[Pe])}return W}function D(P){const N=Object.prototype.toString.call(P),F=typeof P;return!(F==="number"||F==="boolean"||F==="string"||F==="symbol"||F==="function"||N==="[object Date]"||N==="[object RegExp]"||N==="[object Module]"||P==null||P._watchdogExcluded||P instanceof EventTarget||P instanceof Event)}function M(P,N,F=new Set){if(P===N&&typeof(W=P)=="object"&&W!==null)return!0;var W;const ge=x(P,F),Ce=x(N,F);for(const Pe of ge)if(Ce.has(Pe))return!0;return!1}const L=function(P){var N=typeof P;return P!=null&&(N=="object"||N=="function")},R=typeof ns=="object"&&ns&&ns.Object===Object&&ns;var O=typeof self=="object"&&self&&self.Object===Object&&self;const z=R||O||Function("return this")(),U=function(){return z.Date.now()};var $=/\s/;const Y=function(P){for(var N=P.length;N--&&$.test(P.charAt(N)););return N};var K=/^\s+/;const j=function(P){return P&&P.slice(0,Y(P)+1).replace(K,"")},q=z.Symbol;var Z=Object.prototype,ke=Z.hasOwnProperty,ye=Z.toString,Te=q?q.toStringTag:void 0;const be=function(P){var N=ke.call(P,Te),F=P[Te];try{P[Te]=void 0;var W=!0}catch{}var ge=ye.call(P);return W&&(N?P[Te]=F:delete P[Te]),ge};var Ae=Object.prototype.toString;const Ge=function(P){return Ae.call(P)};var tt=q?q.toStringTag:void 0;const ne=function(P){return P==null?P===void 0?"[object Undefined]":"[object Null]":tt&&tt in Object(P)?be(P):Ge(P)},he=function(P){return P!=null&&typeof P=="object"},ce=function(P){return typeof P=="symbol"||he(P)&&ne(P)=="[object Symbol]"};var at=/^[-+]0x[0-9a-f]+$/i,Ke=/^0b[01]+$/i,Oi=/^0o[0-7]+$/i,_n=parseInt;const Rt=function(P){if(typeof P=="number")return P;if(ce(P))return NaN;if(L(P)){var N=typeof P.valueOf=="function"?P.valueOf():P;P=L(N)?N+"":N}if(typeof P!="string")return P===0?P:+P;P=j(P);var F=Ke.test(P);return F||Oi.test(P)?_n(P.slice(2),F?2:8):at.test(P)?NaN:+P};var en=Math.max,Kt=Math.min;const Ze=function(P,N,F){var W,ge,Ce,Pe,De,Ct,pt=0,al=!1,$r=!1,ai=!0;if(typeof P!="function")throw new TypeError("Expected a function");function Po(dn){var li=W,Ln=ge;return W=ge=void 0,pt=dn,Pe=P.apply(Ln,li)}function No(dn){var li=dn-Ct;return Ct===void 0||li>=N||li<0||$r&&dn-pt>=Ce}function pr(){var dn=U();if(No(dn))return qn(dn);De=setTimeout(pr,function(li){var Ln=N-(li-Ct);return $r?Kt(Ln,Ce-(li-pt)):Ln}(dn))}function qn(dn){return De=void 0,ai&&W?Po(dn):(W=ge=void 0,Pe)}function Le(){var dn=U(),li=No(dn);if(W=arguments,ge=this,Ct=dn,li){if(De===void 0)return function(Ln){return pt=Ln,De=setTimeout(pr,N),al?Po(Ln):Pe}(Ct);if($r)return clearTimeout(De),De=setTimeout(pr,N),Po(Ct)}return De===void 0&&(De=setTimeout(pr,N)),Pe}return N=Rt(N)||0,L(F)&&(al=!!F.leading,Ce=($r="maxWait"in F)?en(Rt(F.maxWait)||0,N):Ce,ai="trailing"in F?!!F.trailing:ai),Le.cancel=function(){De!==void 0&&clearTimeout(De),pt=0,W=Ct=ge=De=void 0},Le.flush=function(){return De===void 0?Pe:qn(U())},Le},Wn=function(P,N,F){var W=!0,ge=!0;if(typeof P!="function")throw new TypeError("Expected a function");return L(F)&&(W="leading"in F?!!F.leading:W,ge="trailing"in F?!!F.trailing:ge),Ze(P,N,{leading:W,maxWait:N,trailing:ge})},sr=function(){this.__data__=[],this.size=0},Bs=function(P,N){return P===N||P!=P&&N!=N},Bi=function(P,N){for(var F=P.length;F--;)if(Bs(P[F][0],N))return F;return-1};var Zh=Array.prototype.splice;const Jh=function(P){var N=this.__data__,F=Bi(N,P);return!(F<0)&&(F==N.length-1?N.pop():Zh.call(N,F,1),--this.size,!0)},Xe=function(P){var N=this.__data__,F=Bi(N,P);return F<0?void 0:N[F][1]},Kc=function(P){return Bi(this.__data__,P)>-1},zk=function(P,N){var F=this.__data__,W=Bi(F,P);return W<0?(++this.size,F.push([P,N])):F[W][1]=N,this};function _o(P){var N=-1,F=P==null?0:P.length;for(this.clear();++N<F;){var W=P[N];this.set(W[0],W[1])}}_o.prototype.clear=sr,_o.prototype.delete=Jh,_o.prototype.get=Xe,_o.prototype.has=Kc,_o.prototype.set=zk;const Ls=_o,Xh=function(){this.__data__=new Ls,this.size=0},jk=function(P){var N=this.__data__,F=N.delete(P);return this.size=N.size,F},Qc=function(P){return this.__data__.get(P)},un=function(P){return this.__data__.has(P)},An=function(P){if(!L(P))return!1;var N=ne(P);return N=="[object Function]"||N=="[object GeneratorFunction]"||N=="[object AsyncFunction]"||N=="[object Proxy]"},Wa=z["__core-js_shared__"];var ef=function(){var P=/[^.]+$/.exec(Wa&&Wa.keys&&Wa.keys.IE_PROTO||"");return P?"Symbol(src)_1."+P:""}();const oi=function(P){return!!ef&&ef in P};var Ai=Function.prototype.toString;const ar=function(P){if(P!=null){try{return Ai.call(P)}catch{}try{return P+""}catch{}}return""};var Vk=/^\[object .+?Constructor\]$/,Fk=Function.prototype,zs=Object.prototype,Uk=Fk.toString,Hk=zs.hasOwnProperty,Wk=RegExp("^"+Uk.call(Hk).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const tf=function(P){return!(!L(P)||oi(P))&&(An(P)?Wk:Vk).test(ar(P))},lr=function(P,N){return P==null?void 0:P[N]},yt=function(P,N){var F=lr(P,N);return tf(F)?F:void 0},tn=yt(z,"Map"),Ao=yt(Object,"create"),nf=function(){this.__data__=Ao?Ao(null):{},this.size=0},rf=function(P){var N=this.has(P)&&delete this.__data__[P];return this.size-=N?1:0,N};var Yc=Object.prototype.hasOwnProperty;const qk=function(P){var N=this.__data__;if(Ao){var F=N[P];return F==="__lodash_hash_undefined__"?void 0:F}return Yc.call(N,P)?N[P]:void 0};var $k=Object.prototype.hasOwnProperty;const of=function(P){var N=this.__data__;return Ao?N[P]!==void 0:$k.call(N,P)},Gk=function(P,N){var F=this.__data__;return this.size+=this.has(P)?0:1,F[P]=Ao&&N===void 0?"__lodash_hash_undefined__":N,this};function vo(P){var N=-1,F=P==null?0:P.length;for(this.clear();++N<F;){var W=P[N];this.set(W[0],W[1])}}vo.prototype.clear=nf,vo.prototype.delete=rf,vo.prototype.get=qk,vo.prototype.has=of,vo.prototype.set=Gk;const vn=vo,Kk=function(){this.size=0,this.__data__={hash:new vn,map:new(tn||Ls),string:new vn}},js=function(P){var N=typeof P;return N=="string"||N=="number"||N=="symbol"||N=="boolean"?P!=="__proto__":P===null},Vr=function(P,N){var F=P.__data__;return js(N)?F[typeof N=="string"?"string":"hash"]:F.map},Qk=function(P){var N=Vr(this,P).delete(P);return this.size-=N?1:0,N},Yk=function(P){return Vr(this,P).get(P)},Zk=function(P){return Vr(this,P).has(P)},Jk=function(P,N){var F=Vr(this,P),W=F.size;return F.set(P,N),this.size+=F.size==W?0:1,this};function yo(P){var N=-1,F=P==null?0:P.length;for(this.clear();++N<F;){var W=P[N];this.set(W[0],W[1])}}yo.prototype.clear=Kk,yo.prototype.delete=Qk,yo.prototype.get=Yk,yo.prototype.has=Zk,yo.prototype.set=Jk;const Co=yo,qa=function(P,N){var F=this.__data__;if(F instanceof Ls){var W=F.__data__;if(!tn||W.length<199)return W.push([P,N]),this.size=++F.size,this;F=this.__data__=new Co(W)}return F.set(P,N),this.size=F.size,this};function Eo(P){var N=this.__data__=new Ls(P);this.size=N.size}Eo.prototype.clear=Xh,Eo.prototype.delete=jk,Eo.prototype.get=Qc,Eo.prototype.has=un,Eo.prototype.set=qa;const Xk=Eo,eb=function(P,N){for(var F=-1,W=P==null?0:P.length;++F<W&&N(P[F],F,P)!==!1;);return P},sf=function(){try{var P=yt(Object,"defineProperty");return P({},"",{}),P}catch{}}(),cr=function(P,N,F){N=="__proto__"&&sf?sf(P,N,{configurable:!0,enumerable:!0,value:F,writable:!0}):P[N]=F};var Zc=Object.prototype.hasOwnProperty;const Jc=function(P,N,F){var W=P[N];Zc.call(P,N)&&Bs(W,F)&&(F!==void 0||N in P)||cr(P,N,F)},$a=function(P,N,F,W){var ge=!F;F||(F={});for(var Ce=-1,Pe=N.length;++Ce<Pe;){var De=N[Ce],Ct=W?W(F[De],P[De],De,F,P):void 0;Ct===void 0&&(Ct=P[De]),ge?cr(F,De,Ct):Jc(F,De,Ct)}return F},tb=function(P,N){for(var F=-1,W=Array(P);++F<P;)W[F]=N(F);return W},ur=function(P){return he(P)&&ne(P)=="[object Arguments]"};var af=Object.prototype,nb=af.hasOwnProperty,ib=af.propertyIsEnumerable;const rb=ur(function(){return arguments}())?ur:function(P){return he(P)&&nb.call(P,"callee")&&!ib.call(P,"callee")},Xc=Array.isArray,ob=function(){return!1};var lf=t&&!t.nodeType&&t,cf=lf&&!0&&n&&!n.nodeType&&n,dr=cf&&cf.exports===lf?z.Buffer:void 0;const xo=(dr?dr.isBuffer:void 0)||ob;var Vs=/^(?:0|[1-9]\d*)$/;const sb=function(P,N){var F=typeof P;return!!(N=N??9007199254740991)&&(F=="number"||F!="symbol"&&Vs.test(P))&&P>-1&&P%1==0&&P<N},uf=function(P){return typeof P=="number"&&P>-1&&P%1==0&&P<=9007199254740991};var ft={};ft["[object Float32Array]"]=ft["[object Float64Array]"]=ft["[object Int8Array]"]=ft["[object Int16Array]"]=ft["[object Int32Array]"]=ft["[object Uint8Array]"]=ft["[object Uint8ClampedArray]"]=ft["[object Uint16Array]"]=ft["[object Uint32Array]"]=!0,ft["[object Arguments]"]=ft["[object Array]"]=ft["[object ArrayBuffer]"]=ft["[object Boolean]"]=ft["[object DataView]"]=ft["[object Date]"]=ft["[object Error]"]=ft["[object Function]"]=ft["[object Map]"]=ft["[object Number]"]=ft["[object Object]"]=ft["[object RegExp]"]=ft["[object Set]"]=ft["[object String]"]=ft["[object WeakMap]"]=!1;const ab=function(P){return he(P)&&uf(P.length)&&!!ft[ne(P)]},eu=function(P){return function(N){return P(N)}};var df=t&&!t.nodeType&&t,Fs=df&&!0&&n&&!n.nodeType&&n,hr=Fs&&Fs.exports===df&&R.process;const Fr=function(){try{var P=Fs&&Fs.require&&Fs.require("util").types;return P||hr&&hr.binding&&hr.binding("util")}catch{}}();var hf=Fr&&Fr.isTypedArray;const lb=hf?eu(hf):ab;var Ga=Object.prototype.hasOwnProperty;const ff=function(P,N){var F=Xc(P),W=!F&&rb(P),ge=!F&&!W&&xo(P),Ce=!F&&!W&&!ge&&lb(P),Pe=F||W||ge||Ce,De=Pe?tb(P.length,String):[],Ct=De.length;for(var pt in P)!N&&!Ga.call(P,pt)||Pe&&(pt=="length"||ge&&(pt=="offset"||pt=="parent")||Ce&&(pt=="buffer"||pt=="byteLength"||pt=="byteOffset")||sb(pt,Ct))||De.push(pt);return De};var cb=Object.prototype;const tu=function(P){var N=P&&P.constructor;return P===(typeof N=="function"&&N.prototype||cb)},pf=function(P,N){return function(F){return P(N(F))}},Io=pf(Object.keys,Object);var Ka=Object.prototype.hasOwnProperty;const ub=function(P){if(!tu(P))return Io(P);var N=[];for(var F in Object(P))Ka.call(P,F)&&F!="constructor"&&N.push(F);return N},Ur=function(P){return P!=null&&uf(P.length)&&!An(P)},Hr=function(P){return Ur(P)?ff(P):ub(P)},db=function(P,N){return P&&$a(N,Hr(N),P)},Qa=function(P){var N=[];if(P!=null)for(var F in Object(P))N.push(F);return N};var nu=Object.prototype.hasOwnProperty;const hb=function(P){if(!L(P))return Qa(P);var N=tu(P),F=[];for(var W in P)(W!="constructor"||!N&&nu.call(P,W))&&F.push(W);return F},Us=function(P){return Ur(P)?ff(P,!0):hb(P)},To=function(P,N){return P&&$a(N,Us(N),P)};var gf=t&&!t.nodeType&&t,iu=gf&&!0&&n&&!n.nodeType&&n,ru=iu&&iu.exports===gf?z.Buffer:void 0,mf=ru?ru.allocUnsafe:void 0;const fb=function(P,N){if(N)return P.slice();var F=P.length,W=mf?mf(F):new P.constructor(F);return P.copy(W),W},ou=function(P,N){var F=-1,W=P.length;for(N||(N=Array(W));++F<W;)N[F]=P[F];return N},pb=function(P,N){for(var F=-1,W=P==null?0:P.length,ge=0,Ce=[];++F<W;){var Pe=P[F];N(Pe,F,P)&&(Ce[ge++]=Pe)}return Ce},su=function(){return[]};var kf=Object.prototype.propertyIsEnumerable,au=Object.getOwnPropertySymbols;const Wr=au?function(P){return P==null?[]:(P=Object(P),pb(au(P),function(N){return kf.call(P,N)}))}:su,gb=function(P,N){return $a(P,Wr(P),N)},Ya=function(P,N){for(var F=-1,W=N.length,ge=P.length;++F<W;)P[ge+F]=N[F];return P},Za=pf(Object.getPrototypeOf,Object),lt=Object.getOwnPropertySymbols?function(P){for(var N=[];P;)Ya(N,Wr(P)),P=Za(P);return N}:su,mb=function(P,N){return $a(P,lt(P),N)},Ja=function(P,N,F){var W=N(P);return Xc(P)?W:Ya(W,F(P))},bf=function(P){return Ja(P,Hr,Wr)},Hs=function(P){return Ja(P,Us,lt)},Ws=yt(z,"DataView"),fr=yt(z,"Promise"),Xa=yt(z,"Set"),qs=yt(z,"WeakMap");var wf="[object Map]",lu="[object Promise]",_f="[object Set]",el="[object WeakMap]",Af="[object DataView]",kb=ar(Ws),bb=ar(tn),tl=ar(fr),cu=ar(Xa),wb=ar(qs),qr=ne;(Ws&&qr(new Ws(new ArrayBuffer(1)))!=Af||tn&&qr(new tn)!=wf||fr&&qr(fr.resolve())!=lu||Xa&&qr(new Xa)!=_f||qs&&qr(new qs)!=el)&&(qr=function(P){var N=ne(P),F=N=="[object Object]"?P.constructor:void 0,W=F?ar(F):"";if(W)switch(W){case kb:return Af;case bb:return wf;case tl:return lu;case cu:return _f;case wb:return el}return N});const uu=qr;var _b=Object.prototype.hasOwnProperty;const So=function(P){var N=P.length,F=new P.constructor(N);return N&&typeof P[0]=="string"&&_b.call(P,"index")&&(F.index=P.index,F.input=P.input),F},vf=z.Uint8Array,nl=function(P){var N=new P.constructor(P.byteLength);return new vf(N).set(new vf(P)),N},yf=function(P,N){var F=N?nl(P.buffer):P.buffer;return new P.constructor(F,P.byteOffset,P.byteLength)};var Cf=/\w*$/;const Ef=function(P){var N=new P.constructor(P.source,Cf.exec(P));return N.lastIndex=P.lastIndex,N};var du=q?q.prototype:void 0,hu=du?du.valueOf:void 0;const Ab=function(P){return hu?Object(hu.call(P)):{}},xf=function(P,N){var F=N?nl(P.buffer):P.buffer;return new P.constructor(F,P.byteOffset,P.length)},vb=function(P,N,F){var W=P.constructor;switch(N){case"[object ArrayBuffer]":return nl(P);case"[object Boolean]":case"[object Date]":return new W(+P);case"[object DataView]":return yf(P,F);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return xf(P,F);case"[object Map]":case"[object Set]":return new W;case"[object Number]":case"[object String]":return new W(P);case"[object RegExp]":return Ef(P);case"[object Symbol]":return Ab(P)}};var fu=Object.create;const pu=function(){function P(){}return function(N){if(!L(N))return{};if(fu)return fu(N);P.prototype=N;var F=new P;return P.prototype=void 0,F}}(),yb=function(P){return typeof P.constructor!="function"||tu(P)?{}:pu(Za(P))},If=function(P){return he(P)&&uu(P)=="[object Map]"};var gu=Fr&&Fr.isMap;const Cb=gu?eu(gu):If,Tf=function(P){return he(P)&&uu(P)=="[object Set]"};var il=Fr&&Fr.isSet;const Eb=il?eu(il):Tf;var rl="[object Arguments]",ol="[object Function]",sl="[object Object]",et={};et[rl]=et["[object Array]"]=et["[object ArrayBuffer]"]=et["[object DataView]"]=et["[object Boolean]"]=et["[object Date]"]=et["[object Float32Array]"]=et["[object Float64Array]"]=et["[object Int8Array]"]=et["[object Int16Array]"]=et["[object Int32Array]"]=et["[object Map]"]=et["[object Number]"]=et[sl]=et["[object RegExp]"]=et["[object Set]"]=et["[object String]"]=et["[object Symbol]"]=et["[object Uint8Array]"]=et["[object Uint8ClampedArray]"]=et["[object Uint16Array]"]=et["[object Uint32Array]"]=!0,et["[object Error]"]=et[ol]=et["[object WeakMap]"]=!1;const Sf=function P(N,F,W,ge,Ce,Pe){var De,Ct=1&F,pt=2&F,al=4&F;if(W&&(De=Ce?W(N,ge,Ce,Pe):W(N)),De!==void 0)return De;if(!L(N))return N;var $r=Xc(N);if($r){if(De=So(N),!Ct)return ou(N,De)}else{var ai=uu(N),Po=ai==ol||ai=="[object GeneratorFunction]";if(xo(N))return fb(N,Ct);if(ai==sl||ai==rl||Po&&!Ce){if(De=pt||Po?{}:yb(N),!Ct)return pt?mb(N,To(De,N)):gb(N,db(De,N))}else{if(!et[ai])return Ce?N:{};De=vb(N,ai,Ct)}}Pe||(Pe=new Xk);var No=Pe.get(N);if(No)return No;Pe.set(N,De),Eb(N)?N.forEach(function(qn){De.add(P(qn,F,W,qn,N,Pe))}):Cb(N)&&N.forEach(function(qn,Le){De.set(Le,P(qn,F,W,Le,N,Pe))});var pr=$r?void 0:(al?pt?Hs:bf:pt?Us:Hr)(N);return eb(pr||N,function(qn,Le){pr&&(qn=N[Le=qn]),Jc(De,Le,P(qn,F,W,Le,N,Pe))}),De},Df=function(P,N){return Sf(P,5,N=typeof N=="function"?N:void 0)};var Mf=Function.prototype,Pf=Object.prototype,mu=Mf.toString,xb=Pf.hasOwnProperty,Ib=mu.call(Object);const Tb=function(P){if(!he(P)||ne(P)!="[object Object]")return!1;var N=Za(P);if(N===null)return!0;var F=xb.call(N,"constructor")&&N.constructor;return typeof F=="function"&&F instanceof F&&mu.call(F)==Ib},Sb=function(P){return he(P)&&P.nodeType===1&&!Tb(P)};class Nf extends v{constructor(N,F={}){super(F),this._editor=null,this._throttledSave=Wn(this._save.bind(this),typeof F.saveInterval=="number"?F.saveInterval:5e3),N&&(this._creator=(W,ge)=>N.create(W,ge)),this._destructor=W=>W.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(N){this._creator=N}setDestructor(N){this._destructor=N}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(N=>{console.error("An error happened during the editor destroying.",N)}).then(()=>{if(typeof this._elementOrData=="string")return this.create(this._data,this._config,this._config.context);{const N=Object.assign({},this._config,{initialData:this._data});return this.create(this._elementOrData,N,N.context)}}).then(()=>{this._fire("restart")})}create(N=this._elementOrData,F=this._config,W){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=N,this._config=this._cloneEditorConfiguration(F)||{},this._config.context=W,this._creator(N,this._config))).then(ge=>{this._editor=ge,ge.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=ge.model.document.version,this._data=this._getData(),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.flush();const N=this._editor;return this._editor=null,N.model.document.off("change:data",this._throttledSave),this._destructor(N)})}_save(){const N=this._editor.model.document.version;try{this._data=this._getData(),this._lastDocumentVersion=N}catch(F){console.error(F,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(N){this._excludedProps=N}_getData(){const N={};for(const F of this._editor.model.document.getRootNames())N[F]=this._editor.data.get({rootName:F});return N}_isErrorComingFromThisItem(N){return M(this._editor,N.context,this._excludedProps)}_cloneEditorConfiguration(N){return Df(N,(F,W)=>Sb(F)||W==="context"?F:void 0)}}const si=Symbol("MainQueueId");class Do extends v{constructor(N,F={}){super(F),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new Db,this._watchdogConfig=F,this._creator=W=>N.create(W),this._destructor=W=>W.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(N){this._creator=N}setDestructor(N){this._destructor=N}get context(){return this._context}create(N={}){return this._actionQueues.enqueue(si,()=>(this._contextConfig=N,this._create()))}getItem(N){return this._getWatchdog(N)._item}getItemState(N){return this._getWatchdog(N).state}add(N){const F=Rf(N);return Promise.all(F.map(W=>this._actionQueues.enqueue(W.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let ge;if(this._watchdogs.has(W.id))throw new Error(`Item with the given id is already added: '${W.id}'.`);if(W.type==="editor")return ge=new Nf(null,this._watchdogConfig),ge.setCreator(W.creator),ge._setExcludedProperties(this._contextProps),W.destructor&&ge.setDestructor(W.destructor),this._watchdogs.set(W.id,ge),ge.on("error",(Ce,{error:Pe,causesRestart:De})=>{this._fire("itemError",{itemId:W.id,error:Pe}),De&&this._actionQueues.enqueue(W.id,()=>new Promise(Ct=>{const pt=()=>{ge.off("restart",pt),this._fire("itemRestart",{itemId:W.id}),Ct()};ge.on("restart",pt)}))}),ge.create(W.sourceElementOrData,W.config,this._context);throw new Error(`Not supported item type: '${W.type}'.`)})))}remove(N){const F=Rf(N);return Promise.all(F.map(W=>this._actionQueues.enqueue(W,()=>{const ge=this._getWatchdog(W);return this._watchdogs.delete(W),ge.destroy()})))}destroy(){return this._actionQueues.enqueue(si,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(si,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(N=>{console.error("An error happened during destroying the context or items.",N)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(N=>(this._context=N,this._contextProps=x(this._context),Promise.all(Array.from(this._watchdogs.values()).map(F=>(F._setExcludedProperties(this._contextProps),F.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const N=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(F=>F.destroy())).then(()=>this._destructor(N))})}_getWatchdog(N){const F=this._watchdogs.get(N);if(!F)throw new Error(`Item with the given id was not registered: ${N}.`);return F}_isErrorComingFromThisItem(N){for(const F of this._watchdogs.values())if(F._isErrorComingFromThisItem(N))return!1;return M(this._context,N.context)}}class Db{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(N){this._onEmptyCallbacks.push(N)}enqueue(N,F){const W=N===si;this._activeActions++,this._queues.get(N)||this._queues.set(N,Promise.resolve());const ge=(W?Promise.all(this._queues.values()):Promise.all([this._queues.get(si),this._queues.get(N)])).then(F),Ce=ge.catch(()=>{});return this._queues.set(N,Ce),ge.finally(()=>{this._activeActions--,this._queues.get(N)===Ce&&this._activeActions===0&&this._onEmptyCallbacks.forEach(Pe=>Pe())})}}function Rf(P){return Array.isArray(P)?P:[P]}const $s=m().createContext("contextWatchdog");class Gs extends m().Component{constructor(N,F){super(N,F),this.contextWatchdog=null,this.props.isLayoutReady&&this._initializeContextWatchdog(this.props.config)}shouldComponentUpdate(N){return this._shouldComponentUpdate(N)}async _shouldComponentUpdate(N){return N.id!==this.props.id&&(this.contextWatchdog&&await this.contextWatchdog.destroy(),await this._initializeContextWatchdog(N.config)),N.isLayoutReady&&!this.contextWatchdog?(await this._initializeContextWatchdog(N.config),!0):this.props.children!==N.children}render(){return m().createElement($s.Provider,{value:this.contextWatchdog},this.props.children)}componentWillUnmount(){this._destroyContext()}async _initializeContextWatchdog(N){this.contextWatchdog=new Do(this.props.context,this.props.watchdogConfig),this.contextWatchdog.on("error",(F,W)=>{this.props.onError(W.error,{phase:"runtime",willContextRestart:W.causesRestart})}),this.contextWatchdog.on("stateChange",()=>{this.contextWatchdog.state==="ready"&&this.props.onReady&&this.props.onReady(this.contextWatchdog.context)}),await this.contextWatchdog.create(N).catch(F=>{this.props.onError(F,{phase:"initialization",willContextRestart:!1})})}async _destroyContext(){this.contextWatchdog&&(await this.contextWatchdog.destroy(),this.contextWatchdog=null)}}Gs.defaultProps={isLayoutReady:!0,onError:(P,N)=>console.error(P,N)},Gs.propTypes={id:E().string,isLayoutReady:E().bool,context:E().func,watchdogConfig:E().object,config:E().object,onReady:E().func,onError:E().func};const ku="Lock from React integration (@ckeditor/ckeditor5-react)";class Mo extends m().Component{constructor(N){super(N),this.editorDestructionInProgress=null,this.domContainer=m().createRef(),this.watchdog=null;const{CKEDITOR_VERSION:F}=window;if(F){const[W]=F.split(".").map(Number);W<37&&console.warn("The <CKEditor> component requires using CKEditor 5 in version 37 or higher.")}else console.warn('Cannot find the "CKEDITOR_VERSION" in the "window" scope.')}get editor(){return this.props.disableWatchdog?this.instance:this.watchdog?this.watchdog.editor:null}shouldComponentUpdate(N){return!!this.editor&&(N.id!==this.props.id||N.disableWatchdog!==this.props.disableWatchdog||(this._shouldUpdateEditor(N)&&this.editor.data.set(N.data),"disabled"in N&&(N.disabled?this.editor.enableReadOnlyMode(ku):this.editor.disableReadOnlyMode(ku)),!1))}async componentDidMount(){await this._initializeEditor()}async componentDidUpdate(){await this._destroyEditor(),await this._initializeEditor()}async componentWillUnmount(){await this._destroyEditor()}render(){return m().createElement("div",{ref:this.domContainer})}async _initializeEditor(){await this.editorDestructionInProgress,this.props.disableWatchdog?this.instance=await this._createEditor(this.domContainer.current,this._getConfig()):this.watchdog||(this.context instanceof Do?this.watchdog=new Mb(this.context):this.watchdog=new Mo._EditorWatchdog(this.props.editor,this.props.watchdogConfig),this.watchdog.setCreator((N,F)=>this._createEditor(N,F)),this.watchdog.on("error",(N,{error:F,causesRestart:W})=>{(this.props.onError||console.error)(F,{phase:"runtime",willEditorRestart:W})}),await this.watchdog.create(this.domContainer.current,this._getConfig()).catch(N=>{(this.props.onError||console.error)(N,{phase:"initialization",willEditorRestart:!1})}))}_createEditor(N,F){return this.props.editor.create(N,F).then(W=>{"disabled"in this.props&&this.props.disabled&&W.enableReadOnlyMode(ku);const ge=W.model.document,Ce=W.editing.view.document;return ge.on("change:data",Pe=>{this.props.onChange&&this.props.onChange(Pe,W)}),Ce.on("focus",Pe=>{this.props.onFocus&&this.props.onFocus(Pe,W)}),Ce.on("blur",Pe=>{this.props.onBlur&&this.props.onBlur(Pe,W)}),setTimeout(()=>{this.props.onReady&&this.props.onReady(W)}),W})}async _destroyEditor(){this.editorDestructionInProgress=new Promise(N=>{setTimeout(async()=>this.watchdog?(await this.watchdog.destroy(),this.watchdog=null,N()):this.instance?(await this.instance.destroy(),this.instance=null,N()):void N())})}_shouldUpdateEditor(N){return this.props.data!==N.data&&this.editor.data.get()!==N.data}_getConfig(){const N=this.props.config||{};return this.props.data&&N.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),{...N,initialData:N.initialData||this.props.data||""}}}Mo.contextType=$s,Mo.propTypes={editor:E().func.isRequired,data:E().string,config:E().object,disableWatchdog:E().bool,watchdogConfig:E().object,onChange:E().func,onReady:E().func,onFocus:E().func,onBlur:E().func,onError:E().func,disabled:E().bool,id:E().any},Mo._EditorWatchdog=Nf;class Mb{constructor(N){this._contextWatchdog=N,this._id=function(){const F=4294967296*Math.random()>>>0,W=4294967296*Math.random()>>>0,ge=4294967296*Math.random()>>>0,Ce=4294967296*Math.random()>>>0;return"e"+C[F>>0&255]+C[F>>8&255]+C[F>>16&255]+C[F>>24&255]+C[W>>0&255]+C[W>>8&255]+C[W>>16&255]+C[W>>24&255]+C[ge>>0&255]+C[ge>>8&255]+C[ge>>16&255]+C[ge>>24&255]+C[Ce>>0&255]+C[Ce>>8&255]+C[Ce>>16&255]+C[Ce>>24&255]}()}setCreator(N){this._creator=N}create(N,F){return this._contextWatchdog.add({sourceElementOrData:N,config:F,creator:this._creator,id:this._id,type:"editor"})}on(N,F){this._contextWatchdog.on("itemError",(W,{itemId:ge,error:Ce})=>{ge===this._id&&F(null,{error:Ce,causesRestart:void 0})})}destroy(){return this._contextWatchdog.state==="ready"?this._contextWatchdog.remove(this._id):Promise.resolve()}get editor(){return this._contextWatchdog.getItem(this._id)}}})(),p})())})(Cm,Cm.exports);var EX=Cm.exports,Em={exports:{}};Em.exports;(function(n,t){(function(r){const s=r.en=r.en||{};s.dictionary=Object.assign(s.dictionary||{},{"%0 of %1":"%0 of %1",Accept:"Accept","Align cell text to the bottom":"Align cell text to the bottom","Align cell text to the center":"Align cell text to the center","Align cell text to the left":"Align cell text to the left","Align cell text to the middle":"Align cell text to the middle","Align cell text to the right":"Align cell text to the right","Align cell text to the top":"Align cell text to the top","Align table to the left":"Align table to the left","Align table to the right":"Align table to the right",Alignment:"Alignment",Aquamarine:"Aquamarine",Background:"Background",Black:"Black","Block quote":"Block quote",Blue:"Blue",Bold:"Bold",Border:"Border","Break text":"Break text","Bulleted List":"Bulleted List","Bulleted list styles toolbar":"Bulleted list styles toolbar",Cancel:"Cancel","Cannot access default workspace.":"Cannot access default workspace.","Cannot determine a category for the uploaded file.":"Cannot determine a category for the uploaded file.","Cannot upload file:":"Cannot upload file:","Caption for image: %0":"Caption for image: %0","Caption for the image":"Caption for the image","Cell properties":"Cell properties","Center table":"Center table","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Circle:"Circle",Code:"Code",Color:"Color","Color picker":"Color picker",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.",Dashed:"Dashed",Decimal:"Decimal","Decimal with leading zero":"Decimal with leading zero","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row","Dim grey":"Dim grey",Dimensions:"Dimensions",Disc:"Disc",Dotted:"Dotted",Double:"Double",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit block":"Edit block","Edit link":"Edit link","Editor block content toolbar":"Editor block content toolbar","Editor contextual toolbar":"Editor contextual toolbar","Editor editing area: %0":"Editor editing area: %0","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Enter table caption":"Enter table caption","Full size image":"Full size image",Green:"Green",Grey:"Grey",Groove:"Groove","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6",Height:"Height",HEX:"HEX","Horizontal text alignment toolbar":"Horizontal text alignment toolbar","Image resize list":"Image resize list","Image toolbar":"Image toolbar","image widget":"image widget","In line":"In line","Increase indent":"Increase indent",Insert:"Insert","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert image via URL":"Insert image via URL","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Inset:"Inset",Italic:"Italic","Justify cell text":"Justify cell text","Left aligned image":"Left aligned image","Light blue":"Light blue","Light green":"Light green","Light grey":"Light grey",Link:"Link","Link image":"Link image","Link URL":"Link URL","List properties":"List properties","Lower-latin":"Lower-latin","Lowerroman":"Lowerroman","Media toolbar":"Media toolbar","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next",None:"None","Numbered List":"Numbered List","Numbered list styles toolbar":"Numbered list styles toolbar","Open file manager":"Open file manager","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab","Open media in new tab":"Open media in new tab",Orange:"Orange",Original:"Original",Outset:"Outset",Padding:"Padding",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.","Press Enter to type after or press Shift + Enter to type before the widget":"Press Enter to type after or press Shift + Enter to type before the widget",Previous:"Previous",Purple:"Purple",Red:"Red",Redo:"Redo","Remove color":"Remove color","Resize image":"Resize image","Resize image to %0":"Resize image to %0","Resize image to the original size":"Resize image to the original size","Restore default":"Restore default","Reversed order":"Reversed order","Rich Text Editor":"Rich Text Editor",Ridge:"Ridge","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image",Solid:"Solid","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically",Square:"Square","Start at":"Start at","Start index must be greater than 0.":"Start index must be greater than 0.",Strikethrough:"Strikethrough",Style:"Style",Subscript:"Subscript",Superscript:"Superscript","Table alignment toolbar":"Table alignment toolbar","Table cell text alignment":"Table cell text alignment","Table properties":"Table properties","Table toolbar":"Table toolbar","Text alternative":"Text alternative",'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".':'The color is invalid. Try "#FF0000" or "rgb(255,0,0)" or "red".',"The URL must not be empty.":"The URL must not be empty.",'The value is invalid. Try "10px" or "2em" or simply "2".':'The value is invalid. Try "10px" or "2em" or simply "2".',"This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.","To-do List":"To-do List","Toggle caption off":"Toggle caption off","Toggle caption on":"Toggle caption on","Toggle the circle list style":"Toggle the circle list style","Toggle the decimal list style":"Toggle the decimal list style","Toggle the decimal with leading zero list style":"Toggle the decimal with leading zero list style","Toggle the disc list style":"Toggle the disc list style","Toggle the lowerlatin list style":"Toggle the lowerlatin list style","Toggle the lowerroman list style":"Toggle the lowerroman list style","Toggle the square list style":"Toggle the square list style","Toggle the upperlatin list style":"Toggle the upperlatin list style","Toggle the upperroman list style":"Toggle the upperroman list style",Turquoise:"Turquoise","Type or paste your content here.":"Type or paste your content here.","Type your title":"Type your title",Underline:"Underline",Undo:"Undo",Unlink:"Unlink",Update:"Update","Update image URL":"Update image URL","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Upper-latin":"Upper-latin","Upper-roman":"Upper-roman","Vertical text alignment toolbar":"Vertical text alignment toolbar",White:"White","Widget toolbar":"Widget toolbar",Width:"Width","Wrap text":"Wrap text",Yellow:"Yellow"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(r,s){n.exports=s()}(self,()=>(()=>{var r={4959:(p,b,m)=>{const A=m(1103),E={};for(const v of Object.keys(A))E[A[v]]=v;const C={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};p.exports=C;for(const v of Object.keys(C)){if(!("channels"in C[v]))throw new Error("missing channels property: "+v);if(!("labels"in C[v]))throw new Error("missing channel labels property: "+v);if(C[v].labels.length!==C[v].channels)throw new Error("channel and label counts mismatch: "+v);const{channels:x,labels:D}=C[v];delete C[v].channels,delete C[v].labels,Object.defineProperty(C[v],"channels",{value:x}),Object.defineProperty(C[v],"labels",{value:D})}C.rgb.hsl=function(v){const x=v[0]/255,D=v[1]/255,M=v[2]/255,L=Math.min(x,D,M),R=Math.max(x,D,M),O=R-L;let z,U;R===L?z=0:x===R?z=(D-M)/O:D===R?z=2+(M-x)/O:M===R&&(z=4+(x-D)/O),z=Math.min(60*z,360),z<0&&(z+=360);const $=(L+R)/2;return U=R===L?0:$<=.5?O/(R+L):O/(2-R-L),[z,100*U,100*$]},C.rgb.hsv=function(v){let x,D,M,L,R;const O=v[0]/255,z=v[1]/255,U=v[2]/255,$=Math.max(O,z,U),Y=$-Math.min(O,z,U),K=function(j){return($-j)/6/Y+.5};return Y===0?(L=0,R=0):(R=Y/$,x=K(O),D=K(z),M=K(U),O===$?L=M-D:z===$?L=.3333333333333333+x-M:U===$&&(L=.6666666666666666+D-x),L<0?L+=1:L>1&&(L-=1)),[360*L,100*R,100*$]},C.rgb.hwb=function(v){const x=v[0],D=v[1];let M=v[2];const L=C.rgb.hsl(v)[0],R=1/255*Math.min(x,Math.min(D,M));return M=1-.00392156862745098*Math.max(x,Math.max(D,M)),[L,100*R,100*M]},C.rgb.cmyk=function(v){const x=v[0]/255,D=v[1]/255,M=v[2]/255,L=Math.min(1-x,1-D,1-M);return[100*((1-x-L)/(1-L)||0),100*((1-D-L)/(1-L)||0),100*((1-M-L)/(1-L)||0),100*L]},C.rgb.keyword=function(v){const x=E[v];if(x)return x;let D,M=1/0;for(const O of Object.keys(A)){const z=A[O],U=(R=z,((L=v)[0]-R[0])**2+(L[1]-R[1])**2+(L[2]-R[2])**2);U<M&&(M=U,D=O)}var L,R;return D},C.keyword.rgb=function(v){return A[v]},C.rgb.xyz=function(v){let x=v[0]/255,D=v[1]/255,M=v[2]/255;return x=x>.04045?((x+.055)/1.055)**2.4:x/12.92,D=D>.04045?((D+.055)/1.055)**2.4:D/12.92,M=M>.04045?((M+.055)/1.055)**2.4:M/12.92,[100*(.4124*x+.3576*D+.1805*M),100*(.2126*x+.7152*D+.0722*M),100*(.0193*x+.1192*D+.9505*M)]},C.rgb.lab=function(v){const x=C.rgb.xyz(v);let D=x[0],M=x[1],L=x[2];return D/=95.047,M/=100,L/=108.883,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,L=L>.008856?L**.3333333333333333:7.787*L+.13793103448275862,[116*M-16,500*(D-M),200*(M-L)]},C.hsl.rgb=function(v){const x=v[0]/360,D=v[1]/100,M=v[2]/100;let L,R,O;if(D===0)return O=255*M,[O,O,O];L=M<.5?M*(1+D):M+D-M*D;const z=2*M-L,U=[0,0,0];for(let $=0;$<3;$++)R=x+.3333333333333333*-($-1),R<0&&R++,R>1&&R--,O=6*R<1?z+6*(L-z)*R:2*R<1?L:3*R<2?z+(L-z)*(.6666666666666666-R)*6:z,U[$]=255*O;return U},C.hsl.hsv=function(v){const x=v[0];let D=v[1]/100,M=v[2]/100,L=D;const R=Math.max(M,.01);return M*=2,D*=M<=1?M:2-M,L*=R<=1?R:2-R,[x,100*(M===0?2*L/(R+L):2*D/(M+D)),100*((M+D)/2)]},C.hsv.rgb=function(v){const x=v[0]/60,D=v[1]/100;let M=v[2]/100;const L=Math.floor(x)%6,R=x-Math.floor(x),O=255*M*(1-D),z=255*M*(1-D*R),U=255*M*(1-D*(1-R));switch(M*=255,L){case 0:return[M,U,O];case 1:return[z,M,O];case 2:return[O,M,U];case 3:return[O,z,M];case 4:return[U,O,M];case 5:return[M,O,z]}},C.hsv.hsl=function(v){const x=v[0],D=v[1]/100,M=v[2]/100,L=Math.max(M,.01);let R,O;O=(2-D)*M;const z=(2-D)*L;return R=D*L,R/=z<=1?z:2-z,R=R||0,O/=2,[x,100*R,100*O]},C.hwb.rgb=function(v){const x=v[0]/360;let D=v[1]/100,M=v[2]/100;const L=D+M;let R;L>1&&(D/=L,M/=L);const O=Math.floor(6*x),z=1-M;R=6*x-O,1&O&&(R=1-R);const U=D+R*(z-D);let $,Y,K;switch(O){default:case 6:case 0:$=z,Y=U,K=D;break;case 1:$=U,Y=z,K=D;break;case 2:$=D,Y=z,K=U;break;case 3:$=D,Y=U,K=z;break;case 4:$=U,Y=D,K=z;break;case 5:$=z,Y=D,K=U}return[255*$,255*Y,255*K]},C.cmyk.rgb=function(v){const x=v[0]/100,D=v[1]/100,M=v[2]/100,L=v[3]/100;return[255*(1-Math.min(1,x*(1-L)+L)),255*(1-Math.min(1,D*(1-L)+L)),255*(1-Math.min(1,M*(1-L)+L))]},C.xyz.rgb=function(v){const x=v[0]/100,D=v[1]/100,M=v[2]/100;let L,R,O;return L=3.2406*x+-1.5372*D+-.4986*M,R=-.9689*x+1.8758*D+.0415*M,O=.0557*x+-.204*D+1.057*M,L=L>.0031308?1.055*L**.4166666666666667-.055:12.92*L,R=R>.0031308?1.055*R**.4166666666666667-.055:12.92*R,O=O>.0031308?1.055*O**.4166666666666667-.055:12.92*O,L=Math.min(Math.max(0,L),1),R=Math.min(Math.max(0,R),1),O=Math.min(Math.max(0,O),1),[255*L,255*R,255*O]},C.xyz.lab=function(v){let x=v[0],D=v[1],M=v[2];return x/=95.047,D/=100,M/=108.883,x=x>.008856?x**.3333333333333333:7.787*x+.13793103448275862,D=D>.008856?D**.3333333333333333:7.787*D+.13793103448275862,M=M>.008856?M**.3333333333333333:7.787*M+.13793103448275862,[116*D-16,500*(x-D),200*(D-M)]},C.lab.xyz=function(v){let x,D,M;D=(v[0]+16)/116,x=v[1]/500+D,M=D-v[2]/200;const L=D**3,R=x**3,O=M**3;return D=L>.008856?L:(D-.13793103448275862)/7.787,x=R>.008856?R:(x-.13793103448275862)/7.787,M=O>.008856?O:(M-.13793103448275862)/7.787,x*=95.047,D*=100,M*=108.883,[x,D,M]},C.lab.lch=function(v){const x=v[0],D=v[1],M=v[2];let L;return L=360*Math.atan2(M,D)/2/Math.PI,L<0&&(L+=360),[x,Math.sqrt(D*D+M*M),L]},C.lch.lab=function(v){const x=v[0],D=v[1],M=v[2]/360*2*Math.PI;return[x,D*Math.cos(M),D*Math.sin(M)]},C.rgb.ansi16=function(v,x=null){const[D,M,L]=v;let R=x===null?C.rgb.hsv(v)[2]:x;if(R=Math.round(R/50),R===0)return 30;let O=30+(Math.round(L/255)<<2|Math.round(M/255)<<1|Math.round(D/255));return R===2&&(O+=60),O},C.hsv.ansi16=function(v){return C.rgb.ansi16(C.hsv.rgb(v),v[2])},C.rgb.ansi256=function(v){const x=v[0],D=v[1],M=v[2];return x===D&&D===M?x<8?16:x>248?231:Math.round((x-8)/247*24)+232:16+36*Math.round(x/255*5)+6*Math.round(D/255*5)+Math.round(M/255*5)},C.ansi16.rgb=function(v){let x=v%10;if(x===0||x===7)return v>50&&(x+=3.5),x=x/10.5*255,[x,x,x];const D=.5*(1+~~(v>50));return[(1&x)*D*255,(x>>1&1)*D*255,(x>>2&1)*D*255]},C.ansi256.rgb=function(v){if(v>=232){const D=10*(v-232)+8;return[D,D,D]}let x;return v-=16,[Math.floor(v/36)/5*255,Math.floor((x=v%36)/6)/5*255,x%6/5*255]},C.rgb.hex=function(v){const x=(((255&Math.round(v[0]))<<16)+((255&Math.round(v[1]))<<8)+(255&Math.round(v[2]))).toString(16).toUpperCase();return"000000".substring(x.length)+x},C.hex.rgb=function(v){const x=v.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!x)return[0,0,0];let D=x[0];x[0].length===3&&(D=D.split("").map(L=>L+L).join(""));const M=parseInt(D,16);return[M>>16&255,M>>8&255,255&M]},C.rgb.hcg=function(v){const x=v[0]/255,D=v[1]/255,M=v[2]/255,L=Math.max(Math.max(x,D),M),R=Math.min(Math.min(x,D),M),O=L-R;let z,U;return z=O<1?R/(1-O):0,U=O<=0?0:L===x?(D-M)/O%6:L===D?2+(M-x)/O:4+(x-D)/O,U/=6,U%=1,[360*U,100*O,100*z]},C.hsl.hcg=function(v){const x=v[1]/100,D=v[2]/100,M=D<.5?2*x*D:2*x*(1-D);let L=0;return M<1&&(L=(D-.5*M)/(1-M)),[v[0],100*M,100*L]},C.hsv.hcg=function(v){const x=v[1]/100,D=v[2]/100,M=x*D;let L=0;return M<1&&(L=(D-M)/(1-M)),[v[0],100*M,100*L]},C.hcg.rgb=function(v){const x=v[0]/360,D=v[1]/100,M=v[2]/100;if(D===0)return[255*M,255*M,255*M];const L=[0,0,0],R=x%1*6,O=R%1,z=1-O;let U=0;switch(Math.floor(R)){case 0:L[0]=1,L[1]=O,L[2]=0;break;case 1:L[0]=z,L[1]=1,L[2]=0;break;case 2:L[0]=0,L[1]=1,L[2]=O;break;case 3:L[0]=0,L[1]=z,L[2]=1;break;case 4:L[0]=O,L[1]=0,L[2]=1;break;default:L[0]=1,L[1]=0,L[2]=z}return U=(1-D)*M,[255*(D*L[0]+U),255*(D*L[1]+U),255*(D*L[2]+U)]},C.hcg.hsv=function(v){const x=v[1]/100,D=x+v[2]/100*(1-x);let M=0;return D>0&&(M=x/D),[v[0],100*M,100*D]},C.hcg.hsl=function(v){const x=v[1]/100,D=v[2]/100*(1-x)+.5*x;let M=0;return D>0&&D<.5?M=x/(2*D):D>=.5&&D<1&&(M=x/(2*(1-D))),[v[0],100*M,100*D]},C.hcg.hwb=function(v){const x=v[1]/100,D=x+v[2]/100*(1-x);return[v[0],100*(D-x),100*(1-D)]},C.hwb.hcg=function(v){const x=v[1]/100,D=1-v[2]/100,M=D-x;let L=0;return M<1&&(L=(D-M)/(1-M)),[v[0],100*M,100*L]},C.apple.rgb=function(v){return[v[0]/65535*255,v[1]/65535*255,v[2]/65535*255]},C.rgb.apple=function(v){return[v[0]/255*65535,v[1]/255*65535,v[2]/255*65535]},C.gray.rgb=function(v){return[v[0]/100*255,v[0]/100*255,v[0]/100*255]},C.gray.hsl=function(v){return[0,0,v[0]]},C.gray.hsv=C.gray.hsl,C.gray.hwb=function(v){return[0,100,v[0]]},C.gray.cmyk=function(v){return[0,0,0,v[0]]},C.gray.lab=function(v){return[v[0],0,0]},C.gray.hex=function(v){const x=255&Math.round(v[0]/100*255),D=((x<<16)+(x<<8)+x).toString(16).toUpperCase();return"000000".substring(D.length)+D},C.rgb.gray=function(v){return[(v[0]+v[1]+v[2])/3/255*100]}},841:(p,b,m)=>{const A=m(4959),E=m(9325),C={};Object.keys(A).forEach(v=>{C[v]={},Object.defineProperty(C[v],"channels",{value:A[v].channels}),Object.defineProperty(C[v],"labels",{value:A[v].labels});const x=E(v);Object.keys(x).forEach(D=>{const M=x[D];C[v][D]=function(L){const R=function(...O){const z=O[0];if(z==null)return z;z.length>1&&(O=z);const U=L(O);if(typeof U=="object")for(let $=U.length,Y=0;Y<$;Y++)U[Y]=Math.round(U[Y]);return U};return"conversion"in L&&(R.conversion=L.conversion),R}(M),C[v][D].raw=function(L){const R=function(...O){const z=O[0];return z==null?z:(z.length>1&&(O=z),L(O))};return"conversion"in L&&(R.conversion=L.conversion),R}(M)})}),p.exports=C},9325:(p,b,m)=>{const A=m(4959);function E(x){const D=function(){const L={},R=Object.keys(A);for(let O=R.length,z=0;z<O;z++)L[R[z]]={distance:-1,parent:null};return L}(),M=[x];for(D[x].distance=0;M.length;){const L=M.pop(),R=Object.keys(A[L]);for(let O=R.length,z=0;z<O;z++){const U=R[z],$=D[U];$.distance===-1&&($.distance=D[L].distance+1,$.parent=L,M.unshift(U))}}return D}function C(x,D){return function(M){return D(x(M))}}function v(x,D){const M=[D[x].parent,x];let L=A[D[x].parent][x],R=D[x].parent;for(;D[R].parent;)M.unshift(D[R].parent),L=C(A[D[R].parent][R],L),R=D[R].parent;return L.conversion=M,L}p.exports=function(x){const D=E(x),M={},L=Object.keys(D);for(let R=L.length,O=0;O<R;O++){const z=L[O];D[z].parent!==null&&(M[z]=v(z,D))}return M}},1103:p=>{p.exports={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}},8603:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-basic-styles/theme/code.css"],names:[],mappings:"AAKA,iBACC,kCAAuC,CAEvC,iBAAkB,CADlB,aAED,CAEA,0CACC,kCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content code {
	background-color: hsla(0, 0%, 78%, 0.3);
	padding: .15em;
	border-radius: 2px;
}

.ck.ck-editor__editable .ck-code_selected  {
	background-color: hsla(0, 0%, 78%, 0.5);
}
`],sourceRoot:""}]);const x=v},3062:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}","",{version:3,sources:["webpack://./../ckeditor5-block-quote/theme/blockquote.css"],names:[],mappings:"AAKA,uBAWC,0BAAsC,CADtC,iBAAkB,CAFlB,aAAc,CACd,cAAe,CAPf,eAAgB,CAIhB,kBAAmB,CADnB,mBAOD,CAEA,gCACC,aAAc,CACd,2BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content blockquote {
	/* See #12 */
	overflow: hidden;

	/* https://github.com/ckeditor/ckeditor5-block-quote/issues/15 */
	padding-right: 1.5em;
	padding-left: 1.5em;

	margin-left: 0;
	margin-right: 0;
	font-style: italic;
	border-left: solid 5px hsl(0, 0%, 80%);
}

.ck-content[dir="rtl"] blockquote {
	border-left: 0;
	border-right: solid 5px hsl(0, 0%, 80%);
}
`],sourceRoot:""}]);const x=v},903:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position{display:inline;pointer-events:none;position:relative}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{position:absolute;width:0}.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__selection-handle,.ck.ck-editor__editable .ck-widget:-webkit-drag>.ck-widget__type-around{display:none}.ck.ck-clipboard-drop-target-line{pointer-events:none;position:absolute}:root{--ck-clipboard-drop-target-dot-width:12px;--ck-clipboard-drop-target-dot-height:8px;--ck-clipboard-drop-target-color:var(--ck-color-focus-border)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);bottom:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);margin-left:-1px;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5)}.ck.ck-editor__editable .ck.ck-clipboard-drop-target-position span:after{border-color:var(--ck-clipboard-drop-target-color) transparent transparent transparent;border-style:solid;border-width:calc(var(--ck-clipboard-drop-target-dot-height)) calc(var(--ck-clipboard-drop-target-dot-width)*.5) 0 calc(var(--ck-clipboard-drop-target-dot-width)*.5);content:"";display:block;height:0;left:50%;position:absolute;top:calc(var(--ck-clipboard-drop-target-dot-height)*-.5);transform:translateX(-50%);width:0}.ck.ck-editor__editable .ck-widget.ck-clipboard-drop-target-range{outline:var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color)!important}.ck.ck-editor__editable .ck-widget:-webkit-drag{zoom:.6;outline:none!important}.ck.ck-clipboard-drop-target-line{background:var(--ck-clipboard-drop-target-color);border:1px solid var(--ck-clipboard-drop-target-color);height:0;margin-top:-1px}',"",{version:3,sources:["webpack://./../ckeditor5-clipboard/theme/clipboard.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-clipboard/clipboard.css"],names:[],mappings:"AASC,8DACC,cAAe,CAEf,mBAAoB,CADpB,iBAOD,CAJC,mEACC,iBAAkB,CAClB,OACD,CAWA,qJACC,YACD,CAIF,kCAEC,mBAAoB,CADpB,iBAED,CChCA,MACC,yCAA0C,CAC1C,yCAA0C,CAC1C,6DACD,CAOE,mEAIC,gDAAiD,CADjD,sDAAuD,CAFvD,2DAA8D,CAI9D,gBAAiB,CAHjB,wDAqBD,CAfC,yEAWC,sFAAuF,CAEvF,kBAAmB,CADnB,qKAA0K,CAX1K,UAAW,CAIX,aAAc,CAFd,QAAS,CAIT,QAAS,CADT,iBAAkB,CAElB,wDAA2D,CAE3D,0BAA2B,CAR3B,OAYD,CAOF,kEACC,gGACD,CAKA,gDACC,OAAS,CACT,sBACD,CAGD,kCAGC,gDAAiD,CADjD,sDAAuD,CADvD,QAAS,CAGT,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		display: inline;
		position: relative;
		pointer-events: none;

		& span {
			position: absolute;
			width: 0;
		}
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		& > .ck-widget__selection-handle {
			display: none;
		}

		& > .ck-widget__type-around {
			display: none;
		}
	}
}

.ck.ck-clipboard-drop-target-line {
	position: absolute;
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-clipboard-drop-target-dot-width: 12px;
	--ck-clipboard-drop-target-dot-height: 8px;
	--ck-clipboard-drop-target-color: var(--ck-color-focus-border)
}

.ck.ck-editor__editable {
	/*
	 * Vertical drop target (in text).
	 */
	& .ck.ck-clipboard-drop-target-position {
		& span {
			bottom: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			top: calc(-.5 * var(--ck-clipboard-drop-target-dot-height));
			border: 1px solid var(--ck-clipboard-drop-target-color);
			background: var(--ck-clipboard-drop-target-color);
			margin-left: -1px;

			/* The triangle above the marker */
			&::after {
				content: "";
				width: 0;
				height: 0;

				display: block;
				position: absolute;
				left: 50%;
				top: calc(var(--ck-clipboard-drop-target-dot-height) * -.5);

				transform: translateX(-50%);
				border-color: var(--ck-clipboard-drop-target-color) transparent transparent transparent;
				border-width: calc(var(--ck-clipboard-drop-target-dot-height)) calc(.5 * var(--ck-clipboard-drop-target-dot-width)) 0 calc(.5 * var(--ck-clipboard-drop-target-dot-width));
				border-style: solid;
			}
		}
	}

	/*
	 * Styles of the widget that it a drop target.
	 */
	& .ck-widget.ck-clipboard-drop-target-range {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-clipboard-drop-target-color) !important;
	}

	/*
	 * Styles of the widget being dragged (its preview).
	 */
	& .ck-widget:-webkit-drag {
		zoom: 0.6;
		outline: none !important;
	}
}

.ck.ck-clipboard-drop-target-line {
	height: 0;
	border: 1px solid var(--ck-clipboard-drop-target-color);
	background: var(--ck-clipboard-drop-target-color);
	margin-top: -1px;
}
`],sourceRoot:""}]);const x=v},3143:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}","",{version:3,sources:["webpack://./../ckeditor5-editor-classic/theme/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-editor-classic/classiceditor.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,cAIC,iBAMD,CAJC,2DAEC,yBACD,CCLC,gDCED,eDKC,CAPA,uICMA,qCAAsC,CDJpC,2BAA4B,CAC5B,4BAIF,CAPA,gDAMC,qBACD,CAEA,iFACC,uBAAwB,CCR1B,eDaC,CANA,yMCHA,qCAAsC,CDOpC,eAEF,CAKF,yCAEC,0CAA2C,CCpB3C,eD8BD,CAZA,yHCdE,qCAAsC,CDmBtC,wBAAyB,CACzB,yBAMF,CAHC,0DACC,wCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor {
	/* All the elements within \`.ck-editor\` are positioned relatively to it.
	 If any element needs to be positioned with respect to the <body>, etc.,
	 it must land outside of the \`.ck-editor\` in DOM. */
	position: relative;

	& .ck-editor__top .ck-sticky-panel .ck-toolbar {
		/* https://github.com/ckeditor/ckeditor5-editor-classic/issues/62 */
		z-index: var(--ck-z-modal);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

.ck.ck-editor__top {
	& .ck-sticky-panel {
		& .ck-toolbar {
			@mixin ck-rounded-corners {
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}

			border-bottom-width: 0;
		}

		& .ck-sticky-panel__content_sticky .ck-toolbar {
			border-bottom-width: 1px;

			@mixin ck-rounded-corners {
				border-radius: 0;
			}
		}
	}
}

/* Note: Use ck-editor__main to make sure these styles don't apply to other editor types */
.ck.ck-editor__main > .ck-editor__editable {
	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/113 */
	background: var(--ck-color-base-background);

	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}

	&:not(.ck-focused) {
		border-color: var(--ck-color-base-border);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},4717:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck .ck-placeholder,.ck.ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{content:attr(data-placeholder);left:0;pointer-events:none;position:absolute;right:0}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-reset_all .ck-placeholder{position:relative}.ck .ck-placeholder:before,.ck.ck-placeholder:before{color:var(--ck-color-engine-placeholder-text);cursor:text}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/placeholder.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-engine/placeholder.css"],names:[],mappings:"AAMA,uCAEC,iBAWD,CATC,qDAIC,8BAA+B,CAF/B,MAAO,CAKP,mBAAoB,CANpB,iBAAkB,CAElB,OAKD,CAKA,wCACC,YACD,CAQD,iCACC,iBACD,CC5BC,qDAEC,6CAA8C,CAD9C,WAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder,
.ck .ck-placeholder {
	position: relative;

	&::before {
		position: absolute;
		left: 0;
		right: 0;
		content: attr(data-placeholder);

		/* See ckeditor/ckeditor5#469. */
		pointer-events: none;
	}
}

/* See ckeditor/ckeditor5#1987. */
.ck.ck-read-only .ck-placeholder {
	&::before {
		display: none;
	}
}

/*
 * Rules for the \`ck-placeholder\` are loaded before the rules for \`ck-reset_all\` in the base CKEditor 5 DLL build.
 * This fix overwrites the incorrectly set \`position: static\` from \`ck-reset_all\`.
 * See https://github.com/ckeditor/ckeditor5/issues/11418.
 */
.ck.ck-reset_all .ck-placeholder {
	position: relative;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* See ckeditor/ckeditor5#936. */
.ck.ck-placeholder, .ck .ck-placeholder {
	&::before {
		cursor: text;
		color: var(--ck-color-engine-placeholder-text);
	}
}
`],sourceRoot:""}]);const x=v},9315:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-editor__editable span[data-ck-unsafe-element]{display:none}","",{version:3,sources:["webpack://./../ckeditor5-engine/theme/renderer.css"],names:[],mappings:"AAMA,qDACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Elements marked by the Renderer as hidden should be invisible in the editor. */
.ck.ck-editor__editable span[data-ck-unsafe-element] {
	display: none;
}
`],sourceRoot:""}]);const x=v},8733:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}","",{version:3,sources:["webpack://./../ckeditor5-heading/theme/heading.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-heading/heading.css"],names:[],mappings:"AAKA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,wBACC,cACD,CAEA,+BACC,eACD,CCZC,2EACC,SACD,CAEA,uEACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-heading_heading1 {
	font-size: 20px;
}

.ck.ck-heading_heading2 {
	font-size: 17px;
}

.ck.ck-heading_heading3 {
	font-size: 14px;
}

.ck[class*="ck-heading_heading"] {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Resize dropdown's button label. */
.ck.ck-dropdown.ck-heading-dropdown {
	& .ck-dropdown__button .ck-button__label {
		width: 8em;
	}

	& .ck-dropdown__panel .ck-list__item {
		min-width: 18em;
	}
}
`],sourceRoot:""}]);const x=v},3508:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/image.css"],names:[],mappings:"AAMC,mBAEC,UAAW,CADX,aAAc,CAOd,gBAAkB,CAGlB,cAAe,CARf,iBAuBD,CAbC,uBAEC,aAAc,CAGd,aAAc,CAGd,cAAe,CAGf,cACD,CAGD,0BAYC,sBAAuB,CANvB,mBAAoB,CAGpB,cAoBD,CAdC,kCACC,YACD,CAGA,gEAGC,WAAY,CACZ,aAAc,CAGd,cACD,CAUD,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAWA,2GACC,SAUD,CAHC,qEACC,YACD,CAOA,0FACC,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content {
	& .image {
		display: table;
		clear: both;
		text-align: center;

		/* Make sure there is some space between the content and the image. Center image by default. */
		/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	 	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
		margin: 0.9em auto;

		/* Make sure the caption will be displayed properly (See: https://github.com/ckeditor/ckeditor5/issues/1870). */
		min-width: 50px;

		& img {
			/* Prevent unnecessary margins caused by line-height (see #44). */
			display: block;

			/* Center the image if its width is smaller than the content's width. */
			margin: 0 auto;

			/* Make sure the image never exceeds the size of the parent container (ckeditor/ckeditor5-ui#67). */
			max-width: 100%;

			/* Make sure the image is never smaller than the parent container (See: https://github.com/ckeditor/ckeditor5/issues/9300). */
			min-width: 100%
		}
	}

	& .image-inline {
		/*
		 * Normally, the .image-inline would have "display: inline-block" and "img { width: 100% }" (to follow the wrapper while resizing).
		 * Unfortunately, together with "srcset", it gets automatically stretched up to the width of the editing root.
		 * This strange behavior does not happen with inline-flex.
		 */
		display: inline-flex;

		/* While being resized, don't allow the image to exceed the width of the editing root. */
		max-width: 100%;

		/* This is required by Safari to resize images in a sensible way. Without this, the browser breaks the ratio. */
		align-items: flex-start;

		/* When the picture is present it must act as a flex container to let the img resize properly */
		& picture {
			display: flex;
		}

		/* When the picture is present, it must act like a resizable img. */
		& picture,
		& img {
			/* This is necessary for the img to span the entire .image-inline wrapper and to resize properly. */
			flex-grow: 1;
			flex-shrink: 1;

			/* Prevents overflowing the editing root boundaries when an inline image is very wide. */
			max-width: 100%;
		}
	}
}

.ck.ck-editor__editable {
	/*
	 * Inhertit the content styles padding of the <figcaption> in case the integration overrides \`text-align: center\`
	 * of \`.image\` (e.g. to the left/right). This ensures the placeholder stays at the padding just like the native
	 * caret does, and not at the edge of <figcaption>.
	 */
	& .image > figcaption.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the image caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}


	/*
	 * Make sure the selected inline image always stays on top of its siblings.
	 * See https://github.com/ckeditor/ckeditor5/issues/9108.
	 */
	& .image.ck-widget_selected {
		z-index: 1;
	}

	& .image-inline.ck-widget_selected {
		z-index: 1;

		/*
		 * Make sure the native browser selection style is not displayed.
		 * Inline image widgets have their own styles for the selected state and
		 * leaving this up to the browser is asking for a visual collision.
		 */
		& ::selection {
			display: none;
		}
	}

	/* The inline image nested in the table should have its original size if not resized.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline img {
			max-width: none;
		}
	}
}
`],sourceRoot:""}]);const x=v},2640:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagecaption.css"],names:[],mappings:"AAKA,MACC,2CAAoD,CACpD,kCAA8C,CAC9C,mDACD,CAGA,8BAKC,yDAA0D,CAH1D,mBAAoB,CAEpB,wCAAyC,CAHzC,qBAAsB,CAMtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,qBAMD,CAGA,qEACC,iDACD,CAEA,sCACC,GACC,oEACD,CAEA,GACC,yDACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-caption-background: hsl(0, 0%, 97%);
	--ck-color-image-caption-text: hsl(0, 0%, 20%);
	--ck-color-image-caption-highligted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .image > figcaption {
	display: table-caption;
	caption-side: bottom;
	word-break: break-word;
	color: var(--ck-color-image-caption-text);
	background-color: var(--ck-color-image-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .image > figcaption.image__caption_highlighted {
	animation: ck-image-caption-highlight .6s ease-out;
}

@keyframes ck-image-caption-highlight {
	0% {
		background-color: var(--ck-color-image-caption-highligted-background);
	}

	100% {
		background-color: var(--ck-color-image-caption-background);
	}
}
`],sourceRoot:""}]);const x=v},3535:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-image-insert__panel{padding:var(--ck-spacing-large)}.ck.ck-image-insert__ck-finder-button{border:1px solid #ccc;border-radius:var(--ck-border-radius);display:block;margin:var(--ck-spacing-standard) auto;width:100%}.ck.ck-splitbutton>.ck-file-dialog-button.ck-button{border:none;margin:0;padding:0}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsert.css"],names:[],mappings:"AAKA,2BACC,+BACD,CAEA,sCAIC,qBAAiC,CACjC,qCAAsC,CAJtC,aAAc,CAEd,sCAAuC,CADvC,UAID,CAGA,oDAGC,WAAY,CADZ,QAAS,CADT,SAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert__panel {
	padding: var(--ck-spacing-large);
}

.ck.ck-image-insert__ck-finder-button {
	display: block;
	width: 100%;
	margin: var(--ck-spacing-standard) auto;
	border: 1px solid hsl(0, 0%, 80%);
	border-radius: var(--ck-border-radius);
}

/* https://github.com/ckeditor/ckeditor5/issues/7986 */
.ck.ck-splitbutton > .ck-file-dialog-button.ck-button {
	padding: 0;
	margin: 0;
	border: none;
}
`],sourceRoot:""}]);const x=v},1568:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-image-insert-form:focus{outline:none}.ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-image-insert-form__action-row{margin-top:var(--ck-spacing-standard)}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-image-insert-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row.ck-image-insert-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageinsertformrowview.css"],names:[],mappings:"AAMC,+BAEC,YACD,CAGD,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAmBD,CAhBC,iCACC,WACD,CAEA,kDACC,qCAUD,CARC,sIAEC,sBACD,CAEA,+EACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-image-insert-form {
	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}
}

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-image-insert-form__action-row {
		margin-top: var(--ck-spacing-standard);

		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=v},6270:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content .image.image_resized{box-sizing:border-box;display:block;max-width:100%}.ck-content .image.image_resized img{width:100%}.ck-content .image.image_resized>figcaption{display:block}.ck.ck-editor__editable td .image-inline.image_resized img,.ck.ck-editor__editable th .image-inline.image_resized img{max-width:100%}[dir=ltr] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon{margin-left:var(--ck-spacing-standard)}.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label{width:4em}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageresize.css"],names:[],mappings:"AAKA,iCAQC,qBAAsB,CADtB,aAAc,CANd,cAkBD,CATC,qCAEC,UACD,CAEA,4CAEC,aACD,CAQC,sHACC,cACD,CAIF,oFACC,uCACD,CAEA,oFACC,sCACD,CAEA,oEACC,SACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .image.image_resized {
	max-width: 100%;
	/*
	The \`<figure>\` element for resized images must not use \`display:table\` as browsers do not support \`max-width\` for it well.
	See https://stackoverflow.com/questions/4019604/chrome-safari-ignoring-max-width-in-table/14420691#14420691 for more.
	Fortunately, since we control the width, there is no risk that the image will look bad.
	*/
	display: block;
	box-sizing: border-box;

	& img {
		/* For resized images it is the \`<figure>\` element that determines the image width. */
		width: 100%;
	}

	& > figcaption {
		/* The \`<figure>\` element uses \`display:block\`, so \`<figcaption>\` also has to. */
		display: block;
	}
}

.ck.ck-editor__editable {
	/* The resized inline image nested in the table should respect its parent size.
	See https://github.com/ckeditor/ckeditor5/issues/9117. */
	& td,
	& th {
		& .image-inline.image_resized img {
			max-width: 100%;
		}
	}
}

[dir="ltr"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-right: var(--ck-spacing-standard);
}

[dir="rtl"] .ck.ck-button.ck-button_with-text.ck-resize-image-button .ck-button__icon {
	margin-left: var(--ck-spacing-standard);
}

.ck.ck-dropdown .ck-button.ck-resize-image-button .ck-button__label {
	width: 4em;
}
`],sourceRoot:""}]);const x=v},5083:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imagestyle.css"],names:[],mappings:"AAKA,MACC,8BAA+B,CAC/B,qEACD,CAMC,qFAEC,oDACD,CAIA,yEAEC,UACD,CAEA,8BACC,WAAY,CACZ,yCAA0C,CAC1C,aACD,CAEA,oCACC,UAAW,CACX,0CACD,CAEA,sCACC,gBAAiB,CACjB,iBACD,CAEA,qCACC,WAAY,CACZ,yCACD,CAEA,2CAEC,gBAAiB,CADjB,cAED,CAEA,0CACC,aAAc,CACd,iBACD,CAGA,6GAGC,YACD,CAGC,mGAGC,kDAAmD,CADnD,+CAED,CAEA,iDACC,iDACD,CAEA,kDACC,gDACD,CAUC,0lBAGC,qDAKD,CAHC,8nBACC,YACD,CAKD,oVAGC,2DACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-image-style-spacing: 1.5em;
	--ck-inline-image-style-spacing: calc(var(--ck-image-style-spacing) / 2);
}

.ck-content {
	/* Provides a minimal side margin for the left and right aligned images, so that the user has a visual feedback
	confirming successful application of the style if image width exceeds the editor's size.
	See https://github.com/ckeditor/ckeditor5/issues/9342 */
	& .image-style-block-align-left,
	& .image-style-block-align-right {
		max-width: calc(100% - var(--ck-image-style-spacing));
	}

	/* Allows displaying multiple floating images in the same line.
	See https://github.com/ckeditor/ckeditor5/issues/9183#issuecomment-804988132 */
	& .image-style-align-left,
	& .image-style-align-right {
		clear: none;
	}

	& .image-style-side {
		float: right;
		margin-left: var(--ck-image-style-spacing);
		max-width: 50%;
	}

	& .image-style-align-left {
		float: left;
		margin-right: var(--ck-image-style-spacing);
	}

	& .image-style-align-center {
		margin-left: auto;
		margin-right: auto;
	}

	& .image-style-align-right {
		float: right;
		margin-left: var(--ck-image-style-spacing);
	}

	& .image-style-block-align-right {
		margin-right: 0;
		margin-left: auto;
	}

	& .image-style-block-align-left {
		margin-left: 0;
		margin-right: auto;
	}

	/* Simulates margin collapsing with the preceding paragraph, which does not work for the floating elements. */
	& p + .image-style-align-left,
	& p + .image-style-align-right,
	& p + .image-style-side {
		margin-top: 0;
	}

	& .image-inline {
		&.image-style-align-left,
		&.image-style-align-right {
			margin-top: var(--ck-inline-image-style-spacing);
			margin-bottom: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-left {
			margin-right: var(--ck-inline-image-style-spacing);
		}

		&.image-style-align-right {
			margin-left: var(--ck-inline-image-style-spacing);
		}
	}
}

.ck.ck-splitbutton {
	/* The button should display as a regular drop-down if the action button
	is forced to fire the same action as the arrow button. */
	&.ck-splitbutton_flatten {
		&:hover,
		&.ck-splitbutton_open {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-background);

				&::after {
					display: none;
				}
			}
		}

		&.ck-splitbutton_open:hover {
			& > .ck-splitbutton__action:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled),
			& > .ck-splitbutton__arrow:not(.ck-disabled):not(:hover) {
				background-color: var(--ck-color-button-on-hover-background);
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},4036:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadicon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadicon.css"],names:[],mappings:"AAKA,+BAUC,iBAAkB,CATlB,aAAc,CACd,iBAAkB,CAOlB,sCAAwC,CADxC,oCAAsC,CAGtC,SAMD,CAJC,qCACC,UAAW,CACX,iBACD,CChBD,MACC,iCAA8C,CAC9C,+CAA4D,CAG5D,8BAA+B,CAC/B,gCAAiC,CACjC,4DACD,CAEA,+BAWC,sBAA4B,CAN5B,0BAAgC,CADhC,qCAAuC,CADvC,wEAA0E,CAD1E,uDAAwD,CAMxD,oDAAuD,CAWvD,oFAAuF,CAlBvF,SAAU,CAgBV,eAAgB,CAChB,mFA0BD,CAtBC,qCAgBC,mBAAsB,CADtB,sBAAyB,CAEzB,4BAA6B,CAH7B,4CAA6C,CAF7C,sFAAuF,CADvF,oFAAqF,CASrF,qBAAsB,CAdtB,QAAS,CAJT,QAAS,CAGT,SAAU,CADV,OAAQ,CAKR,mCAAoC,CACpC,yBAA0B,CAH1B,OAcD,CAGD,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,wCACC,GACC,SACD,CAEA,GACC,SACD,CACD,CAEA,yCACC,GAGC,QAAS,CAFT,SAAU,CACV,OAED,CACA,IAEC,QAAS,CADT,UAED,CACA,GAGC,YAAc,CAFd,SAAU,CACV,UAED,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-image-upload-complete-icon {
	display: block;
	position: absolute;

	/*
	 * Smaller images should have the icon closer to the border.
	 * Match the icon position with the linked image indicator brought by the link image feature.
	 */
	top: min(var(--ck-spacing-medium), 6%);
	right: min(var(--ck-spacing-medium), 6%);
	border-radius: 50%;
	z-index: 1;

	&::after {
		content: "";
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-image-upload-icon: hsl(0, 0%, 100%);
	--ck-color-image-upload-icon-background: hsl(120, 100%, 27%);

	/* Match the icon size with the linked image indicator brought by the link image feature. */
	--ck-image-upload-icon-size: 20;
	--ck-image-upload-icon-width: 2px;
	--ck-image-upload-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck-image-upload-complete-icon {
	opacity: 0;
	background: var(--ck-color-image-upload-icon-background);
	animation-name: ck-upload-complete-icon-show, ck-upload-complete-icon-hide;
	animation-fill-mode: forwards, forwards;
	animation-duration: 500ms, 500ms;

	/* To make animation scalable. */
	font-size: calc(1px * var(--ck-image-upload-icon-size));

	/* Hide completed upload icon after 3 seconds. */
	animation-delay: 0ms, 3000ms;

	/*
	 * Use CSS math to simulate container queries.
	 * https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
	 */
	overflow: hidden;
	width: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));
	height: calc(var(--ck-image-upload-icon-is-visible) * var(--ck-image-upload-icon-size));

	/* This is check icon element made from border-width mixed with animations. */
	&::after {
		/* Because of border transformation we need to "hard code" left position. */
		left: 25%;

		top: 50%;
		opacity: 0;
		height: 0;
		width: 0;

		transform: scaleX(-1) rotate(135deg);
		transform-origin: left top;
		border-top: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);
		border-right: var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);

		animation-name: ck-upload-complete-icon-check;
		animation-duration: 500ms;
		animation-delay: 500ms;
		animation-fill-mode: forwards;

		/* #1095. While reset is not providing proper box-sizing for pseudoelements, we need to handle it. */
		box-sizing: border-box;
	}
}

@keyframes ck-upload-complete-icon-show {
	from {
		opacity: 0;
	}

	to {
		opacity: 1;
	}
}

@keyframes ck-upload-complete-icon-hide {
	from {
		opacity: 1;
	}

	to {
		opacity: 0;
	}
}

@keyframes ck-upload-complete-icon-check {
	0% {
		opacity: 1;
		width: 0;
		height: 0;
	}
	33% {
		width: 0.3em;
		height: 0;
	}
	100% {
		opacity: 1;
		width: 0.3em;
		height: 0.45em;
	}
}
`],sourceRoot:""}]);const x=v},3773:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',"",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadloader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadloader.css"],names:[],mappings:"AAKA,kCAGC,kBAAmB,CADnB,YAAa,CAEb,sBAAuB,CAEvB,MAAO,CALP,iBAAkB,CAIlB,KAOD,CAJC,yCACC,UAAW,CACX,iBACD,CCXD,MACC,4CAAqD,CACrD,wCAAyC,CACzC,8CACD,CAEA,iCAGC,QAAS,CADT,UAgBD,CAbC,8CACC,sGACD,CAEA,qCAOC,4DACD,CAGD,kCAEC,WAAY,CADZ,UAWD,CARC,yCAMC,yDAA0D,CAH1D,iBAAkB,CAElB,kCAAmC,CADnC,8DAA+D,CAF/D,+CAAgD,CADhD,8CAMD,CAGD,wCACC,GACC,uBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-upload-placeholder-loader {
	position: absolute;
	display: flex;
	align-items: center;
	justify-content: center;
	top: 0;
	left: 0;

	&::before {
		content: '';
		position: relative;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-upload-placeholder-loader: hsl(0, 0%, 70%);
	--ck-upload-placeholder-loader-size: 32px;
	--ck-upload-placeholder-image-aspect-ratio: 2.8;
}

.ck .ck-image-upload-placeholder {
	/* We need to control the full width of the SVG gray background. */
	width: 100%;
	margin: 0;

	&.image-inline {
		width: calc( 2 * var(--ck-upload-placeholder-loader-size) * var(--ck-upload-placeholder-image-aspect-ratio) );
	}

	& img {
		/*
		 * This is an arbitrary aspect for a 1x1 px GIF to display to the user. Not too tall, not too short.
		 * There's nothing special about this number except that it should make the image placeholder look like
		 * a real image during this short period after the upload started and before the image was read from the
		 * file system (and a rich preview was loaded).
		 */
		aspect-ratio: var(--ck-upload-placeholder-image-aspect-ratio);
	}
}

.ck .ck-upload-placeholder-loader {
	width: 100%;
	height: 100%;

	&::before {
		width: var(--ck-upload-placeholder-loader-size);
		height: var(--ck-upload-placeholder-loader-size);
		border-radius: 50%;
		border-top: 3px solid var(--ck-color-upload-placeholder-loader);
		border-right: 2px solid transparent;
		animation: ck-upload-placeholder-loader 1s linear infinite;
	}
}

@keyframes ck-upload-placeholder-loader {
	to {
		transform: rotate( 360deg );
	}
}
`],sourceRoot:""}]);const x=v},3689:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/imageuploadprogress.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-image/imageuploadprogress.css"],names:[],mappings:"AAMC,qEAEC,iBACD,CAGA,uGAIC,MAAO,CAFP,iBAAkB,CAClB,KAED,CCRC,yFACC,oBACD,CAID,uGAIC,gDAAiD,CAFjD,UAAW,CAGX,oBAAuB,CAFvB,OAGD,CAGD,kBACC,GAAO,SAAY,CACnB,GAAO,SAAY,CACpB",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		position: relative;
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		position: absolute;
		top: 0;
		left: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	& .image,
	& .image-inline {
		/* Showing animation. */
		&.ck-appear {
			animation: fadeIn 700ms;
		}
	}

	/* Upload progress bar. */
	& .image .ck-progress-bar,
	& .image-inline .ck-progress-bar {
		height: 2px;
		width: 0;
		background: var(--ck-color-upload-bar-background);
		transition: width 100ms;
	}
}

@keyframes fadeIn {
	from { opacity: 0; }
	to   { opacity: 1; }
}
`],sourceRoot:""}]);const x=v},1905:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-image/theme/textalternativeform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,6BACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,oDACC,oBACD,CAEA,uCACC,YACD,CCZA,oCDCD,6BAcE,cAUF,CARE,oDACC,eACD,CAEA,wCACC,cACD,CCrBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-text-alternative-form {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},9773:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/link.css"],names:[],mappings:"AAMA,sBACC,mDAMD,CAHC,wCACC,yFACD,CAOD,4BACC,8CACD,CAGA,sCAEC,gDAAiD,CADjD,WAAY,CAEZ,iBAAkB,CAClB,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/* Class added to span element surrounding currently selected link. */
.ck .ck-link_selected {
	background: var(--ck-color-link-selected-background);

	/* Give linked inline images some outline to let the user know they are also part of the link. */
	& span.image-inline {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background);
	}
}

/*
 * Classes used by the "fake visual selection" displayed in the content when an input
 * in the link UI has focus (the browser does not render the native selection in this state).
 */
.ck .ck-fake-link-selection {
	background: var(--ck-color-link-fake-selection);
}

/* A collapsed fake visual selection. */
.ck .ck-fake-link-selection_collapsed {
	height: 100%;
	border-right: 1px solid var(--ck-color-base-text);
	margin-right: -1px;
	outline: solid 1px hsla(0, 0%, 100%, .5);
}
`],sourceRoot:""}]);const x=v},2347:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkactions.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkactions.css"],names:[],mappings:"AAOA,oBACC,YAAa,CACb,kBAAmB,CACnB,gBAqBD,CAnBC,8CACC,oBAKD,CAHC,gEACC,eACD,CCXD,oCDCD,oBAcE,cAUF,CARE,8CACC,eACD,CAEA,8DACC,cACD,CCrBD,CCIA,wDACC,cAAe,CACf,eAmCD,CAjCC,0EAEC,kCAAmC,CAEnC,cAAe,CAIf,+BAAgC,CAChC,aAAc,CARd,kCAAmC,CASnC,iBAAkB,CAPlB,sBAYD,CAHC,gFACC,yBACD,CAGD,mPAIC,eACD,CAEA,+DACC,eACD,CAGC,gFACC,yBACD,CAWD,qHACC,sCACD,CDtDD,oCC0DC,wDACC,8DAMD,CAJC,0EAEC,cAAe,CADf,WAED,CAGD,gJAME,aAEF,CDzED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-link-actions__preview {
		display: inline-block;

		& .ck-button__label {
			overflow: hidden;
		}
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-link-actions__preview {
			flex-basis: 100%;
		}

		& .ck-button:not(.ck-link-actions__preview) {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_unselectable.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-actions {
	& .ck-button.ck-link-actions__preview {
		padding-left: 0;
		padding-right: 0;

		& .ck-button__label {
			padding: 0 var(--ck-spacing-medium);
			color: var(--ck-color-link-default);
			text-overflow: ellipsis;
			cursor: pointer;

			/* Match the box model of the link editor form's input so the balloon
			does not change width when moving between actions and the form. */
			max-width: var(--ck-input-width);
			min-width: 3em;
			text-align: center;

			&:hover {
				text-decoration: underline;
			}
		}

		&,
		&:hover,
		&:focus,
		&:active {
			background: none;
		}

		&:active {
			box-shadow: none;
		}

		&:focus {
			& .ck-button__label {
				text-decoration: underline;
			}
		}
	}

	@mixin ck-dir ltr {
		& .ck-button:not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-button:not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		& .ck-button.ck-link-actions__preview {
			margin: var(--ck-spacing-standard) var(--ck-spacing-standard) 0;

			& .ck-button__label {
				min-width: 0;
				max-width: 100%;
			}
		}

		& .ck-button:not(.ck-link-actions__preview) {
			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},7754:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}","",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkform.css"],names:[],mappings:"AAOA,iBACC,YAiBD,CAfC,2BACC,YACD,CCNA,oCDCD,iBAQE,cAUF,CARE,wCACC,eACD,CAEA,4BACC,cACD,CCfD,CDuBD,iCACC,aAYD,CALE,wHAEC,mCACD,CE/BF,iCAEC,+BAAgC,CADhC,SAgDD,CA7CC,wDACC,8EAMD,CAJC,uEACC,WAAY,CACZ,UACD,CAGD,4CAIC,eAAgB,CAFhB,QAAS,CADT,kCAAmC,CAEnC,SAkBD,CAfC,wDACC,gDACD,CARD,4GAeE,aAMF,CAJE,mEACC,kDACD,CAKF,6CACC,yDAUD,CARC,wEACC,SAAU,CACV,UAKD,CAHC,8EACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-link-form {
	display: flex;

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	display: block;

	/*
	 * Whether the form is in the responsive mode or not, if there are decorator buttons
	 * keep the top margin of action buttons medium.
	 */
	& .ck-button {
		&.ck-button-save,
		&.ck-button-cancel {
			margin-top: var(--ck-spacing-medium);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/*
 * Style link form differently when manual decorators are available.
 * See: https://github.com/ckeditor/ckeditor5-link/issues/186.
 */
.ck.ck-link-form_layout-vertical {
	padding: 0;
	min-width: var(--ck-input-width);

	& .ck-labeled-field-view {
		margin: var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small);

		& .ck-input-text {
			min-width: 0;
			width: 100%;
		}
	}

	& > .ck-button {
		padding: var(--ck-spacing-standard);
		margin: 0;
		width: 50%;
		border-radius: 0;

		&:not(:focus) {
			border-top: 1px solid var(--ck-color-base-border);
		}

		@mixin ck-dir ltr {
			margin-left: 0;
		}

		@mixin ck-dir rtl {
			margin-left: 0;

			&:last-of-type {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}
	}

	/* Using additional \`.ck\` class for stronger CSS specificity than \`.ck.ck-link-form > :not(:first-child)\`. */
	& .ck.ck-list {
		margin: var(--ck-spacing-standard) var(--ck-spacing-large);

		& .ck-button.ck-switchbutton {
			padding: 0;
			width: 100%;

			&:hover {
				background: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},111:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{display:block;position:absolute}:root{--ck-link-image-indicator-icon-size:20;--ck-link-image-indicator-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck.ck-editor__editable a span.image-inline:after,.ck.ck-editor__editable figure.image>a:after{background-color:rgba(0,0,0,.4);background-image:url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");background-position:50%;background-repeat:no-repeat;background-size:14px;border-radius:100%;content:"";height:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size));overflow:hidden;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);width:calc(var(--ck-link-image-indicator-icon-is-visible)*var(--ck-link-image-indicator-icon-size))}',"",{version:3,sources:["webpack://./../ckeditor5-link/theme/linkimage.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-link/linkimage.css"],names:[],mappings:"AASE,+FACC,aAAc,CACd,iBACD,CCPF,MAEC,sCAAuC,CACvC,oEACD,CAME,+FAUC,+BAAqC,CACrC,83BAA+3B,CAG/3B,uBAA2B,CAD3B,2BAA4B,CAD5B,oBAAqB,CAGrB,kBAAmB,CAdnB,UAAW,CAsBX,oGAAuG,CAFvG,eAAgB,CAbhB,sCAAwC,CADxC,oCAAsC,CAetC,mGAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			display: block;
			position: absolute;
		}
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Match the icon size with the upload indicator brought by the image upload feature. */
	--ck-link-image-indicator-icon-size: 20;
	--ck-link-image-indicator-icon-is-visible: clamp(0px, 100% - 50px, 1px);
}

.ck.ck-editor__editable {
	/* Linked image indicator */
	& figure.image > a,
	& a span.image-inline {
		&::after {
			content: "";

			/*
			 * Smaller images should have the icon closer to the border.
			 * Match the icon position with the upload indicator brought by the image upload feature.
			 */
			top: min(var(--ck-spacing-medium), 6%);
			right: min(var(--ck-spacing-medium), 6%);

			background-color: hsla(0, 0%, 0%, .4);
			background-image: url("data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMjAgMjAiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZmlsbD0iI2ZmZiIgZD0ibTExLjA3NyAxNSAuOTkxLTEuNDE2YS43NS43NSAwIDEgMSAxLjIyOS44NmwtMS4xNDggMS42NGEuNzQ4Ljc0OCAwIDAgMS0uMjE3LjIwNiA1LjI1MSA1LjI1MSAwIDAgMS04LjUwMy01Ljk1NS43NDEuNzQxIDAgMCAxIC4xMi0uMjc0bDEuMTQ3LTEuNjM5YS43NS43NSAwIDEgMSAxLjIyOC44Nkw0LjkzMyAxMC43bC4wMDYuMDAzYTMuNzUgMy43NSAwIDAgMCA2LjEzMiA0LjI5NGwuMDA2LjAwNHptNS40OTQtNS4zMzVhLjc0OC43NDggMCAwIDEtLjEyLjI3NGwtMS4xNDcgMS42MzlhLjc1Ljc1IDAgMSAxLTEuMjI4LS44NmwuODYtMS4yM2EzLjc1IDMuNzUgMCAwIDAtNi4xNDQtNC4zMDFsLS44NiAxLjIyOWEuNzUuNzUgMCAwIDEtMS4yMjktLjg2bDEuMTQ4LTEuNjRhLjc0OC43NDggMCAwIDEgLjIxNy0uMjA2IDUuMjUxIDUuMjUxIDAgMCAxIDguNTAzIDUuOTU1em0tNC41NjMtMi41MzJhLjc1Ljc1IDAgMCAxIC4xODQgMS4wNDVsLTMuMTU1IDQuNTA1YS43NS43NSAwIDEgMS0xLjIyOS0uODZsMy4xNTUtNC41MDZhLjc1Ljc1IDAgMCAxIDEuMDQ1LS4xODR6Ii8+PC9zdmc+");
			background-size: 14px;
			background-repeat: no-repeat;
			background-position: center;
			border-radius: 100%;

			/*
			* Use CSS math to simulate container queries.
			* https://css-tricks.com/the-raven-technique-one-step-closer-to-container-queries/#what-about-showing-and-hiding-things
			*/
			overflow: hidden;
			width: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
			height: calc(var(--ck-link-image-indicator-icon-is-visible) * var(--ck-link-image-indicator-icon-size));
		}
	}
}

`],sourceRoot:""}]);const x=v},4721:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-collapsible.ck-collapsible_collapsed>.ck-collapsible__children{display:none}:root{--ck-collapsible-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-collapsible>.ck.ck-button{border-radius:0;color:inherit;font-weight:700;padding:var(--ck-spacing-medium) var(--ck-spacing-large);width:100%}.ck.ck-collapsible>.ck.ck-button:focus{background:transparent}.ck.ck-collapsible>.ck.ck-button:active,.ck.ck-collapsible>.ck.ck-button:hover:not(:focus),.ck.ck-collapsible>.ck.ck-button:not(:focus){background:transparent;border-color:transparent;box-shadow:none}.ck.ck-collapsible>.ck.ck-button>.ck-icon{margin-right:var(--ck-spacing-medium);width:var(--ck-collapsible-arrow-size)}.ck.ck-collapsible>.ck-collapsible__children{padding:0 var(--ck-spacing-large) var(--ck-spacing-large)}.ck.ck-collapsible.ck-collapsible_collapsed>.ck.ck-button .ck-icon{transform:rotate(-90deg)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/collapsible.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/collapsible.css"],names:[],mappings:"AAMC,sEACC,YACD,CCHD,MACC,yDACD,CAGC,iCAIC,eAAgB,CAChB,aAAc,CAHd,eAAiB,CACjB,wDAAyD,CAFzD,UAoBD,CAdC,uCACC,sBACD,CAEA,wIACC,sBAAuB,CACvB,wBAAyB,CACzB,eACD,CAEA,0CACC,qCAAsC,CACtC,sCACD,CAGD,6CACC,yDACD,CAGC,mEACC,wBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-collapsible.ck-collapsible_collapsed {
	& > .ck-collapsible__children {
		display: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-collapsible-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-collapsible {
	& > .ck.ck-button {
		width: 100%;
		font-weight: bold;
		padding: var(--ck-spacing-medium) var(--ck-spacing-large);
		border-radius: 0;
		color: inherit;

		&:focus {
			background: transparent;
		}

		&:active, &:not(:focus), &:hover:not(:focus) {
			background: transparent;
			border-color: transparent;
			box-shadow: none;
		}

		& > .ck-icon {
			margin-right: var(--ck-spacing-medium);
			width: var(--ck-collapsible-arrow-size);
		}
	}

	& > .ck-collapsible__children {
		padding: 0 var(--ck-spacing-large) var(--ck-spacing-large);
	}

	&.ck-collapsible_collapsed {
		& > .ck.ck-button .ck-icon {
			transform: rotate(-90deg);
		}
	}
}
`],sourceRoot:""}]);const x=v},5730:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-editor__editable .ck-list-bogus-paragraph{display:block}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/documentlist.css"],names:[],mappings:"AAKA,8CACC,aACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-editor__editable .ck-list-bogus-paragraph {
	display: block;
}
`],sourceRoot:""}]);const x=v},4564:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content ol{list-style-type:decimal}.ck-content ol ol{list-style-type:lower-latin}.ck-content ol ol ol{list-style-type:lower-roman}.ck-content ol ol ol ol{list-style-type:upper-latin}.ck-content ol ol ol ol ol{list-style-type:upper-roman}.ck-content ul{list-style-type:disc}.ck-content ul ul{list-style-type:circle}.ck-content ul ul ul,.ck-content ul ul ul ul{list-style-type:square}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/list.css"],names:[],mappings:"AAKA,eACC,uBAiBD,CAfC,kBACC,2BAaD,CAXC,qBACC,2BASD,CAPC,wBACC,2BAKD,CAHC,2BACC,2BACD,CAMJ,eACC,oBAaD,CAXC,kBACC,sBASD,CAJE,6CACC,sBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content ol {
	list-style-type: decimal;

	& ol {
		list-style-type: lower-latin;

		& ol {
			list-style-type: lower-roman;

			& ol {
				list-style-type: upper-latin;

				& ol {
					list-style-type: upper-roman;
				}
			}
		}
	}
}

.ck-content ul {
	list-style-type: disc;

	& ul {
		list-style-type: circle;

		& ul {
			list-style-type: square;

			& ul {
				list-style-type: square;
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},6082:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-list-properties.ck-list-properties_without-styles{padding:var(--ck-spacing-large)}.ck.ck-list-properties.ck-list-properties_without-styles>*{min-width:14em}.ck.ck-list-properties.ck-list-properties_without-styles>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-list-styles-list{grid-template-columns:repeat(4,auto)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible{border-top:1px solid var(--ck-color-base-border)}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*{width:100%}.ck.ck-list-properties.ck-list-properties_with-numbered-properties>.ck-collapsible>.ck-collapsible__children>*+*{margin-top:var(--ck-spacing-standard)}.ck.ck-list-properties .ck.ck-numbered-list-properties__start-index .ck-input{min-width:auto;width:100%}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order{background:transparent;margin-bottom:calc(var(--ck-spacing-tiny)*-1);padding-left:0;padding-right:0}.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:active,.ck.ck-list-properties .ck.ck-numbered-list-properties__reversed-order:hover{background:none;border-color:transparent;box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/listproperties.css"],names:[],mappings:"AAOC,yDACC,+BASD,CAPC,2DACC,cAKD,CAHC,6DACC,qCACD,CASD,wFACC,oCACD,CAGA,mFACC,gDAWD,CARE,+GACC,UAKD,CAHC,iHACC,qCACD,CAMJ,8EACC,cAAe,CACf,UACD,CAEA,uEACC,sBAAuB,CAGvB,6CAAgD,CAFhD,cAAe,CACf,eAQD,CALC,2JAGC,eAAgB,CADhB,wBAAyB,CADzB,eAGD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-properties {
	/* When there are no list styles and there is no collapsible. */
	&.ck-list-properties_without-styles {
		padding: var(--ck-spacing-large);

		& > * {
			min-width: 14em;

			& + * {
				margin-top: var(--ck-spacing-standard);
			}
		}
	}

	/*
	 * When the numbered list property fields (start at, reversed) should be displayed,
	 * more horizontal space is needed. Reconfigure the style grid to create that space.
	 */
	&.ck-list-properties_with-numbered-properties {
		& > .ck-list-styles-list {
			grid-template-columns: repeat( 4, auto );
		}

		/* When list styles are rendered and property fields are in a collapsible. */
		& > .ck-collapsible {
			border-top: 1px solid var(--ck-color-base-border);

			& > .ck-collapsible__children {
				& > * {
					width: 100%;

					& + * {
						margin-top: var(--ck-spacing-standard);
					}
				}
			}
		}
	}

	& .ck.ck-numbered-list-properties__start-index .ck-input {
		min-width: auto;
		width: 100%;
	}

	& .ck.ck-numbered-list-properties__reversed-order {
		background: transparent;
		padding-left: 0;
		padding-right: 0;
		margin-bottom: calc(-1 * var(--ck-spacing-tiny));

		&:active, &:hover {
			box-shadow: none;
			border-color: transparent;
			background: none;
		}
	}
}
`],sourceRoot:""}]);const x=v},2417:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-list-styles-list{display:grid}:root{--ck-list-style-button-size:44px}.ck.ck-list-styles-list{column-gap:var(--ck-spacing-medium);grid-template-columns:repeat(3,auto);padding:var(--ck-spacing-large);row-gap:var(--ck-spacing-medium)}.ck.ck-list-styles-list .ck-button{box-sizing:content-box;margin:0;padding:0}.ck.ck-list-styles-list .ck-button,.ck.ck-list-styles-list .ck-button .ck-icon{height:var(--ck-list-style-button-size);width:var(--ck-list-style-button-size)}","",{version:3,sources:["webpack://./../ckeditor5-list/theme/liststyles.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-list/liststyles.css"],names:[],mappings:"AAKA,wBACC,YACD,CCFA,MACC,gCACD,CAEA,wBAGC,mCAAoC,CAFpC,oCAAwC,CAGxC,+BAAgC,CAFhC,gCA4BD,CAxBC,mCAiBC,sBAAuB,CAPvB,QAAS,CANT,SAmBD,CAJC,+EAhBA,uCAAwC,CADxC,sCAoBA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-list-styles-list {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-list-style-button-size: 44px;
}

.ck.ck-list-styles-list {
	grid-template-columns: repeat( 3, auto );
	row-gap: var(--ck-spacing-medium);
	column-gap: var(--ck-spacing-medium);
	padding: var(--ck-spacing-large);

	& .ck-button {
		/* Make the button look like a thumbnail (the icon "takes it all"). */
		width: var(--ck-list-style-button-size);
		height: var(--ck-list-style-button-size);
		padding: 0;

		/*
		 * Buttons are aligned by the grid so disable default button margins to not collide with the
		 * gaps in the grid.
		 */
		margin: 0;

		/*
		 * Make sure the button border (which is displayed on focus, BTW) does not steal pixels
		 * from the button dimensions and, as a result, decrease the size of the icon
		 * (which becomes blurry as it scales down).
		 */
		box-sizing: content-box;

		& .ck-icon {
			width: var(--ck-list-style-button-size);
			height: var(--ck-list-style-button-size);
		}
	}
}
`],sourceRoot:""}]);const x=v},1199:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,':root{--ck-todo-list-checkmark-size:16px}.ck-content .todo-list{list-style:none}.ck-content .todo-list li{margin-bottom:5px}.ck-content .todo-list li .todo-list{margin-top:5px}.ck-content .todo-list .todo-list__label>input{-webkit-appearance:none;border:0;display:inline-block;height:var(--ck-todo-list-checkmark-size);left:-25px;margin-left:0;margin-right:-15px;position:relative;right:0;vertical-align:middle;width:var(--ck-todo-list-checkmark-size)}.ck-content .todo-list .todo-list__label>input:before{border:1px solid #333;border-radius:2px;box-sizing:border-box;content:"";display:block;height:100%;position:absolute;transition:box-shadow .25s ease-in-out,background .25s ease-in-out,border .25s ease-in-out;width:100%}.ck-content .todo-list .todo-list__label>input:after{border-color:transparent;border-style:solid;border-width:0 calc(var(--ck-todo-list-checkmark-size)/8) calc(var(--ck-todo-list-checkmark-size)/8) 0;box-sizing:content-box;content:"";display:block;height:calc(var(--ck-todo-list-checkmark-size)/2.6);left:calc(var(--ck-todo-list-checkmark-size)/3);pointer-events:none;position:absolute;top:calc(var(--ck-todo-list-checkmark-size)/5.3);transform:rotate(45deg);width:calc(var(--ck-todo-list-checkmark-size)/5.3)}.ck-content .todo-list .todo-list__label>input[checked]:before{background:#26ab33;border-color:#26ab33}.ck-content .todo-list .todo-list__label>input[checked]:after{border-color:#fff}.ck-content .todo-list .todo-list__label .todo-list__label__description{vertical-align:middle}[dir=rtl] .todo-list .todo-list__label>input{left:0;margin-left:-15px;margin-right:0;right:-25px}.ck-editor__editable .todo-list .todo-list__label>input{cursor:pointer}.ck-editor__editable .todo-list .todo-list__label>input:hover:before{box-shadow:0 0 0 5px rgba(0,0,0,.1)}',"",{version:3,sources:["webpack://./../ckeditor5-list/theme/todolist.css"],names:[],mappings:"AAKA,MACC,kCACD,CAEA,uBACC,eA0ED,CAxEC,0BACC,iBAKD,CAHC,qCACC,cACD,CAIA,+CACC,uBAAwB,CAQxB,QAAS,CAPT,oBAAqB,CAGrB,yCAA0C,CAO1C,UAAW,CAGX,aAAc,CAFd,kBAAmB,CAVnB,iBAAkB,CAWlB,OAAQ,CARR,qBAAsB,CAFtB,wCAqDD,CAxCC,sDAOC,qBAAiC,CACjC,iBAAkB,CALlB,qBAAsB,CACtB,UAAW,CAHX,aAAc,CAKd,WAAY,CAJZ,iBAAkB,CAOlB,0FAAgG,CAJhG,UAKD,CAEA,qDAaC,wBAAyB,CADzB,kBAAmB,CAEnB,sGAA+G,CAX/G,sBAAuB,CAEvB,UAAW,CAJX,aAAc,CAUd,mDAAwD,CAHxD,+CAAoD,CAJpD,mBAAoB,CAFpB,iBAAkB,CAOlB,gDAAqD,CAMrD,uBAAwB,CALxB,kDAMD,CAGC,+DACC,kBAA8B,CAC9B,oBACD,CAEA,8DACC,iBACD,CAIF,wEACC,qBACD,CAKF,6CACC,MAAO,CAGP,iBAAkB,CAFlB,cAAe,CACf,WAED,CAMA,wDACC,cAKD,CAHC,qEACC,mCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-todo-list-checkmark-size: 16px;
}

.ck-content .todo-list {
	list-style: none;

	& li {
		margin-bottom: 5px;

		& .todo-list {
			margin-top: 5px;
		}
	}

	& .todo-list__label {
		& > input {
			-webkit-appearance: none;
			display: inline-block;
			position: relative;
			width: var(--ck-todo-list-checkmark-size);
			height: var(--ck-todo-list-checkmark-size);
			vertical-align: middle;

			/* Needed on iOS */
			border: 0;

			/* LTR styles */
			left: -25px;
			margin-right: -15px;
			right: 0;
			margin-left: 0;

			&::before {
				display: block;
				position: absolute;
				box-sizing: border-box;
				content: '';
				width: 100%;
				height: 100%;
				border: 1px solid hsl(0, 0%, 20%);
				border-radius: 2px;
				transition: 250ms ease-in-out box-shadow, 250ms ease-in-out background, 250ms ease-in-out border;
			}

			&::after {
				display: block;
				position: absolute;
				box-sizing: content-box;
				pointer-events: none;
				content: '';

				/* Calculate tick position, size and border-width proportional to the checkmark size. */
				left: calc( var(--ck-todo-list-checkmark-size) / 3 );
				top: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				width: calc( var(--ck-todo-list-checkmark-size) / 5.3 );
				height: calc( var(--ck-todo-list-checkmark-size) / 2.6 );
				border-style: solid;
				border-color: transparent;
				border-width: 0 calc( var(--ck-todo-list-checkmark-size) / 8 ) calc( var(--ck-todo-list-checkmark-size) / 8 ) 0;
				transform: rotate(45deg);
			}

			&[checked] {
				&::before {
					background: hsl(126, 64%, 41%);
					border-color: hsl(126, 64%, 41%);
				}

				&::after {
					border-color: hsl(0, 0%, 100%);
				}
			}
		}

		& .todo-list__label__description {
			vertical-align: middle;
		}
	}
}

/* RTL styles */
[dir="rtl"] .todo-list .todo-list__label > input {
	left: 0;
	margin-right: 0;
	right: -25px;
	margin-left: -15px;
}

/*
 * To-do list should be interactive only during the editing
 * (https://github.com/ckeditor/ckeditor5/issues/2090).
 */
.ck-editor__editable .todo-list .todo-list__label > input {
	cursor: pointer;

	&:hover::before {
		box-shadow: 0 0 0 5px hsla(0, 0%, 0%, 0.1);
	}
}
`],sourceRoot:""}]);const x=v},4652:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembed.css"],names:[],mappings:"AAKA,mBAGC,UAAW,CASX,aAAc,CAJd,aAAe,CAQf,cACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .media {
	/* Don't allow floated content overlap the media.
	https://github.com/ckeditor/ckeditor5-media-embed/issues/53 */
	clear: both;

	/* Make sure there is some space between the content and the media. */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em 0;

	/* Make sure media is not overriden with Bootstrap default \`flex\` value.
	See: https://github.com/ckeditor/ckeditor5/issues/1373. */
	display: block;

	/* Give the media some minimal width in the content to prevent them
	from being "squashed" in tight spaces, e.g. in table cells (#44) */
	min-width: 15em;
}
`],sourceRoot:""}]);const x=v},7442:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',"",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaembedediting.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-media-embed/mediaembedediting.css"],names:[],mappings:"AAMC,0CAGC,kBAAmB,CAFnB,YAAa,CACb,qBAcD,CAXC,sEAEC,cAAe,CAEf,iBAMD,CAJC,wGAEC,aAAc,CADd,eAED,CAWD,6kBACC,YACD,CAYF,2LACC,mBACD,CC1CA,MACC,0CAA2C,CAE3C,mDAA4D,CAC5D,2EACD,CAEA,mBACC,aA+FD,CA7FC,0CAEC,0CAA2C,CAD3C,0CA6BD,CA1BC,uEAIC,uBAA2B,CAC3B,qBAAsB,CAHtB,kDAAmD,CACnD,qCAAsC,CAFtC,qDAUD,CAJC,gFAEC,WAAY,CADZ,UAED,CAGD,4EACC,sDAAuD,CAGvD,iBAAkB,CADlB,iBAAkB,CAElB,sBAAuB,CAHvB,kBAUD,CALC,kFACC,4DAA6D,CAC7D,cAAe,CACf,yBACD,CAIF,wDAEC,gBAAiB,CADjB,eAED,CAEA,4UAIC,wvGACD,CAEA,2EACC,kBAaD,CAXC,wGACC,orBACD,CAEA,6GACC,UAKD,CAHC,mHACC,UACD,CAIF,4EACC,2DAcD,CAZC,yGACC,4jHACD,CAGA,8GACC,aAKD,CAHC,oHACC,UACD,CAIF,6EAEC,iDAaD,CAXC,0GACC,wiCACD,CAEA,+GACC,aAKD,CAHC,qHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-media__wrapper {
	& .ck-media__placeholder {
		display: flex;
		flex-direction: column;
		align-items: center;

		& .ck-media__placeholder__url {
			/* Otherwise the URL will overflow when the content is very narrow. */
			max-width: 100%;

			position: relative;

			& .ck-media__placeholder__url__text {
				overflow: hidden;
				display: block;
			}
		}
	}

	&[data-oembed-url*="twitter.com"],
	&[data-oembed-url*="google.com/maps"],
	&[data-oembed-url*="goo.gl/maps"],
	&[data-oembed-url*="maps.google.com"],
	&[data-oembed-url*="maps.app.goo.gl"],
	&[data-oembed-url*="facebook.com"],
	&[data-oembed-url*="instagram.com"] {
		& .ck-media__placeholder__icon * {
			display: none;
		}
	}
}

/* Disable all mouse interaction as long as the editor is not readonly.
   https://github.com/ckeditor/ckeditor5-media-embed/issues/58 */
.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper > *:not(.ck-media__placeholder) {
	pointer-events: none;
}

/* Disable all mouse interaction when the widget is not selected (e.g. to avoid opening links by accident).
   https://github.com/ckeditor/ckeditor5-media-embed/issues/18 */
.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder {
	pointer-events: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-media-embed-placeholder-icon-size: 3em;

	--ck-color-media-embed-placeholder-url-text: hsl(0, 0%, 46%);
	--ck-color-media-embed-placeholder-url-text-hover: var(--ck-color-base-text);
}

.ck-media__wrapper {
	margin: 0 auto;

	& .ck-media__placeholder {
		padding: calc( 3 * var(--ck-spacing-standard) );
		background: var(--ck-color-base-foreground);

		& .ck-media__placeholder__icon {
			min-width: var(--ck-media-embed-placeholder-icon-size);
			height: var(--ck-media-embed-placeholder-icon-size);
			margin-bottom: var(--ck-spacing-large);
			background-position: center;
			background-size: cover;

			& .ck-icon {
				width: 100%;
				height: 100%;
			}
		}

		& .ck-media__placeholder__url__text {
			color: var(--ck-color-media-embed-placeholder-url-text);
			white-space: nowrap;
			text-align: center;
			font-style: italic;
			text-overflow: ellipsis;

			&:hover {
				color: var(--ck-color-media-embed-placeholder-url-text-hover);
				cursor: pointer;
				text-decoration: underline;
			}
		}
	}

	&[data-oembed-url*="open.spotify.com"] {
		max-width: 300px;
		max-height: 380px;
	}

	&[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon,
	&[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon {
		background-image: url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMCAwIDMuNzggMS42MWg0OS42MjFjMS42OTQgMCAzLjE5LS43OTggNC4xNDYtMi4wMzd6IiBmaWxsPSIjNWM4OGM1Ii8+PHBhdGggZD0iTTIyNi43NDIgMjIyLjk4OGMtOS4yNjYgMC0xNi43NzcgNy4xNy0xNi43NzcgMTYuMDE0LjAwNyAyLjc2Mi42NjMgNS40NzQgMi4wOTMgNy44NzUuNDMuNzAzLjgzIDEuNDA4IDEuMTkgMi4xMDcuMzMzLjUwMi42NSAxLjAwNS45NSAxLjUwOC4zNDMuNDc3LjY3My45NTcuOTg4IDEuNDQgMS4zMSAxLjc2OSAyLjUgMy41MDIgMy42MzcgNS4xNjguNzkzIDEuMjc1IDEuNjgzIDIuNjQgMi40NjYgMy45OSAyLjM2MyA0LjA5NCA0LjAwNyA4LjA5MiA0LjYgMTMuOTE0di4wMTJjLjE4Mi40MTIuNTE2LjY2Ni44NzkuNjY3LjQwMy0uMDAxLjc2OC0uMzE0LjkzLS43OTkuNjAzLTUuNzU2IDIuMjM4LTkuNzI5IDQuNTg1LTEzLjc5NC43ODItMS4zNSAxLjY3My0yLjcxNSAyLjQ2NS0zLjk5IDEuMTM3LTEuNjY2IDIuMzI4LTMuNCAzLjYzOC01LjE2OS4zMTUtLjQ4Mi42NDUtLjk2Mi45ODgtMS40MzkuMy0uNTAzLjYxNy0xLjAwNi45NS0xLjUwOC4zNTktLjcuNzYtMS40MDQgMS4xOS0yLjEwNyAxLjQyNi0yLjQwMiAyLTUuMTE0IDIuMDA0LTcuODc1IDAtOC44NDQtNy41MTEtMTYuMDE0LTE2Ljc3Ni0xNi4wMTR6IiBmaWxsPSIjZGQ0YjNlIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxlbGxpcHNlIHJ5PSI1LjU2NCIgcng9IjUuODI4IiBjeT0iMjM5LjAwMiIgY3g9IjIyNi43NDIiIGZpbGw9IiM4MDJkMjciIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTE5MC4zMDEgMjM3LjI4M2MtNC42NyAwLTguNDU3IDMuODUzLTguNDU3IDguNjA2czMuNzg2IDguNjA3IDguNDU3IDguNjA3YzMuMDQzIDAgNC44MDYtLjk1OCA2LjMzNy0yLjUxNiAxLjUzLTEuNTU3IDIuMDg3LTMuOTEzIDIuMDg3LTYuMjkgMC0uMzYyLS4wMjMtLjcyMi0uMDY0LTEuMDc5aC04LjI1N3YzLjA0M2g0Ljg1Yy0uMTk3Ljc1OS0uNTMxIDEuNDUtMS4wNTggMS45ODYtLjk0Mi45NTgtMi4wMjggMS41NDgtMy45MDEgMS41NDgtMi44NzYgMC01LjIwOC0yLjM3Mi01LjIwOC01LjI5OSAwLTIuOTI2IDIuMzMyLTUuMjk5IDUuMjA4LTUuMjk5IDEuMzk5IDAgMi42MTguNDA3IDMuNTg0IDEuMjkzbDIuMzgxLTIuMzhjMC0uMDAyLS4wMDMtLjAwNC0uMDA0LS4wMDUtMS41ODgtMS41MjQtMy42Mi0yLjIxNS01Ljk1NS0yLjIxNXptNC40MyA1LjY2bC4wMDMuMDA2di0uMDAzeiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjE1LjE4NCAyNTEuOTI5bC03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVjLjI4Ny0uNjQ5LjQ0OS0xLjM2Ni40NDktMi4xMjN2LTMxLjE2NWMtLjQ2OS42NzUtLjkzNCAxLjM0OS0xLjM4MiAyLjAwNS0uNzkyIDEuMjc1LTEuNjgyIDIuNjQtMi40NjUgMy45OS0yLjM0NyA0LjA2NS0zLjk4MiA4LjAzOC00LjU4NSAxMy43OTQtLjE2Mi40ODUtLjUyNy43OTgtLjkzLjc5OS0uMzYzLS4wMDEtLjY5Ny0uMjU1LS44NzktLjY2N3YtLjAxMmMtLjU5My01LjgyMi0yLjIzNy05LjgyLTQuNi0xMy45MTQtLjc4My0xLjM1LTEuNjczLTIuNzE1LTIuNDY2LTMuOTktMS4xMzctMS42NjYtMi4zMjctMy40LTMuNjM3LTUuMTY5bC0uMDAyLS4wMDN6IiBmaWxsPSIjYzNjM2MzIi8+PHBhdGggZD0iTTIxMi45ODMgMjQ4LjQ5NWwtMzYuOTUyIDM2Ljk1M3YuODEyYTUuMjI3IDUuMjI3IDAgMCAwIDUuMjM4IDUuMjM4aDEuMDE1bDM1LjY2Ni0zNS42NjZhMTM2LjI3NSAxMzYuMjc1IDAgMCAwLTIuNzY0LTMuOSAzNy41NzUgMzcuNTc1IDAgMCAwLS45ODktMS40NGMtLjI5OS0uNTAzLS42MTYtMS4wMDYtLjk1LTEuNTA4LS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMjExLjk5OCAyNjEuMDgzbC02LjE1MiA2LjE1MSAyNC4yNjQgMjQuMjY0aC43ODFhNS4yMjcgNS4yMjcgMCAwIDAgNS4yMzktNS4yMzh2LTEuMDQ1eiIgZmlsbD0iI2ZmZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48L2c+PC9zdmc+);
	}

	&[data-oembed-url*="facebook.com"] .ck-media__placeholder {
		background: hsl(220, 46%, 48%);

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSIxMDI0cHgiIGhlaWdodD0iMTAyNHB4IiB2aWV3Qm94PSIwIDAgMTAyNCAxMDI0IiB2ZXJzaW9uPSIxLjEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiPiAgICAgICAgPHRpdGxlPkZpbGwgMTwvdGl0bGU+ICAgIDxkZXNjPkNyZWF0ZWQgd2l0aCBTa2V0Y2guPC9kZXNjPiAgICA8ZGVmcz48L2RlZnM+ICAgIDxnIGlkPSJQYWdlLTEiIHN0cm9rZT0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIiBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPiAgICAgICAgPGcgaWQ9ImZMb2dvX1doaXRlIiBmaWxsPSIjRkZGRkZFIj4gICAgICAgICAgICA8cGF0aCBkPSJNOTY3LjQ4NCwwIEw1Ni41MTcsMCBDMjUuMzA0LDAgMCwyNS4zMDQgMCw1Ni41MTcgTDAsOTY3LjQ4MyBDMCw5OTguNjk0IDI1LjI5NywxMDI0IDU2LjUyMiwxMDI0IEw1NDcsMTAyNCBMNTQ3LDYyOCBMNDE0LDYyOCBMNDE0LDQ3MyBMNTQ3LDQ3MyBMNTQ3LDM1OS4wMjkgQzU0NywyMjYuNzY3IDYyNy43NzMsMTU0Ljc0NyA3NDUuNzU2LDE1NC43NDcgQzgwMi4yNjksMTU0Ljc0NyA4NTAuODQyLDE1OC45NTUgODY1LDE2MC44MzYgTDg2NSwyOTkgTDc4My4zODQsMjk5LjAzNyBDNzE5LjM5MSwyOTkuMDM3IDcwNywzMjkuNTI5IDcwNywzNzQuMjczIEw3MDcsNDczIEw4NjAuNDg3LDQ3MyBMODQwLjUwMSw2MjggTDcwNyw2MjggTDcwNywxMDI0IEw5NjcuNDg0LDEwMjQgQzk5OC42OTcsMTAyNCAxMDI0LDk5OC42OTcgMTAyNCw5NjcuNDg0IEwxMDI0LDU2LjUxNSBDMTAyNCwyNS4zMDMgOTk4LjY5NywwIDk2Ny40ODQsMCIgaWQ9IkZpbGwtMSI+PC9wYXRoPiAgICAgICAgPC9nPiAgICA8L2c+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(220, 100%, 90%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="instagram.com"] .ck-media__placeholder {
		background: linear-gradient(-135deg,hsl(246, 100%, 39%),hsl(302, 100%, 36%),hsl(0, 100%, 48%));

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiPz48c3ZnIHdpZHRoPSI1MDRweCIgaGVpZ2h0PSI1MDRweCIgdmlld0JveD0iMCAwIDUwNCA1MDQiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+ICAgICAgICA8dGl0bGU+Z2x5cGgtbG9nb19NYXkyMDE2PC90aXRsZT4gICAgPGRlc2M+Q3JlYXRlZCB3aXRoIFNrZXRjaC48L2Rlc2M+ICAgIDxkZWZzPiAgICAgICAgPHBvbHlnb24gaWQ9InBhdGgtMSIgcG9pbnRzPSIwIDAuMTU5IDUwMy44NDEgMC4xNTkgNTAzLjg0MSA1MDMuOTQgMCA1MDMuOTQiPjwvcG9seWdvbj4gICAgPC9kZWZzPiAgICA8ZyBpZD0iZ2x5cGgtbG9nb19NYXkyMDE2IiBzdHJva2U9Im5vbmUiIHN0cm9rZS13aWR0aD0iMSIgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj4gICAgICAgIDxnIGlkPSJHcm91cC0zIj4gICAgICAgICAgICA8bWFzayBpZD0ibWFzay0yIiBmaWxsPSJ3aGl0ZSI+ICAgICAgICAgICAgICAgIDx1c2UgeGxpbms6aHJlZj0iI3BhdGgtMSI+PC91c2U+ICAgICAgICAgICAgPC9tYXNrPiAgICAgICAgICAgIDxnIGlkPSJDbGlwLTIiPjwvZz4gICAgICAgICAgICA8cGF0aCBkPSJNMjUxLjkyMSwwLjE1OSBDMTgzLjUwMywwLjE1OSAxNzQuOTI0LDAuNDQ5IDE0OC4wNTQsMS42NzUgQzEyMS4yNCwyLjg5OCAxMDIuOTI3LDcuMTU3IDg2LjkwMywxMy4zODUgQzcwLjMzNywxOS44MjIgNTYuMjg4LDI4LjQzNiA0Mi4yODIsNDIuNDQxIEMyOC4yNzcsNTYuNDQ3IDE5LjY2Myw3MC40OTYgMTMuMjI2LDg3LjA2MiBDNi45OTgsMTAzLjA4NiAyLjczOSwxMjEuMzk5IDEuNTE2LDE0OC4yMTMgQzAuMjksMTc1LjA4MyAwLDE4My42NjIgMCwyNTIuMDggQzAsMzIwLjQ5NyAwLjI5LDMyOS4wNzYgMS41MTYsMzU1Ljk0NiBDMi43MzksMzgyLjc2IDYuOTk4LDQwMS4wNzMgMTMuMjI2LDQxNy4wOTcgQzE5LjY2Myw0MzMuNjYzIDI4LjI3Nyw0NDcuNzEyIDQyLjI4Miw0NjEuNzE4IEM1Ni4yODgsNDc1LjcyMyA3MC4zMzcsNDg0LjMzNyA4Ni45MDMsNDkwLjc3NSBDMTAyLjkyNyw0OTcuMDAyIDEyMS4yNCw1MDEuMjYxIDE0OC4wNTQsNTAyLjQ4NCBDMTc0LjkyNCw1MDMuNzEgMTgzLjUwMyw1MDQgMjUxLjkyMSw1MDQgQzMyMC4zMzgsNTA0IDMyOC45MTcsNTAzLjcxIDM1NS43ODcsNTAyLjQ4NCBDMzgyLjYwMSw1MDEuMjYxIDQwMC45MTQsNDk3LjAwMiA0MTYuOTM4LDQ5MC43NzUgQzQzMy41MDQsNDg0LjMzNyA0NDcuNTUzLDQ3NS43MjMgNDYxLjU1OSw0NjEuNzE4IEM0NzUuNTY0LDQ0Ny43MTIgNDg0LjE3OCw0MzMuNjYzIDQ5MC42MTYsNDE3LjA5NyBDNDk2Ljg0Myw0MDEuMDczIDUwMS4xMDIsMzgyLjc2IDUwMi4zMjUsMzU1Ljk0NiBDNTAzLjU1MSwzMjkuMDc2IDUwMy44NDEsMzIwLjQ5NyA1MDMuODQxLDI1Mi4wOCBDNTAzLjg0MSwxODMuNjYyIDUwMy41NTEsMTc1LjA4MyA1MDIuMzI1LDE0OC4yMTMgQzUwMS4xMDIsMTIxLjM5OSA0OTYuODQzLDEwMy4wODYgNDkwLjYxNiw4Ny4wNjIgQzQ4NC4xNzgsNzAuNDk2IDQ3NS41NjQsNTYuNDQ3IDQ2MS41NTksNDIuNDQxIEM0NDcuNTUzLDI4LjQzNiA0MzMuNTA0LDE5LjgyMiA0MTYuOTM4LDEzLjM4NSBDNDAwLjkxNCw3LjE1NyAzODIuNjAxLDIuODk4IDM1NS43ODcsMS42NzUgQzMyOC45MTcsMC40NDkgMzIwLjMzOCwwLjE1OSAyNTEuOTIxLDAuMTU5IFogTTI1MS45MjEsNDUuNTUgQzMxOS4xODYsNDUuNTUgMzI3LjE1NCw0NS44MDcgMzUzLjcxOCw0Ny4wMTkgQzM3OC4yOCw0OC4xMzkgMzkxLjYxOSw1Mi4yNDMgNDAwLjQ5Niw1NS42OTMgQzQxMi4yNTUsNjAuMjYzIDQyMC42NDcsNjUuNzIyIDQyOS40NjIsNzQuNTM4IEM0MzguMjc4LDgzLjM1MyA0NDMuNzM3LDkxLjc0NSA0NDguMzA3LDEwMy41MDQgQzQ1MS43NTcsMTEyLjM4MSA0NTUuODYxLDEyNS43MiA0NTYuOTgxLDE1MC4yODIgQzQ1OC4xOTMsMTc2Ljg0NiA0NTguNDUsMTg0LjgxNCA0NTguNDUsMjUyLjA4IEM0NTguNDUsMzE5LjM0NSA0NTguMTkzLDMyNy4zMTMgNDU2Ljk4MSwzNTMuODc3IEM0NTUuODYxLDM3OC40MzkgNDUxLjc1NywzOTEuNzc4IDQ0OC4zMDcsNDAwLjY1NSBDNDQzLjczNyw0MTIuNDE0IDQzOC4yNzgsNDIwLjgwNiA0MjkuNDYyLDQyOS42MjEgQzQyMC42NDcsNDM4LjQzNyA0MTIuMjU1LDQ0My44OTYgNDAwLjQ5Niw0NDguNDY2IEMzOTEuNjE5LDQ1MS45MTYgMzc4LjI4LDQ1Ni4wMiAzNTMuNzE4LDQ1Ny4xNCBDMzI3LjE1OCw0NTguMzUyIDMxOS4xOTEsNDU4LjYwOSAyNTEuOTIxLDQ1OC42MDkgQzE4NC42NSw0NTguNjA5IDE3Ni42ODQsNDU4LjM1MiAxNTAuMTIzLDQ1Ny4xNCBDMTI1LjU2MSw0NTYuMDIgMTEyLjIyMiw0NTEuOTE2IDEwMy4zNDUsNDQ4LjQ2NiBDOTEuNTg2LDQ0My44OTYgODMuMTk0LDQzOC40MzcgNzQuMzc5LDQyOS42MjEgQzY1LjU2NCw0MjAuODA2IDYwLjEwNCw0MTIuNDE0IDU1LjUzNCw0MDAuNjU1IEM1Mi4wODQsMzkxLjc3OCA0Ny45OCwzNzguNDM5IDQ2Ljg2LDM1My44NzcgQzQ1LjY0OCwzMjcuMzEzIDQ1LjM5MSwzMTkuMzQ1IDQ1LjM5MSwyNTIuMDggQzQ1LjM5MSwxODQuODE0IDQ1LjY0OCwxNzYuODQ2IDQ2Ljg2LDE1MC4yODIgQzQ3Ljk4LDEyNS43MiA1Mi4wODQsMTEyLjM4MSA1NS41MzQsMTAzLjUwNCBDNjAuMTA0LDkxLjc0NSA2NS41NjMsODMuMzUzIDc0LjM3OSw3NC41MzggQzgzLjE5NCw2NS43MjIgOTEuNTg2LDYwLjI2MyAxMDMuMzQ1LDU1LjY5MyBDMTEyLjIyMiw1Mi4yNDMgMTI1LjU2MSw0OC4xMzkgMTUwLjEyMyw0Ny4wMTkgQzE3Ni42ODcsNDUuODA3IDE4NC42NTUsNDUuNTUgMjUxLjkyMSw0NS41NSBaIiBpZD0iRmlsbC0xIiBmaWxsPSIjRkZGRkZGIiBtYXNrPSJ1cmwoI21hc2stMikiPjwvcGF0aD4gICAgICAgIDwvZz4gICAgICAgIDxwYXRoIGQ9Ik0yNTEuOTIxLDMzNi4wNTMgQzIwNS41NDMsMzM2LjA1MyAxNjcuOTQ3LDI5OC40NTcgMTY3Ljk0NywyNTIuMDggQzE2Ny45NDcsMjA1LjcwMiAyMDUuNTQzLDE2OC4xMDYgMjUxLjkyMSwxNjguMTA2IEMyOTguMjk4LDE2OC4xMDYgMzM1Ljg5NCwyMDUuNzAyIDMzNS44OTQsMjUyLjA4IEMzMzUuODk0LDI5OC40NTcgMjk4LjI5OCwzMzYuMDUzIDI1MS45MjEsMzM2LjA1MyBaIE0yNTEuOTIxLDEyMi43MTUgQzE4MC40NzQsMTIyLjcxNSAxMjIuNTU2LDE4MC42MzMgMTIyLjU1NiwyNTIuMDggQzEyMi41NTYsMzIzLjUyNiAxODAuNDc0LDM4MS40NDQgMjUxLjkyMSwzODEuNDQ0IEMzMjMuMzY3LDM4MS40NDQgMzgxLjI4NSwzMjMuNTI2IDM4MS4yODUsMjUyLjA4IEMzODEuMjg1LDE4MC42MzMgMzIzLjM2NywxMjIuNzE1IDI1MS45MjEsMTIyLjcxNSBaIiBpZD0iRmlsbC00IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgICAgICA8cGF0aCBkPSJNNDE2LjYyNywxMTcuNjA0IEM0MTYuNjI3LDEzNC4zIDQwMy4wOTIsMTQ3LjgzNCAzODYuMzk2LDE0Ny44MzQgQzM2OS43MDEsMTQ3LjgzNCAzNTYuMTY2LDEzNC4zIDM1Ni4xNjYsMTE3LjYwNCBDMzU2LjE2NiwxMDAuOTA4IDM2OS43MDEsODcuMzczIDM4Ni4zOTYsODcuMzczIEM0MDMuMDkyLDg3LjM3MyA0MTYuNjI3LDEwMC45MDggNDE2LjYyNywxMTcuNjA0IiBpZD0iRmlsbC01IiBmaWxsPSIjRkZGRkZGIj48L3BhdGg+ICAgIDwvZz48L3N2Zz4=);
		}

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-media__placeholder__url__text {
			color: hsl(302, 100%, 94%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}

	&[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder {
		/* Use gradient to contrast with focused widget (ckeditor/ckeditor5-media-embed#22). */
		background: linear-gradient( to right, hsl(201, 85%, 70%), hsl(201, 85%, 35%) );

		& .ck-media__placeholder__icon {
			background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IldoaXRlIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiB4PSIwcHgiIHk9IjBweCIgdmlld0JveD0iMCAwIDQwMCA0MDAiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDQwMCA0MDA7IiB4bWw6c3BhY2U9InByZXNlcnZlIj48c3R5bGUgdHlwZT0idGV4dC9jc3MiPi5zdDB7ZmlsbDojRkZGRkZGO308L3N0eWxlPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00MDAsMjAwYzAsMTEwLjUtODkuNSwyMDAtMjAwLDIwMFMwLDMxMC41LDAsMjAwUzg5LjUsMCwyMDAsMFM0MDAsODkuNSw0MDAsMjAweiBNMTYzLjQsMzA1LjVjODguNywwLDEzNy4yLTczLjUsMTM3LjItMTM3LjJjMC0yLjEsMC00LjItMC4xLTYuMmM5LjQtNi44LDE3LjYtMTUuMywyNC4xLTI1Yy04LjYsMy44LTE3LjksNi40LTI3LjcsNy42YzEwLTYsMTcuNi0xNS40LDIxLjItMjYuN2MtOS4zLDUuNS0xOS42LDkuNS0zMC42LDExLjdjLTguOC05LjQtMjEuMy0xNS4yLTM1LjItMTUuMmMtMjYuNiwwLTQ4LjIsMjEuNi00OC4yLDQ4LjJjMCwzLjgsMC40LDcuNSwxLjMsMTFjLTQwLjEtMi03NS42LTIxLjItOTkuNC01MC40Yy00LjEsNy4xLTYuNSwxNS40LTYuNSwyNC4yYzAsMTYuNyw4LjUsMzEuNSwyMS41LDQwLjFjLTcuOS0wLjItMTUuMy0yLjQtMjEuOC02YzAsMC4yLDAsMC40LDAsMC42YzAsMjMuNCwxNi42LDQyLjgsMzguNyw0Ny4zYy00LDEuMS04LjMsMS43LTEyLjcsMS43Yy0zLjEsMC02LjEtMC4zLTkuMS0wLjljNi4xLDE5LjIsMjMuOSwzMy4xLDQ1LDMzLjVjLTE2LjUsMTIuOS0zNy4zLDIwLjYtNTkuOSwyMC42Yy0zLjksMC03LjctMC4yLTExLjUtMC43QzExMC44LDI5Ny41LDEzNi4yLDMwNS41LDE2My40LDMwNS41Ii8+PC9zdmc+);
		}

		& .ck-media__placeholder__url__text {
			color: hsl(201, 100%, 86%);

			&:hover {
				color: hsl(0, 0%, 100%);
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},9292:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}","",{version:3,sources:["webpack://./../ckeditor5-media-embed/theme/mediaform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css"],names:[],mappings:"AAOA,kBAEC,sBAAuB,CADvB,YAAa,CAEb,kBAAmB,CACnB,gBAqBD,CAnBC,yCACC,oBACD,CAEA,4BACC,YACD,CCbA,oCDCD,kBAeE,cAUF,CARE,yCACC,eACD,CAEA,6BACC,cACD,CCtBD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck.ck-media-form {
	display: flex;
	align-items: flex-start;
	flex-direction: row;
	flex-wrap: nowrap;

	& .ck-labeled-field-view {
		display: inline-block;
	}

	& .ck-label {
		display: none;
	}

	@mixin ck-media-phone {
		flex-wrap: wrap;

		& .ck-labeled-field-view {
			flex-basis: 100%;
		}

		& .ck-button {
			flex-basis: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},7368:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-input-color{display:flex;flex-direction:row-reverse;width:100%}.ck.ck-input-color>input.ck.ck-input-text{flex-grow:1;min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown{min-width:auto}.ck.ck-input-color>div.ck.ck-dropdown>.ck-input-color__button .ck-dropdown__arrow{display:none}.ck.ck-input-color .ck.ck-input-color__button{display:flex}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview{overflow:hidden;position:relative}.ck.ck-input-color .ck.ck-input-color__button .ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{display:block;position:absolute}[dir=ltr] .ck.ck-input-color>.ck.ck-input-text{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-input-text{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-input-color>.ck.ck-input-text:focus{z-index:0}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{padding:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-left-radius:0;border-top-left-radius:0}[dir=ltr] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-left:1px solid transparent}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button{border-bottom-right-radius:0;border-top-right-radius:0}[dir=rtl] .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button:not(:focus){border-right:1px solid transparent}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button.ck-disabled{background:var(--ck-color-input-disabled-background)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border-radius:0}.ck-rounded-corners .ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview,.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview{border:1px solid var(--ck-color-input-border);height:20px;width:20px}.ck.ck-input-color>.ck.ck-dropdown>.ck.ck-button.ck-input-color__button>.ck.ck-input-color__button__preview>.ck.ck-input-color__button__preview__no-color-indicator{background:red;border-radius:2px;height:150%;left:50%;top:-30%;transform:rotate(45deg);transform-origin:50%;width:8%}.ck.ck-input-color .ck.ck-input-color__remove-color{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard);width:100%}.ck.ck-input-color .ck.ck-input-color__remove-color:not(:focus){border-bottom:1px solid var(--ck-color-input-border)}[dir=ltr] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-right-radius:0}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color{border-top-left-radius:0}.ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-input-color .ck.ck-input-color__remove-color .ck.ck-icon{margin-left:var(--ck-spacing-standard);margin-right:0}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/colorinput.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,YAAa,CACb,0BAA2B,CAF3B,UAgCD,CA5BC,0CAEC,WAAY,CADZ,cAED,CAEA,sCACC,cAMD,CAHC,kFACC,YACD,CAGD,8CAEC,YAWD,CATC,kFAEC,eAAgB,CADhB,iBAOD,CAJC,0IAEC,aAAc,CADd,iBAED,CC1BF,+CAGE,4BAA6B,CAD7B,yBAcF,CAhBA,+CAQE,2BAA4B,CAD5B,wBASF,CAHC,2CACC,SACD,CAIA,wEACC,SA0CD,CA3CA,kFAKE,2BAA4B,CAD5B,wBAuCF,CApCE,8FACC,iCACD,CATF,kFAcE,4BAA6B,CAD7B,yBA8BF,CA3BE,8FACC,kCACD,CAGD,oFACC,oDACD,CAEA,4GC1CF,eD2DE,CAjBA,+PCtCD,qCDuDC,CAjBA,4GAKC,6CAA8C,CAD9C,WAAY,CADZ,UAcD,CAVC,oKAKC,cAA6B,CAC7B,iBAAkB,CAHlB,WAAY,CADZ,QAAS,CADT,QAAS,CAMT,uBAAwB,CACxB,oBAAqB,CAJrB,QAKD,CAKH,oDAIC,2BAA4B,CAC5B,4BAA6B,CAH7B,qEAAwE,CADxE,UA0BD,CApBC,gEACC,oDACD,CATD,8DAYE,yBAeF,CA3BA,8DAgBE,wBAWF,CARC,gEACC,uCAMD,CAPA,0EAKE,sCAAuC,CADvC,cAGF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-input-color {
	width: 100%;
	display: flex;
	flex-direction: row-reverse;

	& > input.ck.ck-input-text {
		min-width: auto;
		flex-grow: 1;
	}

	& > div.ck.ck-dropdown {
		min-width: auto;

		/* This dropdown has no arrow but a color preview instead. */
		& > .ck-input-color__button .ck-dropdown__arrow {
			display: none;
		}
	}

	& .ck.ck-input-color__button {
		/* Resolving issue with misaligned buttons on Safari (see #10589) */
		display: flex;

		& .ck.ck-input-color__button__preview {
			position: relative;
			overflow: hidden;

			& > .ck.ck-input-color__button__preview__no-color-indicator {
				position: absolute;
				display: block;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../mixins/_rounded.css";

.ck.ck-input-color {
	& > .ck.ck-input-text {
		@mixin ck-dir ltr {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* Make sure the focused input is always on top of the dropdown button so its
		   outline and border are never cropped (also when the input is read-only). */
		&:focus {
			z-index: 0;
		}
	}

	& > .ck.ck-dropdown {
		& > .ck.ck-button.ck-input-color__button {
			padding: 0;

			@mixin ck-dir ltr {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;

				&:not(:focus) {
					border-left: 1px solid transparent;
				}
			}

			@mixin ck-dir rtl {
				border-top-right-radius: 0;
				border-bottom-right-radius: 0;

				&:not(:focus) {
					border-right: 1px solid transparent;
				}
			}

			&.ck-disabled {
				background: var(--ck-color-input-disabled-background);
			}

			& > .ck.ck-input-color__button__preview {
				@mixin ck-rounded-corners;

				width: 20px;
				height: 20px;
				border: 1px solid var(--ck-color-input-border);

				& > .ck.ck-input-color__button__preview__no-color-indicator {
					top: -30%;
					left: 50%;
					height: 150%;
					width: 8%;
					background: hsl(0, 100%, 50%);
					border-radius: 2px;
					transform: rotate(45deg);
					transform-origin: 50%;
				}
			}
		}
	}

	& .ck.ck-input-color__remove-color {
		width: 100%;
		padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);

		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;

		&:not(:focus) {
			border-bottom: 1px solid var(--ck-color-input-border);
		}

		@mixin ck-dir ltr {
			border-top-right-radius: 0;
		}

		@mixin ck-dir rtl {
			border-top-left-radius: 0;
		}

		& .ck.ck-icon {
			margin-right: var(--ck-spacing-standard);

			@mixin ck-dir rtl {
				margin-right: 0;
				margin-left: var(--ck-spacing-standard);
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},4070:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-form{padding:0 0 var(--ck-spacing-large)}.ck.ck-form:focus{outline:none}.ck.ck-form .ck.ck-input-text{min-width:100%;width:0}.ck.ck-form .ck.ck-dropdown{min-width:100%}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button:not(:focus){border:1px solid var(--ck-color-base-border)}.ck.ck-form .ck.ck-dropdown .ck-dropdown__button .ck-button__label{width:100%}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/form.css"],names:[],mappings:"AAKA,YACC,mCAyBD,CAvBC,kBAEC,YACD,CAEA,8BACC,cAAe,CACf,OACD,CAEA,4BACC,cAWD,CARE,6DACC,4CACD,CAEA,mEACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form {
	padding: 0 0 var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	& .ck.ck-input-text {
		min-width: 100%;
		width: 0;
	}

	& .ck.ck-dropdown {
		min-width: 100%;

		& .ck-dropdown__button {
			&:not(:focus) {
				border: 1px solid var(--ck-color-base-border);
			}

			& .ck-button__label {
				width: 100%;
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},9247:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-form__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}.ck.ck-form__row>:not(.ck-label){flex-grow:1}.ck.ck-form__row.ck-table-form__action-row .ck-button-cancel,.ck.ck-form__row.ck-table-form__action-row .ck-button-save{justify-content:center}.ck.ck-form__row{padding:var(--ck-spacing-standard) var(--ck-spacing-large) 0}[dir=ltr] .ck.ck-form__row>:not(.ck-label)+*{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-form__row>:not(.ck-label)+*{margin-right:var(--ck-spacing-large)}.ck.ck-form__row>.ck-label{min-width:100%;width:100%}.ck.ck-form__row.ck-table-form__action-row{margin-top:var(--ck-spacing-large)}.ck.ck-form__row.ck-table-form__action-row .ck-button .ck-button__label{color:var(--ck-color-text)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/formrow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/formrow.css"],names:[],mappings:"AAKA,iBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAaD,CAVC,iCACC,WACD,CAGC,wHAEC,sBACD,CCbF,iBACC,4DA2BD,CAvBE,6CAEE,mCAMF,CARA,6CAME,oCAEF,CAGD,2BAEC,cAAe,CADf,UAED,CAEA,2CACC,kCAKD,CAHC,wEACC,0BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		flex-grow: 1;
	}

	&.ck-table-form__action-row {
		& .ck-button-save,
		& .ck-button-cancel {
			justify-content: center;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-form__row {
	padding: var(--ck-spacing-standard) var(--ck-spacing-large) 0;

	/* Ignore labels that work as fieldset legends */
	& > *:not(.ck-label) {
		& + * {
			@mixin ck-dir ltr {
				margin-left: var(--ck-spacing-large);
			}

			@mixin ck-dir rtl {
				margin-right: var(--ck-spacing-large);
			}
		}
	}

	& > .ck-label {
		width: 100%;
		min-width: 100%;
	}

	&.ck-table-form__action-row {
		margin-top: var(--ck-spacing-large);

		& .ck-button .ck-button__label {
			color: var(--ck-color-text);
		}
	}
}
`],sourceRoot:""}]);const x=v},1613:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label,.ck[dir=rtl] .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;margin:var(--ck-insert-table-dropdown-box-margin);min-height:var(--ck-insert-table-dropdown-box-height);min-width:var(--ck-insert-table-dropdown-box-width);outline:none;transition:none}.ck .ck-insert-table-dropdown-grid-box:focus{box-shadow:none}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/inserttable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/inserttable.css"],names:[],mappings:"AAKA,oCACC,YAAa,CACb,kBAAmB,CACnB,cACD,CCJA,MACC,uCAAwC,CACxC,0CAA2C,CAC3C,yCAA0C,CAC1C,yCACD,CAEA,oCAGC,yFAA0F,CAD1F,oJAED,CAEA,mFAEC,iBACD,CAEA,uCAIC,4CAA6C,CAC7C,iBAAkB,CAFlB,iDAAkD,CADlD,qDAAsD,CADtD,mDAAoD,CAKpD,YAAa,CACb,eAUD,CARC,6CACC,eACD,CAEA,6CAEC,6CAA8C,CAD9C,yCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-insert-table-dropdown__grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-insert-table-dropdown-padding: 10px;
	--ck-insert-table-dropdown-box-height: 11px;
	--ck-insert-table-dropdown-box-width: 12px;
	--ck-insert-table-dropdown-box-margin: 1px;
}

.ck .ck-insert-table-dropdown__grid {
	/* The width of a container should match 10 items in a row so there will be a 10x10 grid. */
	width: calc(var(--ck-insert-table-dropdown-box-width) * 10 + var(--ck-insert-table-dropdown-box-margin) * 20 + var(--ck-insert-table-dropdown-padding) * 2);
	padding: var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;
}

.ck .ck-insert-table-dropdown__label,
.ck[dir=rtl] .ck-insert-table-dropdown__label {
	text-align: center;
}

.ck .ck-insert-table-dropdown-grid-box {
	min-width: var(--ck-insert-table-dropdown-box-width);
	min-height: var(--ck-insert-table-dropdown-box-height);
	margin: var(--ck-insert-table-dropdown-box-margin);
	border: 1px solid var(--ck-color-base-border);
	border-radius: 1px;
	outline: none;
	transition: none;

	&:focus {
		box-shadow: none;
	}

	&.ck-on {
		border-color: var(--ck-color-focus-border);
		background: var(--ck-color-focus-outer-shadow);
	}
}

`],sourceRoot:""}]);const x=v},6306:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/table.css"],names:[],mappings:"AAKA,mBAKC,aAAc,CADd,gBAiCD,CA9BC,yBAYC,yBAAkC,CAVlC,wBAAyB,CACzB,gBAAiB,CAKjB,WAAY,CADZ,UAsBD,CAfC,wDAQC,wBAAiC,CANjC,aAAc,CACd,YAMD,CAEA,4BAEC,0BAA+B,CAD/B,eAED,CAMF,+BACC,gBACD,CAEA,+BACC,eACD,CAEA,+CAKC,oBAAqB,CAMrB,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck-content .table {
	/* Give the table widget some air and center it horizontally */
	/* The first value should be equal to --ck-spacing-large variable if used in the editor context
	to avoid the content jumping (See https://github.com/ckeditor/ckeditor5/issues/9825). */
	margin: 0.9em auto;
	display: table;

	& table {
		/* The table cells should have slight borders */
		border-collapse: collapse;
		border-spacing: 0;

		/* Table width and height are set on the parent <figure>. Make sure the table inside stretches
		to the full dimensions of the container (https://github.com/ckeditor/ckeditor5/issues/6186). */
		width: 100%;
		height: 100%;

		/* The outer border of the table should be slightly darker than the inner lines.
		Also see https://github.com/ckeditor/ckeditor5-table/issues/50. */
		border: 1px double hsl(0, 0%, 70%);

		& td,
		& th {
			min-width: 2em;
			padding: .4em;

			/* The border is inherited from .ck-editor__nested-editable styles, so theoretically it's not necessary here.
			However, the border is a content style, so it should use .ck-content (so it works outside the editor).
			Hence, the duplication. See https://github.com/ckeditor/ckeditor5/issues/6314 */
			border: 1px solid hsl(0, 0%, 75%);
		}

		& th {
			font-weight: bold;
			background: hsla(0, 0%, 0%, 5%);
		}
	}
}

/* Text alignment of the table header should match the editor settings and override the native browser styling,
when content is available outside the editor. See https://github.com/ckeditor/ckeditor5/issues/6638 */
.ck-content[dir="rtl"] .table th {
	text-align: right;
}

.ck-content[dir="ltr"] .table th {
	text-align: left;
}

.ck-editor__editable .ck-table-bogus-paragraph {
	/*
	 * Use display:inline-block to force Chrome/Safari to limit text mutations to this element.
	 * See https://github.com/ckeditor/ckeditor5/issues/6062.
	 */
	display: inline-block;

	/*
	 * Inline HTML elements nested in the span should always be dimensioned in relation to the whole cell width.
	 * See https://github.com/ckeditor/ckeditor5/issues/9117.
	 */
	width: 100%;
}
`],sourceRoot:""}]);const x=v},2128:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-color-selector-caption-background:#f7f7f7;--ck-color-selector-caption-text:#333;--ck-color-selector-caption-highlighted-background:#fd0}.ck-content .table>figcaption{background-color:var(--ck-color-selector-caption-background);caption-side:top;color:var(--ck-color-selector-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;text-align:center;word-break:break-word}.ck.ck-editor__editable .table>figcaption.table__caption_highlighted{animation:ck-table-caption-highlight .6s ease-out}.ck.ck-editor__editable .table>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}@keyframes ck-table-caption-highlight{0%{background-color:var(--ck-color-selector-caption-highlighted-background)}to{background-color:var(--ck-color-selector-caption-background)}}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecaption.css"],names:[],mappings:"AAKA,MACC,8CAAuD,CACvD,qCAAiD,CACjD,uDACD,CAGA,8BAMC,4DAA6D,CAJ7D,gBAAiB,CAGjB,2CAA4C,CAJ5C,qBAAsB,CAOtB,eAAgB,CAChB,mBAAoB,CAFpB,YAAa,CAHb,iBAAkB,CADlB,qBAOD,CAIC,qEACC,iDACD,CAEA,gEASC,eAAgB,CARhB,oBAAqB,CACrB,qBAAsB,CAQtB,sBAAuB,CAFvB,kBAGD,CAGD,sCACC,GACC,wEACD,CAEA,GACC,4DACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-caption-background: hsl(0, 0%, 97%);
	--ck-color-selector-caption-text: hsl(0, 0%, 20%);
	--ck-color-selector-caption-highlighted-background: hsl(52deg 100% 50%);
}

/* Content styles */
.ck-content .table > figcaption {
	display: table-caption;
	caption-side: top;
	word-break: break-word;
	text-align: center;
	color: var(--ck-color-selector-caption-text);
	background-color: var(--ck-color-selector-caption-background);
	padding: .6em;
	font-size: .75em;
	outline-offset: -1px;
}

/* Editing styles */
.ck.ck-editor__editable .table > figcaption {
	&.table__caption_highlighted {
		animation: ck-table-caption-highlight .6s ease-out;
	}

	&.ck-placeholder::before {
		padding-left: inherit;
		padding-right: inherit;

		/*
		 * Make sure the table caption placeholder doesn't overflow the placeholder area.
		 * See https://github.com/ckeditor/ckeditor5/issues/9162.
		 */
		white-space: nowrap;
		overflow: hidden;
		text-overflow: ellipsis;
	}
}

@keyframes ck-table-caption-highlight {
	0% {
		background-color: var(--ck-color-selector-caption-highlighted-background);
	}

	100% {
		background-color: var(--ck-color-selector-caption-background);
	}
}
`],sourceRoot:""}]);const x=v},5087:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row{flex-wrap:wrap}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:first-of-type{flex-grow:0.57}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar:last-of-type{flex-grow:0.43}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar .ck-button{flex-grow:1}.ck.ck-table-cell-properties-form{width:320px}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__padding-row{align-self:flex-end;padding:0;width:25%}.ck.ck-table-cell-properties-form .ck-form__row.ck-table-cell-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecellproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tablecellproperties.css"],names:[],mappings:"AAOE,6FACC,cAiBD,CAdE,0HAEC,cACD,CAEA,yHAEC,cACD,CAEA,uHACC,WACD,CClBJ,kCACC,WAkBD,CAfE,2FACC,mBAAoB,CACpB,SAAU,CACV,SACD,CAGC,4GACC,eAAgB,CAGhB,qCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	& .ck-form__row {
		&.ck-table-cell-properties-form__alignment-row {
			flex-wrap: wrap;

			& .ck.ck-toolbar {
				&:first-of-type {
					/* 4 buttons out of 7 (h-alignment + v-alignment) = 0.57 */
					flex-grow: 0.57;
				}

				&:last-of-type {
					/* 3 buttons out of 7 (h-alignment + v-alignment) = 0.43 */
					flex-grow: 0.43;
				}

				& .ck-button {
					flex-grow: 1;
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-cell-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-cell-properties-form__padding-row {
			align-self: flex-end;
			padding: 0;
			width: 25%;
		}

		&.ck-table-cell-properties-form__alignment-row {
			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},4101:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-color-selector-column-resizer-hover:var(--ck-color-base-active);--ck-table-column-resizer-width:7px;--ck-table-column-resizer-position-offset:calc(var(--ck-table-column-resizer-width)*-0.5 - 0.5px)}.ck-content .table .ck-table-resized{table-layout:fixed}.ck-content .table table{overflow:hidden}.ck-content .table td,.ck-content .table th{overflow-wrap:break-word;position:relative}.ck.ck-editor__editable .table .ck-table-column-resizer{bottom:-999999px;cursor:col-resize;position:absolute;right:var(--ck-table-column-resizer-position-offset);top:-999999px;user-select:none;width:var(--ck-table-column-resizer-width);z-index:var(--ck-z-default)}.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer,.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer{display:none}.ck.ck-editor__editable .table .ck-table-column-resizer:hover,.ck.ck-editor__editable .table .ck-table-column-resizer__active{background-color:var(--ck-color-selector-column-resizer-hover);opacity:.25}.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer{left:var(--ck-table-column-resizer-position-offset);right:unset}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tablecolumnresize.css"],names:[],mappings:"AAKA,MACC,oEAAqE,CACrE,mCAAoC,CAIpC,iGACD,CAEA,qCACC,kBACD,CAEA,yBACC,eACD,CAEA,4CAIC,wBAAyB,CACzB,iBACD,CAEA,wDAOC,gBAAiB,CAGjB,iBAAkB,CATlB,iBAAkB,CAOlB,oDAAqD,CAFrD,aAAc,CAKd,gBAAiB,CAFjB,0CAA2C,CAG3C,2BACD,CAQA,qJACC,YACD,CAEA,8HAEC,8DAA+D,CAC/D,WACD,CAEA,iEACC,mDAAoD,CACpD,WACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-column-resizer-hover: var(--ck-color-base-active);
	--ck-table-column-resizer-width: 7px;

	/* The offset used for absolute positioning of the resizer element, so that it is placed exactly above the cell border.
	   The value is: minus half the width of the resizer decreased additionaly by the half the width of the border (0.5px). */
	--ck-table-column-resizer-position-offset: calc(var(--ck-table-column-resizer-width) * -0.5 - 0.5px);
}

.ck-content .table .ck-table-resized {
	table-layout: fixed;
}

.ck-content .table table {
	overflow: hidden;
}

.ck-content .table td,
.ck-content .table th {
	/* To prevent text overflowing beyond its cell when columns are resized by resize handler
	(https://github.com/ckeditor/ckeditor5/pull/14379#issuecomment-1589460978). */
	overflow-wrap: break-word;
	position: relative;
}

.ck.ck-editor__editable .table .ck-table-column-resizer {
	position: absolute;
	/* The resizer element resides in each cell so to occupy the entire height of the table, which is unknown from a CSS point of view,
	   it is extended to an extremely high height. Even for screens with a very high pixel density, the resizer will fulfill its role as
	   it should, i.e. for a screen of 476 ppi the total height of the resizer will take over 350 sheets of A4 format, which is totally
	   unrealistic height for a single table. */
	top: -999999px;
	bottom: -999999px;
	right: var(--ck-table-column-resizer-position-offset);
	width: var(--ck-table-column-resizer-width);
	cursor: col-resize;
	user-select: none;
	z-index: var(--ck-z-default);
}

.ck.ck-editor__editable.ck-column-resize_disabled .table .ck-table-column-resizer {
	display: none;
}

/* The resizer elements, which are extended to an extremely high height, break the drag & drop feature in Chrome. To make it work again,
   all resizers must be hidden while the table is dragged. */
.ck.ck-editor__editable .table[draggable] .ck-table-column-resizer {
	display: none;
}

.ck.ck-editor__editable .table .ck-table-column-resizer:hover,
.ck.ck-editor__editable .table .ck-table-column-resizer__active {
	background-color: var(--ck-color-selector-column-resizer-hover);
	opacity: 0.25;
}

.ck.ck-editor__editable[dir=rtl] .table .ck-table-column-resizer {
	left: var(--ck-table-column-resizer-position-offset);
	right: unset;
}
`],sourceRoot:""}]);const x=v},3881:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-color-selector-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-selector-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableediting.css"],names:[],mappings:"AAKA,MACC,gEACD,CAKE,8QAGC,2DAA4D,CAK5D,iBAAkB,CAClB,8CAA+C,CAC/C,mBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-selector-focused-cell-background: hsla(212, 90%, 80%, .3);
}

.ck-widget.table {
	& td,
	& th {
		&.ck-editor__nested-editable.ck-editor__nested-editable_focused,
		&.ck-editor__nested-editable:focus {
			/* A very slight background to highlight the focused cell */
			background: var(--ck-color-selector-focused-cell-background);

			/* Fixes the problem where surrounding cells cover the focused cell's border.
			It does not fix the problem in all places but the UX is improved.
			See https://github.com/ckeditor/ckeditor5-table/issues/29. */
			border-style: none;
			outline: 1px solid var(--ck-color-focus-border);
			outline-offset: -1px; /* progressive enhancement - no IE support */
		}
	}
}
`],sourceRoot:""}]);const x=v},6237:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck.ck-table-form .ck-form__row.ck-table-form__background-row,.ck.ck-table-form .ck-form__row.ck-table-form__border-row{flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{align-items:center;flex-wrap:wrap}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view{align-items:center;display:flex;flex-direction:column-reverse}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-labeled-field-view .ck.ck-dropdown,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{flex-grow:0}.ck.ck-table-form .ck.ck-labeled-field-view{position:relative}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{bottom:calc(var(--ck-table-properties-error-arrow-size)*-1);left:50%;position:absolute;transform:translate(-50%,100%);z-index:1}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{content:"";left:50%;position:absolute;top:calc(var(--ck-table-properties-error-arrow-size)*-1);transform:translateX(-50%)}:root{--ck-table-properties-error-arrow-size:6px;--ck-table-properties-min-error-width:150px}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-labeled-field-view>.ck-label{font-size:var(--ck-font-size-tiny);text-align:center}.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-style,.ck.ck-table-form .ck-form__row.ck-table-form__border-row .ck-table-form__border-width{max-width:80px;min-width:80px;width:80px}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row{padding:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__height,.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimensions-row__width{margin:0}.ck.ck-table-form .ck-form__row.ck-table-form__dimensions-row .ck-table-form__dimension-operator{align-self:flex-end;display:inline-block;height:var(--ck-ui-component-min-height);line-height:var(--ck-ui-component-min-height);margin:0 var(--ck-spacing-small)}.ck.ck-table-form .ck.ck-labeled-field-view{padding-top:var(--ck-spacing-standard)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{border-radius:0}.ck-rounded-corners .ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status,.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{background:var(--ck-color-base-error);color:var(--ck-color-base-background);min-width:var(--ck-table-properties-min-error-width);padding:var(--ck-spacing-small) var(--ck-spacing-medium);text-align:center}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status:after{border-color:transparent transparent var(--ck-color-base-error) transparent;border-style:solid;border-width:0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size)}.ck.ck-table-form .ck.ck-labeled-field-view .ck.ck-labeled-field-view__status{animation:ck-table-form-labeled-view-status-appear .15s ease both}.ck.ck-table-form .ck.ck-labeled-field-view .ck-input.ck-error:not(:focus)+.ck.ck-labeled-field-view__status{display:none}@keyframes ck-table-form-labeled-view-status-appear{0%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableform.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableform.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAWE,wHACC,cACD,CAEA,8DAEC,kBAAmB,CADnB,cAgBD,CAbC,qFAGC,kBAAmB,CAFnB,YAAa,CACb,6BAMD,CAEA,sMACC,WACD,CAIF,4CAEC,iBAoBD,CAlBC,8EAGC,2DAAgE,CADhE,QAAS,CADT,iBAAkB,CAGlB,8BAA+B,CAG/B,SAUD,CAPC,oFACC,UAAW,CAGX,QAAS,CAFT,iBAAkB,CAClB,wDAA6D,CAE7D,0BACD,CChDH,MACC,0CAA2C,CAC3C,2CACD,CAMI,2FACC,kCAAmC,CACnC,iBACD,CAGD,8KAIC,cAAe,CADf,cAAe,CADf,UAGD,CAGD,8DACC,SAcD,CAZC,yMAEC,QACD,CAEA,iGACC,mBAAoB,CACpB,oBAAqB,CACrB,wCAAyC,CACzC,6CAA8C,CAC9C,gCACD,CAIF,4CACC,sCAyBD,CAvBC,8ECxCD,eDyDC,CAjBA,mMCpCA,qCDqDA,CAjBA,8EAGC,qCAAsC,CACtC,qCAAsC,CAEtC,oDAAqD,CADrD,wDAAyD,CAEzD,iBAUD,CAPC,oFACC,2EAA4E,CAE5E,kBAAmB,CADnB,kJAED,CAdD,8EAgBC,iEACD,CAGA,6GACC,YACD,CAIF,oDACC,GACC,SACD,CAEA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__background-row {
			flex-wrap: wrap;
		}

		&.ck-table-form__dimensions-row {
			flex-wrap: wrap;
			align-items: center;

			& .ck-labeled-field-view {
				display: flex;
				flex-direction: column-reverse;
				align-items: center;

				& .ck.ck-dropdown {
					flex-grow: 0;
				}
			}

			& .ck-table-form__dimension-operator {
				flex-grow: 0;
			}
		}
	}

	& .ck.ck-labeled-field-view {
		/* Allow absolute positioning of the status (error) balloons. */
		position: relative;

		& .ck.ck-labeled-field-view__status {
			position: absolute;
			left: 50%;
			bottom: calc( -1 * var(--ck-table-properties-error-arrow-size) );
			transform: translate(-50%,100%);

			/* Make sure the balloon status stays on top of other form elements. */
			z-index: 1;

			/* The arrow pointing towards the field. */
			&::after {
				content: "";
				position: absolute;
				top: calc( -1 * var(--ck-table-properties-error-arrow-size) );
				left: 50%;
				transform: translateX( -50% );
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_rounded.css";

:root {
	--ck-table-properties-error-arrow-size: 6px;
	--ck-table-properties-min-error-width: 150px;
}

.ck.ck-table-form {
	& .ck-form__row {
		&.ck-table-form__border-row {
			& .ck-labeled-field-view {
				& > .ck-label {
					font-size: var(--ck-font-size-tiny);
					text-align: center;
				}
			}

			& .ck-table-form__border-style,
			& .ck-table-form__border-width {
				width: 80px;
				min-width: 80px;
				max-width: 80px;
			}
		}

		&.ck-table-form__dimensions-row {
			padding: 0;

			& .ck-table-form__dimensions-row__width,
			& .ck-table-form__dimensions-row__height {
				margin: 0
			}

			& .ck-table-form__dimension-operator {
				align-self: flex-end;
				display: inline-block;
				height: var(--ck-ui-component-min-height);
				line-height: var(--ck-ui-component-min-height);
				margin: 0 var(--ck-spacing-small);
			}
		}
	}

	& .ck.ck-labeled-field-view {
		padding-top: var(--ck-spacing-standard);

		& .ck.ck-labeled-field-view__status {
			@mixin ck-rounded-corners;

			background: var(--ck-color-base-error);
			color: var(--ck-color-base-background);
			padding: var(--ck-spacing-small) var(--ck-spacing-medium);
			min-width: var(--ck-table-properties-min-error-width);
			text-align: center;

			/* The arrow pointing towards the field. */
			&::after {
				border-color: transparent transparent var(--ck-color-base-error) transparent;
				border-width: 0 var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size) var(--ck-table-properties-error-arrow-size);
				border-style: solid;
			}

			animation: ck-table-form-labeled-view-status-appear .15s ease both;
		}

		/* Hide the error balloon when the field is blurred. Makes the experience much more clear. */
		& .ck-input.ck-error:not(:focus) + .ck.ck-labeled-field-view__status {
			display: none;
		}
	}
}

@keyframes ck-table-form-labeled-view-status-appear {
	0% {
		opacity: 0;
	}

	100% {
		opacity: 1;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},7341:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-content:baseline;flex-basis:0;flex-wrap:wrap}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items{flex-wrap:nowrap}.ck.ck-table-properties-form{width:320px}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row{align-self:flex-end;padding:0}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar{background:none;margin-top:var(--ck-spacing-standard)}.ck.ck-table-properties-form .ck-form__row.ck-table-properties-form__alignment-row .ck.ck-toolbar .ck-toolbar__items>*{width:40px}","",{version:3,sources:["webpack://./../ckeditor5-table/theme/tableproperties.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableproperties.css"],names:[],mappings:"AAOE,mFAGC,sBAAuB,CADvB,YAAa,CADb,cAOD,CAHC,qHACC,gBACD,CCTH,6BACC,WAmBD,CAhBE,mFACC,mBAAoB,CACpB,SAYD,CAVC,kGACC,eAAgB,CAGhB,qCAKD,CAHC,uHACC,UACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			flex-wrap: wrap;
			flex-basis: 0;
			align-content: baseline;

			& .ck.ck-toolbar .ck-toolbar__items {
				flex-wrap: nowrap;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-table-properties-form {
	width: 320px;

	& .ck-form__row {
		&.ck-table-properties-form__alignment-row {
			align-self: flex-end;
			padding: 0;

			& .ck.ck-toolbar {
				background: none;

				/* Compensate for missing input label that would push the margin (toolbar has no inputs). */
				margin-top: var(--ck-spacing-standard);

				& .ck-toolbar__items > * {
					width: 40px;
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},6945:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',"",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-table/tableselection.css"],names:[],mappings:"AAKA,MACC,wDACD,CAGC,0IAKC,gBAAiB,CAFjB,uBAAwB,CACxB,aAAc,CAFd,iBAiCD,CA3BC,sJAGC,yDAA0D,CAK1D,QAAS,CAPT,UAAW,CAKX,MAAO,CAJP,mBAAoB,CAEpB,iBAAkB,CAGlB,OAAQ,CAFR,KAID,CAEA,wTAEC,4BACD,CAMA,gKACC,aAKD,CAHC,0NACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-table-selected-cell-background: hsla(208, 90%, 80%, .3);
}

.ck.ck-editor__editable .table table {
	& td.ck-editor__editable_selected,
	& th.ck-editor__editable_selected {
		position: relative;
		caret-color: transparent;
		outline: unset;
		box-shadow: unset;

		/* https://github.com/ckeditor/ckeditor5/issues/6446 */
		&:after {
			content: '';
			pointer-events: none;
			background-color: var(--ck-table-selected-cell-background);
			position: absolute;
			top: 0;
			left: 0;
			right: 0;
			bottom: 0;
		}

		& ::selection,
		&:focus {
			background-color: transparent;
		}

		/*
		 * To reduce the amount of noise, all widgets in the table selection have no outline and no selection handle.
		 * See https://github.com/ckeditor/ckeditor5/issues/9491.
		 */
		& .ck-widget {
			outline: unset;

			& > .ck-widget__selection-handle {
				display: none;
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},4906:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-button,a.ck.ck-button{align-items:center;display:inline-flex;justify-content:left;position:relative;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{-webkit-appearance:none;border:1px solid transparent;cursor:default;font-size:inherit;line-height:1;min-height:var(--ck-ui-component-min-height);min-width:var(--ck-ui-component-min-height);padding:var(--ck-spacing-tiny);text-align:center;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;vertical-align:middle;white-space:nowrap}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{color:inherit;cursor:inherit;font-size:inherit;font-weight:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(var(--ck-spacing-small)*-1);margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:var(--ck-spacing-small);margin-right:calc(var(--ck-spacing-small)*-1)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{color:var(--ck-color-button-on-color)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/button.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/button.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/mixins/_button.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AAOA,6BAMC,kBAAmB,CADnB,mBAAoB,CAEpB,oBAAqB,CAHrB,iBAAkB,CCFlB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDkBD,CAdC,iEACC,YACD,CAGC,yGACC,oBACD,CAID,iFACC,sBACD,CEjBD,6BCAC,oDD4ID,CCzIE,6EACC,0DACD,CAEA,+EACC,2DACD,CAID,qDACC,6DACD,CDfD,6BEDC,eF6ID,CA5IA,wIEGE,qCFyIF,CA5IA,6BA6BC,uBAAwB,CANxB,4BAA6B,CAjB7B,cAAe,CAcf,iBAAkB,CAHlB,aAAc,CAJd,4CAA6C,CAD7C,2CAA4C,CAJ5C,8BAA+B,CAC/B,iBAAkB,CAiBlB,4DAA8D,CAnB9D,qBAAsB,CAFtB,kBAuID,CA7GC,oFGhCA,2BAA2B,CCF3B,2CAA8B,CDC9B,YHqCA,CAIC,kJAEC,aACD,CAGD,iEAIC,aAAc,CACd,cAAe,CAHf,iBAAkB,CAClB,mBAAoB,CAMpB,qBASD,CAlBA,qFAYE,eAMF,CAlBA,qFAgBE,gBAEF,CAEA,yEACC,aAYD,CAbA,6FAIE,mCASF,CAbA,6FAQE,oCAKF,CAbA,yEAWC,eAAiB,CACjB,UACD,CAIC,oIIrFD,oDJyFC,CAOA,gLKhGD,kCLkGC,CAEA,iGACC,UACD,CAGD,qEACC,yDAcD,CAXC,2HAEE,4CAA+C,CAC/C,oCAOF,CAVA,2HAQE,mCAAoC,CADpC,6CAGF,CAKA,mHACC,WACD,CAID,yCC/HA,+CDmIA,CChIC,yFACC,qDACD,CAEA,2FACC,sDACD,CAID,iEACC,wDACD,CDgHA,yCAGC,qCACD,CAEA,2DACC,iCACD,CAEA,+DACC,mCACD,CAID,2CC/IC,mDDoJD,CCjJE,2FACC,yDACD,CAEA,6FACC,0DACD,CAID,mEACC,4DACD,CDgID,2CAIC,wCACD,CAEA,uCAEC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-unselectable;

	position: relative;
	display: inline-flex;
	align-items: center;
	justify-content: left;

	& .ck-button__label {
		display: none;
	}

	&.ck-button_with-text {
		& .ck-button__label {
			display: inline-block;
		}
	}

	/* Center the icon horizontally in a button without text. */
	&:not(.ck-button_with-text)  {
		justify-content: center;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../mixins/_button.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-button,
a.ck.ck-button {
	@mixin ck-button-colors --ck-color-button-default;
	@mixin ck-rounded-corners;

	white-space: nowrap;
	cursor: default;
	vertical-align: middle;
	padding: var(--ck-spacing-tiny);
	text-align: center;

	/* A very important piece of styling. Go to variable declaration to learn more. */
	min-width: var(--ck-ui-component-min-height);
	min-height: var(--ck-ui-component-min-height);

	/* Normalize the height of the line. Removing this will break consistent height
	among text and text-less buttons (with icons). */
	line-height: 1;

	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	/* Avoid flickering when the foucs border shows up. */
	border: 1px solid transparent;

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .2s ease-in-out, border .2s ease-in-out;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/189 */
	-webkit-appearance: none;

	&:active,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	/* Allow icon coloring using the text "color" property. */
	& .ck-button__icon {
		& use,
		& use * {
			color: inherit;
		}
	}

	& .ck-button__label {
		/* Enable font size inheritance, which allows fluid UI scaling. */
		font-size: inherit;
		font-weight: inherit;
		color: inherit;
		cursor: inherit;

		/* Must be consistent with .ck-icon's vertical align. Otherwise, buttons with and
		without labels (but with icons) have different sizes in Chrome */
		vertical-align: middle;

		@mixin ck-dir ltr {
			text-align: left;
		}

		@mixin ck-dir rtl {
			text-align: right;
		}
	}

	& .ck-button__keystroke {
		color: inherit;

		@mixin ck-dir ltr {
			margin-left: var(--ck-spacing-large);
		}

		@mixin ck-dir rtl {
			margin-right: var(--ck-spacing-large);
		}

		font-weight: bold;
		opacity: .7;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
	&.ck-disabled {
		&:active,
		&:focus {
			/* The disabled button should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}

		& .ck-button__icon {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
		& .ck-button__label {
			@mixin ck-disabled;
		}

		& .ck-button__keystroke {
			opacity: .3;
		}
	}

	&.ck-button_with-text {
		padding: var(--ck-spacing-tiny) var(--ck-spacing-standard);

		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__icon {
			@mixin ck-dir ltr {
				margin-left: calc(-1 * var(--ck-spacing-small));
				margin-right: var(--ck-spacing-small);
			}

			@mixin ck-dir rtl {
				margin-right: calc(-1 * var(--ck-spacing-small));
				margin-left: var(--ck-spacing-small);
			}
		}
	}

	&.ck-button_with-keystroke {
		/* stylelint-disable-next-line no-descending-specificity */
		& .ck-button__label {
			flex-grow: 1;
		}
	}

	/* A style of the button which is currently on, e.g. its feature is active. */
	&.ck-on {
		@mixin ck-button-colors --ck-color-button-on;

		color: var(--ck-color-button-on-color);
	}

	&.ck-button-save {
		color: var(--ck-color-button-save);
	}

	&.ck-button-cancel {
		color: var(--ck-color-button-cancel);
	}
}

/* A style of the button which handles the primary action. */
.ck.ck-button-action,
a.ck.ck-button-action {
	@mixin ck-button-colors --ck-color-button-action;

	color: var(--ck-color-button-action-text);
}

.ck.ck-button-bold,
a.ck.ck-button-bold {
	font-weight: bold;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements a button of given background color.
 *
 * @param {String} $background - Background color of the button.
 * @param {String} $border - Border color of the button.
 */
@define-mixin ck-button-colors $prefix {
	background: var($(prefix)-background);

	&:not(.ck-disabled) {
		&:hover {
			background: var($(prefix)-hover-background);
		}

		&:active {
			background: var($(prefix)-active-background);
		}
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/98 */
	&.ck-disabled {
		background: var($(prefix)-disabled-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=v},5332:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:calc(1.07692em + 1px);--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2px);--ck-switch-button-inner-hover-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton,.ck.ck-button.ck-switchbutton.ck-on:active,.ck.ck-button.ck-switchbutton.ck-on:focus,.ck.ck-button.ck-switchbutton.ck-on:hover,.ck.ck-button.ck-switchbutton:active,.ck.ck-button.ck-switchbutton:focus,.ck.ck-button.ck-switchbutton:hover{background:transparent;color:inherit}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(var(--ck-spacing-large)*2)}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(var(--ck-spacing-large)*2)}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{background:var(--ck-color-switch-button-off-background);border:1px solid transparent;transition:background .4s ease,box-shadow .2s ease-in-out,outline .2s ease-in-out;width:var(--ck-switch-button-toggle-width)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(var(--ck-border-radius)*.5)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{background:var(--ck-color-switch-button-inner-background);height:var(--ck-switch-button-toggle-inner-size);transition:all .3s ease;width:var(--ck-switch-button-toggle-inner-size)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:var(--ck-switch-button-inner-hover-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton:focus{border-color:transparent;box-shadow:none;outline:none}.ck.ck-button.ck-switchbutton:focus .ck-button__toggle{box-shadow:0 0 0 1px var(--ck-color-base-background),0 0 0 5px var(--ck-color-focus-outer-shadow);outline:var(--ck-focus-ring);outline-offset:1px}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var( --ck-switch-button-translation ))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(var( --ck-switch-button-translation )*-1))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/button/switchbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css"],names:[],mappings:"AASE,4HACC,aACD,CCCF,MAEC,8CAA+C,CAE/C,0DAAgE,CAChE,2HAIC,CACD,0FACD,CAOC,0QAEC,sBAAuB,CADvB,aAED,CAEA,0DAGE,4CAOF,CAVA,0DAQE,2CAEF,CAEA,iDCpCA,eD4EA,CAxCA,yIChCC,qCDwED,CAxCA,2DAKE,gBAmCF,CAxCA,2DAUE,iBA8BF,CAxCA,iDAkBC,uDAAwD,CAFxD,4BAA6B,CAD7B,iFAAsF,CAEtF,0CAuBD,CApBC,2ECxDD,eDmEC,CAXA,6LCpDA,qCAAsC,CDsDpC,8CASF,CAXA,2EAOC,yDAA0D,CAD1D,gDAAiD,CAIjD,uBAA0B,CAL1B,+CAMD,CAEA,uDACC,6DAKD,CAHC,iFACC,qDACD,CAIF,6DEhFA,kCFkFA,CAGA,oCACC,wBAAyB,CAEzB,eAAgB,CADhB,YAQD,CALC,uDACC,iGAAmG,CAEnG,4BAA6B,CAD7B,kBAED,CAKA,uDACC,sDAkBD,CAhBC,6DACC,4DACD,CAEA,2FAKE,2DAMF,CAXA,2FASE,oEAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-button.ck-switchbutton {
	& .ck-button__toggle {
		display: block;

		& .ck-button__toggle__inner {
			display: block;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

/* Note: To avoid rendering issues (aliasing) but to preserve the responsive nature
of the component, floatingpoint numbers have been used which, for the default font size
(see: --ck-font-size-base), will generate simple integers. */
:root {
	/* 34px at 13px font-size */
	--ck-switch-button-toggle-width: 2.6153846154em;
	/* 14px at 13px font-size */
	--ck-switch-button-toggle-inner-size: calc(1.0769230769em + 1px);
	--ck-switch-button-translation: calc(
		var(--ck-switch-button-toggle-width) -
		var(--ck-switch-button-toggle-inner-size) -
		2px /* Border */
	);
	--ck-switch-button-inner-hover-shadow: 0 0 0 5px var(--ck-color-switch-button-inner-shadow);
}

.ck.ck-button.ck-switchbutton {
	/* Unlike a regular button, the switch button text color and background should never change.
	 * Changing toggle switch (background, outline) is enough to carry the information about the
	 * state of the entire component (https://github.com/ckeditor/ckeditor5/issues/12519)
	 */
	&, &:hover, &:focus, &:active, &.ck-on:hover, &.ck-on:focus, &.ck-on:active {
		color: inherit;
		background: transparent;
	}

	& .ck-button__label {
		@mixin ck-dir ltr {
			/* Separate the label from the switch */
			margin-right: calc(2 * var(--ck-spacing-large));
		}

		@mixin ck-dir rtl {
			/* Separate the label from the switch */
			margin-left: calc(2 * var(--ck-spacing-large));
		}
	}

	& .ck-button__toggle {
		@mixin ck-rounded-corners;

		@mixin ck-dir ltr {
			/* Make sure the toggle is always to the right as far as possible. */
			margin-left: auto;
		}

		@mixin ck-dir rtl {
			/* Make sure the toggle is always to the left as far as possible. */
			margin-right: auto;
		}

		/* Apply some smooth transition to the box-shadow and border. */
		/* Gently animate the background color of the toggle switch */
		transition: background 400ms ease, box-shadow .2s ease-in-out, outline .2s ease-in-out;
		border: 1px solid transparent;
		width: var(--ck-switch-button-toggle-width);
		background: var(--ck-color-switch-button-off-background);

		& .ck-button__toggle__inner {
			@mixin ck-rounded-corners {
				border-radius: calc(.5 * var(--ck-border-radius));
			}

			width: var(--ck-switch-button-toggle-inner-size);
			height: var(--ck-switch-button-toggle-inner-size);
			background: var(--ck-color-switch-button-inner-background);

			/* Gently animate the inner part of the toggle switch */
			transition: all 300ms ease;
		}

		&:hover {
			background: var(--ck-color-switch-button-off-hover-background);

			& .ck-button__toggle__inner {
				box-shadow: var(--ck-switch-button-inner-hover-shadow);
			}
		}
	}

	&.ck-disabled .ck-button__toggle {
		@mixin ck-disabled;
	}

	/* Overriding default .ck-button:focus styles + an outline around the toogle */
	&:focus {
		border-color: transparent;
		outline: none;
		box-shadow: none;

		& .ck-button__toggle {
			box-shadow: 0 0 0 1px var(--ck-color-base-background), 0 0 0 5px var(--ck-color-focus-outer-shadow);
			outline-offset: 1px;
			outline: var(--ck-focus-ring);
		}
	}

	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-on {
		& .ck-button__toggle {
			background: var(--ck-color-switch-button-on-background);

			&:hover {
				background: var(--ck-color-switch-button-on-hover-background);
			}

			& .ck-button__toggle__inner {
				/*
				* Move the toggle switch to the right. It will be animated.
				*/
				@mixin ck-dir ltr {
					transform: translateX( var( --ck-switch-button-translation ) );
				}

				@mixin ck-dir rtl {
					transform: translateX( calc( -1 * var( --ck-switch-button-translation ) ) );
				}
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`],sourceRoot:""}]);const x=v},6781:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-color-grid{display:grid}:root{--ck-color-grid-tile-size:24px;--ck-color-color-grid-check-icon:#166fd4}.ck.ck-color-grid{grid-gap:5px;padding:8px}.ck.ck-color-grid__tile{border:0;height:var(--ck-color-grid-tile-size);min-height:var(--ck-color-grid-tile-size);min-width:var(--ck-color-grid-tile-size);padding:0;transition:box-shadow .2s ease;width:var(--ck-color-grid-tile-size)}.ck.ck-color-grid__tile.ck-disabled{cursor:unset;transition:unset}.ck.ck-color-grid__tile.ck-color-selector__color-tile_bordered{box-shadow:0 0 0 1px var(--ck-color-base-border)}.ck.ck-color-grid__tile .ck.ck-icon{color:var(--ck-color-color-grid-check-icon);display:none}.ck.ck-color-grid__tile.ck-on{box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-base-text)}.ck.ck-color-grid__tile.ck-on .ck.ck-icon{display:block}.ck.ck-color-grid__tile.ck-on,.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){border:0}.ck.ck-color-grid__tile:focus:not(.ck-disabled),.ck.ck-color-grid__tile:hover:not(.ck-disabled){box-shadow:inset 0 0 0 1px var(--ck-color-base-background),0 0 0 2px var(--ck-color-focus-border)}.ck.ck-color-grid__label{padding:0 var(--ck-spacing-standard)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorgrid/colorgrid.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorgrid/colorgrid.css"],names:[],mappings:"AAKA,kBACC,YACD,CCAA,MACC,8BAA+B,CAK/B,wCACD,CAEA,kBACC,YAAa,CACb,WACD,CAEA,wBAOC,QAAS,CALT,qCAAsC,CAEtC,yCAA0C,CAD1C,wCAAyC,CAEzC,SAAU,CACV,8BAA+B,CAL/B,oCAyCD,CAjCC,oCACC,YAAa,CACb,gBACD,CAEA,+DACC,gDACD,CAEA,oCAEC,2CAA4C,CAD5C,YAED,CAEA,8BACC,8FAKD,CAHC,0CACC,aACD,CAGD,8HAIC,QACD,CAEA,gGAEC,iGACD,CAGD,yBACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-color-grid {
	display: grid;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-grid-tile-size: 24px;

	/* Not using global colors here because these may change but some colors in a pallette
	 * require special treatment. For instance, this ensures no matter what the UI text color is,
	 * the check icon will look good on the black color tile. */
	--ck-color-color-grid-check-icon: hsl(212, 81%, 46%);
}

.ck.ck-color-grid {
	grid-gap: 5px;
	padding: 8px;
}

.ck.ck-color-grid__tile {
	width: var(--ck-color-grid-tile-size);
	height: var(--ck-color-grid-tile-size);
	min-width: var(--ck-color-grid-tile-size);
	min-height: var(--ck-color-grid-tile-size);
	padding: 0;
	transition: .2s ease box-shadow;
	border: 0;

	&.ck-disabled {
		cursor: unset;
		transition: unset;
	}

	&.ck-color-selector__color-tile_bordered {
		box-shadow: 0 0 0 1px var(--ck-color-base-border);
	}

	& .ck.ck-icon {
		display: none;
		color: var(--ck-color-color-grid-check-icon);
	}

	&.ck-on {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-base-text);

		& .ck.ck-icon {
			display: block;
		}
	}

	&.ck-on,
	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		/* Disable the default .ck-button's border ring. */
		border: 0;
	}

	&:focus:not( .ck-disabled ),
	&:hover:not( .ck-disabled ) {
		box-shadow: inset 0 0 0 1px var(--ck-color-base-background), 0 0 0 2px var(--ck-color-focus-border);
	}
}

.ck.ck-color-grid__label {
	padding: 0 var(--ck-spacing-standard);
}
`],sourceRoot:""}]);const x=v},3398:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".color-picker-hex-input{width:max-content}.color-picker-hex-input .ck.ck-input{min-width:unset}.ck.ck-color-picker__row{display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between;margin:var(--ck-spacing-large) 0 0;width:unset}.ck.ck-color-picker__row .ck.ck-labeled-field-view{padding-top:unset}.ck.ck-color-picker__row .ck.ck-input-text{width:unset}.ck.ck-color-picker__row .ck-color-picker__hash-view{padding-right:var(--ck-spacing-medium);padding-top:var(--ck-spacing-tiny)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorpicker/colorpicker.css"],names:[],mappings:"AAKA,wBACC,iBAKD,CAHC,qCACC,eACD,CAGD,yBACC,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CACjB,6BAA8B,CAC9B,kCAAmC,CACnC,WAcD,CAZC,mDACC,iBACD,CAEA,2CACC,WACD,CAEA,qDAEC,sCAAuC,CADvC,kCAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.color-picker-hex-input {
	width: max-content;

	& .ck.ck-input {
		min-width: unset;
	}
}

.ck.ck-color-picker__row {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	justify-content: space-between;
	margin: var(--ck-spacing-large) 0 0;
	width: unset;

	& .ck.ck-labeled-field-view {
		padding-top: unset;
	}

	& .ck.ck-input-text {
		width: unset;
	}

	& .ck-color-picker__hash-view {
		padding-top: var(--ck-spacing-tiny);
		padding-right: var(--ck-spacing-medium);
	}
}
`],sourceRoot:""}]);const x=v},4157:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{align-items:center;display:flex}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{justify-content:flex-start}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{display:flex;flex-direction:row;justify-content:space-around}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-cancel,.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar .ck-button-save{flex:1}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker,.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__remove-color{width:100%}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker{border-bottom-left-radius:0;border-bottom-right-radius:0;padding:calc(var(--ck-spacing-standard)/2) var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-color-selector .ck-color-grids-fragment .ck-button.ck-color-selector__color-picker .ck.ck-icon{margin-left:var(--ck-spacing-standard)}.ck.ck-color-selector .ck-color-grids-fragment label.ck.ck-color-grid__label{font-weight:unset}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker{padding:8px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker{height:100px;min-width:180px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation){border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue){border-radius:0 0 var(--ck-border-radius) var(--ck-border-radius)}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(hue-pointer),.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-picker .hex-color-picker::part(saturation-pointer){height:15px;width:15px}.ck.ck-color-selector .ck-color-picker-fragment .ck.ck-color-selector_action-bar{padding:0 8px 8px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/colorselector/colorselector.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/colorselector/colorselector.css"],names:[],mappings:"AAUE,oLAGC,kBAAmB,CADnB,YAMD,CARA,wMAME,0BAEF,CAKA,iFACC,YAAa,CACb,kBAAmB,CACnB,4BAMD,CAJC,oMAEC,MACD,CCrBD,oLAEC,UACD,CAEA,0FAEC,2BAA4B,CAC5B,4BAA6B,CAF7B,qEAiBD,CAbC,sGACC,gDACD,CAEA,gHAEE,uCAMF,CARA,gHAME,sCAEF,CAGD,6EACC,iBACD,CAKA,oEACC,WAoBD,CAlBC,sFACC,YAAa,CACb,eAeD,CAbC,wGACC,iEACD,CAEA,iGACC,iEACD,CAEA,yNAGC,WAAY,CADZ,UAED,CAIF,iFACC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			display: flex;
			align-items: center;

			@mixin ck-dir rtl {
				justify-content: flex-start;
			}
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-selector_action-bar {
			display: flex;
			flex-direction: row;
			justify-content: space-around;

			& .ck-button-save,
			& .ck-button-cancel {
				flex: 1
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-color-selector {
	/* View fragment with color grids. */
	& .ck-color-grids-fragment {
		& .ck-button.ck-color-selector__remove-color,
		& .ck-button.ck-color-selector__color-picker {
			width: 100%;
		}

		& .ck-button.ck-color-selector__color-picker {
			padding: calc(var(--ck-spacing-standard) / 2) var(--ck-spacing-standard);
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			& .ck.ck-icon {
				@mixin ck-dir ltr {
					margin-right: var(--ck-spacing-standard);
				}

				@mixin ck-dir rtl {
					margin-left: var(--ck-spacing-standard);
				}
			}
		}

		& label.ck.ck-color-grid__label {
			font-weight: unset;
		}
	}

	/* View fragment with a color picker. */
	& .ck-color-picker-fragment {
		& .ck.ck-color-picker {
			padding: 8px;

			& .hex-color-picker {
				height: 100px;
				min-width: 180px;

				&::part(saturation) {
					border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;
				}

				&::part(hue) {
					border-radius: 0 0 var(--ck-border-radius) var(--ck-border-radius);
				}

				&::part(saturation-pointer),
				&::part(hue-pointer) {
					width: 15px;
					height: 15px;
				}
			}
		}

		& .ck.ck-color-selector_action-bar {
			padding: 0 8px 8px;
		}
	}
}
`],sourceRoot:""}]);const x=v},5485:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-dropdown-max-width:75vw}.ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-dropdown__panel{display:none;max-width:var(--ck-dropdown-max-width);position:absolute;z-index:var(--ck-z-modal)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{bottom:auto;top:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_n,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_s{left:50%;transform:translateX(-50%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nmw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_smw{left:75%;transform:translateX(-75%)}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nme,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sme{left:25%;transform:translateX(-25%)}.ck.ck-toolbar .ck-dropdown__panel{z-index:calc(var(--ck-z-modal) + 1)}:root{--ck-dropdown-arrow-size:calc(var(--ck-icon-size)*0.5)}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{margin-left:var(--ck-spacing-standard);right:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{overflow:hidden;text-overflow:ellipsis;width:7em}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active{box-shadow:none}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-off:active:focus,.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on:active:focus{box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;box-shadow:var(--ck-drop-shadow),0 0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}.ck.ck-dropdown__panel:focus{outline:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/dropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,MACC,4BACD,CAEA,gBACC,oBAAqB,CACrB,iBA2ED,CAzEC,oCACC,mBAAoB,CACpB,2BACD,CAGA,+CACC,UACD,CAEA,oCACC,YAAa,CAEb,sCAAuC,CAEvC,iBAAkB,CAHlB,yBA4DD,CAvDC,+DACC,oBACD,CAEA,mSAKC,WACD,CAEA,mSAUC,WAAY,CADZ,QAED,CAEA,oHAEC,MACD,CAEA,oHAEC,OACD,CAEA,kHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAEA,sHAGC,QAAS,CACT,0BACD,CAQF,mCACC,mCACD,CCpFA,MACC,sDACD,CAEA,gBAEC,iBA2ED,CAzEC,oCACC,mCACD,CAGC,8CAIC,sCAAuC,CAHvC,gCAID,CAIA,8CACC,+BAAgC,CAGhC,oCACD,CAGD,gDC/BA,kCDiCA,CAIE,mFAEC,oCACD,CAIA,mFAEC,qCACD,CAID,iEAEC,eAAgB,CAChB,sBAAuB,CAFvB,SAGD,CAGA,6EC1DD,kCD4DC,CAGA,qDACC,2BAA4B,CAC5B,4BACD,CAEA,sGACC,UACD,CAGA,yHAEC,eAKD,CAHC,qIE7EF,2CF+EE,CAKH,uBGlFC,eHkHD,CAhCA,qFG9EE,qCH8GF,CAhCA,uBAIC,oDAAqD,CACrD,sDAAuD,CACvD,QAAS,CE1FT,oCAA8B,CF6F9B,cAuBD,CAnBC,6CACC,wBACD,CAEA,6CACC,yBACD,CAEA,6CACC,2BACD,CAEA,6CACC,4BACD,CAEA,6BACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-dropdown-max-width: 75vw;
}

.ck.ck-dropdown {
	display: inline-block;
	position: relative;

	& .ck-dropdown__arrow {
		pointer-events: none;
		z-index: var(--ck-z-default);
	}

	/* Dropdown button should span horizontally, e.g. in vertical toolbars */
	& .ck-button.ck-dropdown__button {
		width: 100%;
	}

	& .ck-dropdown__panel {
		display: none;
		z-index: var(--ck-z-modal);
		max-width: var(--ck-dropdown-max-width);

		position: absolute;

		&.ck-dropdown__panel-visible {
			display: inline-block;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_n,
		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_nme {
			bottom: 100%;
		}

		&.ck-dropdown__panel_se,
		&.ck-dropdown__panel_sw,
		&.ck-dropdown__panel_smw,
		&.ck-dropdown__panel_sme,
		&.ck-dropdown__panel_s {
			/*
			 * Using transform: translate3d( 0, 100%, 0 ) causes blurry dropdown on Chrome 67-78+ on non-retina displays.
			 * See https://github.com/ckeditor/ckeditor5/issues/1053.
			 */
			top: 100%;
			bottom: auto;
		}

		&.ck-dropdown__panel_ne,
		&.ck-dropdown__panel_se {
			left: 0px;
		}

		&.ck-dropdown__panel_nw,
		&.ck-dropdown__panel_sw {
			right: 0px;
		}

		&.ck-dropdown__panel_s,
		&.ck-dropdown__panel_n {
			/* Positioning panels relative to the center of the button */
			left: 50%;
			transform: translateX(-50%);
		}

		&.ck-dropdown__panel_nmw,
		&.ck-dropdown__panel_smw {
			/* Positioning panels relative to the middle-west of the button */
			left: 75%;
			transform: translateX(-75%);
		}

		&.ck-dropdown__panel_nme,
		&.ck-dropdown__panel_sme {
			/* Positioning panels relative to the middle-east of the button */
			left: 25%;
			transform: translateX(-25%);
		}
	}
}

/*
 * Toolbar dropdown panels should be always above the UI (eg. other dropdown panels) from the editor's content.
 * See https://github.com/ckeditor/ckeditor5/issues/7874
 */
.ck.ck-toolbar .ck-dropdown__panel {
	z-index: calc( var(--ck-z-modal) + 1 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

:root {
	--ck-dropdown-arrow-size: calc(0.5 * var(--ck-icon-size));
}

.ck.ck-dropdown {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-dropdown__arrow {
		width: var(--ck-dropdown-arrow-size);
	}

	@mixin ck-dir ltr {
		& .ck-dropdown__arrow {
			right: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& .ck-dropdown__arrow {
			left: var(--ck-spacing-standard);

			/* A space to accommodate the triangle. */
			margin-right: var(--ck-spacing-small);
		}
	}

	&.ck-disabled .ck-dropdown__arrow {
		@mixin ck-disabled;
	}

	& .ck-button.ck-dropdown__button {
		@mixin ck-dir ltr {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-left: var(--ck-spacing-small);
			}
		}

		@mixin ck-dir rtl {
			&:not(.ck-button_with-text) {
				/* Make sure dropdowns with just an icon have the right inner spacing */
				padding-right: var(--ck-spacing-small);
			}
		}

		/* #23 */
		& .ck-button__label {
			width: 7em;
			overflow: hidden;
			text-overflow: ellipsis;
		}

		/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/70 */
		&.ck-disabled .ck-button__label {
			@mixin ck-disabled;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/816 */
		&.ck-on {
			border-bottom-left-radius: 0;
			border-bottom-right-radius: 0;
		}

		&.ck-dropdown__button_label-width_auto .ck-button__label {
			width: auto;
		}

		/* https://github.com/ckeditor/ckeditor5/issues/8699 */
		&.ck-off:active,
		&.ck-on:active {
			box-shadow: none;

			&:focus {
				@mixin ck-box-shadow var(--ck-focus-outer-shadow);
			}
		}
	}
}

.ck.ck-dropdown__panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	background: var(--ck-color-dropdown-panel-background);
	border: 1px solid var(--ck-color-dropdown-panel-border);
	bottom: 0;

	/* Make sure the panel is at least as wide as the drop-down's button. */
	min-width: 100%;

	/* Disabled corner border radius to be consistent with the .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-dropdown__panel_se {
		border-top-left-radius: 0;
	}

	&.ck-dropdown__panel_sw {
		border-top-right-radius: 0;
	}

	&.ck-dropdown__panel_ne {
		border-bottom-left-radius: 0;
	}

	&.ck-dropdown__panel_nw {
		border-bottom-right-radius: 0;
	}

	&:focus {
		outline: none;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which indicates that an element holding it is disabled.
 */
@define-mixin ck-disabled {
	opacity: var(--ck-disabled-opacity);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},3949:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0;border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/listdropdown.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,6CCIC,eDqBD,CAzBA,iICQE,qCAAsC,CDJtC,wBAqBF,CAfE,mFCND,eDYC,CANA,6MCFA,qCAAsC,CDKpC,2BAA4B,CAC5B,4BAA6B,CAF7B,wBAIF,CAEA,kFCdD,eDmBC,CALA,2MCVA,qCAAsC,CDYpC,wBAAyB,CACzB,yBAEF",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-dropdown .ck-dropdown__panel .ck-list {
	/* Disabled radius of top-left border to be consistent with .dropdown__button
	https://github.com/ckeditor/ckeditor5/issues/816 */
	@mixin ck-rounded-corners {
		border-top-left-radius: 0;
	}

	/* Make sure the button belonging to the first/last child of the list goes well with the
	border radius of the entire panel. */
	& .ck-list__item {
		&:first-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-bottom-left-radius: 0;
				border-bottom-right-radius: 0;
			}
		}

		&:last-child .ck-button {
			@mixin ck-rounded-corners {
				border-top-left-radius: 0;
				border-top-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},7686:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-right-radius:unset;border-top-right-radius:unset}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__action{border-bottom-left-radius:unset;border-top-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-left-radius:unset;border-top-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-bottom-right-radius:unset;border-top-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton>.ck-splitbutton__arrow:not(:focus){border-bottom-width:0;border-top-width:0}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{background-color:var(--ck-color-split-button-hover-border);content:"";height:100%;position:absolute;width:1px}.ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:focus:after,.ck.ck-splitbutton:hover>.ck-splitbutton__arrow:focus:after{--ck-color-split-button-hover-border:var(--ck-color-focus-border)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{left:-1px}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled):after{right:-1px}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/splitbutton.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAKA,mBAEC,iBAKD,CAHC,iDACC,qCACD,CCJD,MACC,gDAAyD,CACzD,4CACD,CAMC,oIAKE,gCAAiC,CADjC,6BASF,CAbA,oIAWE,+BAAgC,CADhC,4BAGF,CAEA,0CAGC,eAiBD,CApBA,oDAQE,+BAAgC,CADhC,4BAaF,CApBA,oDAcE,gCAAiC,CADjC,6BAOF,CAHC,8CACC,mCACD,CAKD,sDAEC,qBAAwB,CADxB,kBAED,CAQC,0KACC,wDACD,CAIA,8JAKC,0DAA2D,CAJ3D,UAAW,CAGX,WAAY,CAFZ,iBAAkB,CAClB,SAGD,CAGA,sIACC,iEACD,CAGC,kLACC,SACD,CAIA,kLACC,UACD,CAMF,uCCzFA,eDmGA,CAVA,qHCrFC,qCD+FD,CARE,qKACC,2BACD,CAEA,mKACC,4BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-splitbutton {
	/* Enable font size inheritance, which allows fluid UI scaling. */
	font-size: inherit;

	& .ck-splitbutton__action:focus {
		z-index: calc(var(--ck-z-default) + 1);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

:root {
	--ck-color-split-button-hover-background: hsl(0, 0%, 92%);
	--ck-color-split-button-hover-border: hsl(0, 0%, 70%);
}

.ck.ck-splitbutton {
	/*
	 * Note: ck-rounded and ck-dir mixins don't go together (because they both use @nest).
	 */
	&:hover > .ck-splitbutton__action,
	&.ck-splitbutton_open > .ck-splitbutton__action {
		@nest [dir="ltr"] & {
			/* Don't round the action button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the action button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}
	}

	& > .ck-splitbutton__arrow {
		/* It's a text-less button and since the icon is positioned absolutely in such situation,
		it must get some arbitrary min-width. */
		min-width: unset;

		@nest [dir="ltr"] & {
			/* Don't round the arrow button on the left side */
			border-top-left-radius: unset;
			border-bottom-left-radius: unset;
		}

		@nest [dir="rtl"] & {
			/* Don't round the arrow button on the right side */
			border-top-right-radius: unset;
			border-bottom-right-radius: unset;
		}

		& svg {
			width: var(--ck-dropdown-arrow-size);
		}
	}

	/* Make sure the divider stretches 100% height of the button
	https://github.com/ckeditor/ckeditor5/issues/10936 */
	& > .ck-splitbutton__arrow:not(:focus) {
		border-top-width: 0px;
		border-bottom-width: 0px;
	}

	/* When the split button is "open" (the arrow is on) or being hovered, it should get some styling
	as a whole. The background of both buttons should stand out and there should be a visual
	separation between both buttons. */
	&.ck-splitbutton_open,
	&:hover {
		/* When the split button hovered as a whole, not as individual buttons. */
		& > .ck-button:not(.ck-on):not(.ck-disabled):not(:hover) {
			background: var(--ck-color-split-button-hover-background);
		}

		/* Splitbutton separator needs to be set with the ::after pseudoselector
		to display properly the borders on focus */
		& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
			content: '';
			position: absolute;
			width: 1px;
			height: 100%;
			background-color: var(--ck-color-split-button-hover-border);
		}

		/* Make sure the divider between the buttons looks fine when the button is focused */
		& > .ck-splitbutton__arrow:focus::after {
			--ck-color-split-button-hover-border: var(--ck-color-focus-border);
		}

		@nest [dir="ltr"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				left: -1px;
			}
		}

		@nest [dir="rtl"] & {
			& > .ck-splitbutton__arrow:not(.ck-disabled)::after {
				right: -1px;
			}
		}
	}

	/* Don't round the bottom left and right corners of the buttons when "open"
	https://github.com/ckeditor/ckeditor5/issues/816 */
	&.ck-splitbutton_open {
		@mixin ck-rounded-corners {
			& > .ck-splitbutton__action {
				border-bottom-left-radius: 0;
			}

			& > .ck-splitbutton__arrow {
				border-bottom-right-radius: 0;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},7339:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-toolbar-dropdown-max-width:60vw}.ck.ck-toolbar-dropdown>.ck-dropdown__panel{max-width:var(--ck-toolbar-dropdown-max-width);width:max-content}.ck.ck-toolbar-dropdown>.ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/dropdown/toolbardropdown.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/dropdown/toolbardropdown.css"],names:[],mappings:"AAKA,MACC,oCACD,CAEA,4CAGC,8CAA+C,CAD/C,iBAQD,CAJE,6DACC,qCACD,CCZF,oCACC,QACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-toolbar-dropdown-max-width: 60vw;
}

.ck.ck-toolbar-dropdown > .ck-dropdown__panel {
	/* https://github.com/ckeditor/ckeditor5/issues/5586 */
	width: max-content;
	max-width: var(--ck-toolbar-dropdown-max-width);

	& .ck-button {
		&:focus {
			z-index: calc(var(--ck-z-default) + 1);
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-toolbar-dropdown .ck-toolbar {
	border: 0;
}
`],sourceRoot:""}]);const x=v},9688:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable.ck-rounded-corners:not(.ck-editor__nested-editable){border-radius:var(--ck-border-radius)}.ck.ck-editor__editable.ck-focused:not(.ck-editor__nested-editable){border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck.ck-editor__editable_inline{border:1px solid transparent;overflow:auto;padding:0 var(--ck-spacing-standard)}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background)}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/editorui/editorui.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAWA,MACC,0CACD,CAEA,yDCJC,eDWD,CAPA,yJCAE,qCDOF,CAJC,oEEPA,2BAA2B,CCF3B,qCAA8B,CDC9B,YFWA,CAGD,+BAGC,4BAA6B,CAF7B,aAAc,CACd,oCA6BD,CA1BC,wCACC,eACD,CAEA,wCACC,gBACD,CAGA,4CACC,kCACD,CAGA,2CAKC,qCACD,CAGA,sDACC,kDACD,CAKA,gEACC,oDACD,CAIA,gEACC,iDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_disabled.css";
@import "../../../mixins/_shadow.css";
@import "../../../mixins/_focus.css";
@import "../../mixins/_button.css";

:root {
	--ck-color-editable-blur-selection: hsl(0, 0%, 85%);
}

.ck.ck-editor__editable:not(.ck-editor__nested-editable) {
	@mixin ck-rounded-corners;

	&.ck-focused {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);
	}
}

.ck.ck-editor__editable_inline {
	overflow: auto;
	padding: 0 var(--ck-spacing-standard);
	border: 1px solid transparent;

	&[dir="ltr"] {
		text-align: left;
	}

	&[dir="rtl"] {
		text-align: right;
	}

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/116 */
	& > *:first-child {
		margin-top: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/847 */
	& > *:last-child {
		/*
		 * This value should match with the default margins of the block elements (like .media or .image)
		 * to avoid a content jumping when the fake selection container shows up (See https://github.com/ckeditor/ckeditor5/issues/9825).
		 */
		margin-bottom: var(--ck-spacing-large);
	}

	/* https://github.com/ckeditor/ckeditor5/issues/6517 */
	&.ck-blurred ::selection {
		background: var(--ck-color-editable-blur-selection);
	}
}

/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/111 */
.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_n"] {
	&::after {
		border-bottom-color: var(--ck-color-panel-background);
	}
}

.ck.ck-balloon-panel.ck-toolbar-container[class*="arrow_s"] {
	&::after {
		border-top-color: var(--ck-color-panel-background);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=v},8847:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-form__header{align-items:center;display:flex;flex-direction:row;flex-wrap:nowrap;justify-content:space-between}:root{--ck-form-header-height:38px}.ck.ck-form__header{border-bottom:1px solid var(--ck-color-base-border);height:var(--ck-form-header-height);line-height:var(--ck-form-header-height);padding:var(--ck-spacing-small) var(--ck-spacing-large)}.ck.ck-form__header .ck-form__header__label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/formheader/formheader.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/formheader/formheader.css"],names:[],mappings:"AAKA,oBAIC,kBAAmB,CAHnB,YAAa,CACb,kBAAmB,CACnB,gBAAiB,CAEjB,6BACD,CCNA,MACC,4BACD,CAEA,oBAIC,mDAAoD,CAFpD,mCAAoC,CACpC,wCAAyC,CAFzC,uDAQD,CAHC,4CACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-form__header {
	display: flex;
	flex-direction: row;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-form-header-height: 38px;
}

.ck.ck-form__header {
	padding: var(--ck-spacing-small) var(--ck-spacing-large);
	height: var(--ck-form-header-height);
	line-height: var(--ck-form-header-height);
	border-bottom: 1px solid var(--ck-color-base-border);

	& .ck-form__header__label {
		font-weight: bold;
	}
}
`],sourceRoot:""}]);const x=v},6574:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{font-size:.8333350694em;height:var(--ck-icon-size);width:var(--ck-icon-size);will-change:transform}.ck.ck-icon,.ck.ck-icon *{cursor:inherit}.ck.ck-icon.ck-icon_inherit-color,.ck.ck-icon.ck-icon_inherit-color *{color:inherit}.ck.ck-icon.ck-icon_inherit-color :not([fill]){fill:currentColor}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/icon/icon.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/icon/icon.css"],names:[],mappings:"AAKA,YACC,qBACD,CCFA,MACC,0EACD,CAEA,YAKC,uBAAwB,CAHxB,0BAA2B,CAD3B,yBAA0B,CAU1B,qBAoBD,CAlBC,0BALA,cAQA,CAMC,sEACC,aAMD,CAJC,+CAEC,iBACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-icon {
	vertical-align: middle;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-icon-size: calc(var(--ck-line-height-base) * var(--ck-font-size-normal));
}

.ck.ck-icon {
	width: var(--ck-icon-size);
	height: var(--ck-icon-size);

	/* Multiplied by the height of the line in "px" should give SVG "viewport" dimensions */
	font-size: .8333350694em;

	/* Inherit cursor style (#5). */
	cursor: inherit;

	/* This will prevent blurry icons on Firefox. See #340. */
	will-change: transform;

	& * {
		/* Inherit cursor style (#5). */
		cursor: inherit;
	}

	/* Allows dynamic coloring of an icon by inheriting its color from the parent. */
	&.ck-icon_inherit-color {
		color: inherit;

		& * {
			color: inherit;

			&:not([fill]) {
				/* Needed by FF. */
				fill: currentColor;
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},4879:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-input-width:18em;--ck-input-text-width:var(--ck-input-width)}.ck.ck-input{border-radius:0}.ck-rounded-corners .ck.ck-input,.ck.ck-input.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input{background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);min-height:var(--ck-ui-component-min-height);min-width:var(--ck-input-width);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);transition:box-shadow .1s ease-in-out,border .1s ease-in-out}.ck.ck-input:focus{border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck.ck-input[readonly]{background:var(--ck-color-input-disabled-background);border:1px solid var(--ck-color-input-disabled-border);color:var(--ck-color-input-disabled-text)}.ck.ck-input[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-input.ck-error{animation:ck-input-shake .3s ease both;border-color:var(--ck-color-input-error-border)}.ck.ck-input.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),0 0}@keyframes ck-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}","",{version:3,sources:["webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/input/input.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AASA,MACC,qBAAsB,CAGtB,2CACD,CAEA,aCLC,eD2CD,CAtCA,iECDE,qCDuCF,CAtCA,aAGC,2CAA4C,CAC5C,6CAA8C,CAK9C,4CAA6C,CAH7C,+BAAgC,CADhC,6DAA8D,CAO9D,4DA0BD,CAxBC,mBEnBA,2BAA2B,CCF3B,2CAA8B,CDC9B,YFuBA,CAEA,uBAEC,oDAAqD,CADrD,sDAAuD,CAEvD,yCAMD,CAJC,6BG/BD,oDHkCC,CAGD,sBAEC,sCAAuC,CADvC,+CAMD,CAHC,4BGzCD,iDH2CC,CAIF,0BACC,IACC,0BACD,CAEA,IACC,yBACD,CAEA,IACC,0BACD,CAEA,IACC,yBACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_focus.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-input-width: 18em;

	/* Backward compatibility. */
	--ck-input-text-width: var(--ck-input-width);
}

.ck.ck-input {
	@mixin ck-rounded-corners;

	background: var(--ck-color-input-background);
	border: 1px solid var(--ck-color-input-border);
	padding: var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);
	min-width: var(--ck-input-width);

	/* This is important to stay of the same height as surrounding buttons */
	min-height: var(--ck-ui-component-min-height);

	/* Apply some smooth transition to the box-shadow and border. */
	transition: box-shadow .1s ease-in-out, border .1s ease-in-out;

	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-focus-outer-shadow);
	}

	&[readonly] {
		border: 1px solid var(--ck-color-input-disabled-border);
		background: var(--ck-color-input-disabled-background);
		color: var(--ck-color-input-disabled-text);

		&:focus {
			/* The read-only input should have a slightly less visible shadow when focused. */
			@mixin ck-box-shadow var(--ck-focus-disabled-outer-shadow);
		}
	}

	&.ck-error {
		border-color: var(--ck-color-input-error-border);
		animation: ck-input-shake .3s ease both;

		&:focus {
			@mixin ck-box-shadow var(--ck-focus-error-outer-shadow);
		}
	}
}

@keyframes ck-input-shake {
	20% {
		transform: translateX(-2px);
	}

	40% {
		transform: translateX(2px);
	}

	60% {
		transform: translateX(-1px);
	}

	80% {
		transform: translateX(1px);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=v},3662:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/label/label.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/label/label.css"],names:[],mappings:"AAKA,aACC,aACD,CAEA,mBACC,YACD,CCNA,aACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	display: block;
}

.ck.ck-voice-label {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-label {
	font-weight: bold;
}
`],sourceRoot:""}]);const x=v},2577:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{display:flex;position:relative}.ck.ck-labeled-field-view .ck.ck-label{display:block;position:absolute}:root{--ck-labeled-field-view-transition:.1s cubic-bezier(0,0,0.24,0.95);--ck-labeled-field-empty-unfocused-max-width:100% - 2 * var(--ck-spacing-medium);--ck-labeled-field-label-default-position-x:var(--ck-spacing-medium);--ck-labeled-field-label-default-position-y:calc(var(--ck-font-size-base)*0.6);--ck-color-labeled-field-label-background:var(--ck-color-base-background)}.ck.ck-labeled-field-view{border-radius:0}.ck-rounded-corners .ck.ck-labeled-field-view,.ck.ck-labeled-field-view.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper{width:100%}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{top:0}[dir=ltr] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{left:0}[dir=rtl] .ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{right:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:var(--ck-color-labeled-field-label-background);font-weight:400;line-height:normal;max-width:100%;overflow:hidden;padding:0 calc(var(--ck-font-size-tiny)*.5);pointer-events:none;text-overflow:ellipsis;transform:translate(var(--ck-spacing-medium),-6px) scale(.75);transform-origin:0 0;transition:transform var(--ck-labeled-field-view-transition),padding var(--ck-labeled-field-view-transition),background var(--ck-labeled-field-view-transition)}.ck.ck-labeled-field-view.ck-error .ck-input:not([readonly])+.ck.ck-label,.ck.ck-labeled-field-view.ck-error>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status.ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view.ck-disabled>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{color:var(--ck-color-input-disabled-text)}[dir=ltr] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=ltr] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(var(--ck-labeled-field-label-default-position-x),var(--ck-labeled-field-label-default-position-y)) scale(1)}[dir=rtl] .ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,[dir=rtl] .ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{transform:translate(calc(var(--ck-labeled-field-label-default-position-x)*-1),var(--ck-labeled-field-label-default-position-y)) scale(1)}.ck.ck-labeled-field-view.ck-disabled.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label,.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck.ck-label{background:transparent;max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width));padding:0}.ck.ck-labeled-field-view>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck.ck-button{background:transparent}.ck.ck-labeled-field-view.ck-labeled-field-view_empty>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown>.ck-button>.ck-button__label{opacity:0}.ck.ck-labeled-field-view.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder)>.ck.ck-labeled-field-view__input-wrapper>.ck-dropdown+.ck-label{max-width:calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard))}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/labeledfield/labeledfieldview.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAMC,mEACC,YAAa,CACb,iBACD,CAEA,uCACC,aAAc,CACd,iBACD,CCND,MACC,kEAAsE,CACtE,gFAAiF,CACjF,oEAAqE,CACrE,8EAAiF,CACjF,yEACD,CAEA,0BCLC,eD8GD,CAzGA,2FCDE,qCD0GF,CAtGC,mEACC,UAmCD,CAjCC,gFACC,KA+BD,CAhCA,0FAIE,MA4BF,CAhCA,0FAQE,OAwBF,CAhCA,gFAiBC,yDAA0D,CAG1D,eAAmB,CADnB,kBAAoB,CAOpB,cAAe,CAFf,eAAgB,CANhB,2CAA8C,CAP9C,mBAAoB,CAYpB,sBAAuB,CARvB,6DAA+D,CAH/D,oBAAqB,CAgBrB,+JAID,CAQA,mKACC,gCACD,CAGD,yDACC,mCAAoC,CACpC,kCAAmC,CAInC,kBAKD,CAHC,6FACC,gCACD,CAID,4OAEC,yCACD,CAIA,oUAGE,+HAYF,CAfA,oUAOE,wIAQF,CAfA,gTAaC,sBAAuB,CAFvB,iEAAkE,CAGlE,SACD,CAKA,8FACC,sBACD,CAGA,yIACC,SACD,CAGA,kMACC,8HACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-labeled-field-view {
	& > .ck.ck-labeled-field-view__input-wrapper {
		display: flex;
		position: relative;
	}

	& .ck.ck-label {
		display: block;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";
@import "../../../mixins/_rounded.css";

:root {
	--ck-labeled-field-view-transition: .1s cubic-bezier(0, 0, 0.24, 0.95);
	--ck-labeled-field-empty-unfocused-max-width: 100% - 2 * var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-x: var(--ck-spacing-medium);
	--ck-labeled-field-label-default-position-y: calc(0.6 * var(--ck-font-size-base));
	--ck-color-labeled-field-label-background: var(--ck-color-base-background);
}

.ck.ck-labeled-field-view {
	@mixin ck-rounded-corners;

	& > .ck.ck-labeled-field-view__input-wrapper {
		width: 100%;

		& > .ck.ck-label {
			top: 0px;

			@mixin ck-dir ltr {
				left: 0px;
			}

			@mixin ck-dir rtl {
				right: 0px;
			}

			pointer-events: none;
			transform-origin: 0 0;

			/* By default, display the label scaled down above the field. */
			transform: translate(var(--ck-spacing-medium), -6px) scale(.75);

			background: var(--ck-color-labeled-field-label-background);
			padding: 0 calc(.5 * var(--ck-font-size-tiny));
			line-height: initial;
			font-weight: normal;

			/* Prevent overflow when the label is longer than the input */
			text-overflow: ellipsis;
			overflow: hidden;

			max-width: 100%;

			transition:
				transform var(--ck-labeled-field-view-transition),
				padding var(--ck-labeled-field-view-transition),
				background var(--ck-labeled-field-view-transition);
		}
	}

	&.ck-error {
		& > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
			color: var(--ck-color-base-error);
		}

		& .ck-input:not([readonly]) + .ck.ck-label {
			color: var(--ck-color-base-error);
		}
	}

	& .ck-labeled-field-view__status {
		font-size: var(--ck-font-size-small);
		margin-top: var(--ck-spacing-small);

		/* Let the info wrap to the next line to avoid stretching the layout horizontally.
		The status could be very long. */
		white-space: normal;

		&.ck-labeled-field-view__status_error {
			color: var(--ck-color-base-error);
		}
	}

	/* Disabled fields and fields that have no focus should fade out. */
	&.ck-disabled > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		color: var(--ck-color-input-disabled-text);
	}

	/* Fields that are disabled or not focused and without a placeholder should have full-sized labels. */
	/* stylelint-disable-next-line no-descending-specificity */
	&.ck-disabled.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label,
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck.ck-label {
		@mixin ck-dir ltr {
			transform: translate(var(--ck-labeled-field-label-default-position-x), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		@mixin ck-dir rtl {
			transform: translate(calc(-1 * var(--ck-labeled-field-label-default-position-x)), var(--ck-labeled-field-label-default-position-y)) scale(1);
		}

		/* Compensate for the default translate position. */
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width));

		background: transparent;
		padding: 0;
	}

	/*------ DropdownView integration ----------------------------------------------------------------------------------- */

	/* Make sure dropdown' background color in any of dropdown's state does not collide with labeled field. */
	& > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck.ck-button {
		background: transparent;
	}

	/* When the dropdown is "empty", the labeled field label replaces its label. */
	&.ck-labeled-field-view_empty > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown > .ck-button > .ck-button__label {
		opacity: 0;
	}

	/* Make sure the label of the empty, unfocused input does not cover the dropdown arrow. */
	&.ck-labeled-field-view_empty:not(.ck-labeled-field-view_focused):not(.ck-labeled-field-view_placeholder) > .ck.ck-labeled-field-view__input-wrapper > .ck-dropdown + .ck-label {
		max-width: calc(var(--ck-labeled-field-empty-unfocused-max-width) - var(--ck-dropdown-arrow-size) - var(--ck-spacing-standard));
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},1046:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-list{display:flex;flex-direction:column;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{background:var(--ck-color-list-background);list-style-type:none}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{border-radius:0;min-height:unset;padding:calc(var(--ck-line-height-base)*.2*var(--ck-font-size-base)) calc(var(--ck-line-height-base)*.4*var(--ck-font-size-base));text-align:left;width:100%}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(var(--ck-line-height-base)*1.2*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-switchbutton):not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{background:var(--ck-color-base-border);height:1px;width:100%}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/list/list.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/list/list.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,YAGC,YAAa,CACb,qBAAsB,CCFtB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBDaD,CAZC,2DAEC,aACD,CAKA,kCACC,iBAAkB,CAClB,2BACD,CEfD,YCEC,eDGD,CALA,+DCME,qCDDF,CALA,YAIC,0CAA2C,CAD3C,oBAED,CAEA,kBACC,cAAe,CACf,cA2DD,CAzDC,6BAIC,eAAgB,CAHhB,gBAAiB,CAQjB,iIAEiE,CARjE,eAAgB,CADhB,UAwCD,CA7BC,+CAEC,yEACD,CAEA,oCACC,eACD,CAEA,mCACC,oDAAqD,CACrD,yCAaD,CAXC,0CACC,eACD,CAEA,2DACC,0DACD,CAEA,iFACC,4CACD,CAGD,qDACC,uDACD,CAMA,yCACC,0CAA2C,CAC3C,aAMD,CAJC,iEACC,uDAAwD,CACxD,aACD,CAKH,uBAGC,sCAAuC,CAFvC,UAAW,CACX,UAED",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-list {
	@mixin ck-unselectable;

	display: flex;
	flex-direction: column;

	& .ck-list__item,
	& .ck-list__separator {
		display: block;
	}

	/* Make sure that whatever child of the list item gets focus, it remains on the
	top. Thanks to that, styles like box-shadow, outline, etc. are not masked by
	adjacent list items. */
	& .ck-list__item > *:focus {
		position: relative;
		z-index: var(--ck-z-default);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_disabled.css";
@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

.ck.ck-list {
	@mixin ck-rounded-corners;

	list-style-type: none;
	background: var(--ck-color-list-background);
}

.ck.ck-list__item {
	cursor: default;
	min-width: 12em;

	& .ck-button {
		min-height: unset;
		width: 100%;
		text-align: left;
		border-radius: 0;

		/* List items should have the same height. Use absolute units to make sure it is so
		   because e.g. different heading styles may have different height
		   https://github.com/ckeditor/ckeditor5-heading/issues/63 */
		padding:
			calc(.2 * var(--ck-line-height-base) * var(--ck-font-size-base))
			calc(.4 * var(--ck-line-height-base) * var(--ck-font-size-base));

		& .ck-button__label {
			/* https://github.com/ckeditor/ckeditor5-heading/issues/63 */
			line-height: calc(1.2 * var(--ck-line-height-base) * var(--ck-font-size-base));
		}

		&:active {
			box-shadow: none;
		}

		&.ck-on {
			background: var(--ck-color-list-button-on-background);
			color: var(--ck-color-list-button-on-text);

			&:active {
				box-shadow: none;
			}

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-on-background-focus);
			}

			&:focus:not(.ck-switchbutton):not(.ck-disabled) {
				border-color: var(--ck-color-base-background);
			}
		}

		&:hover:not(.ck-disabled) {
			background: var(--ck-color-list-button-hover-background);
		}
	}

	/* It's unnecessary to change the background/text of a switch toggle; it has different ways
	of conveying its state (like the switcher) */
	& .ck-switchbutton {
		&.ck-on {
			background: var(--ck-color-list-background);
			color: inherit;

			&:hover:not(.ck-disabled) {
				background: var(--ck-color-list-button-hover-background);
				color: inherit;
			}
		}
	}
}

.ck.ck-list__separator {
	height: 1px;
	width: 100%;
	background: var(--ck-color-base-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},8793:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-border-width:1px;--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px;--ck-balloon-arrow-drop-shadow:0 2px 2px var(--ck-color-shadow-drop)}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{background:var(--ck-color-panel-background);border:var(--ck-balloon-border-width) solid var(--ck-color-panel-border);box-shadow:var(--ck-drop-shadow),0 0;min-height:15px}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{border-style:solid;height:0;width:0}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-width:0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_n]:before{border-color:transparent transparent var(--ck-color-panel-border) transparent;margin-top:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_n]:after{border-color:transparent transparent var(--ck-color-panel-background) transparent;margin-top:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-width:var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-color:var(--ck-color-panel-border) transparent transparent;filter:drop-shadow(var(--ck-balloon-arrow-drop-shadow));margin-bottom:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_s]:after{border-color:var(--ck-color-panel-background) transparent transparent transparent;margin-bottom:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_e]:after,.ck.ck-balloon-panel[class*=arrow_e]:before{border-width:var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_e]:before{border-color:transparent transparent transparent var(--ck-color-panel-border);margin-right:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_e]:after{border-color:transparent transparent transparent var(--ck-color-panel-background);margin-right:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel[class*=arrow_w]:after,.ck.ck-balloon-panel[class*=arrow_w]:before{border-width:var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0}.ck.ck-balloon-panel[class*=arrow_w]:before{border-color:transparent var(--ck-color-panel-border) transparent transparent;margin-left:calc(var(--ck-balloon-border-width)*-1)}.ck.ck-balloon-panel[class*=arrow_w]:after{border-color:transparent var(--ck-color-panel-background) transparent transparent;margin-left:calc(var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:50%;margin-left:calc(var(--ck-balloon-arrow-half-width)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);right:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{bottom:calc(var(--ck-balloon-arrow-height)*-1);left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{margin-right:calc(var(--ck-balloon-arrow-half-width)*2);right:25%;top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(var(--ck-balloon-arrow-half-width)*2);top:calc(var(--ck-balloon-arrow-height)*-1)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_e:before{margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);right:calc(var(--ck-balloon-arrow-height)*-1);top:50%}.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_w:before{left:calc(var(--ck-balloon-arrow-height)*-1);margin-top:calc(var(--ck-balloon-arrow-half-width)*-1);top:50%}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonpanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MAEC,8DACD,CAEA,qBACC,YAAa,CACb,iBAAkB,CAElB,yBAyCD,CAtCE,+GAEC,UAAW,CACX,iBACD,CAEA,wDACC,6CACD,CAEA,uDACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAIA,4CACC,6CACD,CAEA,2CACC,uDACD,CAGD,8CACC,aACD,CC9CD,MACC,6BAA8B,CAC9B,6BAA8B,CAC9B,8BAA+B,CAC/B,iCAAkC,CAClC,oEACD,CAEA,qBCLC,eDmMD,CA9LA,iFCDE,qCD+LF,CA9LA,qBAMC,2CAA4C,CAC5C,wEAAyE,CEdzE,oCAA8B,CFW9B,eA0LD,CApLE,+GAIC,kBAAmB,CADnB,QAAS,CADT,OAGD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,kDACD,CAEA,2CACC,iFAAkF,CAClF,gFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,iEAAkE,CAClE,uDAAwD,CACxD,qDACD,CAEA,2CACC,iFAAkF,CAClF,mFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,oDACD,CAEA,2CACC,iFAAkF,CAClF,kFACD,CAIA,uFAEC,mHACD,CAEA,4CACC,6EAA8E,CAC9E,mDACD,CAEA,2CACC,iFAAkF,CAClF,iFACD,CAIA,yGAEC,QAAS,CACT,uDAA0D,CAC1D,2CACD,CAIA,2GAEC,+CAAkD,CAClD,2CACD,CAIA,2GAEC,gDAAmD,CACnD,2CACD,CAIA,yGAIC,8CAAiD,CAFjD,QAAS,CACT,uDAED,CAIA,2GAGC,8CAAiD,CADjD,+CAED,CAIA,2GAGC,8CAAiD,CADjD,gDAED,CAIA,6GAIC,8CAAiD,CADjD,uDAA0D,CAD1D,SAGD,CAIA,6GAIC,8CAAiD,CAFjD,QAAS,CACT,sDAED,CAIA,6GAGC,uDAA0D,CAD1D,SAAU,CAEV,2CACD,CAIA,6GAEC,QAAS,CACT,sDAAyD,CACzD,2CACD,CAIA,yGAGC,sDAAyD,CADzD,6CAAgD,CAEhD,OACD,CAIA,yGAEC,4CAA+C,CAC/C,sDAAyD,CACzD,OACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* Make sure the balloon arrow does not float over its children. */
	--ck-balloon-panel-arrow-z-index: calc(var(--ck-z-default) - 3);
}

.ck.ck-balloon-panel {
	display: none;
	position: absolute;

	z-index: var(--ck-z-modal);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			content: "";
			position: absolute;
		}

		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_n"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&[class*="arrow_s"] {
		&::before {
			z-index: var(--ck-balloon-panel-arrow-z-index);
		}

		&::after {
			z-index: calc(var(--ck-balloon-panel-arrow-z-index) + 1);
		}
	}

	&.ck-balloon-panel_visible {
		display: block;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-border-width: 1px;
	--ck-balloon-arrow-offset: 2px;
	--ck-balloon-arrow-height: 10px;
	--ck-balloon-arrow-half-width: 8px;
	--ck-balloon-arrow-drop-shadow: 0 2px 2px var(--ck-color-shadow-drop);
}

.ck.ck-balloon-panel {
	@mixin ck-rounded-corners;
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: var(--ck-balloon-border-width) solid var(--ck-color-panel-border);

	&.ck-balloon-panel_with-arrow {
		&::before,
		&::after {
			width: 0;
			height: 0;
			border-style: solid;
		}
	}

	&[class*="arrow_n"] {
		&::before,
		&::after {
			border-width: 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: transparent transparent var(--ck-color-panel-border) transparent;
			margin-top: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent var(--ck-color-panel-background) transparent;
			margin-top: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_s"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width);
		}

		&::before {
			border-color: var(--ck-color-panel-border) transparent transparent;
			filter: drop-shadow(var(--ck-balloon-arrow-drop-shadow));
			margin-bottom: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: var(--ck-color-panel-background) transparent transparent transparent;
			margin-bottom: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_e"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) 0 var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height);
		}

		&::before {
			border-color: transparent transparent transparent var(--ck-color-panel-border);
			margin-right: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent transparent transparent var(--ck-color-panel-background);
			margin-right: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&[class*="arrow_w"] {
		&::before,
		&::after {
			border-width: var(--ck-balloon-arrow-half-width) var(--ck-balloon-arrow-height) var(--ck-balloon-arrow-half-width) 0;
		}

		&::before {
			border-color: transparent var(--ck-color-panel-border) transparent transparent;
			margin-left: calc( -1 * var(--ck-balloon-border-width) );
		}

		&::after {
			border-color: transparent var(--ck-color-panel-background) transparent transparent;
			margin-left: calc( var(--ck-balloon-arrow-offset) - var(--ck-balloon-border-width) );
		}
	}

	&.ck-balloon-panel_arrow_n {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_ne {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_s {
		&::before,
		&::after {
			left: 50%;
			margin-left: calc(-1 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sw {
		&::before,
		&::after {
			left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_se {
		&::before,
		&::after {
			right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_sme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_smw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			bottom: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nme {
		&::before,
		&::after {
			right: 25%;
			margin-right: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_nmw {
		&::before,
		&::after {
			left: 25%;
			margin-left: calc(2 * var(--ck-balloon-arrow-half-width));
			top: calc(-1 * var(--ck-balloon-arrow-height));
		}
	}

	&.ck-balloon-panel_arrow_e {
		&::before,
		&::after {
			right: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}

	&.ck-balloon-panel_arrow_w {
		&::before,
		&::after {
			left: calc(-1 * var(--ck-balloon-arrow-height));
			margin-top: calc(-1 * var(--ck-balloon-arrow-half-width));
			top: 50%;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=v},4650:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck .ck-balloon-rotator__navigation{align-items:center;display:flex;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-left:var(--ck-spacing-small);margin-right:var(--ck-spacing-standard)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/balloonrotator.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/balloonrotator.css"],names:[],mappings:"AAKA,oCAEC,kBAAmB,CADnB,YAAa,CAEb,sBACD,CAKA,6CACC,sBACD,CCXA,oCACC,6CAA8C,CAC9C,sDAAuD,CACvD,iCAgBD,CAbC,sCAGC,qCAAsC,CAFtC,oCAAqC,CACrC,kCAED,CAGA,iEAIC,mCAAoC,CAHpC,uCAID,CAMA,2DACC,eACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	display: flex;
	align-items: center;
	justify-content: center;
}

/* Buttons inside a toolbar should be centered when rotator bar is wider.
 * See: https://github.com/ckeditor/ckeditor5-ui/issues/495
 */
.ck .ck-balloon-rotator__content .ck-toolbar {
	justify-content: center;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-balloon-rotator__navigation {
	background: var(--ck-color-toolbar-background);
	border-bottom: 1px solid var(--ck-color-toolbar-border);
	padding: 0 var(--ck-spacing-small);

	/* Let's keep similar appearance to \`ck-toolbar\`. */
	& > * {
		margin-right: var(--ck-spacing-small);
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	/* Gives counter more breath than buttons. */
	& .ck-balloon-rotator__counter {
		margin-right: var(--ck-spacing-standard);

		/* We need to use smaller margin because of previous button's right margin. */
		margin-left: var(--ck-spacing-small);
	}
}

.ck .ck-balloon-rotator__content {

	/* Disable default annotation shadow inside rotator with fake panels. */
	& .ck.ck-annotation-wrapper {
		box-shadow: none;
	}
}
`],sourceRoot:""}]);const x=v},7676:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);box-shadow:var(--ck-drop-shadow),0 0;height:100%;min-height:15px;width:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/fakepanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,mBACC,iBAAkB,CAGlB,mCACD,CAEA,uBACC,iBACD,CAEA,mCACC,SACD,CAEA,oCACC,SACD,CCfA,MACC,6CAA8C,CAC9C,2CACD,CAGA,uBAKC,2CAA4C,CAC5C,6CAA8C,CAC9C,qCAAsC,CCXtC,oCAA8B,CDc9B,WAAY,CAPZ,eAAgB,CAMhB,UAED,CAEA,mCACC,0DAA2D,CAC3D,uDACD,CAEA,oCACC,kEAAqE,CACrE,+DACD,CACA,oCACC,kEAAqE,CACrE,+DACD,CAGA,yIAGC,4CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-fake-panel {
	position: absolute;

	/* Fake panels should be placed under main balloon content. */
	z-index: calc(var(--ck-z-modal) - 1);
}

.ck .ck-fake-panel div {
	position: absolute;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	z-index: 2;
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	z-index: 1;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

:root {
	--ck-balloon-fake-panel-offset-horizontal: 6px;
	--ck-balloon-fake-panel-offset-vertical: 6px;
}

/* Let's use \`.ck-balloon-panel\` appearance. See: balloonpanel.css. */
.ck .ck-fake-panel div {
	@mixin ck-drop-shadow;

	min-height: 15px;

	background: var(--ck-color-panel-background);
	border: 1px solid var(--ck-color-panel-border);
	border-radius: var(--ck-border-radius);

	width: 100%;
	height: 100%;
}

.ck .ck-fake-panel div:nth-child( 1 ) {
	margin-left: var(--ck-balloon-fake-panel-offset-horizontal);
	margin-top: var(--ck-balloon-fake-panel-offset-vertical);
}

.ck .ck-fake-panel div:nth-child( 2 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 2);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 2);
}
.ck .ck-fake-panel div:nth-child( 3 ) {
	margin-left: calc(var(--ck-balloon-fake-panel-offset-horizontal) * 3);
	margin-top: calc(var(--ck-balloon-fake-panel-offset-vertical) * 3);
}

/* If balloon is positioned above element, we need to move fake panel to the top. */
.ck .ck-balloon-panel_arrow_s + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_se + .ck-fake-panel,
.ck .ck-balloon-panel_arrow_sw + .ck-fake-panel {
	--ck-balloon-fake-panel-offset-vertical: -6px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=v},5868:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{position:fixed;top:0;z-index:var(--ck-z-modal)}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{position:absolute;top:auto}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{border-top-left-radius:0;border-top-right-radius:0;border-width:0 1px 1px;box-shadow:var(--ck-drop-shadow),0 0}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/panel/stickypanel.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAMC,qDAEC,cAAe,CACf,KAAM,CAFN,yBAGD,CAEA,kEAEC,iBAAkB,CADlB,QAED,CCPA,qDAIC,wBAAyB,CACzB,yBAA0B,CAF1B,sBAAuB,CCFxB,oCDKA",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		z-index: var(--ck-z-modal); /* #315 */
		position: fixed;
		top: 0;
	}

	& .ck-sticky-panel__content_sticky_bottom-limit {
		top: auto;
		position: absolute;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_shadow.css";

.ck.ck-sticky-panel {
	& .ck-sticky-panel__content_sticky {
		@mixin ck-drop-shadow;

		border-width: 0 1px 1px;
		border-top-left-radius: 0;
		border-top-right-radius: 0;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=v},6764:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',"",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/responsive-form/responsiveform.css","webpack://./../ckeditor5-ui/theme/mixins/_rwd.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/responsive-form/responsiveform.css"],names:[],mappings:"AAQC,mCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,yCACC,YACD,CCdA,oCDoBE,wCAMC,WAAY,CALZ,UAAW,CAEX,iBAAkB,CAClB,UAAW,CACX,QAAS,CAHT,OAAQ,CAKR,SACD,CAEA,8CACC,YACD,CC9BF,CCAD,qDACC,kDACD,CAEA,uBACC,+BAmED,CAjEC,6BAEC,YACD,CASC,uGACC,sCACD,CDvBD,oCCMD,uBAqBE,SAAU,CACV,oCA8CF,CA5CE,8CACC,wDAWD,CATC,6DACC,WAAY,CACZ,UACD,CAGA,4EACC,kBACD,CAKA,0DACC,kDACD,CAGD,iGAIC,eAAgB,CADhB,kCAAmC,CADnC,kCAmBD,CAfC,yHACC,gDACD,CARD,0OAeE,aAMF,CAJE,+IACC,kDACD,CDpEH",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";

.ck-vertical-form .ck-button {
	&::after {
		content: "";
		width: 0;
		position: absolute;
		right: -1px;
		top: -1px;
		bottom: -1px;
		z-index: 1;
	}

	&:focus::after {
		display: none;
	}
}

.ck.ck-responsive-form {
	@mixin ck-media-phone {
		& .ck-button {
			&::after {
				content: "";
				width: 0;
				position: absolute;
				right: -1px;
				top: -1px;
				bottom: -1px;
				z-index: 1;
			}

			&:focus::after {
				display: none;
			}
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@define-mixin ck-media-phone {
	@media screen and (max-width: 600px) {
		@mixin-content;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "@ckeditor/ckeditor5-ui/theme/mixins/_rwd.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck-vertical-form > .ck-button:nth-last-child(2)::after {
	border-right: 1px solid var(--ck-color-base-border);
}

.ck.ck-responsive-form {
	padding: var(--ck-spacing-large);

	&:focus {
		/* See: https://github.com/ckeditor/ckeditor5/issues/4773 */
		outline: none;
	}

	@mixin ck-dir ltr {
		& > :not(:first-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-dir rtl {
		& > :not(:last-child) {
			margin-left: var(--ck-spacing-standard);
		}
	}

	@mixin ck-media-phone {
		padding: 0;
		width: calc(.8 * var(--ck-input-width));

		& .ck-labeled-field-view {
			margin: var(--ck-spacing-large) var(--ck-spacing-large) 0;

			& .ck-input-text {
				min-width: 0;
				width: 100%;
			}

			/* Let the long error messages wrap in the narrow form. */
			& .ck-labeled-field-view__error {
				white-space: normal;
			}
		}

		/* Styles for two last buttons in the form (save&cancel, edit&unlink, etc.). */
		& > .ck-button:nth-last-child(2) {
			&::after {
				border-right: 1px solid var(--ck-color-base-border);
			}
		}

		& > .ck-button:nth-last-child(1),
		& > .ck-button:nth-last-child(2) {
			padding: var(--ck-spacing-standard);
			margin-top: var(--ck-spacing-large);
			border-radius: 0;

			&:not(:focus) {
				border-top: 1px solid var(--ck-color-base-border);
			}

			@mixin ck-dir ltr {
				margin-left: 0;
			}

			@mixin ck-dir rtl {
				margin-left: 0;

				&:last-of-type {
					border-right: 1px solid var(--ck-color-base-border);
				}
			}
		}
	}
}
`],sourceRoot:""}]);const x=v},9695:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-block-toolbar-button{position:absolute;z-index:var(--ck-z-default)}:root{--ck-color-block-toolbar-button:var(--ck-color-text);--ck-block-toolbar-button-size:var(--ck-font-size-normal)}.ck.ck-block-toolbar-button{color:var(--ck-color-block-toolbar-button);font-size:var(--ck-block-toolbar-size)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/blocktoolbar.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/blocktoolbar.css"],names:[],mappings:"AAKA,4BACC,iBAAkB,CAClB,2BACD,CCHA,MACC,oDAAqD,CACrD,yDACD,CAEA,4BACC,0CAA2C,CAC3C,sCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-block-toolbar-button {
	position: absolute;
	z-index: var(--ck-z-default);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-block-toolbar-button: var(--ck-color-text);
	--ck-block-toolbar-button-size: var(--ck-font-size-normal);
}

.ck.ck-block-toolbar-button {
	color: var(--ck-color-block-toolbar-button);
	font-size: var(--ck-block-toolbar-size);
}
`],sourceRoot:""}]);const x=v},5542:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-toolbar{align-items:center;display:flex;flex-flow:row nowrap;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-toolbar>.ck-toolbar__items{align-items:center;display:flex;flex-flow:row wrap;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar .ck-toolbar__line-break{flex-basis:100%}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);border:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;background:var(--ck-color-toolbar-border);margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);min-width:1px;width:1px}.ck.ck-toolbar .ck-toolbar__line-break{height:0}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break){margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>:not(.ck-toolbar__line-break),.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-bottom:var(--ck-spacing-small);margin-top:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{border-radius:0;margin:0;width:100%}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-dropdown__panel{min-width:auto}.ck.ck-toolbar .ck-toolbar__nested-toolbar-dropdown>.ck-button>.ck-button__label{max-width:7em;width:auto}.ck.ck-toolbar:focus{outline:none}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=rtl]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-bottom-right-radius:0;border-top-right-radius:0}.ck.ck-toolbar.ck-toolbar_compact[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-bottom-left-radius:0;border-top-left-radius:0}.ck.ck-toolbar.ck-toolbar_grouping[dir=ltr]>.ck-toolbar__items:not(:empty):not(:only-child),.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/toolbar/toolbar.css","webpack://./../ckeditor5-ui/theme/mixins/_unselectable.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/toolbar/toolbar.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_rounded.css"],names:[],mappings:"AAOA,eAKC,kBAAmB,CAFnB,YAAa,CACb,oBAAqB,CCFrB,qBAAsB,CACtB,wBAAyB,CACzB,oBAAqB,CACrB,gBD6CD,CA3CC,kCAGC,kBAAmB,CAFnB,YAAa,CACb,kBAAmB,CAEnB,WAED,CAEA,yCACC,oBAWD,CAJC,yGAEC,YACD,CAGD,uCACC,eACD,CAEA,sDACC,gBACD,CAEA,sDACC,qBACD,CAEA,sDACC,gBACD,CAGC,yFACC,YACD,CE/CF,eCGC,eDwGD,CA3GA,qECOE,qCDoGF,CA3GA,eAGC,6CAA8C,CAE9C,+CAAgD,CADhD,iCAuGD,CApGC,yCACC,kBAAmB,CAGnB,yCAA0C,CAO1C,qCAAsC,CADtC,kCAAmC,CAPnC,aAAc,CADd,SAUD,CAEA,uCACC,QACD,CAGC,gEAEC,oCACD,CAIA,kEACC,YACD,CAGD,gHAIC,qCAAsC,CADtC,kCAED,CAEA,mCAEC,SAaD,CAVC,0DAQC,eAAgB,CAHhB,QAAS,CAHT,UAOD,CAGD,kCAEC,SAWD,CATC,uDAEC,QAMD,CAHC,yFACC,eACD,CASD,kFACC,mCACD,CAMA,wEACC,cACD,CAEA,iFACC,aAAc,CACd,UACD,CAGD,qBACC,YACD,CAtGD,qCAyGE,QAEF,CAYC,+FACC,cACD,CAEA,iJAEC,mCACD,CAEA,qHACC,aACD,CAIC,6JAEC,2BAA4B,CAD5B,wBAED,CAGA,2JAEC,4BAA6B,CAD7B,yBAED,CASD,8RACC,mCACD,CAWA,qHACC,cACD,CAIC,6JAEC,4BAA6B,CAD7B,yBAED,CAGA,2JAEC,2BAA4B,CAD5B,wBAED,CASD,8RACC,oCACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../mixins/_unselectable.css";

.ck.ck-toolbar {
	@mixin ck-unselectable;

	display: flex;
	flex-flow: row nowrap;
	align-items: center;

	& > .ck-toolbar__items {
		display: flex;
		flex-flow: row wrap;
		align-items: center;
		flex-grow: 1;

	}

	& .ck.ck-toolbar__separator {
		display: inline-block;

		/*
		 * A leading or trailing separator makes no sense (separates from nothing on one side).
		 * For instance, it can happen when toolbar items (also separators) are getting grouped one by one and
		 * moved to another toolbar in the dropdown.
		 */
		&:first-child,
		&:last-child {
			display: none;
		}
	}

	& .ck-toolbar__line-break {
		flex-basis: 100%;
	}

	&.ck-toolbar_grouping > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	&.ck-toolbar_vertical > .ck-toolbar__items {
		flex-direction: column;
	}

	&.ck-toolbar_floating > .ck-toolbar__items {
		flex-wrap: nowrap;
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		& > .ck-dropdown__button .ck-dropdown__arrow {
			display: none;
		}
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Makes element unselectable.
 */
@define-mixin ck-unselectable {
	-moz-user-select: none;
	-webkit-user-select: none;
	-ms-user-select: none;
	user-select: none
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";
@import "@ckeditor/ckeditor5-ui/theme/mixins/_dir.css";

.ck.ck-toolbar {
	@mixin ck-rounded-corners;

	background: var(--ck-color-toolbar-background);
	padding: 0 var(--ck-spacing-small);
	border: 1px solid var(--ck-color-toolbar-border);

	& .ck.ck-toolbar__separator {
		align-self: stretch;
		width: 1px;
		min-width: 1px;
		background: var(--ck-color-toolbar-border);

		/*
		 * These margins make the separators look better in balloon toolbars (when aligned with the "tip").
		 * See https://github.com/ckeditor/ckeditor5/issues/7493.
		 */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	& .ck-toolbar__line-break {
		height: 0;
	}

	& > .ck-toolbar__items {
		& > *:not(.ck-toolbar__line-break) {
			/* (#11) Separate toolbar items. */
			margin-right: var(--ck-spacing-small);
		}

		/* Don't display a separator after an empty items container, for instance,
		when all items were grouped */
		&:empty + .ck.ck-toolbar__separator {
			display: none;
		}
	}

	& > .ck-toolbar__items > *:not(.ck-toolbar__line-break),
	& > .ck.ck-toolbar__grouped-dropdown {
		/* Make sure items wrapped to the next line have v-spacing */
		margin-top: var(--ck-spacing-small);
		margin-bottom: var(--ck-spacing-small);
	}

	&.ck-toolbar_vertical {
		/* Items in a vertical toolbar span the entire width. */
		padding: 0;

		/* Specificity matters here. See https://github.com/ckeditor/ckeditor5-theme-lark/issues/168. */
		& > .ck-toolbar__items > .ck {
			/* Items in a vertical toolbar should span the horizontal space. */
			width: 100%;

			/* Items in a vertical toolbar should have no margin. */
			margin: 0;

			/* Items in a vertical toolbar span the entire width so rounded corners are pointless. */
			border-radius: 0;
		}
	}

	&.ck-toolbar_compact {
		/* No spacing around items. */
		padding: 0;

		& > .ck-toolbar__items > * {
			/* Compact toolbar items have no spacing between them. */
			margin: 0;

			/* "Middle" children should have no rounded corners. */
			&:not(:first-child):not(:last-child) {
				border-radius: 0;
			}
		}
	}

	& > .ck.ck-toolbar__grouped-dropdown {
		/*
		 * Dropdown button has asymmetric padding to fit the arrow.
		 * This button has no arrow so let's revert that padding back to normal.
		 */
		& > .ck.ck-button.ck-dropdown__button {
			padding-left: var(--ck-spacing-tiny);
		}
	}

	/* A drop-down containing the nested toolbar with configured items. */
	& .ck-toolbar__nested-toolbar-dropdown {
		/* Prevent empty space in the panel when the dropdown label is visible and long but the toolbar has few items. */
		& > .ck-dropdown__panel {
			min-width: auto;
		}

		& > .ck-button > .ck-button__label {
			max-width: 7em;
			width: auto;
		}
	}

	&:focus {
		outline: none;
	}

	@nest .ck-toolbar-container & {
		border: 0;
	}
}

/* stylelint-disable */

/*
 * Styles for RTL toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="rtl"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="rtl"] {
	& > .ck-toolbar__items > .ck {
		margin-right: 0;
	}

	&:not(.ck-toolbar_compact) > .ck-toolbar__items > .ck {
		/* (#11) Separate toolbar items. */
		margin-left: var(--ck-spacing-small);
	}

	& > .ck-toolbar__items > .ck:last-child {
		margin-left: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-left: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-left: var(--ck-spacing-small);
	}
}

/*
 * Styles for LTR toolbars.
 *
 * Note: In some cases (e.g. a decoupled editor), the toolbar has its own "dir"
 * because its parent is not controlled by the editor framework.
 */
[dir="ltr"] .ck.ck-toolbar,
.ck.ck-toolbar[dir="ltr"] {
	& > .ck-toolbar__items > .ck:last-child {
		margin-right: 0;
	}

	&.ck-toolbar_compact > .ck-toolbar__items > .ck {
		/* No rounded corners on the right side of the first child. */
		&:first-child {
			border-top-right-radius: 0;
			border-bottom-right-radius: 0;
		}

		/* No rounded corners on the left side of the last child. */
		&:last-child {
			border-top-left-radius: 0;
			border-bottom-left-radius: 0;
		}
	}

	/* Separate the the separator form the grouping dropdown when some items are grouped. */
	& > .ck.ck-toolbar__separator {
		margin-right: var(--ck-spacing-small);
	}

	/* Some spacing between the items and the separator before the grouped items dropdown. */
	&.ck-toolbar_grouping > .ck-toolbar__items:not(:empty):not(:only-child) {
		margin-right: var(--ck-spacing-small);
	}
}

/* stylelint-enable */
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Implements rounded corner interface for .ck-rounded-corners class.
 *
 * @see $ck-border-radius
 */
@define-mixin ck-rounded-corners {
	border-radius: 0;

	@nest .ck-rounded-corners &,
	&.ck-rounded-corners {
		border-radius: var(--ck-border-radius);
		@mixin-content;
	}
}
`],sourceRoot:""}]);const x=v},3332:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck.ck-balloon-panel.ck-tooltip{--ck-balloon-border-width:0px;--ck-balloon-arrow-offset:0px;--ck-balloon-arrow-half-width:4px;--ck-balloon-arrow-height:4px;--ck-color-panel-background:var(--ck-color-tooltip-background);padding:0 var(--ck-spacing-medium);pointer-events:none;z-index:calc(var(--ck-z-modal) + 100)}.ck.ck-balloon-panel.ck-tooltip .ck-tooltip__text{color:var(--ck-color-tooltip-text);font-size:.9em;line-height:1.5}.ck.ck-balloon-panel.ck-tooltip{box-shadow:none}.ck.ck-balloon-panel.ck-tooltip:before{display:none}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/components/tooltip/tooltip.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/components/tooltip/tooltip.css"],names:[],mappings:"AAKA,gCCGC,6BAA8B,CAC9B,6BAA8B,CAC9B,iCAAkC,CAClC,6BAA8B,CAC9B,8DAA+D,CAE/D,kCAAmC,CDPnC,mBAAoB,CAEpB,qCACD,CCMC,kDAGC,kCAAmC,CAFnC,cAAe,CACf,eAED,CAbD,gCAgBC,eAMD,CAHC,uCACC,YACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-balloon-panel.ck-tooltip {
	/* Keep tooltips transparent for any interactions. */
	pointer-events: none;

	z-index: calc( var(--ck-z-modal) + 100 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../../../mixins/_rounded.css";

.ck.ck-balloon-panel.ck-tooltip {
	--ck-balloon-border-width: 0px;
	--ck-balloon-arrow-offset: 0px;
	--ck-balloon-arrow-half-width: 4px;
	--ck-balloon-arrow-height: 4px;
	--ck-color-panel-background: var(--ck-color-tooltip-background);

	padding: 0 var(--ck-spacing-medium);

	& .ck-tooltip__text {
		font-size: .9em;
		line-height: 1.5;
		color: var(--ck-color-tooltip-text);
	}

	/* Reset balloon panel styles */
	box-shadow: none;

	/* Hide the default shadow of the .ck-balloon-panel tip */
	&::before {
		display: none;
	}
}
`],sourceRoot:""}]);const x=v},4793:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck-hidden{display:none!important}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{box-sizing:border-box;height:auto;position:static;width:auto}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999)}.ck-transitions-disabled,.ck-transitions-disabled *{transition:none!important}:root{--ck-powered-by-line-height:10px;--ck-powered-by-padding-vertical:2px;--ck-powered-by-padding-horizontal:4px;--ck-powered-by-text-color:#4f4f4f;--ck-powered-by-border-radius:var(--ck-border-radius);--ck-powered-by-background:#fff;--ck-powered-by-border-color:var(--ck-color-focus-border)}.ck.ck-balloon-panel.ck-powered-by-balloon{--ck-border-radius:var(--ck-powered-by-border-radius);background:var(--ck-powered-by-background);box-shadow:none;min-height:unset;z-index:calc(var(--ck-z-modal) - 1)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by{line-height:var(--ck-powered-by-line-height)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by a{align-items:center;cursor:pointer;display:flex;filter:grayscale(80%);line-height:var(--ck-powered-by-line-height);opacity:.66;padding:var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal)}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-powered-by__label{color:var(--ck-powered-by-text-color);cursor:pointer;font-size:7.5px;font-weight:700;letter-spacing:-.2px;line-height:normal;margin-right:4px;padding-left:2px;text-transform:uppercase}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by .ck-icon{cursor:pointer;display:block}.ck.ck-balloon-panel.ck-powered-by-balloon .ck.ck-powered-by:hover a{filter:grayscale(0);opacity:1}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_inside]{border-color:transparent}.ck.ck-balloon-panel.ck-powered-by-balloon[class*=position_border]{border:var(--ck-focus-ring);border-color:var(--ck-powered-by-border-color)}:root{--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#ccced1;--ck-color-base-action:#53a336;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#2977ff;--ck-color-base-active-focus:#0d65ff;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:218,81.8%,56.9%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#cae1fc;--ck-color-focus-disabled-shadow:rgba(119,186,248,.3);--ck-color-focus-error-shadow:rgba(255,64,31,.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,.15);--ck-color-shadow-drop-active:rgba(0,0,0,.2);--ck-color-shadow-inner:rgba(0,0,0,.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#f0f0f0;--ck-color-button-default-active-background:#f0f0f0;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#f0f7ff;--ck-color-button-on-hover-background:#dbecff;--ck-color-button-on-active-background:#dbecff;--ck-color-button-on-disabled-background:#f0f2f4;--ck-color-button-on-color:#2977ff;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#4d9d30;--ck-color-button-action-active-background:#4d9d30;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#939393;--ck-color-switch-button-off-hover-background:#7d7d7d;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#4d9d30;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:var(--ck-color-base-border);--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:var(--ck-color-base-border);--ck-color-input-disabled-text:#757575;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-button-on-color);--ck-color-list-button-on-background-focus:var(--ck-color-button-on-color);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-background);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,176,255,.1);--ck-color-link-fake-selection:rgba(31,176,255,.3);--ck-color-highlight-background:#ff0;--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset,.ck.ck-reset_all{word-wrap:break-word;background:transparent;border:0;margin:0;padding:0;text-decoration:none;transition:none;vertical-align:middle}.ck-reset_all :not(.ck-reset_all-excluded *),.ck.ck-reset_all{border-collapse:collapse;color:var(--ck-color-text);cursor:auto;float:none;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);text-align:left;white-space:nowrap}.ck-reset_all .ck-rtl :not(.ck-reset_all-excluded *){text-align:right}.ck-reset_all iframe:not(.ck-reset_all-excluded *){vertical-align:inherit}.ck-reset_all textarea:not(.ck-reset_all-excluded *){white-space:pre-wrap}.ck-reset_all input[type=password]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text]:not(.ck-reset_all-excluded *),.ck-reset_all textarea:not(.ck-reset_all-excluded *){cursor:text}.ck-reset_all input[type=password][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all input[type=text][disabled]:not(.ck-reset_all-excluded *),.ck-reset_all textarea[disabled]:not(.ck-reset_all-excluded *){cursor:default}.ck-reset_all fieldset:not(.ck-reset_all-excluded *){border:2px groove #dfdee3;padding:10px}.ck-reset_all button:not(.ck-reset_all-excluded *)::-moz-focus-inner{border:0;padding:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}","",{version:3,sources:["webpack://./../ckeditor5-ui/theme/globals/_hidden.css","webpack://./../ckeditor5-ui/theme/globals/_reset.css","webpack://./../ckeditor5-ui/theme/globals/_zindex.css","webpack://./../ckeditor5-ui/theme/globals/_transition.css","webpack://./../ckeditor5-ui/theme/globals/_poweredby.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_colors.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_disabled.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_focus.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_fonts.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_reset.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_rounded.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_shadow.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-ui/globals/_spacing.css"],names:[],mappings:"AAQA,WAGC,sBACD,CCPA,2EAGC,qBAAsB,CAEtB,WAAY,CACZ,eAAgB,CAFhB,UAGD,CCPA,MACC,gBAAiB,CACjB,4CACD,CCAA,oDAEC,yBACD,CCNA,MACC,gCAAiC,CACjC,oCAAqC,CACrC,sCAAuC,CACvC,kCAA2C,CAC3C,qDAAsD,CACtD,+BAA4C,CAC5C,yDACD,CAEA,2CACC,qDAAsD,CAGtD,0CAA2C,CAD3C,eAAgB,CAEhB,gBAAiB,CACjB,mCAiDD,CA/CC,6DACC,4CAoCD,CAlCC,+DAGC,kBAAmB,CAFnB,cAAe,CACf,YAAa,CAGb,qBAAsB,CACtB,4CAA6C,CAF7C,WAAY,CAGZ,qFACD,CAEA,mFASC,qCAAsC,CAFtC,cAAe,CANf,eAAgB,CAIhB,eAAiB,CAHjB,oBAAqB,CAMrB,kBAAmB,CAFnB,gBAAiB,CAHjB,gBAAiB,CACjB,wBAOD,CAEA,sEAEC,cAAe,CADf,aAED,CAGC,qEACC,mBAAqB,CACrB,SACD,CAIF,mEACC,wBACD,CAEA,mEACC,2BAA4B,CAC5B,8CACD,CChED,MACC,kCAAmD,CACnD,+BAAoD,CACpD,8BAAkD,CAClD,8BAAuD,CACvD,6BAAmD,CACnD,yBAA+C,CAC/C,8BAAsD,CACtD,oCAA4D,CAC5D,6BAAkD,CAIlD,mDAA4D,CAC5D,qEAA+E,CAC/E,qCAA4D,CAC5D,qDAA8D,CAC9D,gDAAyD,CACzD,yCAAqD,CACrD,sCAAsD,CACtD,4CAA0D,CAC1D,sCAAsD,CAItD,gDAAuD,CACvD,kDAAiE,CACjE,mDAAkE,CAClE,yDAA8D,CAE9D,uCAA6D,CAC7D,6CAAoE,CACpE,8CAAoE,CACpE,gDAAiE,CACjE,kCAAyD,CAGzD,+DAAsE,CACtE,iDAAsE,CACtE,kDAAsE,CACtE,oDAAoE,CACpE,6DAAsE,CAEtE,8BAAoD,CACpD,gCAAqD,CAErD,+CAA8D,CAC9D,qDAAiE,CACjE,+EAAqF,CACrF,oDAAuE,CACvE,yEAA8E,CAC9E,oDAAgE,CAIhE,oEAA2E,CAC3E,4DAAoE,CAIpE,2DAAoE,CACpE,mDAA6D,CAC7D,wDAAgE,CAChE,+CAA0D,CAC1D,4CAA2D,CAC3D,4DAAoE,CACpE,sCAAsD,CAItD,0DAAmE,CACnE,uFAA6F,CAC7F,oEAA2E,CAC3E,0EAA+E,CAC/E,8DAAsE,CAItE,2DAAoE,CACpE,mDAA6D,CAI7D,6DAAsE,CACtE,qDAA+D,CAI/D,uDAAgE,CAChE,uDAAiE,CAIjE,0CAAyD,CAIzD,wCAA2D,CAI3D,+BAAoD,CACpD,uDAAmE,CACnE,kDAAgE,CAIhE,oCAAwD,CCvGxD,wBAAyB,CCAzB,0CAA2C,CAK3C,gGAAiG,CAKjG,4GAA6G,CAK7G,sGAAuG,CAKvG,sDAAuD,CCvBvD,wBAAyB,CACzB,6BAA8B,CAC9B,wDAA6D,CAE7D,yBAA0B,CAC1B,2BAA4B,CAC5B,yBAA0B,CAC1B,wBAAyB,CACzB,0BAA2B,CCJ3B,kCJuGD,CIjGA,2EAaC,oBAAqB,CANrB,sBAAuB,CADvB,QAAS,CAFT,QAAS,CACT,SAAU,CAGV,oBAAqB,CAErB,eAAgB,CADhB,qBAKD,CAKA,8DAGC,wBAAyB,CAEzB,0BAA2B,CAG3B,WAAY,CACZ,UAAW,CALX,iGAAkG,CAElG,eAAgB,CAChB,kBAGD,CAGC,qDACC,gBACD,CAEA,mDAEC,sBACD,CAEA,qDACC,oBACD,CAEA,mLAGC,WACD,CAEA,iNAGC,cACD,CAEA,qDAEC,yBAAoC,CADpC,YAED,CAEA,qEAGC,QAAQ,CADR,SAED,CAMD,8BAEC,gBACD,CCnFA,MACC,sBAAuB,CCAvB,gEAAiE,CAKjE,0DAA2D,CAK3D,wEAAyE,CCbzE,uBAA8B,CAC9B,mDAA2D,CAC3D,4CAAkD,CAClD,oDAA4D,CAC5D,mDAA2D,CAC3D,kDAA2D,CAC3D,yDFFD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class which hides an element in DOM.
 */
.ck-hidden {
	/* Override selector specificity. Otherwise, all elements with some display
	style defined will override this one, which is not a desired result. */
	display: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	box-sizing: border-box;
	width: auto;
	height: auto;
	position: static;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-z-default: 1;
	--ck-z-modal: calc( var(--ck-z-default) + 999 );
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A class that disables all transitions of the element and its children.
 */
.ck-transitions-disabled,
.ck-transitions-disabled * {
	transition: none !important;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-powered-by-line-height: 10px;
	--ck-powered-by-padding-vertical: 2px;
	--ck-powered-by-padding-horizontal: 4px;
	--ck-powered-by-text-color: hsl(0, 0%, 31%);
	--ck-powered-by-border-radius: var(--ck-border-radius);
	--ck-powered-by-background: hsl(0, 0%, 100%);
	--ck-powered-by-border-color: var(--ck-color-focus-border);
}

.ck.ck-balloon-panel.ck-powered-by-balloon {
	--ck-border-radius: var(--ck-powered-by-border-radius);

	box-shadow: none;
	background: var(--ck-powered-by-background);
	min-height: unset;
	z-index: calc( var(--ck-z-modal) - 1 );

	& .ck.ck-powered-by {
		line-height: var(--ck-powered-by-line-height);

		& a {
			cursor: pointer;
			display: flex;
			align-items: center;
			opacity: .66;
			filter: grayscale(80%);
			line-height: var(--ck-powered-by-line-height);
			padding: var(--ck-powered-by-padding-vertical) var(--ck-powered-by-padding-horizontal);
		}

		& .ck-powered-by__label {
			font-size: 7.5px;
			letter-spacing: -.2px;
			padding-left: 2px;
			text-transform: uppercase;
			font-weight: bold;
			margin-right: 4px;
			cursor: pointer;
			line-height: normal;
			color: var(--ck-powered-by-text-color);

		}

		& .ck-icon {
			display: block;
			cursor: pointer;
		}

		&:hover {
			& a {
				filter: grayscale(0%);
				opacity: 1;
			}
		}
	}

	&[class*="position_inside"] {
		border-color: transparent;
	}

	&[class*="position_border"] {
		border: var(--ck-focus-ring);
		border-color: var(--ck-powered-by-border-color);
	}
}

`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-base-foreground: 								hsl(0, 0%, 98%);
	--ck-color-base-background: 								hsl(0, 0%, 100%);
	--ck-color-base-border: 									hsl(220, 6%, 81%);
	--ck-color-base-action: 									hsl(104, 50.2%, 42.5%);
	--ck-color-base-focus: 										hsl(209, 92%, 70%);
	--ck-color-base-text: 										hsl(0, 0%, 20%);
	--ck-color-base-active: 									hsl(218.1, 100%, 58%);
	--ck-color-base-active-focus:								hsl(218.2, 100%, 52.5%);
	--ck-color-base-error:										hsl(15, 100%, 43%);

	/* -- Generic colors ------------------------------------------------------------------------ */

	--ck-color-focus-border-coordinates: 						218, 81.8%, 56.9%;
	--ck-color-focus-border: 									hsl(var(--ck-color-focus-border-coordinates));
	--ck-color-focus-outer-shadow:								hsl(212.4, 89.3%, 89%);
	--ck-color-focus-disabled-shadow:							hsla(209, 90%, 72%,.3);
	--ck-color-focus-error-shadow:								hsla(9,100%,56%,.3);
	--ck-color-text: 											var(--ck-color-base-text);
	--ck-color-shadow-drop: 									hsla(0, 0%, 0%, 0.15);
	--ck-color-shadow-drop-active:								hsla(0, 0%, 0%, 0.2);
	--ck-color-shadow-inner: 									hsla(0, 0%, 0%, 0.1);

	/* -- Buttons ------------------------------------------------------------------------------- */

	--ck-color-button-default-background: 						transparent;
	--ck-color-button-default-hover-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-active-background: 				hsl(0, 0%, 94.1%);
	--ck-color-button-default-disabled-background: 				transparent;

	--ck-color-button-on-background: 							hsl(212, 100%, 97.1%);
	--ck-color-button-on-hover-background: 						hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-active-background: 					hsl(211.7, 100%, 92.9%);
	--ck-color-button-on-disabled-background: 					hsl(211, 15%, 95%);
	--ck-color-button-on-color:									hsl(218.1, 100%, 58%);


	--ck-color-button-action-background: 						var(--ck-color-base-action);
	--ck-color-button-action-hover-background: 					hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-active-background: 				hsl(104, 53.2%, 40.2%);
	--ck-color-button-action-disabled-background: 				hsl(104, 44%, 58%);
	--ck-color-button-action-text: 								var(--ck-color-base-background);

	--ck-color-button-save: 									hsl(120, 100%, 27%);
	--ck-color-button-cancel: 									hsl(15, 100%, 43%);

	--ck-color-switch-button-off-background:					hsl(0, 0%, 57.6%);
	--ck-color-switch-button-off-hover-background:				hsl(0, 0%, 49%);
	--ck-color-switch-button-on-background:						var(--ck-color-button-action-background);
	--ck-color-switch-button-on-hover-background:				hsl(104, 53.2%, 40.2%);
	--ck-color-switch-button-inner-background:					var(--ck-color-base-background);
	--ck-color-switch-button-inner-shadow:						hsla(0, 0%, 0%, 0.1);

	/* -- Dropdown ------------------------------------------------------------------------------ */

	--ck-color-dropdown-panel-background: 						var(--ck-color-base-background);
	--ck-color-dropdown-panel-border: 							var(--ck-color-base-border);

	/* -- Input --------------------------------------------------------------------------------- */

	--ck-color-input-background: 								var(--ck-color-base-background);
	--ck-color-input-border: 									var(--ck-color-base-border);
	--ck-color-input-error-border:								var(--ck-color-base-error);
	--ck-color-input-text: 										var(--ck-color-base-text);
	--ck-color-input-disabled-background: 						hsl(0, 0%, 95%);
	--ck-color-input-disabled-border: 							var(--ck-color-base-border);
	--ck-color-input-disabled-text: 							hsl(0, 0%, 46%);

	/* -- List ---------------------------------------------------------------------------------- */

	--ck-color-list-background: 								var(--ck-color-base-background);
	--ck-color-list-button-hover-background: 					var(--ck-color-button-default-hover-background);
	--ck-color-list-button-on-background: 						var(--ck-color-button-on-color);
	--ck-color-list-button-on-background-focus: 				var(--ck-color-button-on-color);
	--ck-color-list-button-on-text:								var(--ck-color-base-background);

	/* -- Panel --------------------------------------------------------------------------------- */

	--ck-color-panel-background: 								var(--ck-color-base-background);
	--ck-color-panel-border: 									var(--ck-color-base-border);

	/* -- Toolbar ------------------------------------------------------------------------------- */

	--ck-color-toolbar-background: 								var(--ck-color-base-background);
	--ck-color-toolbar-border: 									var(--ck-color-base-border);

	/* -- Tooltip ------------------------------------------------------------------------------- */

	--ck-color-tooltip-background: 								var(--ck-color-base-text);
	--ck-color-tooltip-text: 									var(--ck-color-base-background);

	/* -- Engine -------------------------------------------------------------------------------- */

	--ck-color-engine-placeholder-text: 						hsl(0, 0%, 44%);

	/* -- Upload -------------------------------------------------------------------------------- */

	--ck-color-upload-bar-background:		 					hsl(209, 92%, 70%);

	/* -- Link -------------------------------------------------------------------------------- */

	--ck-color-link-default:									hsl(240, 100%, 47%);
	--ck-color-link-selected-background:						hsla(201, 100%, 56%, 0.1);
	--ck-color-link-fake-selection:								hsla(201, 100%, 56%, 0.3);

	/* -- Search result highlight ---------------------------------------------------------------- */

	--ck-color-highlight-background:							hsl(60, 100%, 50%)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * An opacity value of disabled UI item.
	 */
	--ck-disabled-opacity: .5;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * The geometry of the of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow-geometry: 0 0 0 3px;

	/**
	 * A visual style of focused element's outer shadow.
	 */
	--ck-focus-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);

	/**
	 * A visual style of focused element's outer shadow (when disabled).
	 */
	--ck-focus-disabled-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);

	/**
	 * A visual style of focused element's outer shadow (when has errors).
	 */
	--ck-focus-error-outer-shadow: var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);

	/**
	 * A visual style of focused element's border or outline.
	 */
	--ck-focus-ring: 1px solid var(--ck-color-focus-border);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-font-size-base: 13px;
	--ck-line-height-base: 1.84615;
	--ck-font-face: Helvetica, Arial, Tahoma, Verdana, Sans-Serif;

	--ck-font-size-tiny: 0.7em;
	--ck-font-size-small: 0.75em;
	--ck-font-size-normal: 1em;
	--ck-font-size-big: 1.4em;
	--ck-font-size-large: 1.8em;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/* This is super-important. This is **manually** adjusted so a button without an icon
	is never smaller than a button with icon, additionally making sure that text-less buttons
	are perfect squares. The value is also shared by other components which should stay "in-line"
	with buttons. */
	--ck-ui-component-min-height: 2.3em;
}

/**
 * Resets an element, ignoring its children.
 */
.ck.ck-reset,
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* Do not include inheritable rules here. */
	margin: 0;
	padding: 0;
	border: 0;
	background: transparent;
	text-decoration: none;
	vertical-align: middle;
	transition: none;

	/* https://github.com/ckeditor/ckeditor5-theme-lark/issues/105 */
	word-wrap: break-word;
}

/**
 * Resets an element AND its children.
 */
.ck.ck-reset_all,
.ck-reset_all *:not(.ck-reset_all-excluded *) {
	/* These are rule inherited by all children elements. */
	border-collapse: collapse;
	font: normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);
	color: var(--ck-color-text);
	text-align: left;
	white-space: nowrap;
	cursor: auto;
	float: none;
}

.ck-reset_all {
	& .ck-rtl *:not(.ck-reset_all-excluded *) {
		text-align: right;
	}

	& iframe:not(.ck-reset_all-excluded *) {
		/* For IE */
		vertical-align: inherit;
	}

	& textarea:not(.ck-reset_all-excluded *) {
		white-space: pre-wrap;
	}

	& textarea:not(.ck-reset_all-excluded *),
	& input[type="text"]:not(.ck-reset_all-excluded *),
	& input[type="password"]:not(.ck-reset_all-excluded *) {
		cursor: text;
	}

	& textarea[disabled]:not(.ck-reset_all-excluded *),
	& input[type="text"][disabled]:not(.ck-reset_all-excluded *),
	& input[type="password"][disabled]:not(.ck-reset_all-excluded *) {
		cursor: default;
	}

	& fieldset:not(.ck-reset_all-excluded *) {
		padding: 10px;
		border: 2px groove hsl(255, 7%, 88%);
	}

	& button:not(.ck-reset_all-excluded *)::-moz-focus-inner {
		/* See http://stackoverflow.com/questions/5517744/remove-extra-button-spacing-padding-in-firefox */
		padding: 0;
		border: 0
	}
}

/**
 * Default UI rules for RTL languages.
 */
.ck[dir="rtl"],
.ck[dir="rtl"] .ck {
	text-align: right;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * Default border-radius value.
 */
:root{
	--ck-border-radius: 2px;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	/**
	 * A visual style of element's inner shadow (i.e. input).
	 */
	--ck-inner-shadow: 2px 2px 3px var(--ck-color-shadow-inner) inset;

	/**
	 * A visual style of element's drop shadow (i.e. panel).
	 */
	--ck-drop-shadow: 0 1px 2px 1px var(--ck-color-shadow-drop);

	/**
	 * A visual style of element's active shadow (i.e. comment or suggestion).
	 */
	--ck-drop-shadow-active: 0 3px 6px 1px var(--ck-color-shadow-drop-active);
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-spacing-unit: 						0.6em;
	--ck-spacing-large: 					calc(var(--ck-spacing-unit) * 1.5);
	--ck-spacing-standard: 					var(--ck-spacing-unit);
	--ck-spacing-medium: 					calc(var(--ck-spacing-unit) * 0.8);
	--ck-spacing-small: 					calc(var(--ck-spacing-unit) * 0.5);
	--ck-spacing-tiny: 						calc(var(--ck-spacing-unit) * 0.3);
	--ck-spacing-extra-tiny: 				calc(var(--ck-spacing-unit) * 0.16);
}
`],sourceRoot:""}]);const x=v},3488:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2;--ck-resizer-border-radius:var(--ck-border-radius);--ck-resizer-tooltip-offset:10px;--ck-resizer-tooltip-height:calc(var(--ck-spacing-small)*2 + 10px)}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);color:var(--ck-color-resizer-tooltip-text);display:block;font-size:var(--ck-font-size-tiny);height:var(--ck-resizer-tooltip-height);line-height:var(--ck-resizer-tooltip-height);padding:0 var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-above-center,.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{left:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{right:var(--ck-resizer-tooltip-offset);top:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-above-center{left:50%;top:calc(var(--ck-resizer-tooltip-height)*-1);transform:translate(-50%)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-color:transparent;outline-style:solid;outline-width:var(--ck-widget-outline-thickness);transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{background-color:var(--ck-color-widget-editable-focus-background);border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;outline:none}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{background-color:transparent;border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;box-sizing:border-box;left:calc(0px - var(--ck-widget-outline-thickness));opacity:0;padding:4px;top:0;transform:translateY(-100%);transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{color:var(--ck-color-widget-drag-handler-icon-color);height:var(--ck-widget-handler-icon-size);width:var(--ck-widget-handler-icon-size)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle{background-color:var(--ck-color-widget-hover-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{background-color:var(--ck-color-focus-border);opacity:1}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle:hover>.ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle>.ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widget.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widget.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_focus.css","webpack://./../ckeditor5-theme-lark/theme/mixins/_shadow.css"],names:[],mappings:"AAKA,MACC,+CAAgD,CAChD,6CAAsD,CACtD,uCAAgD,CAEhD,kDAAmD,CACnD,gCAAiC,CACjC,kEACD,CAOA,8DAEC,iBAqBD,CAnBC,4EACC,iBAOD,CALC,qFAGC,aACD,CASD,iLACC,kBACD,CAGD,kBACC,qDAAsD,CAEtD,qDAAsD,CACtD,6CAA8C,CAF9C,0CAA2C,CAI3C,aAAc,CADd,kCAAmC,CAGnC,uCAAwC,CACxC,4CAA6C,CAF7C,iCAsCD,CAlCC,8NAKC,iBACD,CAEA,0CAEC,qCAAsC,CADtC,oCAED,CAEA,2CAEC,sCAAuC,CADvC,oCAED,CAEA,8CACC,uCAAwC,CACxC,sCACD,CAEA,6CACC,uCAAwC,CACxC,qCACD,CAGA,8CAEC,QAAS,CADT,6CAAgD,CAEhD,yBACD,CCjFD,MACC,iCAAkC,CAClC,kCAAmC,CACnC,4CAA6C,CAC7C,wCAAyC,CAEzC,wCAAiD,CACjD,sCAAkD,CAClD,2EAA4E,CAC5E,yEACD,CAEA,eAGC,yBAA0B,CAD1B,mBAAoB,CADpB,gDAAiD,CAGjD,6GAUD,CARC,0EAEC,6EACD,CAEA,qBACC,iDACD,CAGD,gCACC,4BAWD,CAPC,yGAKC,iEAAkE,CCnCnE,2BAA2B,CCF3B,qCAA8B,CDC9B,YDqCA,CAIA,4EAKC,4BAA6B,CAa7B,iEAAkE,CAhBlE,qBAAsB,CAoBtB,mDAAoD,CAhBpD,SAAU,CALV,WAAY,CAsBZ,KAAM,CAFN,2BAA4B,CAT5B,6SAgCD,CAnBC,qFAIC,oDAAqD,CADrD,yCAA0C,CAD1C,wCAWD,CANC,kHACC,SAAU,CAGV,+DACD,CAID,wHACC,SACD,CAID,kFAEC,oDAAqD,CADrD,SAED,CAKC,oMAEC,6CAA8C,CAD9C,SAOD,CAHC,gRACC,SACD,CAOH,qFACC,SAAU,CACV,oDACD,CAGA,gDAEC,eAkBD,CAhBC,yEAOC,iCACD,CAGC,gOAEC,gDACD,CAOD,wIAEC,mDAQD,CALE,ghBAEC,gDACD,CAKH,yKAOC,yDACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-color-resizer: var(--ck-color-focus-border);
	--ck-color-resizer-tooltip-background: hsl(0, 0%, 15%);
	--ck-color-resizer-tooltip-text: hsl(0, 0%, 95%);

	--ck-resizer-border-radius: var(--ck-border-radius);
	--ck-resizer-tooltip-offset: 10px;
	--ck-resizer-tooltip-height: calc(var(--ck-spacing-small) * 2 + 10px);
}

.ck .ck-widget {
	/* This is neccessary for type around UI to be positioned properly. */
	position: relative;
}

.ck .ck-widget.ck-widget_with-selection-handle {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;

	& .ck-widget__selection-handle {
		position: absolute;

		& .ck-icon {
			/* Make sure the icon in not a subject to font-size or line-height to avoid
			unnecessary spacing around it. */
			display: block;
		}
	}

	/* Show the selection handle on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		visibility: visible;
	}

	/* Show the selection handle when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected > .ck-widget__selection-handle {
		visibility: visible;
	}
}

.ck .ck-size-view {
	background: var(--ck-color-resizer-tooltip-background);
	color: var(--ck-color-resizer-tooltip-text);
	border: 1px solid var(--ck-color-resizer-tooltip-text);
	border-radius: var(--ck-resizer-border-radius);
	font-size: var(--ck-font-size-tiny);
	display: block;
	padding: 0 var(--ck-spacing-small);
	height: var(--ck-resizer-tooltip-height);
	line-height: var(--ck-resizer-tooltip-height);

	&.ck-orientation-top-left,
	&.ck-orientation-top-right,
	&.ck-orientation-bottom-right,
	&.ck-orientation-bottom-left,
	&.ck-orientation-above-center {
		position: absolute;
	}

	&.ck-orientation-top-left {
		top: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-top-right {
		top: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-right {
		bottom: var(--ck-resizer-tooltip-offset);
		right: var(--ck-resizer-tooltip-offset);
	}

	&.ck-orientation-bottom-left {
		bottom: var(--ck-resizer-tooltip-offset);
		left: var(--ck-resizer-tooltip-offset);
	}

	/* Class applied if the widget is too small to contain the size label */
	&.ck-orientation-above-center {
		top: calc(var(--ck-resizer-tooltip-height) * -1);
		left: 50%;
		transform: translate(-50%);
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

@import "../mixins/_focus.css";
@import "../mixins/_shadow.css";

:root {
	--ck-widget-outline-thickness: 3px;
	--ck-widget-handler-icon-size: 16px;
	--ck-widget-handler-animation-duration: 200ms;
	--ck-widget-handler-animation-curve: ease;

	--ck-color-widget-blurred-border: hsl(0, 0%, 87%);
	--ck-color-widget-hover-border: hsl(43, 100%, 62%);
	--ck-color-widget-editable-focus-background: var(--ck-color-base-background);
	--ck-color-widget-drag-handler-icon-color: var(--ck-color-base-background);
}

.ck .ck-widget {
	outline-width: var(--ck-widget-outline-thickness);
	outline-style: solid;
	outline-color: transparent;
	transition: outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline: var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border);
	}

	&:hover {
		outline-color: var(--ck-color-widget-hover-border);
	}
}

.ck .ck-editor__nested-editable {
	border: 1px solid transparent;

	/* The :focus style is applied before .ck-editor__nested-editable_focused class is rendered in the view.
	These styles show a different border for a blink of an eye, so \`:focus\` need to have same styles applied. */
	&.ck-editor__nested-editable_focused,
	&:focus {
		@mixin ck-focus-ring;
		@mixin ck-box-shadow var(--ck-inner-shadow);

		background-color: var(--ck-color-widget-editable-focus-background);
	}
}

.ck .ck-widget.ck-widget_with-selection-handle {
	& .ck-widget__selection-handle {
		padding: 4px;
		box-sizing: border-box;

		/* Background and opacity will be animated as the handler shows up or the widget gets selected. */
		background-color: transparent;
		opacity: 0;

		/* Transition:
		   * background-color for the .ck-widget_selected state change,
		   * visibility for hiding the handler,
		   * opacity for the proper look of the icon when the handler disappears. */
		transition:
			background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),
			opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		/* Make only top corners round. */
		border-radius: var(--ck-border-radius) var(--ck-border-radius) 0 0;

		/* Place the drag handler outside the widget wrapper. */
		transform: translateY(-100%);
		left: calc(0px - var(--ck-widget-outline-thickness));
		top: 0;

		& .ck-icon {
			/* Make sure the dimensions of the icon are independent of the fon-size of the content. */
			width: var(--ck-widget-handler-icon-size);
			height: var(--ck-widget-handler-icon-size);
			color: var(--ck-color-widget-drag-handler-icon-color);

			/* The "selected" part of the icon is invisible by default */
			& .ck-icon__selected-indicator {
				opacity: 0;

				/* Note: The animation is longer on purpose. Simply feels better. */
				transition: opacity 300ms var(--ck-widget-handler-animation-curve);
			}
		}

		/* Advertise using the look of the icon that once clicked the handler, the widget will be selected. */
		&:hover .ck-icon .ck-icon__selected-indicator {
			opacity: 1;
		}
	}

	/* Show the selection handler on mouse hover over the widget, but not for nested widgets. */
	&:hover > .ck-widget__selection-handle {
		opacity: 1;
		background-color: var(--ck-color-widget-hover-border);
	}

	/* Show the selection handler when the widget is selected, but not for nested widgets. */
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		& > .ck-widget__selection-handle {
			opacity: 1;
			background-color: var(--ck-color-focus-border);

			/* When the widget is selected, notify the user using the proper look of the icon. */
			& .ck-icon .ck-icon__selected-indicator {
				opacity: 1;
			}
		}
	}
}

/* In a RTL environment, align the selection handler to the right side of the widget */
/* stylelint-disable-next-line no-descending-specificity */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle {
	left: auto;
	right: calc(0px - var(--ck-widget-outline-thickness));
}

/* https://github.com/ckeditor/ckeditor5/issues/6415 */
.ck.ck-editor__editable.ck-read-only .ck-widget {
	/* Prevent the :hover outline from showing up because of the used outline-color transition. */
	transition: none;

	&:not(.ck-widget_selected) {
		/* Disable visual effects of hover/active widget when CKEditor is in readOnly mode.
		 * See: https://github.com/ckeditor/ckeditor5/issues/1261
		 *
		 * Leave the unit because this custom property is used in calc() by other features.
		 * See: https://github.com/ckeditor/ckeditor5/issues/6775
		 */
		--ck-widget-outline-thickness: 0px;
	}

	&.ck-widget_with-selection-handle {
		& .ck-widget__selection-handle,
		& .ck-widget__selection-handle:hover {
			background: var(--ck-color-widget-blurred-border);
		}
	}
}

/* Style the widget when it's selected but the editable it belongs to lost focus. */
/* stylelint-disable-next-line no-descending-specificity */
.ck.ck-editor__editable.ck-blurred .ck-widget {
	&.ck-widget_selected,
	&.ck-widget_selected:hover {
		outline-color: var(--ck-color-widget-blurred-border);

		&.ck-widget_with-selection-handle {
			& > .ck-widget__selection-handle,
			& > .ck-widget__selection-handle:hover {
				background: var(--ck-color-widget-blurred-border);
			}
		}
	}
}

.ck.ck-editor__editable > .ck-widget.ck-widget_with-selection-handle:first-child,
.ck.ck-editor__editable blockquote > .ck-widget.ck-widget_with-selection-handle:first-child {
	/* Do not crop selection handler if a widget is a first-child in the blockquote or in the root editable.
	In fact, anything with overflow: hidden.
	https://github.com/ckeditor/ckeditor5-block-quote/issues/28
	https://github.com/ckeditor/ckeditor5-widget/issues/44
	https://github.com/ckeditor/ckeditor5-widget/issues/66 */
	margin-top: calc(1em + var(--ck-widget-handler-icon-size));
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A visual style of focused element's border.
 */
@define-mixin ck-focus-ring {
	/* Disable native outline. */
	outline: none;
	border: var(--ck-focus-ring)
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

/**
 * A helper to combine multiple shadows.
 */
@define-mixin ck-box-shadow $shadowA, $shadowB: 0 0 {
	box-shadow: $shadowA, $shadowB;
}

/**
 * Gives an element a drop shadow so it looks like a floating panel.
 */
@define-mixin ck-drop-shadow {
	@mixin ck-box-shadow var(--ck-drop-shadow);
}
`],sourceRoot:""}]);const x=v},8506:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,".ck .ck-widget_with-resizer{position:relative}.ck .ck-widget__resizer{display:none;left:0;pointer-events:none;position:absolute;top:0}.ck-focused .ck-widget_with-resizer.ck-widget_selected>.ck-widget__resizer{display:block}.ck .ck-widget__resizer__handle{pointer-events:all;position:absolute}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{cursor:nwse-resize}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left,.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{cursor:nesw-resize}:root{--ck-resizer-size:10px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-border-width:1px}.ck .ck-widget__resizer{outline:1px solid var(--ck-color-resizer)}.ck .ck-widget__resizer__handle{background:var(--ck-color-focus-border);border:var(--ck-resizer-border-width) solid #fff;border-radius:var(--ck-resizer-border-radius);height:var(--ck-resizer-size);width:var(--ck-resizer-size)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-left{left:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-top-right{right:var(--ck-resizer-offset);top:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-right{bottom:var(--ck-resizer-offset);right:var(--ck-resizer-offset)}.ck .ck-widget__resizer__handle.ck-widget__resizer__handle-bottom-left{bottom:var(--ck-resizer-offset);left:var(--ck-resizer-offset)}","",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgetresize.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgetresize.css"],names:[],mappings:"AAKA,4BAEC,iBACD,CAEA,wBACC,YAAa,CAMb,MAAO,CAFP,mBAAoB,CAHpB,iBAAkB,CAMlB,KACD,CAGC,2EACC,aACD,CAGD,gCAIC,kBAAmB,CAHnB,iBAcD,CATC,4IAEC,kBACD,CAEA,4IAEC,kBACD,CCpCD,MACC,sBAAuB,CAGvB,yDAAiE,CACjE,6BACD,CAEA,wBACC,yCACD,CAEA,gCAGC,uCAAwC,CACxC,gDAA6D,CAC7D,6CAA8C,CAH9C,6BAA8B,CAD9B,4BAyBD,CAnBC,oEAEC,6BAA8B,CAD9B,4BAED,CAEA,qEAEC,8BAA+B,CAD/B,4BAED,CAEA,wEACC,+BAAgC,CAChC,8BACD,CAEA,uEACC,+BAAgC,CAChC,6BACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget_with-resizer {
	/* Make the widget wrapper a relative positioning container for the drag handle. */
	position: relative;
}

.ck .ck-widget__resizer {
	display: none;
	position: absolute;

	/* The wrapper itself should not interfere with the pointer device, only the handles should. */
	pointer-events: none;

	left: 0;
	top: 0;
}

.ck-focused .ck-widget_with-resizer.ck-widget_selected {
	& > .ck-widget__resizer {
		display: block;
	}
}

.ck .ck-widget__resizer__handle {
	position: absolute;

	/* Resizers are the only UI elements that should interfere with a pointer device. */
	pointer-events: all;

	&.ck-widget__resizer__handle-top-left,
	&.ck-widget__resizer__handle-bottom-right {
		cursor: nwse-resize;
	}

	&.ck-widget__resizer__handle-top-right,
	&.ck-widget__resizer__handle-bottom-left {
		cursor: nesw-resize;
	}
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-resizer-size: 10px;

	/* Set the resizer with a 50% offset. */
	--ck-resizer-offset: calc( ( var(--ck-resizer-size) / -2 ) - 2px);
	--ck-resizer-border-width: 1px;
}

.ck .ck-widget__resizer {
	outline: 1px solid var(--ck-color-resizer);
}

.ck .ck-widget__resizer__handle {
	width: var(--ck-resizer-size);
	height: var(--ck-resizer-size);
	background: var(--ck-color-focus-border);
	border: var(--ck-resizer-border-width) solid hsl(0, 0%, 100%);
	border-radius: var(--ck-resizer-border-radius);

	&.ck-widget__resizer__handle-top-left {
		top: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-top-right {
		top: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-right {
		bottom: var(--ck-resizer-offset);
		right: var(--ck-resizer-offset);
	}

	&.ck-widget__resizer__handle-bottom-left {
		bottom: var(--ck-resizer-offset);
		left: var(--ck-resizer-offset);
	}
}
`],sourceRoot:""}]);const x=v},4921:(p,b,m)=>{m.d(b,{Z:()=>x});var A=m(1799),E=m.n(A),C=m(2609),v=m.n(C)()(E());v.push([p.id,'.ck .ck-widget .ck-widget__type-around__button{display:block;overflow:hidden;position:absolute;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{left:50%;position:absolute;top:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{left:min(10%,30px);top:calc(var(--ck-widget-outline-thickness)*-.5);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(var(--ck-widget-outline-thickness)*-.5);right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;left:1px;position:absolute;top:1px;z-index:calc(var(--ck-z-default) + 1)}.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:none;left:0;position:absolute;right:0}.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__fake-caret{left:calc(var(--ck-widget-outline-thickness)*-1);right:calc(var(--ck-widget-outline-thickness)*-1)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__fake-caret{display:block;top:calc(var(--ck-widget-outline-thickness)*-1 - 1px)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__fake-caret{bottom:calc(var(--ck-widget-outline-thickness)*-1 - 1px);display:block}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around,.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button);border-radius:100px;height:var(--ck-widget-type-around-button-size);opacity:0;pointer-events:none;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);width:var(--ck-widget-type-around-button-size)}.ck .ck-widget .ck-widget__type-around__button svg{height:8px;margin-top:1px;transform:translate(-50%,-50%);transition:transform .5s ease;width:10px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:1;pointer-events:auto}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3));border-radius:100px;height:calc(var(--ck-widget-type-around-button-size) - 2px);width:calc(var(--ck-widget-type-around-button-size) - 2px)}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck .ck-widget .ck-widget__type-around__fake-caret{animation:ck-widget-type-around-fake-caret-pulse 1s linear infinite normal forwards;background:var(--ck-color-base-text);height:1px;outline:1px solid hsla(0,0%,100%,.5);pointer-events:none}.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_after,.ck .ck-widget.ck-widget_selected.ck-widget_type-around_show-fake-caret_before{outline-color:transparent}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected:hover,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_after.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_selected.ck-widget_with-resizer>.ck-widget__resizer,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected:hover>.ck-widget__selection-handle,.ck .ck-widget.ck-widget_type-around_show-fake-caret_before.ck-widget_with-selection-handle.ck-widget_selected>.ck-widget__selection-handle{opacity:0}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:0;margin-right:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{opacity:0;pointer-events:none}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}@keyframes ck-widget-type-around-fake-caret-pulse{0%{opacity:1}49%{opacity:1}50%{opacity:0}99%{opacity:0}to{opacity:1}}',"",{version:3,sources:["webpack://./../ckeditor5-widget/theme/widgettypearound.css","webpack://./../ckeditor5-theme-lark/theme/ckeditor5-widget/widgettypearound.css"],names:[],mappings:"AASC,+CACC,aAAc,CAEd,eAAgB,CADhB,iBAAkB,CAElB,2BAwBD,CAtBC,mDAGC,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAEA,qFAGC,kBAAoB,CADpB,gDAAoD,CAGpD,0BACD,CAEA,oFAEC,mDAAuD,CACvD,mBAAqB,CAErB,yBACD,CAUA,mLACC,UAAW,CACX,aAAc,CAGd,QAAS,CAFT,iBAAkB,CAClB,OAAQ,CAER,qCACD,CAMD,2EACC,YAAa,CAEb,MAAO,CADP,iBAAkB,CAElB,OACD,CAOA,iFACC,gDAAqD,CACrD,iDACD,CAKA,wHAEC,aAAc,CADd,qDAED,CAKA,uHACC,wDAA6D,CAC7D,aACD,CAoBD,mOACC,YACD,CC3GA,MACC,wCAAyC,CACzC,wEAAyE,CACzE,8EAA+E,CAC/E,2FAA4F,CAC5F,wDAAyD,CACzD,uDAAwD,CACxD,yEACD,CAgBC,+CAGC,oDAAqD,CACrD,mBAAoB,CAFpB,+CAAgD,CAVjD,SAAU,CACV,mBAAoB,CAYnB,uMAAyM,CAJzM,8CAkDD,CA1CC,mDAEC,UAAW,CAGX,cAAe,CAFf,8BAA+B,CAC/B,6BAA8B,CAH9B,UAoBD,CAdC,qDACC,mBAAoB,CACpB,mBAAoB,CAEpB,SAAU,CACV,qDAAsD,CACtD,kBAAmB,CACnB,oBAAqB,CACrB,qBACD,CAEA,wDACC,kBACD,CAGD,qDAIC,6DAcD,CARE,kEACC,oDACD,CAEA,8DACC,wDACD,CAUF,uKAvED,SAAU,CACV,mBAwEC,CAOD,gGACC,0DACD,CAOA,uKAEC,2DAQD,CANC,mLAIC,uEAAkF,CADlF,mBAAoB,CADpB,2DAA4D,CAD5D,0DAID,CAOD,8GACC,gBACD,CAKA,mDAGC,mFAAoF,CAOpF,oCAAqC,CARrC,UAAW,CAOX,oCAAwC,CARxC,mBAUD,CAOC,6JAEC,yBACD,CAUA,yKACC,iDACD,CAMA,uOAlJD,SAAU,CACV,mBAmJC,CAoBA,6yBACC,SACD,CASF,uHACC,aAAc,CACd,iBACD,CAYG,iRAlMF,SAAU,CACV,mBAmME,CAQH,kIACC,qEAKD,CAHC,wIACC,WACD,CAGD,4CACC,GACC,oBACD,CACA,OACC,mBACD,CACD,CAEA,gDACC,OACC,mBACD,CACA,OACC,mBACD,CACD,CAEA,8CACC,GACC,6HACD,CACA,IACC,6HACD,CACA,GACC,+HACD,CACD,CAEA,kDACC,GACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,IACC,SACD,CACA,GACC,SACD,CACD",sourcesContent:[`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		display: block;
		position: absolute;
		overflow: hidden;
		z-index: var(--ck-z-default);

		& svg {
			position: absolute;
			top: 50%;
			left: 50%;
			z-index: calc(var(--ck-z-default) + 2);
		}

		&.ck-widget__type-around__button_before {
			/* Place it in the middle of the outline */
			top: calc(-0.5 * var(--ck-widget-outline-thickness));
			left: min(10%, 30px);

			transform: translateY(-50%);
		}

		&.ck-widget__type-around__button_after {
			/* Place it in the middle of the outline */
			bottom: calc(-0.5 * var(--ck-widget-outline-thickness));
			right: min(10%, 30px);

			transform: translateY(50%);
		}
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		&::after {
			content: "";
			display: block;
			position: absolute;
			top: 1px;
			left: 1px;
			z-index: calc(var(--ck-z-default) + 1);
		}
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		display: none;
		position: absolute;
		left: 0;
		right: 0;
	}

	/*
	 * When the widget is hovered the "fake caret" would normally be narrower than the
	 * extra outline displayed around the widget. Let's extend the "fake caret" to match
	 * the full width of the widget.
	 */
	&:hover > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		left: calc( -1 * var(--ck-widget-outline-thickness) );
		right: calc( -1 * var(--ck-widget-outline-thickness) );
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed before the widget (backward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_before > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		top: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}

	/*
	 * Styles for the horizontal "fake caret" when it should be displayed after the widget (forward keyboard navigation).
	 */
	&.ck-widget_type-around_show-fake-caret_after > .ck-widget__type-around > .ck-widget__type-around__fake-caret {
		bottom: calc( -1 * var(--ck-widget-outline-thickness) - 1px );
		display: block;
	}
}

/*
 * Integration with the read-only mode of the editor.
 */
.ck.ck-editor__editable.ck-read-only .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the restricted editing mode (feature) of the editor.
 */
.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around {
	display: none;
}

/*
 * Integration with the #isEnabled property of the WidgetTypeAround plugin.
 */
.ck.ck-editor__editable.ck-widget__type-around_disabled .ck-widget__type-around {
	display: none;
}
`,`/*
 * Copyright (c) 2003-2023, CKSource Holding sp. z o.o. All rights reserved.
 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
 */

:root {
	--ck-widget-type-around-button-size: 20px;
	--ck-color-widget-type-around-button-active: var(--ck-color-focus-border);
	--ck-color-widget-type-around-button-hover: var(--ck-color-widget-hover-border);
	--ck-color-widget-type-around-button-blurred-editable: var(--ck-color-widget-blurred-border);
	--ck-color-widget-type-around-button-radar-start-alpha: 0;
	--ck-color-widget-type-around-button-radar-end-alpha: .3;
	--ck-color-widget-type-around-button-icon: var(--ck-color-base-background);
}

@define-mixin ck-widget-type-around-button-visible {
	opacity: 1;
	pointer-events: auto;
}

@define-mixin ck-widget-type-around-button-hidden {
	opacity: 0;
	pointer-events: none;
}

.ck .ck-widget {
	/*
	 * Styles of the type around buttons
	 */
	& .ck-widget__type-around__button {
		width: var(--ck-widget-type-around-button-size);
		height: var(--ck-widget-type-around-button-size);
		background: var(--ck-color-widget-type-around-button);
		border-radius: 100px;
		transition: opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve), background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);

		@mixin ck-widget-type-around-button-hidden;

		& svg {
			width: 10px;
			height: 8px;
			transform: translate(-50%,-50%);
			transition: transform .5s ease;
			margin-top: 1px;

			& * {
				stroke-dasharray: 10;
				stroke-dashoffset: 0;

				fill: none;
				stroke: var(--ck-color-widget-type-around-button-icon);
				stroke-width: 1.5px;
				stroke-linecap: round;
				stroke-linejoin: round;
			}

			& line {
				stroke-dasharray: 7;
			}
		}

		&:hover {
			/*
			 * Display the "sonar" around the button when hovered.
			 */
			animation: ck-widget-type-around-button-sonar 1s ease infinite;

			/*
			 * Animate active button's icon.
			 */
			& svg {
				& polyline {
					animation: ck-widget-type-around-arrow-dash 2s linear;
				}

				& line {
					animation: ck-widget-type-around-arrow-tip-dash 2s linear;
				}
			}
		}
	}

	/*
	 * Show type around buttons when the widget gets selected or being hovered.
	 */
	&.ck-widget_selected,
	&:hover {
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-visible;
		}
	}

	/*
	 * Styles for the buttons when the widget is NOT selected (but the buttons are visible
	 * and still can be hovered).
	 */
	&:not(.ck-widget_selected) > .ck-widget__type-around > .ck-widget__type-around__button {
		background: var(--ck-color-widget-type-around-button-hover);
	}

	/*
	 * Styles for the buttons when:
	 * - the widget is selected,
	 * - or the button is being hovered (regardless of the widget state).
	 */
	&.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button,
	& > .ck-widget__type-around > .ck-widget__type-around__button:hover {
		background: var(--ck-color-widget-type-around-button-active);

		&::after {
			width: calc(var(--ck-widget-type-around-button-size) - 2px);
			height: calc(var(--ck-widget-type-around-button-size) - 2px);
			border-radius: 100px;
			background: linear-gradient(135deg, hsla(0,0%,100%,0) 0%, hsla(0,0%,100%,.3) 100%);
		}
	}

	/*
	 * Styles for the "before" button when the widget has a selection handle. Because some space
	 * is consumed by the handle, the button must be moved slightly to the right to let it breathe.
	 */
	&.ck-widget_with-selection-handle > .ck-widget__type-around > .ck-widget__type-around__button_before {
		margin-left: 20px;
	}

	/*
	 * Styles for the horizontal "fake caret" which is displayed when the user navigates using the keyboard.
	 */
	& .ck-widget__type-around__fake-caret {
		pointer-events: none;
		height: 1px;
		animation: ck-widget-type-around-fake-caret-pulse linear 1s infinite normal forwards;

		/*
		 * The semi-transparent-outline+background combo improves the contrast
		 * when the background underneath the fake caret is dark.
		 */
		outline: solid 1px hsla(0, 0%, 100%, .5);
		background: var(--ck-color-base-text);
	}

	/*
	 * Styles of the widget when the "fake caret" is blinking (e.g. upon keyboard navigation).
	 * Despite the widget being physically selected in the model, its outline should disappear.
	 */
	&.ck-widget_selected {
		&.ck-widget_type-around_show-fake-caret_before,
		&.ck-widget_type-around_show-fake-caret_after {
			outline-color: transparent;
		}
	}

	&.ck-widget_type-around_show-fake-caret_before,
	&.ck-widget_type-around_show-fake-caret_after {
		/*
		 * When the "fake caret" is visible we simulate that the widget is not selected
		 * (despite being physically selected), so the outline color should be for the
		 * unselected widget.
		 */
		&.ck-widget_selected:hover {
			outline-color: var(--ck-color-widget-hover-border);
		}

		/*
		 * Styles of the type around buttons when the "fake caret" is blinking (e.g. upon keyboard navigation).
		 * In this state, the type around buttons would collide with the fake carets so they should disappear.
		 */
		& > .ck-widget__type-around > .ck-widget__type-around__button {
			@mixin ck-widget-type-around-button-hidden;
		}

		/*
		 * Fake horizontal caret integration with the selection handle. When the caret is visible, simply
		 * hide the handle because it intersects with the caret (and does not make much sense anyway).
		 */
		&.ck-widget_with-selection-handle {
			&.ck-widget_selected,
			&.ck-widget_selected:hover {
				& > .ck-widget__selection-handle {
					opacity: 0
				}
			}
		}

		/*
		 * Fake horizontal caret integration with the resize UI. When the caret is visible, simply
		 * hide the resize UI because it creates too much noise. It can be visible when the user
		 * hovers the widget, though.
		 */
		&.ck-widget_selected.ck-widget_with-resizer > .ck-widget__resizer {
			opacity: 0
		}
	}
}

/*
 * Styles for the "before" button when the widget has a selection handle in an RTL environment.
 * The selection handler is aligned to the right side of the widget so there is no need to create
 * additional space for it next to the "before" button.
 */
.ck[dir="rtl"] .ck-widget.ck-widget_with-selection-handle .ck-widget__type-around > .ck-widget__type-around__button_before {
	margin-left: 0;
	margin-right: 20px;
}

/*
 * Hide type around buttons when the widget is selected as a child of a selected
 * nested editable (e.g. mulit-cell table selection).
 *
 * See https://github.com/ckeditor/ckeditor5/issues/7263.
 */
.ck-editor__nested-editable.ck-editor__editable_selected {
	& .ck-widget {
		&.ck-widget_selected,
		&:hover {
			& > .ck-widget__type-around > .ck-widget__type-around__button {
				@mixin ck-widget-type-around-button-hidden;
			}
		}
	}
}

/*
 * Styles for the buttons when the widget is selected but the user clicked outside of the editor (blurred the editor).
 */
.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected > .ck-widget__type-around > .ck-widget__type-around__button:not(:hover) {
	background: var(--ck-color-widget-type-around-button-blurred-editable);

	& svg * {
		stroke: hsl(0,0%,60%);
	}
}

@keyframes ck-widget-type-around-arrow-dash {
	0% {
		stroke-dashoffset: 10;
	}
	20%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-arrow-tip-dash {
	0%, 20% {
		stroke-dashoffset: 7;
	}
	40%, 100% {
		stroke-dashoffset: 0;
	}
}

@keyframes ck-widget-type-around-button-sonar {
	0% {
		box-shadow: 0 0 0 0 hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
	50% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-end-alpha));
	}
	100% {
		box-shadow: 0 0 0 5px hsla(var(--ck-color-focus-border-coordinates), var(--ck-color-widget-type-around-button-radar-start-alpha));
	}
}

@keyframes ck-widget-type-around-fake-caret-pulse {
	0% {
		opacity: 1;
	}
	49% {
		opacity: 1;
	}
	50% {
		opacity: 0;
	}
	99% {
		opacity: 0;
	}
	100% {
		opacity: 1;
	}
}
`],sourceRoot:""}]);const x=v},2609:p=>{p.exports=function(b){var m=[];return m.toString=function(){return this.map(function(A){var E=b(A);return A[2]?"@media ".concat(A[2]," {").concat(E,"}"):E}).join("")},m.i=function(A,E,C){typeof A=="string"&&(A=[[null,A,""]]);var v={};if(C)for(var x=0;x<this.length;x++){var D=this[x][0];D!=null&&(v[D]=!0)}for(var M=0;M<A.length;M++){var L=[].concat(A[M]);C&&v[L[0]]||(E&&(L[2]?L[2]="".concat(E," and ").concat(L[2]):L[2]=E),m.push(L))}},m}},1799:p=>{function b(A,E){return function(C){if(Array.isArray(C))return C}(A)||function(C,v){var x=C&&(typeof Symbol<"u"&&C[Symbol.iterator]||C["@@iterator"]);if(x!=null){var D,M,L=[],R=!0,O=!1;try{for(x=x.call(C);!(R=(D=x.next()).done)&&(L.push(D.value),!v||L.length!==v);R=!0);}catch(z){O=!0,M=z}finally{try{R||x.return==null||x.return()}finally{if(O)throw M}}return L}}(A,E)||function(C,v){if(C){if(typeof C=="string")return m(C,v);var x=Object.prototype.toString.call(C).slice(8,-1);if(x==="Object"&&C.constructor&&(x=C.constructor.name),x==="Map"||x==="Set")return Array.from(C);if(x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x))return m(C,v)}}(A,E)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function m(A,E){(E==null||E>A.length)&&(E=A.length);for(var C=0,v=new Array(E);C<E;C++)v[C]=A[C];return v}p.exports=function(A){var E=b(A,4),C=E[1],v=E[3];if(!v)return C;if(typeof btoa=="function"){var x=btoa(unescape(encodeURIComponent(JSON.stringify(v)))),D="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(x),M="/*# ".concat(D," */"),L=v.sources.map(function(R){return"/*# sourceURL=".concat(v.sourceRoot||"").concat(R," */")});return[C].concat(L).concat([M]).join(`
`)}return[C].join(`
`)}},6062:(p,b,m)=>{var A,E=function(){return A===void 0&&(A=!!(window&&document&&document.all&&!window.atob)),A},C=function(){var K={};return function(j){if(K[j]===void 0){var q=document.querySelector(j);if(window.HTMLIFrameElement&&q instanceof window.HTMLIFrameElement)try{q=q.contentDocument.head}catch{q=null}K[j]=q}return K[j]}}(),v=[];function x(K){for(var j=-1,q=0;q<v.length;q++)if(v[q].identifier===K){j=q;break}return j}function D(K,j){for(var q={},Z=[],ke=0;ke<K.length;ke++){var ye=K[ke],Te=j.base?ye[0]+j.base:ye[0],be=q[Te]||0,Ae="".concat(Te," ").concat(be);q[Te]=be+1;var Ge=x(Ae),tt={css:ye[1],media:ye[2],sourceMap:ye[3]};Ge!==-1?(v[Ge].references++,v[Ge].updater(tt)):v.push({identifier:Ae,updater:Y(tt,j),references:1}),Z.push(Ae)}return Z}function M(K){var j=document.createElement("style"),q=K.attributes||{};if(q.nonce===void 0){var Z=m.nc;Z&&(q.nonce=Z)}if(Object.keys(q).forEach(function(ye){j.setAttribute(ye,q[ye])}),typeof K.insert=="function")K.insert(j);else{var ke=C(K.insert||"head");if(!ke)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ke.appendChild(j)}return j}var L,R=(L=[],function(K,j){return L[K]=j,L.filter(Boolean).join(`
`)});function O(K,j,q,Z){var ke=q?"":Z.media?"@media ".concat(Z.media," {").concat(Z.css,"}"):Z.css;if(K.styleSheet)K.styleSheet.cssText=R(j,ke);else{var ye=document.createTextNode(ke),Te=K.childNodes;Te[j]&&K.removeChild(Te[j]),Te.length?K.insertBefore(ye,Te[j]):K.appendChild(ye)}}function z(K,j,q){var Z=q.css,ke=q.media,ye=q.sourceMap;if(ke?K.setAttribute("media",ke):K.removeAttribute("media"),ye&&typeof btoa<"u"&&(Z+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ye))))," */")),K.styleSheet)K.styleSheet.cssText=Z;else{for(;K.firstChild;)K.removeChild(K.firstChild);K.appendChild(document.createTextNode(Z))}}var U=null,$=0;function Y(K,j){var q,Z,ke;if(j.singleton){var ye=$++;q=U||(U=M(j)),Z=O.bind(null,q,ye,!1),ke=O.bind(null,q,ye,!0)}else q=M(j),Z=z.bind(null,q,j),ke=function(){(function(Te){if(Te.parentNode===null)return!1;Te.parentNode.removeChild(Te)})(q)};return Z(K),function(Te){if(Te){if(Te.css===K.css&&Te.media===K.media&&Te.sourceMap===K.sourceMap)return;Z(K=Te)}else ke()}}p.exports=function(K,j){(j=j||{}).singleton||typeof j.singleton=="boolean"||(j.singleton=E());var q=D(K=K||[],j);return function(Z){if(Z=Z||[],Object.prototype.toString.call(Z)==="[object Array]"){for(var ke=0;ke<q.length;ke++){var ye=x(q[ke]);v[ye].references--}for(var Te=D(Z,j),be=0;be<q.length;be++){var Ae=x(q[be]);v[Ae].references===0&&(v[Ae].updater(),v.splice(Ae,1))}q=Te}}}}},s={};function u(p){var b=s[p];if(b!==void 0)return b.exports;var m=s[p]={id:p,exports:{}};return r[p](m,m.exports,u),m.exports}u.n=p=>{var b=p&&p.__esModule?()=>p.default:()=>p;return u.d(b,{a:b}),b},u.d=(p,b)=>{for(var m in b)u.o(b,m)&&!u.o(p,m)&&Object.defineProperty(p,m,{enumerable:!0,get:b[m]})},u.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),u.o=(p,b)=>Object.prototype.hasOwnProperty.call(p,b),u.nc=void 0;var h={};return(()=>{function p({emitter:a,activator:e,callback:i,contextElements:o}){a.listenTo(document,"mousedown",(l,c)=>{if(!e())return;const d=typeof c.composedPath=="function"?c.composedPath():[],f=typeof o=="function"?o():o;for(const g of f)if(g.contains(c.target)||d.includes(g))return;i()})}function b(a){return class extends a{disableCssTransitions(){this._isCssTransitionsDisabled=!0}enableCssTransitions(){this._isCssTransitionsDisabled=!1}constructor(...e){super(...e),this.set("_isCssTransitionsDisabled",!1),this.initializeCssTransitionDisablerMixin()}initializeCssTransitionDisablerMixin(){this.extendTemplate({attributes:{class:[this.bindTemplate.if("_isCssTransitionsDisabled","ck-transitions-disabled")]}})}}}function m({view:a}){a.listenTo(a.element,"submit",(e,i)=>{i.preventDefault(),a.fire("submit")},{useCapture:!0})}u.d(h,{default:()=>I_});const A=function(){try{return navigator.userAgent.toLowerCase()}catch{return""}}();var E;const C={isMac:v(A),isWindows:(E=A,E.indexOf("windows")>-1),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(A),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(A),isiOS:function(a){return!!a.match(/iphone|ipad/i)||v(a)&&navigator.maxTouchPoints>0}(A),isAndroid:function(a){return a.indexOf("android")>-1}(A),isBlink:function(a){return a.indexOf("chrome/")>-1&&a.indexOf("edge/")<0}(A),features:{isRegExpUnicodePropertySupported:function(){let a=!1;try{a="".search(new RegExp("[\\p{L}]","u"))===0}catch{}return a}()}};function v(a){return a.indexOf("macintosh")>-1}function x(a,e,i,o){i=i||function(g,k){return g===k};const l=Array.isArray(a)?a:Array.prototype.slice.call(a),c=Array.isArray(e)?e:Array.prototype.slice.call(e),d=function(g,k,w){const _=D(g,k,w);if(_===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};const y=M(g,_),I=M(k,_),T=D(y,I,w),S=g.length-T,B=k.length-T;return{firstIndex:_,lastIndexOld:S,lastIndexNew:B}}(l,c,i);return o?function(g,k){const{firstIndex:w,lastIndexOld:_,lastIndexNew:y}=g;if(w===-1)return Array(k).fill("equal");let I=[];return w>0&&(I=I.concat(Array(w).fill("equal"))),y-w>0&&(I=I.concat(Array(y-w).fill("insert"))),_-w>0&&(I=I.concat(Array(_-w).fill("delete"))),y<k&&(I=I.concat(Array(k-y).fill("equal"))),I}(d,c.length):function(g,k){const w=[],{firstIndex:_,lastIndexOld:y,lastIndexNew:I}=k;return I-_>0&&w.push({index:_,type:"insert",values:g.slice(_,I)}),y-_>0&&w.push({index:_+(I-_),type:"delete",howMany:y-_}),w}(c,d)}function D(a,e,i){for(let o=0;o<Math.max(a.length,e.length);o++)if(a[o]===void 0||e[o]===void 0||!i(a[o],e[o]))return o;return-1}function M(a,e){return a.slice(e).reverse()}function L(a,e,i){i=i||function(S,B){return S===B};const o=a.length,l=e.length;if(o>200||l>200||o+l>300)return L.fastDiff(a,e,i,!0);let c,d;if(l<o){const S=a;a=e,e=S,c="delete",d="insert"}else c="insert",d="delete";const f=a.length,g=e.length,k=g-f,w={},_={};function y(S){const B=(_[S-1]!==void 0?_[S-1]:-1)+1,V=_[S+1]!==void 0?_[S+1]:-1,H=B>V?-1:1;w[S+H]&&(w[S]=w[S+H].slice(0)),w[S]||(w[S]=[]),w[S].push(B>V?c:d);let Q=Math.max(B,V),le=Q-S;for(;le<f&&Q<g&&i(a[le],e[Q]);)le++,Q++,w[S].push("equal");return Q}let I,T=0;do{for(I=-T;I<k;I++)_[I]=y(I);for(I=k+T;I>k;I--)_[I]=y(I);_[k]=y(k),T++}while(_[k]!==g);return w[k].slice(1)}L.fastDiff=x;const R=function(){return function a(){a.called=!0}};class O{constructor(e,i){this.source=e,this.name=i,this.path=[],this.stop=R(),this.off=R()}}const z=new Array(256).fill("").map((a,e)=>("0"+e.toString(16)).slice(-2));function U(){const a=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,i=4294967296*Math.random()>>>0,o=4294967296*Math.random()>>>0;return"e"+z[a>>0&255]+z[a>>8&255]+z[a>>16&255]+z[a>>24&255]+z[e>>0&255]+z[e>>8&255]+z[e>>16&255]+z[e>>24&255]+z[i>>0&255]+z[i>>8&255]+z[i>>16&255]+z[i>>24&255]+z[o>>0&255]+z[o>>8&255]+z[o>>16&255]+z[o>>24&255]}const $={get(a="normal"){return typeof a!="number"?this[a]||this.normal:a},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5};function Y(a,e){const i=$.get(e.priority);for(let o=0;o<a.length;o++)if($.get(a[o].priority)<i)return void a.splice(o,0,e);a.push(e)}const K="https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html";class j extends Error{constructor(e,i,o){super(function(l,c){const d=new WeakSet,f=(w,_)=>{if(typeof _=="object"&&_!==null){if(d.has(_))return`[object ${_.constructor.name}]`;d.add(_)}return _},g=c?` ${JSON.stringify(c,f)}`:"",k=ke(l);return l+g+k}(e,o)),this.name="CKEditorError",this.context=i,this.data=o}is(e){return e==="CKEditorError"}static rethrowUnexpectedError(e,i){if(e.is&&e.is("CKEditorError"))throw e;const o=new j(e.message,i);throw o.stack=e.stack,o}}function q(a,e){console.warn(...ye(a,e))}function Z(a,e){console.error(...ye(a,e))}function ke(a){return`
Read more: ${K}#error-${a}`}function ye(a,e){const i=ke(a);return e?[a,e,i]:[a,i]}const Te="39.0.0",be=new Date(2023,7,2),Ae=typeof window=="object"?window:u.g;if(Ae.CKEDITOR_VERSION)throw new j("ckeditor-duplicated-modules",null);Ae.CKEDITOR_VERSION=Te;const Ge=Symbol("listeningTo"),tt=Symbol("emitterId"),ne=Symbol("delegations"),he=ce(Object);function ce(a){return a?class extends a{on(e,i,o){this.listenTo(this,e,i,o)}once(e,i,o){let l=!1;this.listenTo(this,e,(c,...d)=>{l||(l=!0,c.off(),i.call(this,c,...d))},o)}off(e,i){this.stopListening(this,e,i)}listenTo(e,i,o,l={}){let c,d;this[Ge]||(this[Ge]={});const f=this[Ge];Ke(e)||at(e);const g=Ke(e);(c=f[g])||(c=f[g]={emitter:e,callbacks:{}}),(d=c.callbacks[i])||(d=c.callbacks[i]=[]),d.push(o),function(k,w,_,y,I){w._addEventListener?w._addEventListener(_,y,I):k._addEventListener.call(w,_,y,I)}(this,e,i,o,l)}stopListening(e,i,o){const l=this[Ge];let c=e&&Ke(e);const d=l&&c?l[c]:void 0,f=d&&i?d.callbacks[i]:void 0;if(!(!l||e&&!d||i&&!f))if(o)Kt(this,e,i,o),f.indexOf(o)!==-1&&(f.length===1?delete d.callbacks[i]:Kt(this,e,i,o));else if(f){for(;o=f.pop();)Kt(this,e,i,o);delete d.callbacks[i]}else if(d){for(i in d.callbacks)this.stopListening(e,i);delete l[c]}else{for(c in l)this.stopListening(l[c].emitter);delete this[Ge]}}fire(e,...i){try{const o=e instanceof O?e:new O(this,e),l=o.name;let c=Rt(this,l);if(o.path.push(this),c){const f=[o,...i];c=Array.from(c);for(let g=0;g<c.length&&(c[g].callback.apply(this,f),o.off.called&&(delete o.off.called,this._removeEventListener(l,c[g].callback)),!o.stop.called);g++);}const d=this[ne];if(d){const f=d.get(l),g=d.get("*");f&&en(f,o,i),g&&en(g,o,i)}return o.return}catch(o){j.rethrowUnexpectedError(o,this)}}delegate(...e){return{to:(i,o)=>{this[ne]||(this[ne]=new Map),e.forEach(l=>{const c=this[ne].get(l);c?c.set(i,o):this[ne].set(l,new Map([[i,o]]))})}}}stopDelegating(e,i){if(this[ne])if(e)if(i){const o=this[ne].get(e);o&&o.delete(i)}else this[ne].delete(e);else this[ne].clear()}_addEventListener(e,i,o){(function(d,f){const g=Oi(d);if(g[f])return;let k=f,w=null;const _=[];for(;k!==""&&!g[k];)g[k]={callbacks:[],childEvents:[]},_.push(g[k]),w&&g[k].childEvents.push(w),w=k,k=k.substr(0,k.lastIndexOf(":"));if(k!==""){for(const y of _)y.callbacks=g[k].callbacks.slice();g[k].childEvents.push(w)}})(this,e);const l=_n(this,e),c={callback:i,priority:$.get(o.priority)};for(const d of l)Y(d,c)}_removeEventListener(e,i){const o=_n(this,e);for(const l of o)for(let c=0;c<l.length;c++)l[c].callback==i&&(l.splice(c,1),c--)}}:he}function at(a,e){a[tt]||(a[tt]=e||U())}function Ke(a){return a[tt]}function Oi(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function _n(a,e){const i=Oi(a)[e];if(!i)return[];let o=[i.callbacks];for(let l=0;l<i.childEvents.length;l++){const c=_n(a,i.childEvents[l]);o=o.concat(c)}return o}function Rt(a,e){let i;return a._events&&(i=a._events[e])&&i.callbacks.length?i.callbacks:e.indexOf(":")>-1?Rt(a,e.substr(0,e.lastIndexOf(":"))):null}function en(a,e,i){for(let[o,l]of a){l?typeof l=="function"&&(l=l(e.name)):l=e.name;const c=new O(e.source,l);c.path=[...e.path],o.fire(c,...i)}}function Kt(a,e,i,o){e._removeEventListener?e._removeEventListener(i,o):a._removeEventListener.call(e,i,o)}["on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{ce[a]=he.prototype[a]});const Ze=function(a){var e=typeof a;return a!=null&&(e=="object"||e=="function")},Wn=Symbol("observableProperties"),sr=Symbol("boundObservables"),Bs=Symbol("boundProperties"),Bi=Symbol("decoratedMethods"),Zh=Symbol("decoratedOriginal"),Jh=Xe(ce());function Xe(a){return a?class extends a{set(e,i){if(Ze(e))return void Object.keys(e).forEach(l=>{this.set(l,e[l])},this);Kc(this);const o=this[Wn];if(e in this&&!o.has(e))throw new j("observable-set-cannot-override",this);Object.defineProperty(this,e,{enumerable:!0,configurable:!0,get:()=>o.get(e),set(l){const c=o.get(e);let d=this.fire(`set:${e}`,e,l,c);d===void 0&&(d=l),c===d&&o.has(e)||(o.set(e,d),this.fire(`change:${e}`,e,d,c))}}),this[e]=i}bind(...e){if(!e.length||!Ls(e))throw new j("observable-bind-wrong-properties",this);if(new Set(e).size!==e.length)throw new j("observable-bind-duplicate-properties",this);Kc(this);const i=this[Bs];e.forEach(l=>{if(i.has(l))throw new j("observable-bind-rebind",this)});const o=new Map;return e.forEach(l=>{const c={property:l,to:[]};i.set(l,c),o.set(l,c)}),{to:zk,toMany:_o,_observable:this,_bindProperties:e,_to:[],_bindings:o}}unbind(...e){if(!this[Wn])return;const i=this[Bs],o=this[sr];if(e.length){if(!Ls(e))throw new j("observable-unbind-wrong-properties",this);e.forEach(l=>{const c=i.get(l);c&&(c.to.forEach(([d,f])=>{const g=o.get(d),k=g[f];k.delete(c),k.size||delete g[f],Object.keys(g).length||(o.delete(d),this.stopListening(d,"change"))}),i.delete(l))})}else o.forEach((l,c)=>{this.stopListening(c,"change")}),o.clear(),i.clear()}decorate(e){Kc(this);const i=this[e];if(!i)throw new j("observablemixin-cannot-decorate-undefined",this,{object:this,methodName:e});this.on(e,(o,l)=>{o.return=i.apply(this,l)}),this[e]=function(...o){return this.fire(e,o)},this[e][Zh]=i,this[Bi]||(this[Bi]=[]),this[Bi].push(e)}stopListening(e,i,o){if(!e&&this[Bi]){for(const l of this[Bi])this[l]=this[l][Zh];delete this[Bi]}super.stopListening(e,i,o)}}:Jh}function Kc(a){a[Wn]||(Object.defineProperty(a,Wn,{value:new Map}),Object.defineProperty(a,sr,{value:new Map}),Object.defineProperty(a,Bs,{value:new Map}))}function zk(...a){const e=function(...c){if(!c.length)throw new j("observable-bind-to-parse-error",null);const d={to:[]};let f;return typeof c[c.length-1]=="function"&&(d.callback=c.pop()),c.forEach(g=>{if(typeof g=="string")f.properties.push(g);else{if(typeof g!="object")throw new j("observable-bind-to-parse-error",null);f={observable:g,properties:[]},d.to.push(f)}}),d}(...a),i=Array.from(this._bindings.keys()),o=i.length;if(!e.callback&&e.to.length>1)throw new j("observable-bind-to-no-callback",this);if(o>1&&e.callback)throw new j("observable-bind-to-extra-callback",this);var l;e.to.forEach(c=>{if(c.properties.length&&c.properties.length!==o)throw new j("observable-bind-to-properties-length",this);c.properties.length||(c.properties=this._bindProperties)}),this._to=e.to,e.callback&&(this._bindings.get(i[0]).callback=e.callback),l=this._observable,this._to.forEach(c=>{const d=l[sr];let f;d.get(c.observable)||l.listenTo(c.observable,"change",(g,k)=>{f=d.get(c.observable)[k],f&&f.forEach(w=>{Xh(l,w.property)})})}),function(c){let d;c._bindings.forEach((f,g)=>{c._to.forEach(k=>{d=k.properties[f.callback?0:c._bindProperties.indexOf(g)],f.to.push([k.observable,d]),function(w,_,y,I){const T=w[sr],S=T.get(y),B=S||{};B[I]||(B[I]=new Set),B[I].add(_),S||T.set(y,B)}(c._observable,f,k.observable,d)})})}(this),this._bindProperties.forEach(c=>{Xh(this._observable,c)})}function _o(a,e,i){if(this._bindings.size>1)throw new j("observable-bind-to-many-not-one-binding",this);this.to(...function(o,l){const c=o.map(d=>[d,l]);return Array.prototype.concat.apply([],c)}(a,e),i)}function Ls(a){return a.every(e=>typeof e=="string")}function Xh(a,e){const i=a[Bs].get(e);let o;i.callback?o=i.callback.apply(a,i.to.map(l=>l[0][l[1]])):(o=i.to[0],o=o[0][o[1]]),Object.prototype.hasOwnProperty.call(a,e)?a[e]=o:a.set(e,o)}["set","bind","unbind","decorate","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Xe[a]=Jh.prototype[a]});class jk{constructor(){this._replacedElements=[]}replace(e,i){this._replacedElements.push({element:e,newElement:i}),e.style.display="none",i&&e.parentNode.insertBefore(i,e.nextSibling)}restore(){this._replacedElements.forEach(({element:e,newElement:i})=>{e.style.display="",i&&i.remove()}),this._replacedElements=[]}}function Qc(a){let e=0;for(const i of a)e++;return e}function un(a,e){const i=Math.min(a.length,e.length);for(let o=0;o<i;o++)if(a[o]!=e[o])return o;return a.length==e.length?"same":a.length<e.length?"prefix":"extension"}function An(a){return!(!a||!a[Symbol.iterator])}const Wa=typeof ns=="object"&&ns&&ns.Object===Object&&ns;var ef=typeof self=="object"&&self&&self.Object===Object&&self;const oi=Wa||ef||Function("return this")(),Ai=oi.Symbol;var ar=Object.prototype,Vk=ar.hasOwnProperty,Fk=ar.toString,zs=Ai?Ai.toStringTag:void 0;const Uk=function(a){var e=Vk.call(a,zs),i=a[zs];try{a[zs]=void 0;var o=!0}catch{}var l=Fk.call(a);return o&&(e?a[zs]=i:delete a[zs]),l};var Hk=Object.prototype.toString;const Wk=function(a){return Hk.call(a)};var tf=Ai?Ai.toStringTag:void 0;const lr=function(a){return a==null?a===void 0?"[object Undefined]":"[object Null]":tf&&tf in Object(a)?Uk(a):Wk(a)},yt=Array.isArray,tn=function(a){return a!=null&&typeof a=="object"},Ao=function(a){return typeof a=="string"||!yt(a)&&tn(a)&&lr(a)=="[object String]"};function nf(a,e,i={},o=[]){const l=i&&i.xmlns,c=l?a.createElementNS(l,e):a.createElement(e);for(const d in i)c.setAttribute(d,i[d]);!Ao(o)&&An(o)||(o=[o]);for(let d of o)Ao(d)&&(d=a.createTextNode(d)),c.appendChild(d);return c}const rf=function(a,e){return function(i){return a(e(i))}},Yc=rf(Object.getPrototypeOf,Object);var qk=Function.prototype,$k=Object.prototype,of=qk.toString,Gk=$k.hasOwnProperty,vo=of.call(Object);const vn=function(a){if(!tn(a)||lr(a)!="[object Object]")return!1;var e=Yc(a);if(e===null)return!0;var i=Gk.call(e,"constructor")&&e.constructor;return typeof i=="function"&&i instanceof i&&of.call(i)==vo},Kk=function(){this.__data__=[],this.size=0},js=function(a,e){return a===e||a!=a&&e!=e},Vr=function(a,e){for(var i=a.length;i--;)if(js(a[i][0],e))return i;return-1};var Qk=Array.prototype.splice;const Yk=function(a){var e=this.__data__,i=Vr(e,a);return!(i<0)&&(i==e.length-1?e.pop():Qk.call(e,i,1),--this.size,!0)},Zk=function(a){var e=this.__data__,i=Vr(e,a);return i<0?void 0:e[i][1]},Jk=function(a){return Vr(this.__data__,a)>-1},yo=function(a,e){var i=this.__data__,o=Vr(i,a);return o<0?(++this.size,i.push([a,e])):i[o][1]=e,this};function Co(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var o=a[e];this.set(o[0],o[1])}}Co.prototype.clear=Kk,Co.prototype.delete=Yk,Co.prototype.get=Zk,Co.prototype.has=Jk,Co.prototype.set=yo;const qa=Co,Eo=function(){this.__data__=new qa,this.size=0},Xk=function(a){var e=this.__data__,i=e.delete(a);return this.size=e.size,i},eb=function(a){return this.__data__.get(a)},sf=function(a){return this.__data__.has(a)},cr=function(a){if(!Ze(a))return!1;var e=lr(a);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Zc=oi["__core-js_shared__"];var Jc=function(){var a=/[^.]+$/.exec(Zc&&Zc.keys&&Zc.keys.IE_PROTO||"");return a?"Symbol(src)_1."+a:""}();const $a=function(a){return!!Jc&&Jc in a};var tb=Function.prototype.toString;const ur=function(a){if(a!=null){try{return tb.call(a)}catch{}try{return a+""}catch{}}return""};var af=/^\[object .+?Constructor\]$/,nb=Function.prototype,ib=Object.prototype,rb=nb.toString,Xc=ib.hasOwnProperty,ob=RegExp("^"+rb.call(Xc).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");const lf=function(a){return!(!Ze(a)||$a(a))&&(cr(a)?ob:af).test(ur(a))},cf=function(a,e){return a==null?void 0:a[e]},dr=function(a,e){var i=cf(a,e);return lf(i)?i:void 0},xo=dr(oi,"Map"),Vs=dr(Object,"create"),sb=function(){this.__data__=Vs?Vs(null):{},this.size=0},uf=function(a){var e=this.has(a)&&delete this.__data__[a];return this.size-=e?1:0,e};var ft=Object.prototype.hasOwnProperty;const ab=function(a){var e=this.__data__;if(Vs){var i=e[a];return i==="__lodash_hash_undefined__"?void 0:i}return ft.call(e,a)?e[a]:void 0};var eu=Object.prototype.hasOwnProperty;const df=function(a){var e=this.__data__;return Vs?e[a]!==void 0:eu.call(e,a)},Fs=function(a,e){var i=this.__data__;return this.size+=this.has(a)?0:1,i[a]=Vs&&e===void 0?"__lodash_hash_undefined__":e,this};function hr(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var o=a[e];this.set(o[0],o[1])}}hr.prototype.clear=sb,hr.prototype.delete=uf,hr.prototype.get=ab,hr.prototype.has=df,hr.prototype.set=Fs;const Fr=hr,hf=function(){this.size=0,this.__data__={hash:new Fr,map:new(xo||qa),string:new Fr}},lb=function(a){var e=typeof a;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?a!=="__proto__":a===null},Ga=function(a,e){var i=a.__data__;return lb(e)?i[typeof e=="string"?"string":"hash"]:i.map},ff=function(a){var e=Ga(this,a).delete(a);return this.size-=e?1:0,e},cb=function(a){return Ga(this,a).get(a)},tu=function(a){return Ga(this,a).has(a)},pf=function(a,e){var i=Ga(this,a),o=i.size;return i.set(a,e),this.size+=i.size==o?0:1,this};function Io(a){var e=-1,i=a==null?0:a.length;for(this.clear();++e<i;){var o=a[e];this.set(o[0],o[1])}}Io.prototype.clear=hf,Io.prototype.delete=ff,Io.prototype.get=cb,Io.prototype.has=tu,Io.prototype.set=pf;const Ka=Io,ub=function(a,e){var i=this.__data__;if(i instanceof qa){var o=i.__data__;if(!xo||o.length<199)return o.push([a,e]),this.size=++i.size,this;i=this.__data__=new Ka(o)}return i.set(a,e),this.size=i.size,this};function Ur(a){var e=this.__data__=new qa(a);this.size=e.size}Ur.prototype.clear=Eo,Ur.prototype.delete=Xk,Ur.prototype.get=eb,Ur.prototype.has=sf,Ur.prototype.set=ub;const Hr=Ur,db=function(a,e){for(var i=-1,o=a==null?0:a.length;++i<o&&e(a[i],i,a)!==!1;);return a},Qa=function(){try{var a=dr(Object,"defineProperty");return a({},"",{}),a}catch{}}(),nu=function(a,e,i){e=="__proto__"&&Qa?Qa(a,e,{configurable:!0,enumerable:!0,value:i,writable:!0}):a[e]=i};var hb=Object.prototype.hasOwnProperty;const Us=function(a,e,i){var o=a[e];hb.call(a,e)&&js(o,i)&&(i!==void 0||e in a)||nu(a,e,i)},To=function(a,e,i,o){var l=!i;i||(i={});for(var c=-1,d=e.length;++c<d;){var f=e[c],g=o?o(i[f],a[f],f,i,a):void 0;g===void 0&&(g=a[f]),l?nu(i,f,g):Us(i,f,g)}return i},gf=function(a,e){for(var i=-1,o=Array(a);++i<a;)o[i]=e(i);return o},iu=function(a){return tn(a)&&lr(a)=="[object Arguments]"};var ru=Object.prototype,mf=ru.hasOwnProperty,fb=ru.propertyIsEnumerable;const ou=iu(function(){return arguments}())?iu:function(a){return tn(a)&&mf.call(a,"callee")&&!fb.call(a,"callee")},pb=function(){return!1};var su=t&&!t.nodeType&&t,kf=su&&!0&&n&&!n.nodeType&&n,au=kf&&kf.exports===su?oi.Buffer:void 0;const Wr=(au?au.isBuffer:void 0)||pb;var gb=/^(?:0|[1-9]\d*)$/;const Ya=function(a,e){var i=typeof a;return!!(e=e??9007199254740991)&&(i=="number"||i!="symbol"&&gb.test(a))&&a>-1&&a%1==0&&a<e},Za=function(a){return typeof a=="number"&&a>-1&&a%1==0&&a<=9007199254740991};var lt={};lt["[object Float32Array]"]=lt["[object Float64Array]"]=lt["[object Int8Array]"]=lt["[object Int16Array]"]=lt["[object Int32Array]"]=lt["[object Uint8Array]"]=lt["[object Uint8ClampedArray]"]=lt["[object Uint16Array]"]=lt["[object Uint32Array]"]=!0,lt["[object Arguments]"]=lt["[object Array]"]=lt["[object ArrayBuffer]"]=lt["[object Boolean]"]=lt["[object DataView]"]=lt["[object Date]"]=lt["[object Error]"]=lt["[object Function]"]=lt["[object Map]"]=lt["[object Number]"]=lt["[object Object]"]=lt["[object RegExp]"]=lt["[object Set]"]=lt["[object String]"]=lt["[object WeakMap]"]=!1;const mb=function(a){return tn(a)&&Za(a.length)&&!!lt[lr(a)]},Ja=function(a){return function(e){return a(e)}};var bf=t&&!t.nodeType&&t,Hs=bf&&!0&&n&&!n.nodeType&&n,Ws=Hs&&Hs.exports===bf&&Wa.process;const fr=function(){try{var a=Hs&&Hs.require&&Hs.require("util").types;return a||Ws&&Ws.binding&&Ws.binding("util")}catch{}}();var Xa=fr&&fr.isTypedArray;const qs=Xa?Ja(Xa):mb;var wf=Object.prototype.hasOwnProperty;const lu=function(a,e){var i=yt(a),o=!i&&ou(a),l=!i&&!o&&Wr(a),c=!i&&!o&&!l&&qs(a),d=i||o||l||c,f=d?gf(a.length,String):[],g=f.length;for(var k in a)!e&&!wf.call(a,k)||d&&(k=="length"||l&&(k=="offset"||k=="parent")||c&&(k=="buffer"||k=="byteLength"||k=="byteOffset")||Ya(k,g))||f.push(k);return f};var _f=Object.prototype;const el=function(a){var e=a&&a.constructor;return a===(typeof e=="function"&&e.prototype||_f)},Af=rf(Object.keys,Object);var kb=Object.prototype.hasOwnProperty;const bb=function(a){if(!el(a))return Af(a);var e=[];for(var i in Object(a))kb.call(a,i)&&i!="constructor"&&e.push(i);return e},tl=function(a){return a!=null&&Za(a.length)&&!cr(a)},cu=function(a){return tl(a)?lu(a):bb(a)},wb=function(a,e){return a&&To(e,cu(e),a)},qr=function(a){var e=[];if(a!=null)for(var i in Object(a))e.push(i);return e};var uu=Object.prototype.hasOwnProperty;const _b=function(a){if(!Ze(a))return qr(a);var e=el(a),i=[];for(var o in a)(o!="constructor"||!e&&uu.call(a,o))&&i.push(o);return i},So=function(a){return tl(a)?lu(a,!0):_b(a)},vf=function(a,e){return a&&To(e,So(e),a)};var nl=t&&!t.nodeType&&t,yf=nl&&!0&&n&&!n.nodeType&&n,Cf=yf&&yf.exports===nl?oi.Buffer:void 0,Ef=Cf?Cf.allocUnsafe:void 0;const du=function(a,e){if(e)return a.slice();var i=a.length,o=Ef?Ef(i):new a.constructor(i);return a.copy(o),o},hu=function(a,e){var i=-1,o=a.length;for(e||(e=Array(o));++i<o;)e[i]=a[i];return e},Ab=function(a,e){for(var i=-1,o=a==null?0:a.length,l=0,c=[];++i<o;){var d=a[i];e(d,i,a)&&(c[l++]=d)}return c},xf=function(){return[]};var vb=Object.prototype.propertyIsEnumerable,fu=Object.getOwnPropertySymbols;const pu=fu?function(a){return a==null?[]:(a=Object(a),Ab(fu(a),function(e){return vb.call(a,e)}))}:xf,yb=function(a,e){return To(a,pu(a),e)},If=function(a,e){for(var i=-1,o=e.length,l=a.length;++i<o;)a[l+i]=e[i];return a},gu=Object.getOwnPropertySymbols?function(a){for(var e=[];a;)If(e,pu(a)),a=Yc(a);return e}:xf,Cb=function(a,e){return To(a,gu(a),e)},Tf=function(a,e,i){var o=e(a);return yt(a)?o:If(o,i(a))},il=function(a){return Tf(a,cu,pu)},Eb=function(a){return Tf(a,So,gu)},rl=dr(oi,"DataView"),ol=dr(oi,"Promise"),sl=dr(oi,"Set"),et=dr(oi,"WeakMap");var Sf="[object Map]",Df="[object Promise]",Mf="[object Set]",Pf="[object WeakMap]",mu="[object DataView]",xb=ur(rl),Ib=ur(xo),Tb=ur(ol),Sb=ur(sl),Nf=ur(et),si=lr;(rl&&si(new rl(new ArrayBuffer(1)))!=mu||xo&&si(new xo)!=Sf||ol&&si(ol.resolve())!=Df||sl&&si(new sl)!=Mf||et&&si(new et)!=Pf)&&(si=function(a){var e=lr(a),i=e=="[object Object]"?a.constructor:void 0,o=i?ur(i):"";if(o)switch(o){case xb:return mu;case Ib:return Sf;case Tb:return Df;case Sb:return Mf;case Nf:return Pf}return e});const Do=si;var Db=Object.prototype.hasOwnProperty;const Rf=function(a){var e=a.length,i=new a.constructor(e);return e&&typeof a[0]=="string"&&Db.call(a,"index")&&(i.index=a.index,i.input=a.input),i},$s=oi.Uint8Array,Gs=function(a){var e=new a.constructor(a.byteLength);return new $s(e).set(new $s(a)),e},ku=function(a,e){var i=e?Gs(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.byteLength)};var Mo=/\w*$/;const Mb=function(a){var e=new a.constructor(a.source,Mo.exec(a));return e.lastIndex=a.lastIndex,e};var P=Ai?Ai.prototype:void 0,N=P?P.valueOf:void 0;const F=function(a){return N?Object(N.call(a)):{}},W=function(a,e){var i=e?Gs(a.buffer):a.buffer;return new a.constructor(i,a.byteOffset,a.length)},ge=function(a,e,i){var o=a.constructor;switch(e){case"[object ArrayBuffer]":return Gs(a);case"[object Boolean]":case"[object Date]":return new o(+a);case"[object DataView]":return ku(a,i);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return W(a,i);case"[object Map]":case"[object Set]":return new o;case"[object Number]":case"[object String]":return new o(a);case"[object RegExp]":return Mb(a);case"[object Symbol]":return F(a)}};var Ce=Object.create;const Pe=function(){function a(){}return function(e){if(!Ze(e))return{};if(Ce)return Ce(e);a.prototype=e;var i=new a;return a.prototype=void 0,i}}(),De=function(a){return typeof a.constructor!="function"||el(a)?{}:Pe(Yc(a))},Ct=function(a){return tn(a)&&Do(a)=="[object Map]"};var pt=fr&&fr.isMap;const al=pt?Ja(pt):Ct,$r=function(a){return tn(a)&&Do(a)=="[object Set]"};var ai=fr&&fr.isSet;const Po=ai?Ja(ai):$r;var No="[object Arguments]",pr="[object Function]",qn="[object Object]",Le={};Le[No]=Le["[object Array]"]=Le["[object ArrayBuffer]"]=Le["[object DataView]"]=Le["[object Boolean]"]=Le["[object Date]"]=Le["[object Float32Array]"]=Le["[object Float64Array]"]=Le["[object Int8Array]"]=Le["[object Int16Array]"]=Le["[object Int32Array]"]=Le["[object Map]"]=Le["[object Number]"]=Le[qn]=Le["[object RegExp]"]=Le["[object Set]"]=Le["[object String]"]=Le["[object Symbol]"]=Le["[object Uint8Array]"]=Le["[object Uint8ClampedArray]"]=Le["[object Uint16Array]"]=Le["[object Uint32Array]"]=!0,Le["[object Error]"]=Le[pr]=Le["[object WeakMap]"]=!1;const dn=function a(e,i,o,l,c,d){var f,g=1&i,k=2&i,w=4&i;if(o&&(f=c?o(e,l,c,d):o(e)),f!==void 0)return f;if(!Ze(e))return e;var _=yt(e);if(_){if(f=Rf(e),!g)return hu(e,f)}else{var y=Do(e),I=y==pr||y=="[object GeneratorFunction]";if(Wr(e))return du(e,g);if(y==qn||y==No||I&&!c){if(f=k||I?{}:De(e),!g)return k?Cb(e,vf(f,e)):yb(e,wb(f,e))}else{if(!Le[y])return c?e:{};f=ge(e,y,g)}}d||(d=new Hr);var T=d.get(e);if(T)return T;d.set(e,f),Po(e)?e.forEach(function(B){f.add(a(B,i,o,B,e,d))}):al(e)&&e.forEach(function(B,V){f.set(V,a(B,i,o,V,e,d))});var S=_?void 0:(w?k?Eb:il:k?So:cu)(e);return db(S||e,function(B,V){S&&(B=e[V=B]),Us(f,V,a(B,i,o,V,e,d))}),f},li=function(a,e){return dn(a,5,e=typeof e=="function"?e:void 0)},Ln=function(a){return tn(a)&&a.nodeType===1&&!vn(a)};class FC{constructor(e,i){this._config={},i&&this.define(UC(i)),e&&this._setObjectToTarget(this._config,e)}set(e,i){this._setToTarget(this._config,e,i)}define(e,i){this._setToTarget(this._config,e,i,!0)}get(e){return this._getFromSource(this._config,e)}*names(){for(const e of Object.keys(this._config))yield e}_setToTarget(e,i,o,l=!1){if(vn(i))return void this._setObjectToTarget(e,i,l);const c=i.split(".");i=c.pop();for(const d of c)vn(e[d])||(e[d]={}),e=e[d];if(vn(o))return vn(e[i])||(e[i]={}),e=e[i],void this._setObjectToTarget(e,o,l);l&&e[i]!==void 0||(e[i]=o)}_getFromSource(e,i){const o=i.split(".");i=o.pop();for(const l of o){if(!vn(e[l])){e=null;break}e=e[l]}return e?UC(e[i]):void 0}_setObjectToTarget(e,i,o){Object.keys(i).forEach(l=>{this._setToTarget(e,l,i[l],o)})}}function UC(a){return li(a,eL)}function eL(a){return Ln(a)?a:void 0}function Ro(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}function Of(a){const e=Object.prototype.toString.apply(a);return e=="[object Window]"||e=="[object global]"}const HC=Oo(ce());function Oo(a){return a?class extends a{listenTo(e,i,o,l={}){if(Ro(e)||Of(e)){const c={capture:!!l.useCapture,passive:!!l.usePassive},d=this._getProxyEmitter(e,c)||new tL(e,c);this.listenTo(d,i,o,l)}else super.listenTo(e,i,o,l)}stopListening(e,i,o){if(Ro(e)||Of(e)){const l=this._getAllProxyEmitters(e);for(const c of l)this.stopListening(c,i,o)}else super.stopListening(e,i,o)}_getProxyEmitter(e,i){return function(o,l){const c=o[Ge];return c&&c[l]?c[l].emitter:null}(this,WC(e,i))}_getAllProxyEmitters(e){return[{capture:!1,passive:!1},{capture:!1,passive:!0},{capture:!0,passive:!1},{capture:!0,passive:!0}].map(i=>this._getProxyEmitter(e,i)).filter(i=>!!i)}}:HC}["_getProxyEmitter","_getAllProxyEmitters","on","once","off","listenTo","stopListening","fire","delegate","stopDelegating","_addEventListener","_removeEventListener"].forEach(a=>{Oo[a]=HC.prototype[a]});class tL extends ce(){constructor(e,i){super(),at(this,WC(e,i)),this._domNode=e,this._options=i}attach(e){if(this._domListeners&&this._domListeners[e])return;const i=this._createDomListener(e);this._domNode.addEventListener(e,i,this._options),this._domListeners||(this._domListeners={}),this._domListeners[e]=i}detach(e){let i;!this._domListeners[e]||(i=this._events[e])&&i.callbacks.length||this._domListeners[e].removeListener()}_addEventListener(e,i,o){this.attach(e),ce().prototype._addEventListener.call(this,e,i,o)}_removeEventListener(e,i){ce().prototype._removeEventListener.call(this,e,i),this.detach(e)}_createDomListener(e){const i=o=>{this.fire(e,o)};return i.removeListener=()=>{this._domNode.removeEventListener(e,i,this._options),delete this._domListeners[e]},i}}function WC(a,e){let i=function(o){return o["data-ck-expando"]||(o["data-ck-expando"]=U())}(a);for(const o of Object.keys(e).sort())e[o]&&(i+="-"+o);return i}let Pb;try{Pb={window,document}}catch{Pb={window:{},document:{}}}const Ne=Pb;function Nb(a){let e=a.parentElement;if(!e)return null;for(;e.tagName!="BODY";){const i=e.style.overflowY||Ne.window.getComputedStyle(e).overflowY;if(i==="auto"||i==="scroll")break;if(e=e.parentElement,!e)return null}return e}function Bf(a){return Object.prototype.toString.apply(a)=="[object Range]"}function qC(a){const e=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(e.borderTopWidth,10),right:parseInt(e.borderRightWidth,10),bottom:parseInt(e.borderBottomWidth,10),left:parseInt(e.borderLeftWidth,10)}}function Vt(a){return Object.prototype.toString.call(a)=="[object Text]"}const $C=["top","right","bottom","left","width","height"];class ct{constructor(e){const i=Bf(e);if(Object.defineProperty(this,"_source",{value:e._source||e,writable:!0,enumerable:!1}),KC(e)||i)if(i){const o=ct.getDomRangeRects(e);Lf(this,ct.getBoundingRect(o))}else Lf(this,e.getBoundingClientRect());else if(Of(e)){const{innerWidth:o,innerHeight:l}=e;Lf(this,{top:0,right:o,bottom:l,left:0,width:o,height:l})}else Lf(this,e)}clone(){return new ct(this)}moveTo(e,i){return this.top=i,this.right=e+this.width,this.bottom=i+this.height,this.left=e,this}moveBy(e,i){return this.top+=i,this.right+=e,this.left+=e,this.bottom+=i,this}getIntersection(e){const i={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left),width:0,height:0};return i.width=i.right-i.left,i.height=i.bottom-i.top,i.width<0||i.height<0?null:new ct(i)}getIntersectionArea(e){const i=this.getIntersection(e);return i?i.getArea():0}getArea(){return this.width*this.height}getVisible(){const e=this._source;let i=this.clone();if(GC(e))return i;let o,l=e,c=e.parentNode||e.commonAncestorContainer;for(;c&&!GC(c);){if(l instanceof HTMLElement&&QC(l)==="absolute"&&(o=l),o&&(QC(c)!=="relative"||(d=c).ownerDocument.defaultView.getComputedStyle(d).overflow==="visible")){l=c,c=c.parentNode;continue}const f=new ct(c),g=i.getIntersection(f);if(!g)return null;g.getArea()<i.getArea()&&(i=g),l=c,c=c.parentNode}var d;return i}isEqual(e){for(const i of $C)if(this[i]!==e[i])return!1;return!0}contains(e){const i=this.getIntersection(e);return!(!i||!i.isEqual(e))}excludeScrollbarsAndBorders(){const e=this._source;let i,o,l;if(Of(e))i=e.innerWidth-e.document.documentElement.clientWidth,o=e.innerHeight-e.document.documentElement.clientHeight,l=e.getComputedStyle(e.document.documentElement).direction;else{const c=qC(e);i=e.offsetWidth-e.clientWidth-c.left-c.right,o=e.offsetHeight-e.clientHeight-c.top-c.bottom,l=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=c.left,this.top+=c.top,this.right-=c.right,this.bottom-=c.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=i,l==="ltr"?this.right-=i:this.left+=i,this.height-=o,this.bottom-=o,this}static getDomRangeRects(e){const i=[],o=Array.from(e.getClientRects());if(o.length)for(const l of o)i.push(new ct(l));else{let l=e.startContainer;Vt(l)&&(l=l.parentNode);const c=new ct(l.getBoundingClientRect());c.right=c.left,c.width=0,i.push(c)}return i}static getBoundingRect(e){const i={left:Number.POSITIVE_INFINITY,top:Number.POSITIVE_INFINITY,right:Number.NEGATIVE_INFINITY,bottom:Number.NEGATIVE_INFINITY,width:0,height:0};let o=0;for(const l of e)o++,i.left=Math.min(i.left,l.left),i.top=Math.min(i.top,l.top),i.right=Math.max(i.right,l.right),i.bottom=Math.max(i.bottom,l.bottom);return o==0?null:(i.width=i.right-i.left,i.height=i.bottom-i.top,new ct(i))}}function Lf(a,e){for(const i of $C)a[i]=e[i]}function GC(a){return!!KC(a)&&a===a.ownerDocument.body}function KC(a){return a!==null&&typeof a=="object"&&a.nodeType===1&&typeof a.getBoundingClientRect=="function"}function QC(a){return a.ownerDocument.defaultView.getComputedStyle(a).position}const Ot=class{constructor(a,e){Ot._observerInstance||Ot._createObserver(),this._element=a,this._callback=e,Ot._addElementCallback(a,e),Ot._observerInstance.observe(a)}get element(){return this._element}destroy(){Ot._deleteElementCallback(this._element,this._callback)}static _addElementCallback(a,e){Ot._elementCallbacks||(Ot._elementCallbacks=new Map);let i=Ot._elementCallbacks.get(a);i||(i=new Set,Ot._elementCallbacks.set(a,i)),i.add(e)}static _deleteElementCallback(a,e){const i=Ot._getElementCallbacks(a);i&&(i.delete(e),i.size||(Ot._elementCallbacks.delete(a),Ot._observerInstance.unobserve(a))),Ot._elementCallbacks&&!Ot._elementCallbacks.size&&(Ot._observerInstance=null,Ot._elementCallbacks=null)}static _getElementCallbacks(a){return Ot._elementCallbacks?Ot._elementCallbacks.get(a):null}static _createObserver(){Ot._observerInstance=new Ne.window.ResizeObserver(a=>{for(const e of a){const i=Ot._getElementCallbacks(e.target);if(i)for(const o of i)o(e)}})}};let zf=Ot;function nL(a,e){a instanceof HTMLTextAreaElement&&(a.value=e),a.innerHTML=e}function Rb(a){return e=>e+a}function jf(a){let e=0;for(;a.previousSibling;)a=a.previousSibling,e++;return e}function YC(a,e,i){a.insertBefore(i,a.childNodes[e]||null)}function bu(a){return a&&a.nodeType===Node.COMMENT_NODE}function Ks(a){return!!(a&&a.getClientRects&&a.getClientRects().length)}zf._observerInstance=null,zf._elementCallbacks=null;var ZC=Math.pow;function JC({element:a,target:e,positions:i,limiter:o,fitInViewport:l,viewportOffsetConfig:c}){cr(e)&&(e=e()),cr(o)&&(o=o());const d=function(y){return y&&y.parentNode?y.offsetParent===Ne.document.body?null:y.offsetParent:null}(a),f=new ct(a),g=new ct(e);let k;const w=l&&function(y){y=Object.assign({top:0,bottom:0,left:0,right:0},y);const I=new ct(Ne.window);return I.top+=y.top,I.height-=y.top,I.bottom-=y.bottom,I.height-=y.bottom,I}(c)||null,_={targetRect:g,elementRect:f,positionedElementAncestor:d,viewportRect:w};if(o||l){const y=o&&new ct(o).getVisible();Object.assign(_,{limiterRect:y,viewportRect:w}),k=function(I,T){const{elementRect:S}=T,B=S.getArea(),V=I.map(le=>new Ob(le,T)).filter(le=>!!le.name);let H=0,Q=null;for(const le of V){const{limiterIntersectionArea:_e,viewportIntersectionArea:rt}=le;if(_e===B)return le;const je=ZC(rt,2)+ZC(_e,2);je>H&&(H=je,Q=le)}return Q}(i,_)||new Ob(i[0],_)}else k=new Ob(i[0],_);return k}function XC(a){const{scrollX:e,scrollY:i}=Ne.window;return a.clone().moveBy(e,i)}class Ob{constructor(e,i){const o=e(i.targetRect,i.elementRect,i.viewportRect);if(!o)return;const{left:l,top:c,name:d,config:f}=o;this.name=d,this.config=f,this._positioningFunctionCorrdinates={left:l,top:c},this._options=i}get left(){return this._absoluteRect.left}get top(){return this._absoluteRect.top}get limiterIntersectionArea(){const e=this._options.limiterRect;if(e){const i=this._options.viewportRect;if(!i)return e.getIntersectionArea(this._rect);{const o=e.getIntersection(i);if(o)return o.getIntersectionArea(this._rect)}}return 0}get viewportIntersectionArea(){const e=this._options.viewportRect;return e?e.getIntersectionArea(this._rect):0}get _rect(){return this._cachedRect||(this._cachedRect=this._options.elementRect.clone().moveTo(this._positioningFunctionCorrdinates.left,this._positioningFunctionCorrdinates.top)),this._cachedRect}get _absoluteRect(){return this._cachedAbsoluteRect||(this._cachedAbsoluteRect=XC(this._rect),this._options.positionedElementAncestor&&function(e,i){const o=XC(new ct(i)),l=qC(i);let c=0,d=0;c-=o.left,d-=o.top,c+=i.scrollLeft,d+=i.scrollTop,c-=l.left,d-=l.top,e.moveBy(c,d)}(this._cachedAbsoluteRect,this._options.positionedElementAncestor)),this._cachedAbsoluteRect}}function e1(a){const e=a.parentNode;e&&e.removeChild(a)}function iL({window:a,rect:e,alignToTop:i,forceScroll:o,viewportOffset:l}){const c=e.clone().moveBy(0,l.bottom),d=e.clone().moveBy(0,-l.top),f=new ct(a).excludeScrollbarsAndBorders(),g=i&&o,k=[d,c].every(T=>f.contains(T));let{scrollX:w,scrollY:_}=a;const y=w,I=_;g?_-=f.top-e.top+l.top:k||(n1(d,f)?_-=f.top-e.top+l.top:t1(c,f)&&(_+=i?e.top-f.top-l.top:e.bottom-f.bottom+l.bottom)),k||(i1(e,f)?w-=f.left-e.left+l.left:r1(e,f)&&(w+=e.right-f.right+l.right)),w==y&&_===I||a.scrollTo(w,_)}function rL({parent:a,getRect:e,alignToTop:i,forceScroll:o,ancestorOffset:l=0,limiterElement:c}){const d=Bb(a),f=i&&o;let g,k,w;const _=c||d.document.body;for(;a!=_;)k=e(),g=new ct(a).excludeScrollbarsAndBorders(),w=g.contains(k),f?a.scrollTop-=g.top-k.top+l:w||(n1(k,g)?a.scrollTop-=g.top-k.top+l:t1(k,g)&&(a.scrollTop+=i?k.top-g.top-l:k.bottom-g.bottom+l)),w||(i1(k,g)?a.scrollLeft-=g.left-k.left+l:r1(k,g)&&(a.scrollLeft+=k.right-g.right+l)),a=a.parentNode}function t1(a,e){return a.bottom>e.bottom}function n1(a,e){return a.top<e.top}function i1(a,e){return a.left<e.left}function r1(a,e){return a.right>e.right}function Bb(a){return Bf(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function oL(a){if(Bf(a)){let e=a.commonAncestorContainer;return Vt(e)&&(e=e.parentNode),e}return a.parentNode}function o1(a,e){const i=Bb(a),o=new ct(a);if(i===e)return o;{let l=i;for(;l!=e;){const c=l.frameElement,d=new ct(c).excludeScrollbarsAndBorders();o.moveBy(d.left,d.top),l=l.parent}}return o}const sL={ctrl:"",cmd:"",alt:"",shift:""},aL={ctrl:"Ctrl+",alt:"Alt+",shift:"Shift+"},Ue=function(){const a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,shift:2228224,alt:4456448,cmd:8912896};for(let e=65;e<=90;e++)a[String.fromCharCode(e).toLowerCase()]=e;for(let e=48;e<=57;e++)a[e-48]=e;for(let e=112;e<=123;e++)a["f"+(e-111)]=e;for(const e of"`-=[];',./\\")a[e]=e.charCodeAt(0);return a}(),lL=Object.fromEntries(Object.entries(Ue).map(([a,e])=>[e,a.charAt(0).toUpperCase()+a.slice(1)]));function ll(a){let e;if(typeof a=="string"){if(e=Ue[a.toLowerCase()],!e)throw new j("keyboard-unknown-key",null,{key:a})}else e=a.keyCode+(a.altKey?Ue.alt:0)+(a.ctrlKey?Ue.ctrl:0)+(a.shiftKey?Ue.shift:0)+(a.metaKey?Ue.cmd:0);return e}function Vf(a){return typeof a=="string"&&(a=function(e){return e.split("+").map(i=>i.trim())}(a)),a.map(e=>typeof e=="string"?function(i){if(i.endsWith("!"))return ll(i.slice(0,-1));const o=ll(i);return C.isMac&&o==Ue.ctrl?Ue.cmd:o}(e):e).reduce((e,i)=>i+e,0)}function s1(a){let e=Vf(a);return Object.entries(C.isMac?sL:aL).reduce((i,[o,l])=>(e&Ue[o]&&(e&=~Ue[o],i+=l),i),"")+(e?lL[e]:"")}function Lb(a,e){const i=e==="ltr";switch(a){case Ue.arrowleft:return i?"left":"right";case Ue.arrowright:return i?"right":"left";case Ue.arrowup:return"up";case Ue.arrowdown:return"down"}}function nn(a){return Array.isArray(a)?a:[a]}function cL(a,e,i=1){if(typeof i!="number")throw new j("translation-service-quantity-not-a-number",null,{quantity:i});const o=Object.keys(Ne.window.CKEDITOR_TRANSLATIONS).length;o===1&&(a=Object.keys(Ne.window.CKEDITOR_TRANSLATIONS)[0]);const l=e.id||e.string;if(o===0||!function(g,k){return!!Ne.window.CKEDITOR_TRANSLATIONS[g]&&!!Ne.window.CKEDITOR_TRANSLATIONS[g].dictionary[k]}(a,l))return i!==1?e.plural:e.string;const c=Ne.window.CKEDITOR_TRANSLATIONS[a].dictionary,d=Ne.window.CKEDITOR_TRANSLATIONS[a].getPluralForm||(g=>g===1?0:1),f=c[l];return typeof f=="string"?f:f[Number(d(i))]}Ne.window.CKEDITOR_TRANSLATIONS||(Ne.window.CKEDITOR_TRANSLATIONS={});const uL=["ar","ara","fa","per","fas","he","heb","ku","kur","ug","uig"];function a1(a){return uL.includes(a)?"rtl":"ltr"}class dL{constructor({uiLanguage:e="en",contentLanguage:i}={}){this.uiLanguage=e,this.contentLanguage=i||this.uiLanguage,this.uiLanguageDirection=a1(this.uiLanguage),this.contentLanguageDirection=a1(this.contentLanguage),this.t=(o,l)=>this._t(o,l)}get language(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}_t(e,i=[]){i=nn(i),typeof e=="string"&&(e={string:e});const o=e.plural?i[0]:1;return function(l,c){return l.replace(/%(\d+)/g,(d,f)=>f<c.length?c[f]:d)}(cL(this.uiLanguage,e,o),i)}}class Li extends ce(){constructor(e={},i={}){super();const o=An(e);if(o||(i=e),this._items=[],this._itemMap=new Map,this._idProperty=i.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],o)for(const l of e)this._items.push(l),this._itemMap.set(this._getItemIdBeforeAdding(l),l)}get length(){return this._items.length}get first(){return this._items[0]||null}get last(){return this._items[this.length-1]||null}add(e,i){return this.addMany([e],i)}addMany(e,i){if(i===void 0)i=this._items.length;else if(i>this._items.length||i<0)throw new j("collection-add-item-invalid-index",this);let o=0;for(const l of e){const c=this._getItemIdBeforeAdding(l),d=i+o;this._items.splice(d,0,l),this._itemMap.set(c,l),this.fire("add",l,d),o++}return this.fire("change",{added:e,removed:[],index:i}),this}get(e){let i;if(typeof e=="string")i=this._itemMap.get(e);else{if(typeof e!="number")throw new j("collection-get-invalid-arg",this);i=this._items[e]}return i||null}has(e){if(typeof e=="string")return this._itemMap.has(e);{const i=e[this._idProperty];return i&&this._itemMap.has(i)}}getIndex(e){let i;return i=typeof e=="string"?this._itemMap.get(e):e,i?this._items.indexOf(i):-1}remove(e){const[i,o]=this._remove(e);return this.fire("change",{added:[],removed:[i],index:o}),i}map(e,i){return this._items.map(e,i)}find(e,i){return this._items.find(e,i)}filter(e,i){return this._items.filter(e,i)}clear(){this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);const e=Array.from(this._items);for(;this.length;)this._remove(0);this.fire("change",{added:[],removed:e,index:0})}bindTo(e){if(this._bindToCollection)throw new j("collection-bind-to-rebind",this);return this._bindToCollection=e,{as:i=>{this._setUpBindToBinding(o=>new i(o))},using:i=>{typeof i=="function"?this._setUpBindToBinding(i):this._setUpBindToBinding(o=>o[i])}}}_setUpBindToBinding(e){const i=this._bindToCollection,o=(l,c,d)=>{const f=i._bindToCollection==this,g=i._bindToInternalToExternalMap.get(c);if(f&&g)this._bindToExternalToInternalMap.set(c,g),this._bindToInternalToExternalMap.set(g,c);else{const k=e(c);if(!k)return void this._skippedIndexesFromExternal.push(d);let w=d;for(const _ of this._skippedIndexesFromExternal)d>_&&w--;for(const _ of i._skippedIndexesFromExternal)w>=_&&w++;this._bindToExternalToInternalMap.set(c,k),this._bindToInternalToExternalMap.set(k,c),this.add(k,w);for(let _=0;_<i._skippedIndexesFromExternal.length;_++)w<=i._skippedIndexesFromExternal[_]&&i._skippedIndexesFromExternal[_]++}};for(const l of i)o(0,l,i.getIndex(l));this.listenTo(i,"add",o),this.listenTo(i,"remove",(l,c,d)=>{const f=this._bindToExternalToInternalMap.get(c);f&&this.remove(f),this._skippedIndexesFromExternal=this._skippedIndexesFromExternal.reduce((g,k)=>(d<k&&g.push(k-1),d>k&&g.push(k),g),[])})}_getItemIdBeforeAdding(e){const i=this._idProperty;let o;if(i in e){if(o=e[i],typeof o!="string")throw new j("collection-add-invalid-id",this);if(this.get(o))throw new j("collection-add-item-already-exists",this)}else e[i]=o=U();return o}_remove(e){let i,o,l,c=!1;const d=this._idProperty;if(typeof e=="string"?(o=e,l=this._itemMap.get(o),c=!l,l&&(i=this._items.indexOf(l))):typeof e=="number"?(i=e,l=this._items[i],c=!l,l&&(o=l[d])):(l=e,o=l[d],i=this._items.indexOf(l),c=i==-1||!this._itemMap.get(o)),c)throw new j("collection-remove-404",this);this._items.splice(i,1),this._itemMap.delete(o);const f=this._bindToInternalToExternalMap.get(l);return this._bindToInternalToExternalMap.delete(l),this._bindToExternalToInternalMap.delete(f),this.fire("remove",l,i),[l,i]}[Symbol.iterator](){return this._items[Symbol.iterator]()}}function Ft(a){const e=a.next();return e.done?null:e.value}class vi extends Oo(Xe()){constructor(){super(),this._elements=new Set,this._nextEventLoopTimeout=null,this.set("isFocused",!1),this.set("focusedElement",null)}add(e){if(this._elements.has(e))throw new j("focustracker-add-element-already-exist",this);this.listenTo(e,"focus",()=>this._focus(e),{useCapture:!0}),this.listenTo(e,"blur",()=>this._blur(),{useCapture:!0}),this._elements.add(e)}remove(e){e===this.focusedElement&&this._blur(),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}destroy(){this.stopListening()}_focus(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}_blur(){clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(()=>{this.focusedElement=null,this.isFocused=!1},0)}}class gr{constructor(){this._listener=new(Oo())}listenTo(e){this._listener.listenTo(e,"keydown",(i,o)=>{this._listener.fire("_keydown:"+ll(o),o)})}set(e,i,o={}){const l=Vf(e),c=o.priority;this._listener.listenTo(this._listener,"_keydown:"+l,(d,f)=>{i(f,()=>{f.preventDefault(),f.stopPropagation(),d.stop()}),d.return=!0},{priority:c})}press(e){return!!this._listener.fire("_keydown:"+ll(e),e)}stopListening(e){this._listener.stopListening(e)}destroy(){this.stopListening()}}function mr(a){return An(a)?new Map(a):function(e){const i=new Map;for(const o in e)i.set(o,e[o]);return i}(a)}function zb(a,e){let i;function o(...l){o.cancel(),i=setTimeout(()=>a(...l),e)}return o.cancel=()=>{clearTimeout(i)},o}function jb(a,e){return!!(i=a.charAt(e-1))&&i.length==1&&/[\ud800-\udbff]/.test(i)&&function(o){return!!o&&o.length==1&&/[\udc00-\udfff]/.test(o)}(a.charAt(e));var i}function Vb(a,e){return!!(i=a.charAt(e))&&i.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(i);var i}const hL=function(){const a=[new RegExp("\\p{Emoji}[\\u{E0020}-\\u{E007E}]+\\u{E007F}","u"),new RegExp("\\p{Emoji}\\u{FE0F}?\\u{20E3}","u"),new RegExp("\\p{Emoji}\\u{FE0F}","u"),new RegExp("(?=\\p{General_Category=Other_Symbol})\\p{Emoji}\\p{Emoji_Modifier}*","u")],e=new RegExp("\\p{Regional_Indicator}{2}","u").source,i="(?:"+a.map(o=>o.source).join("|")+")";return new RegExp(`${e}|${i}(?:${i})*`,"ug")}();function l1(a,e){const i=String(a).matchAll(hL);return Array.from(i).some(o=>o.index<e&&e<o.index+o[0].length)}class Bo extends Li{constructor(e=[]){super(e,{idProperty:"viewUid"}),this.on("add",(i,o,l)=>{this._renderViewIntoCollectionParent(o,l)}),this.on("remove",(i,o)=>{o.element&&this._parentElement&&o.element.remove()}),this._parentElement=null}destroy(){this.map(e=>e.destroy())}setParent(e){this._parentElement=e;for(const i of this)this._renderViewIntoCollectionParent(i)}delegate(...e){if(!e.length||!e.every(i=>typeof i=="string"))throw new j("ui-viewcollection-delegate-wrong-events",this);return{to:i=>{for(const o of this)for(const l of e)o.delegate(l).to(i);this.on("add",(o,l)=>{for(const c of e)l.delegate(c).to(i)}),this.on("remove",(o,l)=>{for(const c of e)l.stopDelegating(c,i)})}}}_renderViewIntoCollectionParent(e,i){e.isRendered||e.render(),e.element&&this._parentElement&&this._parentElement.insertBefore(e.element,this._parentElement.children[i])}remove(e){return super.remove(e)}}var fL=u(6062),de=u.n(fL),c1=u(4793),pL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(c1.Z,pL),c1.Z.locals;class ze extends Oo(Xe()){constructor(e){super(),this.element=null,this.isRendered=!1,this.locale=e,this.t=e&&e.t,this._viewCollections=new Li,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",(i,o)=>{o.locale=e,o.t=e&&e.t}),this.decorate("render")}get bindTemplate(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=zi.bind(this,this)}createCollection(e){const i=new Bo(e);return this._viewCollections.add(i),i}registerChild(e){An(e)||(e=[e]);for(const i of e)this._unboundChildren.add(i)}deregisterChild(e){An(e)||(e=[e]);for(const i of e)this._unboundChildren.remove(i)}setTemplate(e){this.template=new zi(e)}extendTemplate(e){zi.extend(this.template,e)}render(){if(this.isRendered)throw new j("ui-view-render-already-rendered",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}destroy(){this.stopListening(),this._viewCollections.map(e=>e.destroy()),this.template&&this.template._revertData&&this.template.revert(this.element)}}class zi extends ce(){constructor(e){super(),Object.assign(this,f1(h1(e))),this._isRendered=!1,this._revertData=null}render(){const e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}apply(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,intoFragment:!1,isApplying:!0,revertData:this._revertData}),e}revert(e){if(!this._revertData)throw new j("ui-template-revert-not-applied",[this,e]);this._revertTemplateFromNode(e,this._revertData)}*getViews(){yield*function*e(i){if(i.children)for(const o of i.children)Uf(o)?yield o:Fb(o)&&(yield*e(o))}(this)}static bind(e,i){return{to:(o,l)=>new gL({eventNameOrFunction:o,attribute:o,observable:e,emitter:i,callback:l}),if:(o,l,c)=>new u1({observable:e,emitter:i,attribute:o,valueIfTrue:l,callback:c})}}static extend(e,i){if(e._isRendered)throw new j("template-extend-render",[this,e]);k1(e,f1(h1(i)))}_renderNode(e){let i;if(i=e.node?this.tag&&this.text:this.tag?this.text:!this.text,i)throw new j("ui-template-wrong-syntax",this);return this.text?this._renderText(e):this._renderElement(e)}_renderElement(e){let i=e.node;return i||(i=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),i}_renderText(e){let i=e.node;return i?e.revertData.text=i.textContent:i=e.node=document.createTextNode(""),Ff(this.text)?this._bindToObservable({schema:this.text,updater:mL(i),data:e}):i.textContent=this.text.join(""),i}_renderAttributes(e){if(!this.attributes)return;const i=e.node,o=e.revertData;for(const l in this.attributes){const c=i.getAttribute(l),d=this.attributes[l];o&&(o.attributes[l]=c);const f=b1(d)?d[0].ns:null;if(Ff(d)){const g=b1(d)?d[0].value:d;o&&w1(l)&&g.unshift(c),this._bindToObservable({schema:g,updater:kL(i,l,f),data:e})}else if(l=="style"&&typeof d[0]!="string")this._renderStyleAttribute(d[0],e);else{o&&c&&w1(l)&&d.unshift(c);const g=d.map(k=>k&&k.value||k).reduce((k,w)=>k.concat(w),[]).reduce(g1,"");cl(g)||i.setAttributeNS(f,l,g)}}}_renderStyleAttribute(e,i){const o=i.node;for(const l in e){const c=e[l];Ff(c)?this._bindToObservable({schema:[c],updater:bL(o,l),data:i}):o.style[l]=c}}_renderElementChildren(e){const i=e.node,o=e.intoFragment?document.createDocumentFragment():i,l=e.isApplying;let c=0;for(const d of this.children)if(Ub(d)){if(!l){d.setParent(i);for(const f of d)o.appendChild(f.element)}}else if(Uf(d))l||(d.isRendered||d.render(),o.appendChild(d.element));else if(Ro(d))o.appendChild(d);else if(l){const f={children:[],bindings:[],attributes:{}};e.revertData.children.push(f),d._renderNode({intoFragment:!1,node:o.childNodes[c++],isApplying:!0,revertData:f})}else o.appendChild(d.render());e.intoFragment&&i.appendChild(o)}_setUpListeners(e){if(this.eventListeners)for(const i in this.eventListeners){const o=this.eventListeners[i].map(l=>{const[c,d]=i.split("@");return l.activateDomEventListener(c,d,e)});e.revertData&&e.revertData.bindings.push(o)}}_bindToObservable({schema:e,updater:i,data:o}){const l=o.revertData;d1(e,i,o);const c=e.filter(d=>!cl(d)).filter(d=>d.observable).map(d=>d.activateAttributeListener(e,i,o));l&&l.bindings.push(c)}_revertTemplateFromNode(e,i){for(const l of i.bindings)for(const c of l)c();if(i.text)return void(e.textContent=i.text);const o=e;for(const l in i.attributes){const c=i.attributes[l];c===null?o.removeAttribute(l):o.setAttribute(l,c)}for(let l=0;l<i.children.length;++l)this._revertTemplateFromNode(o.childNodes[l],i.children[l])}}class wu{constructor(e){this.attribute=e.attribute,this.observable=e.observable,this.emitter=e.emitter,this.callback=e.callback}getValue(e){const i=this.observable[this.attribute];return this.callback?this.callback(i,e):i}activateAttributeListener(e,i,o){const l=()=>d1(e,i,o);return this.emitter.listenTo(this.observable,`change:${this.attribute}`,l),()=>{this.emitter.stopListening(this.observable,`change:${this.attribute}`,l)}}}class gL extends wu{constructor(e){super(e),this.eventNameOrFunction=e.eventNameOrFunction}activateDomEventListener(e,i,o){const l=(c,d)=>{i&&!d.target.matches(i)||(typeof this.eventNameOrFunction=="function"?this.eventNameOrFunction(d):this.observable.fire(this.eventNameOrFunction,d))};return this.emitter.listenTo(o.node,e,l),()=>{this.emitter.stopListening(o.node,e,l)}}}class u1 extends wu{constructor(e){super(e),this.valueIfTrue=e.valueIfTrue}getValue(e){return!cl(super.getValue(e))&&(this.valueIfTrue||!0)}}function Ff(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Ff):a instanceof wu)}function d1(a,e,{node:i}){const o=function(c,d){return c.map(f=>f instanceof wu?f.getValue(d):f)}(a,i);let l;l=a.length==1&&a[0]instanceof u1?o[0]:o.reduce(g1,""),cl(l)?e.remove():e.set(l)}function mL(a){return{set(e){a.textContent=e},remove(){a.textContent=""}}}function kL(a,e,i){return{set(o){a.setAttributeNS(i,e,o)},remove(){a.removeAttributeNS(i,e)}}}function bL(a,e){return{set(i){a.style[e]=i},remove(){a.style[e]=null}}}function h1(a){return li(a,e=>{if(e&&(e instanceof wu||Fb(e)||Uf(e)||Ub(e)))return e})}function f1(a){if(typeof a=="string"?a=function(e){return{text:[e]}}(a):a.text&&function(e){e.text=nn(e.text)}(a),a.on&&(a.eventListeners=function(e){for(const i in e)p1(e,i);return e}(a.on),delete a.on),!a.text){a.attributes&&function(i){for(const o in i)i[o].value&&(i[o].value=nn(i[o].value)),p1(i,o)}(a.attributes);const e=[];if(a.children)if(Ub(a.children))e.push(a.children);else for(const i of a.children)Fb(i)||Uf(i)||Ro(i)?e.push(i):e.push(new zi(i));a.children=e}return a}function p1(a,e){a[e]=nn(a[e])}function g1(a,e){return cl(e)?a:cl(a)?e:`${a} ${e}`}function m1(a,e){for(const i in e)a[i]?a[i].push(...e[i]):a[i]=e[i]}function k1(a,e){if(e.attributes&&(a.attributes||(a.attributes={}),m1(a.attributes,e.attributes)),e.eventListeners&&(a.eventListeners||(a.eventListeners={}),m1(a.eventListeners,e.eventListeners)),e.text&&a.text.push(...e.text),e.children&&e.children.length){if(a.children.length!=e.children.length)throw new j("ui-template-extend-children-mismatch",a);let i=0;for(const o of e.children)k1(a.children[i++],o)}}function cl(a){return!a&&a!==0}function Uf(a){return a instanceof ze}function Fb(a){return a instanceof zi}function Ub(a){return a instanceof Bo}function b1(a){return Ze(a[0])&&a[0].ns}function w1(a){return a=="class"||a=="style"}class wL extends Bo{constructor(e,i=[]){super(i),this.locale=e}get bodyCollectionContainer(){return this._bodyCollectionContainer}attachToDom(){this._bodyCollectionContainer=new zi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();let e=document.querySelector(".ck-body-wrapper");e||(e=nf(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(e)),e.appendChild(this._bodyCollectionContainer)}detachFromDom(){super.destroy(),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();const e=document.querySelector(".ck-body-wrapper");e&&e.childElementCount==0&&e.remove()}}var _1=u(6574),_L={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(_1.Z,_L),_1.Z.locals;const A1=class extends ze{constructor(){super();const a=this.bindTemplate;this.set("content",""),this.set("viewBox","0 0 20 20"),this.set("fillColor",""),this.set("isColorInherited",!0),this.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon","ck-reset_all-excluded",a.if("isColorInherited","ck-icon_inherit-color")],viewBox:a.to("viewBox")}})}render(){super.render(),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",()=>{this._updateXMLContent(),this._colorFillPaths()}),this.on("change:fillColor",()=>{this._colorFillPaths()})}_updateXMLContent(){if(this.content){const a=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),e=a.getAttribute("viewBox");e&&(this.viewBox=e);for(const{name:i,value:o}of Array.from(a.attributes))A1.presentationalAttributeNames.includes(i)&&this.element.setAttribute(i,o);for(;this.element.firstChild;)this.element.removeChild(this.element.firstChild);for(;a.childNodes.length>0;)this.element.appendChild(a.childNodes[0])}}_colorFillPaths(){this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(a=>{a.style.fill=this.fillColor})}};let ul=A1;ul.presentationalAttributeNames=["alignment-baseline","baseline-shift","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-rendering","cursor","direction","display","dominant-baseline","fill","fill-opacity","fill-rule","filter","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","image-rendering","letter-spacing","lighting-color","marker-end","marker-mid","marker-start","mask","opacity","overflow","paint-order","pointer-events","shape-rendering","stop-color","stop-opacity","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-anchor","text-decoration","text-overflow","text-rendering","transform","unicode-bidi","vector-effect","visibility","white-space","word-spacing","writing-mode"];var v1=u(4906),AL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(v1.Z,AL),v1.Z.locals;class gt extends ze{constructor(e){super(e),this._focusDelayed=null;const i=this.bindTemplate,o=U();this.set("ariaChecked",void 0),this.set("ariaLabel",void 0),this.set("ariaLabelledBy",`ck-editor__aria-label_${o}`),this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isVisible",!0),this.set("isToggleable",!1),this.set("keystroke",void 0),this.set("label",void 0),this.set("role",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.set("withKeystroke",!1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.iconView=new ul,this.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),this.keystrokeView=this._createKeystrokeView(),this.bind("_tooltipString").to(this,"tooltip",this,"label",this,"keystroke",this._getTooltipString.bind(this));const l={tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",c=>!c),i.if("isVisible","ck-hidden",c=>!c),i.to("isOn",c=>c?"ck-on":"ck-off"),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],role:i.to("role"),type:i.to("type",c=>c||"button"),tabindex:i.to("tabindex"),"aria-label":i.to("ariaLabel"),"aria-labelledby":i.to("ariaLabelledBy"),"aria-disabled":i.if("isEnabled",!0,c=>!c),"aria-checked":i.to("isOn"),"aria-pressed":i.to("isOn",c=>!!this.isToggleable&&String(!!c)),"data-cke-tooltip-text":i.to("_tooltipString"),"data-cke-tooltip-position":i.to("tooltipPosition")},children:this.children,on:{click:i.to(c=>{this.isEnabled?this.fire("execute"):c.preventDefault()})}};C.isSafari&&(this._focusDelayed||(this._focusDelayed=zb(()=>this.focus(),0)),l.on.mousedown=i.to(()=>{this._focusDelayed()}),l.on.mouseup=i.to(()=>{this._focusDelayed.cancel()})),this.setTemplate(l)}render(){super.render(),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.labelView),this.withKeystroke&&this.keystroke&&this.children.add(this.keystrokeView)}focus(){this.element.focus()}destroy(){this._focusDelayed&&this._focusDelayed.cancel(),super.destroy()}_createLabelView(){const e=new ze,i=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:i.to("labelStyle"),id:this.ariaLabelledBy},children:[{text:i.to("label")}]}),e}_createKeystrokeView(){const e=new ze;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",i=>s1(i))}]}),e}_getTooltipString(e,i,o){return e?typeof e=="string"?e:(o&&(o=s1(o)),e instanceof Function?e(i,o):`${i}${o?` (${o})`:""}`):""}}var y1=u(5332),vL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(y1.Z,vL),y1.Z.locals;class Hf extends gt{constructor(e){super(e),this.isToggleable=!0,this.toggleSwitchView=this._createToggleView(),this.extendTemplate({attributes:{class:"ck-switchbutton"}})}render(){super.render(),this.children.add(this.toggleSwitchView)}_createToggleView(){const e=new ze;return e.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),e}}var C1=u(6781),yL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(C1.Z,yL),C1.Z.locals,u(1103),u(841);var E1=u(3662),CL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(E1.Z,CL),E1.Z.locals;class x1 extends ze{constructor(e){super(e),this.set("text",void 0),this.set("for",void 0),this.id=`ck-editor__label_${U()}`;const i=this.bindTemplate;this.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:this.id,for:i.to("for")},children:[{text:i.to("text")}]})}}var I1=u(2577),EL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(I1.Z,EL),I1.Z.locals;class Hb extends ze{constructor(e,i){super(e);const o=`ck-labeled-field-view-${U()}`,l=`ck-labeled-field-view-status-${U()}`;this.fieldView=i(this,o,l),this.set("label",void 0),this.set("isEnabled",!0),this.set("isEmpty",!0),this.set("isFocused",!1),this.set("errorText",null),this.set("infoText",null),this.set("class",void 0),this.set("placeholder",void 0),this.labelView=this._createLabelView(o),this.statusView=this._createStatusView(l),this.fieldWrapperChildren=this.createCollection([this.fieldView,this.labelView]),this.bind("_statusText").to(this,"errorText",this,"infoText",(d,f)=>d||f);const c=this.bindTemplate;this.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",c.to("class"),c.if("isEnabled","ck-disabled",d=>!d),c.if("isEmpty","ck-labeled-field-view_empty"),c.if("isFocused","ck-labeled-field-view_focused"),c.if("placeholder","ck-labeled-field-view_placeholder"),c.if("errorText","ck-error")]},children:[{tag:"div",attributes:{class:["ck","ck-labeled-field-view__input-wrapper"]},children:this.fieldWrapperChildren},this.statusView]})}_createLabelView(e){const i=new x1(this.locale);return i.for=e,i.bind("text").to(this,"label"),i}_createStatusView(e){const i=new ze(this.locale),o=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",l=>!l)],id:e,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),i}focus(){this.fieldView.focus()}}var T1=u(4879),xL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(T1.Z,xL),T1.Z.locals;class IL extends ze{constructor(e){super(e),this.set("value",void 0),this.set("id",void 0),this.set("placeholder",void 0),this.set("isReadOnly",!1),this.set("hasError",!1),this.set("ariaDescribedById",void 0),this.focusTracker=new vi,this.bind("isFocused").to(this.focusTracker),this.set("isEmpty",!0),this.set("inputMode","text");const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck","ck-input",i.if("isFocused","ck-input_focused"),i.if("isEmpty","ck-input-text_empty"),i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),inputmode:i.to("inputMode"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to((...o)=>{this.fire("input",...o),this._updateIsEmpty()}),change:i.to(this._updateIsEmpty.bind(this))}})}render(){super.render(),this.focusTracker.add(this.element),this._setDomElementValue(this.value),this._updateIsEmpty(),this.on("change:value",(e,i,o)=>{this._setDomElementValue(o),this._updateIsEmpty()})}destroy(){super.destroy(),this.focusTracker.destroy()}select(){this.element.select()}focus(){this.element.focus()}_updateIsEmpty(){this.isEmpty=!this.element.value}_setDomElementValue(e){this.element.value=e||e===0?e:""}}class TL extends IL{constructor(e){super(e),this.extendTemplate({attributes:{type:"text",class:["ck-input-text"]}})}}class SL extends ze{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!1),this.set("position","se"),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",o=>`ck-dropdown__panel_${o}`),i.if("isVisible","ck-dropdown__panel-visible")],tabindex:"-1"},children:this.children,on:{selectstart:i.to(o=>{o.target.tagName.toLocaleLowerCase()!=="input"&&o.preventDefault()})}})}focus(){if(this.children.length){const e=this.children.first;typeof e.focus=="function"?e.focus():q("ui-dropdown-panel-focus-child-missing-focus",{childView:this.children.first,dropdownPanel:this})}}focusLast(){if(this.children.length){const e=this.children.last;typeof e.focusLast=="function"?e.focusLast():e.focus()}}}var S1=u(5485),DL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(S1.Z,DL),S1.Z.locals;const Wb=class extends ze{constructor(a,e,i){super(a);const o=this.bindTemplate;this.buttonView=e,this.panelView=i,this.set("isOpen",!1),this.set("isEnabled",!0),this.set("class",void 0),this.set("id",void 0),this.set("panelPosition","auto"),this.keystrokes=new gr,this.focusTracker=new vi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",o.to("class"),o.if("isEnabled","ck-disabled",l=>!l)],id:o.to("id"),"aria-describedby":o.to("ariaDescribedById")},children:[e,i]}),e.extendTemplate({attributes:{class:["ck-dropdown__button"],"data-cke-tooltip-disabled":o.to("isOpen")}})}render(){super.render(),this.focusTracker.add(this.buttonView.element),this.focusTracker.add(this.panelView.element),this.listenTo(this.buttonView,"open",()=>{this.isOpen=!this.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",(e,i,o)=>{o&&(this.panelPosition==="auto"?this.panelView.position=Wb._getOptimalPosition({element:this.panelView.element,target:this.buttonView.element,fitInViewport:!0,positions:this._panelPositions}).name:this.panelView.position=this.panelPosition)}),this.keystrokes.listenTo(this.element);const a=(e,i)=>{this.isOpen&&(this.isOpen=!1,i())};this.keystrokes.set("arrowdown",(e,i)=>{this.buttonView.isEnabled&&!this.isOpen&&(this.isOpen=!0,i())}),this.keystrokes.set("arrowright",(e,i)=>{this.isOpen&&i()}),this.keystrokes.set("arrowleft",a),this.keystrokes.set("esc",a)}focus(){this.buttonView.focus()}get _panelPositions(){const{south:a,north:e,southEast:i,southWest:o,northEast:l,northWest:c,southMiddleEast:d,southMiddleWest:f,northMiddleEast:g,northMiddleWest:k}=Wb.defaultPanelPositions;return this.locale.uiLanguageDirection!=="rtl"?[i,o,d,f,a,l,c,g,k,e]:[o,i,f,d,a,c,l,k,g,e]}};let qb=Wb;qb.defaultPanelPositions={south:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/2,name:"s"}),southEast:a=>({top:a.bottom,left:a.left,name:"se"}),southWest:(a,e)=>({top:a.bottom,left:a.left-e.width+a.width,name:"sw"}),southMiddleEast:(a,e)=>({top:a.bottom,left:a.left-(e.width-a.width)/4,name:"sme"}),southMiddleWest:(a,e)=>({top:a.bottom,left:a.left-3*(e.width-a.width)/4,name:"smw"}),north:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/2,name:"n"}),northEast:(a,e)=>({top:a.top-e.height,left:a.left,name:"ne"}),northWest:(a,e)=>({top:a.top-e.height,left:a.left-e.width+a.width,name:"nw"}),northMiddleEast:(a,e)=>({top:a.top-e.height,left:a.left-(e.width-a.width)/4,name:"nme"}),northMiddleWest:(a,e)=>({top:a.top-e.height,left:a.left-3*(e.width-a.width)/4,name:"nmw"})},qb._getOptimalPosition=JC;const D1='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>';class ML extends gt{constructor(e){super(e),this.arrowView=this._createArrowView(),this.extendTemplate({attributes:{"aria-haspopup":!0,"aria-expanded":this.bindTemplate.to("isOn",i=>String(i))}}),this.delegate("execute").to(this,"open")}render(){super.render(),this.children.add(this.arrowView)}_createArrowView(){const e=new ul;return e.content=D1,e.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),e}}class dl{constructor(e){if(this.focusables=e.focusables,this.focusTracker=e.focusTracker,this.keystrokeHandler=e.keystrokeHandler,this.actions=e.actions,e.actions&&e.keystrokeHandler)for(const i in e.actions){let o=e.actions[i];typeof o=="string"&&(o=[o]);for(const l of o)e.keystrokeHandler.set(l,(c,d)=>{this[i](),d()})}}get first(){return this.focusables.find($b)||null}get last(){return this.focusables.filter($b).slice(-1)[0]||null}get next(){return this._getFocusableItem(1)}get previous(){return this._getFocusableItem(-1)}get current(){let e=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find((i,o)=>{const l=i.element===this.focusTracker.focusedElement;return l&&(e=o),l}),e)}focusFirst(){this._focus(this.first)}focusLast(){this._focus(this.last)}focusNext(){this._focus(this.next)}focusPrevious(){this._focus(this.previous)}_focus(e){e&&e.focus()}_getFocusableItem(e){const i=this.current,o=this.focusables.length;if(!o)return null;if(i===null)return this[e===1?"first":"last"];let l=(i+o+e)%o;do{const c=this.focusables.get(l);if($b(c))return c;l=(l+o+e)%o}while(l!==i);return null}}function $b(a){return!(!a.focus||!Ks(a.element))}class M1 extends ze{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}})}}class PL extends ze{constructor(e){super(e),this.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__line-break"]}})}}function P1(a){return Array.isArray(a)?{items:a,removeItems:[]}:a?Object.assign({items:[],removeItems:[]},a):{items:[],removeItems:[]}}class ie extends Xe(){constructor(e){super(),this._disableStack=new Set,this.editor=e,this.set("isEnabled",!0)}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",N1,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",N1),this.isEnabled=!0)}destroy(){this.stopListening()}static get isContextPlugin(){return!1}}function N1(a){a.return=!1,a.stop()}class Be extends Xe(){constructor(e){super(),this.editor=e,this.set("value",void 0),this.set("isEnabled",!1),this._affectsData=!0,this._isEnabledBasedOnSelection=!0,this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",()=>{this.refresh()}),this.listenTo(e,"change:isReadOnly",()=>{this.refresh()}),this.on("set:isEnabled",i=>{if(!this.affectsData)return;const o=e.model.document.selection,l=o.getFirstPosition().root.rootName!="$graveyard"&&e.model.canEditAt(o);(e.isReadOnly||this._isEnabledBasedOnSelection&&!l)&&(i.return=!1,i.stop())},{priority:"highest"}),this.on("execute",i=>{this.isEnabled||i.stop()},{priority:"high"})}get affectsData(){return this._affectsData}set affectsData(e){this._affectsData=e}refresh(){this.isEnabled=!0}forceDisabled(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",R1,{priority:"highest"}),this.isEnabled=!1)}clearForceDisabled(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",R1),this.refresh())}execute(...e){}destroy(){this.stopListening()}}function R1(a){a.return=!1,a.stop()}class O1 extends Be{constructor(){super(...arguments),this._childCommandsDefinitions=[]}refresh(){}execute(...e){const i=this._getFirstEnabledCommand();return!!i&&i.execute(e)}registerChildCommand(e,i={}){Y(this._childCommandsDefinitions,{command:e,priority:i.priority||"normal"}),e.on("change:isEnabled",()=>this._checkEnabled()),this._checkEnabled()}_checkEnabled(){this.isEnabled=!!this._getFirstEnabledCommand()}_getFirstEnabledCommand(){const e=this._childCommandsDefinitions.find(({command:i})=>i.isEnabled);return e&&e.command}}class B1 extends ce(){constructor(e,i=[],o=[]){super(),this._plugins=new Map,this._context=e,this._availablePlugins=new Map;for(const l of i)l.pluginName&&this._availablePlugins.set(l.pluginName,l);this._contextPlugins=new Map;for(const[l,c]of o)this._contextPlugins.set(l,c),this._contextPlugins.set(c,l),l.pluginName&&this._availablePlugins.set(l.pluginName,l)}*[Symbol.iterator](){for(const e of this._plugins)typeof e[0]=="function"&&(yield e)}get(e){const i=this._plugins.get(e);if(!i){let o=e;throw typeof e=="function"&&(o=e.pluginName||e.name),new j("plugincollection-plugin-not-loaded",this._context,{plugin:o})}return i}has(e){return this._plugins.has(e)}init(e,i=[],o=[]){const l=this,c=this._context;(function T(S,B=new Set){S.forEach(V=>{g(V)&&(B.has(V)||(B.add(V),V.pluginName&&!l._availablePlugins.has(V.pluginName)&&l._availablePlugins.set(V.pluginName,V),V.requires&&T(V.requires,B)))})})(e),y(e);const d=[...function T(S,B=new Set){return S.map(V=>g(V)?V:l._availablePlugins.get(V)).reduce((V,H)=>B.has(H)?V:(B.add(H),H.requires&&(y(H.requires,H),T(H.requires,B).forEach(Q=>V.add(Q))),V.add(H)),new Set)}(e.filter(T=>!w(T,i)))];(function(T,S){for(const B of S){if(typeof B!="function")throw new j("plugincollection-replace-plugin-invalid-type",null,{pluginItem:B});const V=B.pluginName;if(!V)throw new j("plugincollection-replace-plugin-missing-name",null,{pluginItem:B});if(B.requires&&B.requires.length)throw new j("plugincollection-plugin-for-replacing-cannot-have-dependencies",null,{pluginName:V});const H=l._availablePlugins.get(V);if(!H)throw new j("plugincollection-plugin-for-replacing-not-exist",null,{pluginName:V});const Q=T.indexOf(H);if(Q===-1){if(l._contextPlugins.has(H))return;throw new j("plugincollection-plugin-for-replacing-not-loaded",null,{pluginName:V})}if(H.requires&&H.requires.length)throw new j("plugincollection-replaced-plugin-cannot-have-dependencies",null,{pluginName:V});T.splice(Q,1,B),l._availablePlugins.set(V,B)}})(d,o);const f=d.map(T=>{let S=l._contextPlugins.get(T);return S=S||new T(c),l._add(T,S),S});return I(f,"init").then(()=>I(f,"afterInit")).then(()=>f);function g(T){return typeof T=="function"}function k(T){return g(T)&&!!T.isContextPlugin}function w(T,S){return S.some(B=>B===T||_(T)===B||_(B)===T)}function _(T){return g(T)?T.pluginName||T.name:T}function y(T,S=null){T.map(B=>g(B)?B:l._availablePlugins.get(B)||B).forEach(B=>{(function(V,H){if(!g(V))throw H?new j("plugincollection-soft-required",c,{missingPlugin:V,requiredBy:_(H)}):new j("plugincollection-plugin-not-found",c,{plugin:V})})(B,S),function(V,H){if(k(H)&&!k(V))throw new j("plugincollection-context-required",c,{plugin:_(V),requiredBy:_(H)})}(B,S),function(V,H){if(H&&w(V,i))throw new j("plugincollection-required",c,{plugin:_(V),requiredBy:_(H)})}(B,S)})}function I(T,S){return T.reduce((B,V)=>V[S]?l._contextPlugins.has(V)?B:B.then(V[S].bind(V)):B,Promise.resolve())}}destroy(){const e=[];for(const[,i]of this)typeof i.destroy!="function"||this._contextPlugins.has(i)||e.push(i.destroy());return Promise.all(e)}_add(e,i){this._plugins.set(e,i);const o=e.pluginName;if(o){if(this._plugins.has(o))throw new j("plugincollection-plugin-name-conflict",null,{pluginName:o,plugin1:this._plugins.get(o).constructor,plugin2:e});this._plugins.set(o,i)}}}class L1{constructor(e){this._contextOwner=null,this.config=new FC(e,this.constructor.defaultConfig);const i=this.constructor.builtinPlugins;this.config.define("plugins",i),this.plugins=new B1(this,i);const o=this.config.get("language")||{};this.locale=new dL({uiLanguage:typeof o=="string"?o:o.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Li}initPlugins(){const e=this.config.get("plugins")||[],i=this.config.get("substitutePlugins")||[];for(const o of e.concat(i)){if(typeof o!="function")throw new j("context-initplugins-constructor-only",null,{Plugin:o});if(o.isContextPlugin!==!0)throw new j("context-initplugins-invalid-plugin",null,{Plugin:o})}return this.plugins.init(e,[],i)}destroy(){return Promise.all(Array.from(this.editors,e=>e.destroy())).then(()=>this.plugins.destroy())}_addEditor(e,i){if(this._contextOwner)throw new j("context-addeditor-private-context");this.editors.add(e),i&&(this._contextOwner=e)}_removeEditor(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}_getEditorConfig(){const e={};for(const i of this.config.names())["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i));return e}static create(e){return new Promise(i=>{const o=new this(e);i(o.initPlugins().then(()=>o))})}}class Wf extends Xe(){constructor(e){super(),this.context=e}destroy(){this.stopListening()}static get isContextPlugin(){return!0}}class NL extends gr{constructor(e){super(),this.editor=e}set(e,i,o={}){if(typeof i=="string"){const l=i;i=(c,d)=>{this.editor.execute(l),d()}}super.set(e,i,o)}}var z1=u(4717),RL={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(z1.Z,RL),z1.Z.locals;const qf=new WeakMap;function j1({view:a,element:e,isDirectHost:i=!0,keepOnFocus:o=!1}){const l=a.document;function c(d){qf.get(l).set(e,{text:d,isDirectHost:i,keepOnFocus:o,hostElement:i?e:null}),a.change(f=>Gb(l,f))}qf.has(l)||(qf.set(l,new Map),l.registerPostFixer(d=>Gb(l,d)),l.on("change:isComposing",()=>{a.change(d=>Gb(l,d))},{priority:"high"})),e.is("editableElement")&&e.on("change:placeholder",(d,f,g)=>{c(g)}),e.placeholder&&c(e.placeholder)}function OL(a,e){return!!e.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",e),!0)}function Gb(a,e){const i=qf.get(a),o=[];let l=!1;for(const[c,d]of i)d.isDirectHost&&(o.push(c),V1(e,c,d)&&(l=!0));for(const[c,d]of i){if(d.isDirectHost)continue;const f=BL(c);f&&(o.includes(f)||(d.hostElement=f,V1(e,c,d)&&(l=!0)))}return l}function V1(a,e,i){const{text:o,isDirectHost:l,hostElement:c}=i;let d=!1;return c.getAttribute("data-placeholder")!==o&&(a.setAttribute("data-placeholder",o,c),d=!0),(l||e.childCount==1)&&function(f,g){if(!f.isAttached()||Array.from(f.getChildren()).some(_=>!_.is("uiElement")))return!1;const k=f.document,w=k.selection.anchor;return!(k.isComposing&&w&&w.parent===f||!g&&k.isFocused&&(!w||w.parent===f))}(c,i.keepOnFocus)?function(f,g){return!g.hasClass("ck-placeholder")&&(f.addClass("ck-placeholder",g),!0)}(a,c)&&(d=!0):OL(a,c)&&(d=!0),d}function BL(a){if(a.childCount){const e=a.getChild(0);if(e.is("element")&&!e.is("uiElement")&&!e.is("attributeElement"))return e}return null}class Qs{is(){throw new Error("is() method is abstract")}}const F1=function(a){return dn(a,4)};class Ys extends ce(Qs){constructor(e){super(),this.document=e,this.parent=null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new j("view-node-not-found-in-parent",this);return e}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.root.is("rootElement")}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.index),i=i.parent;return e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}getCommonAncestor(e,i={}){const o=this.getAncestors(i),l=e.getAncestors(i);let c=0;for(;o[c]==l[c]&&o[c];)c++;return c===0?null:o[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),o=e.getPath(),l=un(i,o);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<o[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}_remove(){this.parent._removeChildren(this.index)}_fireChange(e,i){this.fire(`change:${e}`,i),this.parent&&this.parent._fireChange(e,i)}toJSON(){const e=F1(this);return delete e.parent,e}}Ys.prototype.is=function(a){return a==="node"||a==="view:node"};class ut extends Ys{constructor(e,i){super(e),this._textData=i}get data(){return this._textData}get _data(){return this.data}set _data(e){this._fireChange("text",this),this._textData=e}isSimilar(e){return e instanceof ut&&(this===e||this.data===e.data)}_clone(){return new ut(this.document,this.data)}}ut.prototype.is=function(a){return a==="$text"||a==="view:$text"||a==="text"||a==="view:text"||a==="node"||a==="view:node"};class kr extends Qs{constructor(e,i,o){if(super(),this.textNode=e,i<0||i>e.data.length)throw new j("view-textproxy-wrong-offsetintext",this);if(o<0||i+o>e.data.length)throw new j("view-textproxy-wrong-length",this);this.data=e.data.substring(i,i+o),this.offsetInText=i}get offsetSize(){return this.data.length}get isPartial(){return this.data.length!==this.textNode.data.length}get parent(){return this.textNode.parent}get root(){return this.textNode.root}get document(){return this.textNode.document}getAncestors(e={}){const i=[];let o=e.includeSelf?this.textNode:this.parent;for(;o!==null;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}}kr.prototype.is=function(a){return a==="$textProxy"||a==="view:$textProxy"||a==="textProxy"||a==="view:textProxy"};class ji{constructor(...e){this._patterns=[],this.add(...e)}add(...e){for(let i of e)(typeof i=="string"||i instanceof RegExp)&&(i={name:i}),this._patterns.push(i)}match(...e){for(const i of e)for(const o of this._patterns){const l=U1(i,o);if(l)return{element:i,pattern:o,match:l}}return null}matchAll(...e){const i=[];for(const o of e)for(const l of this._patterns){const c=U1(o,l);c&&i.push({element:o,pattern:l,match:c})}return i.length>0?i:null}getElementName(){if(this._patterns.length!==1)return null;const e=this._patterns[0],i=e.name;return typeof e=="function"||!i||i instanceof RegExp?null:i}}function U1(a,e){if(typeof e=="function")return e(a);const i={};return e.name&&(i.name=function(o,l){return o instanceof RegExp?!!l.match(o):o===l}(e.name,a.name),!i.name)||e.attributes&&(i.attributes=function(o,l){const c=new Set(l.getAttributeKeys());return vn(o)?(o.style!==void 0&&q("matcher-pattern-deprecated-attributes-style-key",o),o.class!==void 0&&q("matcher-pattern-deprecated-attributes-class-key",o)):(c.delete("style"),c.delete("class")),Kb(o,c,d=>l.getAttribute(d))}(e.attributes,a),!i.attributes)||e.classes&&(i.classes=function(o,l){return Kb(o,l.getClassNames(),()=>{})}(e.classes,a),!i.classes)||e.styles&&(i.styles=function(o,l){return Kb(o,l.getStyleNames(!0),c=>l.getStyle(c))}(e.styles,a),!i.styles)?null:i}function Kb(a,e,i){const o=function(d){return Array.isArray(d)?d.map(f=>vn(f)?(f.key!==void 0&&f.value!==void 0||q("matcher-pattern-missing-key-or-value",f),[f.key,f.value]):[f,!0]):vn(d)?Object.entries(d):[[d,!0]]}(a),l=Array.from(e),c=[];if(o.forEach(([d,f])=>{l.forEach(g=>{(function(k,w){return k===!0||k===w||k instanceof RegExp&&w.match(k)})(d,g)&&function(k,w,_){if(k===!0)return!0;const y=_(w);return k===y||k instanceof RegExp&&!!String(y).match(k)}(f,g,i)&&c.push(g)})}),o.length&&!(c.length<o.length))return c}const $f=function(a){return typeof a=="symbol"||tn(a)&&lr(a)=="[object Symbol]"};var LL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,zL=/^\w*$/;const jL=function(a,e){if(yt(a))return!1;var i=typeof a;return!(i!="number"&&i!="symbol"&&i!="boolean"&&a!=null&&!$f(a))||zL.test(a)||!LL.test(a)||e!=null&&a in Object(e)};function Qb(a,e){if(typeof a!="function"||e!=null&&typeof e!="function")throw new TypeError("Expected a function");var i=function(){var o=arguments,l=e?e.apply(this,o):o[0],c=i.cache;if(c.has(l))return c.get(l);var d=a.apply(this,o);return i.cache=c.set(l,d)||c,d};return i.cache=new(Qb.Cache||Ka),i}Qb.Cache=Ka;const VL=Qb,FL=function(a){var e=VL(a,function(o){return i.size===500&&i.clear(),o}),i=e.cache;return e};var UL=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,HL=/\\(\\)?/g,WL=FL(function(a){var e=[];return a.charCodeAt(0)===46&&e.push(""),a.replace(UL,function(i,o,l,c){e.push(l?c.replace(HL,"$1"):o||i)}),e});const qL=WL,$L=function(a,e){for(var i=-1,o=a==null?0:a.length,l=Array(o);++i<o;)l[i]=e(a[i],i,a);return l};var H1=Ai?Ai.prototype:void 0,W1=H1?H1.toString:void 0;const GL=function a(e){if(typeof e=="string")return e;if(yt(e))return $L(e,a)+"";if($f(e))return W1?W1.call(e):"";var i=e+"";return i=="0"&&1/e==-1/0?"-0":i},Yb=function(a){return a==null?"":GL(a)},Zb=function(a,e){return yt(a)?a:jL(a,e)?[a]:qL(Yb(a))},KL=function(a){var e=a==null?0:a.length;return e?a[e-1]:void 0},Jb=function(a){if(typeof a=="string"||$f(a))return a;var e=a+"";return e=="0"&&1/a==-1/0?"-0":e},q1=function(a,e){for(var i=0,o=(e=Zb(e,a)).length;a!=null&&i<o;)a=a[Jb(e[i++])];return i&&i==o?a:void 0},$1=function(a,e,i){var o=-1,l=a.length;e<0&&(e=-e>l?0:l+e),(i=i>l?l:i)<0&&(i+=l),l=e>i?0:i-e>>>0,e>>>=0;for(var c=Array(l);++o<l;)c[o]=a[o+e];return c},QL=function(a,e){return e.length<2?a:q1(a,$1(e,0,-1))},YL=function(a,e){return e=Zb(e,a),(a=QL(a,e))==null||delete a[Jb(KL(e))]},ZL=function(a,e){return a==null||YL(a,e)},Gf=function(a,e,i){var o=a==null?void 0:q1(a,e);return o===void 0?i:o},Xb=function(a,e,i){(i!==void 0&&!js(a[e],i)||i===void 0&&!(e in a))&&nu(a,e,i)},JL=function(a){return function(e,i,o){for(var l=-1,c=Object(e),d=o(e),f=d.length;f--;){var g=d[a?f:++l];if(i(c[g],g,c)===!1)break}return e}}(),XL=function(a){return tn(a)&&tl(a)},ew=function(a,e){if((e!=="constructor"||typeof a[e]!="function")&&e!="__proto__")return a[e]},ez=function(a){return To(a,So(a))},tz=function(a,e,i,o,l,c,d){var f=ew(a,i),g=ew(e,i),k=d.get(g);if(k)Xb(a,i,k);else{var w=c?c(f,g,i+"",a,e,d):void 0,_=w===void 0;if(_){var y=yt(g),I=!y&&Wr(g),T=!y&&!I&&qs(g);w=g,y||I||T?yt(f)?w=f:XL(f)?w=hu(f):I?(_=!1,w=du(g,!0)):T?(_=!1,w=W(g,!0)):w=[]:vn(g)||ou(g)?(w=f,ou(f)?w=ez(f):Ze(f)&&!cr(f)||(w=De(g))):_=!1}_&&(d.set(g,w),l(w,g,o,c,d),d.delete(g)),Xb(a,i,w)}},nz=function a(e,i,o,l,c){e!==i&&JL(i,function(d,f){if(c||(c=new Hr),Ze(d))tz(e,i,f,o,a,l,c);else{var g=l?l(ew(e,f),d,f+"",e,i,c):void 0;g===void 0&&(g=d),Xb(e,f,g)}},So)},Zs=function(a){return a},iz=function(a,e,i){switch(i.length){case 0:return a.call(e);case 1:return a.call(e,i[0]);case 2:return a.call(e,i[0],i[1]);case 3:return a.call(e,i[0],i[1],i[2])}return a.apply(e,i)};var G1=Math.max;const rz=function(a,e,i){return e=G1(e===void 0?a.length-1:e,0),function(){for(var o=arguments,l=-1,c=G1(o.length-e,0),d=Array(c);++l<c;)d[l]=o[e+l];l=-1;for(var f=Array(e+1);++l<e;)f[l]=o[l];return f[e]=i(d),iz(a,this,f)}},oz=function(a){return function(){return a}},sz=Qa?function(a,e){return Qa(a,"toString",{configurable:!0,enumerable:!1,value:oz(e),writable:!0})}:Zs;var az=Date.now;const lz=function(a){var e=0,i=0;return function(){var o=az(),l=16-(o-i);if(i=o,l>0){if(++e>=800)return arguments[0]}else e=0;return a.apply(void 0,arguments)}}(sz),cz=function(a,e){return lz(rz(a,e,Zs),a+"")},uz=function(a,e,i){if(!Ze(i))return!1;var o=typeof e;return!!(o=="number"?tl(i)&&Ya(e,i.length):o=="string"&&e in i)&&js(i[e],a)},K1=function(a){return cz(function(e,i){var o=-1,l=i.length,c=l>1?i[l-1]:void 0,d=l>2?i[2]:void 0;for(c=a.length>3&&typeof c=="function"?(l--,c):void 0,d&&uz(i[0],i[1],d)&&(c=l<3?void 0:c,l=1),e=Object(e);++o<l;){var f=i[o];f&&a(e,f,o,c)}return e})},Q1=K1(function(a,e,i){nz(a,e,i)}),dz=function(a,e,i,o){if(!Ze(a))return a;for(var l=-1,c=(e=Zb(e,a)).length,d=c-1,f=a;f!=null&&++l<c;){var g=Jb(e[l]),k=i;if(g==="__proto__"||g==="constructor"||g==="prototype")return a;if(l!=d){var w=f[g];(k=o?o(w,g,f):void 0)===void 0&&(k=Ze(w)?w:Ya(e[l+1])?[]:{})}Us(f,g,k),f=f[g]}return a},hz=function(a,e,i){return a==null?a:dz(a,e,i)};class fz{constructor(e){this._styles={},this._styleProcessor=e}get isEmpty(){const e=Object.entries(this._styles);return!Array.from(e).length}get size(){return this.isEmpty?0:this.getStyleNames().length}setTo(e){this.clear();const i=Array.from(function(o){let l=null,c=0,d=0,f=null;const g=new Map;if(o==="")return g;o.charAt(o.length-1)!=";"&&(o+=";");for(let k=0;k<o.length;k++){const w=o.charAt(k);if(l===null)switch(w){case":":f||(f=o.substr(c,k-c),d=k+1);break;case'"':case"'":l=w;break;case";":{const _=o.substr(d,k-d);f&&g.set(f.trim(),_.trim()),f=null,c=k+1;break}}else w===l&&(l=null)}return g}(e).entries());for(const[o,l]of i)this._styleProcessor.toNormalizedForm(o,l,this._styles)}has(e){if(this.isEmpty)return!1;const i=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(i)}set(e,i){if(Ze(e))for(const[o,l]of Object.entries(e))this._styleProcessor.toNormalizedForm(o,l,this._styles);else this._styleProcessor.toNormalizedForm(e,i,this._styles)}remove(e){const i=tw(e);ZL(this._styles,i),delete this._styles[e],this._cleanEmptyObjectsOnPath(i)}getNormalized(e){return this._styleProcessor.getNormalized(e,this._styles)}toString(){return this.isEmpty?"":this._getStylesEntries().map(e=>e.join(":")).sort().join(";")+";"}getAsString(e){if(this.isEmpty)return;if(this._styles[e]&&!Ze(this._styles[e]))return this._styles[e];const i=this._styleProcessor.getReducedForm(e,this._styles).find(([o])=>o===e);return Array.isArray(i)?i[1]:void 0}getStyleNames(e=!1){return this.isEmpty?[]:e?this._styleProcessor.getStyleNames(this._styles):this._getStylesEntries().map(([i])=>i)}clear(){this._styles={}}_getStylesEntries(){const e=[],i=Object.keys(this._styles);for(const o of i)e.push(...this._styleProcessor.getReducedForm(o,this._styles));return e}_cleanEmptyObjectsOnPath(e){const i=e.split(".");if(!(i.length>1))return;const o=i.splice(0,i.length-1).join("."),l=Gf(this._styles,o);l&&!Array.from(Object.keys(l)).length&&this.remove(o)}}class pz{constructor(){this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}toNormalizedForm(e,i,o){if(Ze(i))nw(o,tw(e),i);else if(this._normalizers.has(e)){const l=this._normalizers.get(e),{path:c,value:d}=l(i);nw(o,c,d)}else nw(o,e,i)}getNormalized(e,i){if(!e)return Q1({},i);if(i[e]!==void 0)return i[e];if(this._extractors.has(e)){const o=this._extractors.get(e);if(typeof o=="string")return Gf(i,o);const l=o(e,i);if(l)return l}return Gf(i,tw(e))}getReducedForm(e,i){const o=this.getNormalized(e,i);return o===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(o):[[e,o]]}getStyleNames(e){const i=Array.from(this._consumables.keys()).filter(l=>{const c=this.getNormalized(l,e);return c&&typeof c=="object"?Object.keys(c).length:c}),o=new Set([...i,...Object.keys(e)]);return Array.from(o.values())}getRelatedStyles(e){return this._consumables.get(e)||[]}setNormalizer(e,i){this._normalizers.set(e,i)}setExtractor(e,i){this._extractors.set(e,i)}setReducer(e,i){this._reducers.set(e,i)}setStyleRelation(e,i){this._mapStyleNames(e,i);for(const o of i)this._mapStyleNames(o,[e])}_mapStyleNames(e,i){this._consumables.has(e)||this._consumables.set(e,[]),this._consumables.get(e).push(...i)}}function tw(a){return a.replace("-",".")}function nw(a,e,i){let o=i;Ze(i)&&(o=Q1({},Gf(a,e),i)),hz(a,e,o)}class ci extends Ys{constructor(e,i,o,l){if(super(e),this._unsafeAttributesToRender=[],this._customProperties=new Map,this.name=i,this._attrs=function(c){const d=mr(c);for(const[f,g]of d)g===null?d.delete(f):typeof g!="string"&&d.set(f,String(g));return d}(o),this._children=[],l&&this._insertChild(0,l),this._classes=new Set,this._attrs.has("class")){const c=this._attrs.get("class");Y1(this._classes,c),this._attrs.delete("class")}this._styles=new fz(this.document.stylesProcessor),this._attrs.has("style")&&(this._styles.setTo(this._attrs.get("style")),this._attrs.delete("style"))}get childCount(){return this._children.length}get isEmpty(){return this._children.length===0}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}*getAttributeKeys(){this._classes.size>0&&(yield"class"),this._styles.isEmpty||(yield"style"),yield*this._attrs.keys()}*getAttributes(){yield*this._attrs.entries(),this._classes.size>0&&(yield["class",this.getAttribute("class")]),this._styles.isEmpty||(yield["style",this.getAttribute("style")])}getAttribute(e){if(e=="class")return this._classes.size>0?[...this._classes].join(" "):void 0;if(e=="style"){const i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(e)}hasAttribute(e){return e=="class"?this._classes.size>0:e=="style"?!this._styles.isEmpty:this._attrs.has(e)}isSimilar(e){if(!(e instanceof ci))return!1;if(this===e)return!0;if(this.name!=e.name||this._attrs.size!==e._attrs.size||this._classes.size!==e._classes.size||this._styles.size!==e._styles.size)return!1;for(const[i,o]of this._attrs)if(!e._attrs.has(i)||e._attrs.get(i)!==o)return!1;for(const i of this._classes)if(!e._classes.has(i))return!1;for(const i of this._styles.getStyleNames())if(!e._styles.has(i)||e._styles.getAsString(i)!==this._styles.getAsString(i))return!1;return!0}hasClass(...e){for(const i of e)if(!this._classes.has(i))return!1;return!0}getClassNames(){return this._classes.keys()}getStyle(e){return this._styles.getAsString(e)}getNormalizedStyle(e){return this._styles.getNormalized(e)}getStyleNames(e){return this._styles.getStyleNames(e)}hasStyle(...e){for(const i of e)if(!this._styles.has(i))return!1;return!0}findAncestor(...e){const i=new ji(...e);let o=this.parent;for(;o&&!o.is("documentFragment");){if(i.match(o))return o;o=o.parent}return null}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}getIdentity(){const e=Array.from(this._classes).sort().join(","),i=this._styles.toString(),o=Array.from(this._attrs).map(l=>`${l[0]}="${l[1]}"`).sort().join(" ");return this.name+(e==""?"":` class="${e}"`)+(i?` style="${i}"`:"")+(o==""?"":` ${o}`)}shouldRenderUnsafeAttribute(e){return this._unsafeAttributesToRender.includes(e)}_clone(e=!1){const i=[];if(e)for(const l of this.getChildren())i.push(l._clone(e));const o=new this.constructor(this.document,this.name,this._attrs,i);return o._classes=new Set(this._classes),o._styles.set(this._styles.getNormalized()),o._customProperties=new Map(this._customProperties),o.getFillerOffset=this.getFillerOffset,o._unsafeAttributesToRender=this._unsafeAttributesToRender,o}_appendChild(e){return this._insertChild(this.childCount,e)}_insertChild(e,i){this._fireChange("children",this);let o=0;const l=function(c,d){return typeof d=="string"?[new ut(c,d)]:(An(d)||(d=[d]),Array.from(d).map(f=>typeof f=="string"?new ut(c,f):f instanceof kr?new ut(c,f.data):f))}(this.document,i);for(const c of l)c.parent!==null&&c._remove(),c.parent=this,c.document=this.document,this._children.splice(e,0,c),e++,o++;return o}_removeChildren(e,i=1){this._fireChange("children",this);for(let o=e;o<e+i;o++)this._children[o].parent=null;return this._children.splice(e,i)}_setAttribute(e,i){const o=String(i);this._fireChange("attributes",this),e=="class"?Y1(this._classes,o):e=="style"?this._styles.setTo(o):this._attrs.set(e,o)}_removeAttribute(e){return this._fireChange("attributes",this),e=="class"?this._classes.size>0&&(this._classes.clear(),!0):e=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(e)}_addClass(e){this._fireChange("attributes",this);for(const i of nn(e))this._classes.add(i)}_removeClass(e){this._fireChange("attributes",this);for(const i of nn(e))this._classes.delete(i)}_setStyle(e,i){this._fireChange("attributes",this),typeof e!="string"?this._styles.set(e):this._styles.set(e,i)}_removeStyle(e){this._fireChange("attributes",this);for(const i of nn(e))this._styles.remove(i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}function Y1(a,e){const i=e.split(/\s+/);a.clear(),i.forEach(o=>a.add(o))}ci.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="view:element"):a==="element"||a==="view:element"||a==="node"||a==="view:node"};class _u extends ci{constructor(e,i,o,l){super(e,i,o,l),this.getFillerOffset=Z1}}function Z1(){const a=[...this.getChildren()],e=a[this.childCount-1];if(e&&e.is("element","br"))return this.childCount;for(const i of a)if(!i.is("uiElement"))return null;return this.childCount}_u.prototype.is=function(a,e){return e?e===this.name&&(a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Kf extends Xe(_u){constructor(e,i,o,l){super(e,i,o,l),this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("placeholder",void 0),this.bind("isReadOnly").to(e),this.bind("isFocused").to(e,"isFocused",c=>c&&e.selection.editableElement==this),this.listenTo(e.selection,"change",()=>{this.isFocused=e.isFocused&&e.selection.editableElement==this})}destroy(){this.stopListening()}}Kf.prototype.is=function(a,e){return e?e===this.name&&(a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};const J1=Symbol("rootName");class X1 extends Kf{constructor(e,i){super(e,i),this.rootName="main"}get rootName(){return this.getCustomProperty(J1)}set rootName(e){this._setCustomProperty(J1,e)}set _name(e){this.name=e}}X1.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"):a==="rootElement"||a==="view:rootElement"||a==="editableElement"||a==="view:editableElement"||a==="containerElement"||a==="view:containerElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Js{constructor(e={}){if(!e.boundaries&&!e.startPosition)throw new j("view-tree-walker-no-start-position",null);if(e.direction&&e.direction!="forward"&&e.direction!="backward")throw new j("view-tree-walker-unknown-direction",e.startPosition,{direction:e.direction});this.boundaries=e.boundaries||null,e.startPosition?this._position=ae._createAt(e.startPosition):this._position=ae._createAt(e.boundaries[e.direction=="backward"?"end":"start"]),this.direction=e.direction||"forward",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,o;do o=this.position,i=this.next();while(!i.done&&e(i.value));i.done||(this._position=o)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){let e=this.position.clone();const i=this.position,o=e.parent;if(o.parent===null&&e.offset===o.childCount)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0,value:void 0};let l;if(o instanceof ut){if(e.isAtEnd)return this._position=ae._createAfter(o),this._next();l=o.data[e.offset]}else l=o.getChild(e.offset);if(l instanceof ci){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(e))return{done:!0,value:void 0};e.offset++}else e=new ae(l,0);return this._position=e,this._formatReturnValue("elementStart",l,i,e,1)}if(l instanceof ut){if(this.singleCharacters)return e=new ae(l,0),this._position=e,this._next();let c,d=l.data.length;return l==this._boundaryEndParent?(d=this.boundaries.end.offset,c=new kr(l,0,d),e=ae._createAfter(c)):(c=new kr(l,0,l.data.length),e.offset++),this._position=e,this._formatReturnValue("text",c,i,e,d)}if(typeof l=="string"){let c;this.singleCharacters?c=1:c=(o===this._boundaryEndParent?this.boundaries.end.offset:o.data.length)-e.offset;const d=new kr(o,e.offset,c);return e.offset+=c,this._position=e,this._formatReturnValue("text",d,i,e,c)}return e=ae._createAfter(o),this._position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",o,i,e)}_previous(){let e=this.position.clone();const i=this.position,o=e.parent;if(o.parent===null&&e.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0,value:void 0};let l;if(o instanceof ut){if(e.isAtStart)return this._position=ae._createBefore(o),this._previous();l=o.data[e.offset-1]}else l=o.getChild(e.offset-1);if(l instanceof ci)return this.shallow?(e.offset--,this._position=e,this._formatReturnValue("elementStart",l,i,e,1)):(e=new ae(l,l.childCount),this._position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",l,i,e));if(l instanceof ut){if(this.singleCharacters)return e=new ae(l,l.data.length),this._position=e,this._previous();let c,d=l.data.length;if(l==this._boundaryStartParent){const f=this.boundaries.start.offset;c=new kr(l,f,l.data.length-f),d=c.data.length,e=ae._createBefore(c)}else c=new kr(l,0,l.data.length),e.offset--;return this._position=e,this._formatReturnValue("text",c,i,e,d)}if(typeof l=="string"){let c;if(this.singleCharacters)c=1;else{const f=o===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-f}e.offset-=c;const d=new kr(o,e.offset,c);return this._position=e,this._formatReturnValue("text",d,i,e,c)}return e=ae._createBefore(o),this._position=e,this._formatReturnValue("elementStart",o,i,e,1)}_formatReturnValue(e,i,o,l,c){return i instanceof kr&&(i.offsetInText+i.data.length==i.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?o=ae._createAfter(i.textNode):(l=ae._createAfter(i.textNode),this._position=l)),i.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?o=ae._createBefore(i.textNode):(l=ae._createBefore(i.textNode),this._position=l))),{done:!1,value:{type:e,item:i,previousPosition:o,nextPosition:l,length:c}}}}class ae extends Qs{constructor(e,i){super(),this.parent=e,this.offset=i}get nodeAfter(){return this.parent.is("$text")?null:this.parent.getChild(this.offset)||null}get nodeBefore(){return this.parent.is("$text")?null:this.parent.getChild(this.offset-1)||null}get isAtStart(){return this.offset===0}get isAtEnd(){const e=this.parent.is("$text")?this.parent.data.length:this.parent.childCount;return this.offset===e}get root(){return this.parent.root}get editableElement(){let e=this.parent;for(;!(e instanceof Kf);){if(!e.parent)return null;e=e.parent}return e}getShiftedBy(e){const i=ae._createAt(this),o=i.offset+e;return i.offset=o<0?0:o,i}getLastMatchingPosition(e,i={}){i.startPosition=this;const o=new Js(i);return o.skip(e),o.position}getAncestors(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}getCommonAncestor(e){const i=this.getAncestors(),o=e.getAncestors();let l=0;for(;i[l]==o[l]&&i[l];)l++;return l===0?null:i[l-1]}isEqual(e){return this.parent==e.parent&&this.offset==e.offset}isBefore(e){return this.compareWith(e)=="before"}isAfter(e){return this.compareWith(e)=="after"}compareWith(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";const i=this.parent.is("node")?this.parent.getPath():[],o=e.parent.is("node")?e.parent.getPath():[];i.push(this.offset),o.push(e.offset);const l=un(i,o);switch(l){case"prefix":return"before";case"extension":return"after";default:return i[l]<o[l]?"before":"after"}}getWalker(e={}){return e.startPosition=this,new Js(e)}clone(){return new ae(this.parent,this.offset)}static _createAt(e,i){if(e instanceof ae)return new this(e.parent,e.offset);{const o=e;if(i=="end")i=o.is("$text")?o.data.length:o.childCount;else{if(i=="before")return this._createBefore(o);if(i=="after")return this._createAfter(o);if(i!==0&&!i)throw new j("view-createpositionat-offset-required",o)}return new ae(o,i)}}static _createAfter(e){if(e.is("$textProxy"))return new ae(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new j("view-position-after-root",e,{root:e});return new ae(e.parent,e.index+1)}static _createBefore(e){if(e.is("$textProxy"))return new ae(e.textNode,e.offsetInText);if(!e.parent)throw new j("view-position-before-root",e,{root:e});return new ae(e.parent,e.index)}}ae.prototype.is=function(a){return a==="position"||a==="view:position"};class ve extends Qs{constructor(e,i=null){super(),this.start=e.clone(),this.end=i?i.clone():e.clone()}*[Symbol.iterator](){yield*new Js({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return this.start.parent===this.end.parent}get root(){return this.start.root}getEnlarged(){let e=this.start.getLastMatchingPosition(Qf,{direction:"backward"}),i=this.end.getLastMatchingPosition(Qf);return e.parent.is("$text")&&e.isAtStart&&(e=ae._createBefore(e.parent)),i.parent.is("$text")&&i.isAtEnd&&(i=ae._createAfter(i.parent)),new ve(e,i)}getTrimmed(){let e=this.start.getLastMatchingPosition(Qf);if(e.isAfter(this.end)||e.isEqual(this.end))return new ve(e,e);let i=this.end.getLastMatchingPosition(Qf,{direction:"backward"});const o=e.nodeAfter,l=i.nodeBefore;return o&&o.is("$text")&&(e=new ae(o,0)),l&&l.is("$text")&&(i=new ae(l,l.data.length)),new ve(e,i)}isEqual(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const o=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return o&&l}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new ve(this.start,e.start)),this.containsPosition(e.end)&&i.push(new ve(e.end,this.end))):i.push(this.clone()),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,o=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(o=e.end),new ve(i,o)}return null}getWalker(e={}){return e.boundaries=this,new Js(e)}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;let e=this.start.nodeAfter,i=this.end.nodeBefore;return this.start.parent.is("$text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("$text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(i=this.end.parent.previousSibling),e&&e.is("element")&&e===i?e:null}clone(){return new ve(this.start,this.end)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new Js(e);for(const o of i)yield o.item}*getPositions(e={}){e.boundaries=this;const i=new Js(e);yield i.position;for(const o of i)yield o.nextPosition}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}static _createFromParentsAndOffsets(e,i,o,l){return new this(new ae(e,i),new ae(o,l))}static _createFromPositionAndShift(e,i){const o=e,l=e.getShiftedBy(i);return i>0?new this(o,l):new this(l,o)}static _createIn(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}static _createOn(e){const i=e.is("$textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(ae._createBefore(e),i)}}function Qf(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}ve.prototype.is=function(a){return a==="range"||a==="view:range"};class br extends ce(Qs){constructor(...e){super(),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",e.length&&this.setTo(...e)}get isFake(){return this._isFake}get fakeSelectionLabel(){return this._fakeSelectionLabel}get anchor(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}get focus(){if(!this._ranges.length)return null;const e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}get isCollapsed(){return this.rangeCount===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}get editableElement(){return this.anchor?this.anchor.editableElement:null}*getRanges(){for(const e of this._ranges)yield e.clone()}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?e.clone():null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?e.clone():null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}isEqual(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let o=!1;for(const l of e._ranges)if(i.isEqual(l)){o=!0;break}if(!o)return!1}return!0}isSimilar(e){if(this.isBackward!=e.isBackward)return!1;const i=Qc(this.getRanges());if(i!=Qc(e.getRanges()))return!1;if(i==0)return!0;for(let o of this.getRanges()){o=o.getTrimmed();let l=!1;for(let c of e.getRanges())if(c=c.getTrimmed(),o.start.isEqual(c.start)&&o.end.isEqual(c.end)){l=!0;break}if(!l)return!1}return!0}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}setTo(...e){let[i,o,l]=e;if(typeof o=="object"&&(l=o,o=void 0),i===null)this._setRanges([]),this._setFakeOptions(l);else if(i instanceof br||i instanceof iw)this._setRanges(i.getRanges(),i.isBackward),this._setFakeOptions({fake:i.isFake,label:i.fakeSelectionLabel});else if(i instanceof ve)this._setRanges([i],l&&l.backward),this._setFakeOptions(l);else if(i instanceof ae)this._setRanges([new ve(i)]),this._setFakeOptions(l);else if(i instanceof Ys){const c=!!l&&!!l.backward;let d;if(o===void 0)throw new j("view-selection-setto-required-second-parameter",this);d=o=="in"?ve._createIn(i):o=="on"?ve._createOn(i):new ve(ae._createAt(i,o)),this._setRanges([d],c),this._setFakeOptions(l)}else{if(!An(i))throw new j("view-selection-setto-not-selectable",this);this._setRanges(i,l&&l.backward),this._setFakeOptions(l)}this.fire("change")}setFocus(e,i){if(this.anchor===null)throw new j("view-selection-setfocus-no-ranges",this);const o=ae._createAt(e,i);if(o.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.pop(),o.compareWith(l)=="before"?this._addRange(new ve(o,l),!0):this._addRange(new ve(l,o)),this.fire("change")}_setRanges(e,i=!1){e=Array.from(e),this._ranges=[];for(const o of e)this._addRange(o);this._lastRangeBackward=!!i}_setFakeOptions(e={}){this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}_addRange(e,i=!1){if(!(e instanceof ve))throw new j("view-selection-add-range-not-range",this);this._pushRange(e),this._lastRangeBackward=!!i}_pushRange(e){for(const i of this._ranges)if(e.isIntersecting(i))throw new j("view-selection-range-intersects",this,{addedRange:e,intersectingRange:i});this._ranges.push(new ve(e.start,e.end))}}br.prototype.is=function(a){return a==="selection"||a==="view:selection"};class iw extends ce(Qs){constructor(...e){super(),this._selection=new br,this._selection.delegate("change").to(this),e.length&&this._selection.setTo(...e)}get isFake(){return this._selection.isFake}get fakeSelectionLabel(){return this._selection.fakeSelectionLabel}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get isCollapsed(){return this._selection.isCollapsed}get rangeCount(){return this._selection.rangeCount}get isBackward(){return this._selection.isBackward}get editableElement(){return this._selection.editableElement}get _ranges(){return this._selection._ranges}*getRanges(){yield*this._selection.getRanges()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getSelectedElement(){return this._selection.getSelectedElement()}isEqual(e){return this._selection.isEqual(e)}isSimilar(e){return this._selection.isSimilar(e)}_setTo(...e){this._selection.setTo(...e)}_setFocus(e,i){this._selection.setFocus(e,i)}}iw.prototype.is=function(a){return a==="selection"||a=="documentSelection"||a=="view:selection"||a=="view:documentSelection"};class hl extends O{constructor(e,i,o){super(e,i),this.startRange=o,this._eventPhase="none",this._currentTarget=null}get eventPhase(){return this._eventPhase}get currentTarget(){return this._currentTarget}}const rw=Symbol("bubbling contexts");function ow(a){return class extends a{fire(e,...i){try{const o=e instanceof O?e:new O(this,e),l=sw(this);if(!l.size)return;if(Au(o,"capturing",this),fl(l,"$capture",o,...i))return o.return;const c=o.startRange||this.selection.getFirstRange(),d=c?c.getContainedElement():null,f=!!d&&!!eE(l,d);let g=d||function(k){if(!k)return null;const w=k.start.parent,_=k.end.parent,y=w.getPath(),I=_.getPath();return y.length>I.length?w:_}(c);if(Au(o,"atTarget",g),!f){if(fl(l,"$text",o,...i))return o.return;Au(o,"bubbling",g)}for(;g;){if(g.is("rootElement")){if(fl(l,"$root",o,...i))return o.return}else if(g.is("element")&&fl(l,g.name,o,...i))return o.return;if(fl(l,g,o,...i))return o.return;g=g.parent,Au(o,"bubbling",g)}return Au(o,"bubbling",this),fl(l,"$document",o,...i),o.return}catch(o){j.rethrowUnexpectedError(o,this)}}_addEventListener(e,i,o){const l=nn(o.context||"$document"),c=sw(this);for(const d of l){let f=c.get(d);f||(f=new(ce()),c.set(d,f)),this.listenTo(f,e,i,o)}}_removeEventListener(e,i){const o=sw(this);for(const l of o.values())this.stopListening(l,e,i)}}}{const a=ow(Object);["fire","_addEventListener","_removeEventListener"].forEach(e=>{ow[e]=a.prototype[e]})}function Au(a,e,i){a instanceof hl&&(a._eventPhase=e,a._currentTarget=i)}function fl(a,e,i,...o){const l=typeof e=="string"?a.get(e):eE(a,e);return!!l&&(l.fire(i,...o),i.stop.called)}function eE(a,e){for(const[i,o]of a)if(typeof i=="function"&&i(e))return o;return null}function sw(a){return a[rw]||(a[rw]=new Map),a[rw]}class Yf extends ow(Xe()){constructor(e){super(),this._postFixers=new Set,this.selection=new iw,this.roots=new Li({idProperty:"rootName"}),this.stylesProcessor=e,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isSelecting",!1),this.set("isComposing",!1)}getRoot(e="main"){return this.roots.get(e)}registerPostFixer(e){this._postFixers.add(e)}destroy(){this.roots.map(e=>e.destroy()),this.stopListening()}_callPostFixers(e){let i=!1;do for(const o of this._postFixers)if(i=o(e),i)break;while(i)}}class Xs extends ci{constructor(e,i,o,l){super(e,i,o,l),this._priority=10,this._id=null,this._clonesGroup=null,this.getFillerOffset=gz}get priority(){return this._priority}get id(){return this._id}getElementsWithSameId(){if(this.id===null)throw new j("attribute-element-get-elements-with-same-id-no-id",this);return new Set(this._clonesGroup)}isSimilar(e){return this.id!==null||e.id!==null?this.id===e.id:super.isSimilar(e)&&this.priority==e.priority}_clone(e=!1){const i=super._clone(e);return i._priority=this._priority,i._id=this._id,i}}function gz(){if(aw(this))return null;let a=this.parent;for(;a&&a.is("attributeElement");){if(aw(a)>1)return null;a=a.parent}return!a||aw(a)>1?null:this.childCount}function aw(a){return Array.from(a.getChildren()).filter(e=>!e.is("uiElement")).length}Xs.DEFAULT_PRIORITY=10,Xs.prototype.is=function(a,e){return e?e===this.name&&(a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"):a==="attributeElement"||a==="view:attributeElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class lw extends ci{constructor(e,i,o,l){super(e,i,o,l),this.getFillerOffset=mz}_insertChild(e,i){if(i&&(i instanceof Ys||Array.from(i).length>0))throw new j("view-emptyelement-cannot-add",[this,i]);return 0}}function mz(){return null}lw.prototype.is=function(a,e){return e?e===this.name&&(a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"):a==="emptyElement"||a==="view:emptyElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class Zf extends ci{constructor(e,i,o,l){super(e,i,o,l),this.getFillerOffset=bz}_insertChild(e,i){if(i&&(i instanceof Ys||Array.from(i).length>0))throw new j("view-uielement-cannot-add",[this,i]);return 0}render(e,i){return this.toDomElement(e)}toDomElement(e){const i=e.createElement(this.name);for(const o of this.getAttributeKeys())i.setAttribute(o,this.getAttribute(o));return i}}function kz(a){a.document.on("arrowKey",(e,i)=>function(o,l,c){if(l.keyCode==Ue.arrowright){const d=l.domTarget.ownerDocument.defaultView.getSelection(),f=d.rangeCount==1&&d.getRangeAt(0).collapsed;if(f||l.shiftKey){const g=d.focusNode,k=d.focusOffset,w=c.domPositionToView(g,k);if(w===null)return;let _=!1;const y=w.getLastMatchingPosition(I=>(I.item.is("uiElement")&&(_=!0),!(!I.item.is("uiElement")&&!I.item.is("attributeElement"))));if(_){const I=c.viewPositionToDom(y);f?d.collapse(I.parent,I.offset):d.extend(I.parent,I.offset)}}}}(0,i,a.domConverter),{priority:"low"})}function bz(){return null}Zf.prototype.is=function(a,e){return e?e===this.name&&(a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"):a==="uiElement"||a==="view:uiElement"||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class cw extends ci{constructor(e,i,o,l){super(e,i,o,l),this.getFillerOffset=wz}_insertChild(e,i){if(i&&(i instanceof Ys||Array.from(i).length>0))throw new j("view-rawelement-cannot-add",[this,i]);return 0}render(e,i){}}function wz(){return null}cw.prototype.is=function(a,e){return e?e===this.name&&(a==="rawElement"||a==="view:rawElement"||a==="element"||a==="view:element"):a==="rawElement"||a==="view:rawElement"||a===this.name||a==="view:"+this.name||a==="element"||a==="view:element"||a==="node"||a==="view:node"};class ea extends ce(Qs){constructor(e,i){super(),this._children=[],this._customProperties=new Map,this.document=e,i&&this._insertChild(0,i)}[Symbol.iterator](){return this._children[Symbol.iterator]()}get childCount(){return this._children.length}get isEmpty(){return this.childCount===0}get root(){return this}get parent(){return null}get name(){}getCustomProperty(e){return this._customProperties.get(e)}*getCustomProperties(){yield*this._customProperties.entries()}_appendChild(e){return this._insertChild(this.childCount,e)}getChild(e){return this._children[e]}getChildIndex(e){return this._children.indexOf(e)}getChildren(){return this._children[Symbol.iterator]()}_insertChild(e,i){this._fireChange("children",this);let o=0;const l=function(c,d){return typeof d=="string"?[new ut(c,d)]:(An(d)||(d=[d]),Array.from(d).map(f=>typeof f=="string"?new ut(c,f):f instanceof kr?new ut(c,f.data):f))}(this.document,i);for(const c of l)c.parent!==null&&c._remove(),c.parent=this,this._children.splice(e,0,c),e++,o++;return o}_removeChildren(e,i=1){this._fireChange("children",this);for(let o=e;o<e+i;o++)this._children[o].parent=null;return this._children.splice(e,i)}_fireChange(e,i){this.fire("change:"+e,i)}_setCustomProperty(e,i){this._customProperties.set(e,i)}_removeCustomProperty(e){return this._customProperties.delete(e)}}ea.prototype.is=function(a){return a==="documentFragment"||a==="view:documentFragment"};class tE{constructor(e){this._cloneGroups=new Map,this._slotFactory=null,this.document=e}setSelection(...e){this.document.selection._setTo(...e)}setSelectionFocus(e,i){this.document.selection._setFocus(e,i)}createDocumentFragment(e){return new ea(this.document,e)}createText(e){return new ut(this.document,e)}createAttributeElement(e,i,o={}){const l=new Xs(this.document,e,i);return typeof o.priority=="number"&&(l._priority=o.priority),o.id&&(l._id=o.id),o.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),l}createContainerElement(e,i,o={},l={}){let c=null;vn(o)?l=o:c=o;const d=new _u(this.document,e,i,c);return l.renderUnsafeAttributes&&d._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),d}createEditableElement(e,i,o={}){const l=new Kf(this.document,e,i);return o.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),l}createEmptyElement(e,i,o={}){const l=new lw(this.document,e,i);return o.renderUnsafeAttributes&&l._unsafeAttributesToRender.push(...o.renderUnsafeAttributes),l}createUIElement(e,i,o){const l=new Zf(this.document,e,i);return o&&(l.render=o),l}createRawElement(e,i,o,l={}){const c=new cw(this.document,e,i);return o&&(c.render=o),l.renderUnsafeAttributes&&c._unsafeAttributesToRender.push(...l.renderUnsafeAttributes),c}setAttribute(e,i,o){o._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,o){vn(e)&&o===void 0?i._setStyle(e):o._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,o){o._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}breakAttributes(e){return e instanceof ae?this._breakAttributes(e):this._breakAttributesRange(e)}breakContainer(e){const i=e.parent;if(!i.is("containerElement"))throw new j("view-writer-break-non-container-element",this.document);if(!i.parent)throw new j("view-writer-break-root",this.document);if(e.isAtStart)return ae._createBefore(i);if(!e.isAtEnd){const o=i._clone(!1);this.insert(ae._createAfter(i),o);const l=new ve(e,ae._createAt(i,"end")),c=new ae(o,0);this.move(l,c)}return ae._createAfter(i)}mergeAttributes(e){const i=e.offset,o=e.parent;if(o.is("$text"))return e;if(o.is("attributeElement")&&o.childCount===0){const d=o.parent,f=o.index;return o._remove(),this._removeFromClonedElementsGroup(o),this.mergeAttributes(new ae(d,f))}const l=o.getChild(i-1),c=o.getChild(i);if(!l||!c)return e;if(l.is("$text")&&c.is("$text"))return iE(l,c);if(l.is("attributeElement")&&c.is("attributeElement")&&l.isSimilar(c)){const d=l.childCount;return l._appendChild(c.getChildren()),c._remove(),this._removeFromClonedElementsGroup(c),this.mergeAttributes(new ae(l,d))}return e}mergeContainers(e){const i=e.nodeBefore,o=e.nodeAfter;if(!(i&&o&&i.is("containerElement")&&o.is("containerElement")))throw new j("view-writer-merge-containers-invalid-position",this.document);const l=i.getChild(i.childCount-1),c=l instanceof ut?ae._createAt(l,"end"):ae._createAt(i,"end");return this.move(ve._createIn(o),ae._createAt(i,"end")),this.remove(ve._createOn(o)),c}insert(e,i){rE(i=An(i)?[...i]:[i],this.document);const o=i.reduce((d,f)=>{const g=d[d.length-1],k=!f.is("uiElement");return g&&g.breakAttributes==k?g.nodes.push(f):d.push({breakAttributes:k,nodes:[f]}),d},[]);let l=null,c=e;for(const{nodes:d,breakAttributes:f}of o){const g=this._insertNodes(c,d,f);l||(l=g.start),c=g.end}return l?new ve(l,c):new ve(e)}remove(e){const i=e instanceof ve?e:ve._createOn(e);if(vu(i,this.document),i.isCollapsed)return new ea(this.document);const{start:o,end:l}=this._breakAttributesRange(i,!0),c=o.parent,d=l.offset-o.offset,f=c._removeChildren(o.offset,d);for(const k of f)this._removeFromClonedElementsGroup(k);const g=this.mergeAttributes(o);return i.start=g,i.end=g.clone(),new ea(this.document,f)}clear(e,i){vu(e,this.document);const o=e.getWalker({direction:"backward",ignoreElementEnd:!0});for(const l of o){const c=l.item;let d;if(c.is("element")&&i.isSimilar(c))d=ve._createOn(c);else if(!l.nextPosition.isAfter(e.start)&&c.is("$textProxy")){const f=c.getAncestors().find(g=>g.is("element")&&i.isSimilar(g));f&&(d=ve._createIn(f))}d&&(d.end.isAfter(e.end)&&(d.end=e.end),d.start.isBefore(e.start)&&(d.start=e.start),this.remove(d))}}move(e,i){let o;if(i.isAfter(e.end)){const l=(i=this._breakAttributes(i,!0)).parent,c=l.childCount;e=this._breakAttributesRange(e,!0),o=this.remove(e),i.offset+=l.childCount-c}else o=this.remove(e);return this.insert(i,o)}wrap(e,i){if(!(i instanceof Xs))throw new j("view-writer-wrap-invalid-attribute",this.document);if(vu(e,this.document),e.isCollapsed){let l=e.start;l.parent.is("element")&&(o=l.parent,!Array.from(o.getChildren()).some(d=>!d.is("uiElement")))&&(l=l.getLastMatchingPosition(d=>d.item.is("uiElement"))),l=this._wrapPosition(l,i);const c=this.document.selection;return c.isCollapsed&&c.getFirstPosition().isEqual(e.start)&&this.setSelection(l),new ve(l)}return this._wrapRange(e,i);var o}unwrap(e,i){if(!(i instanceof Xs))throw new j("view-writer-unwrap-invalid-attribute",this.document);if(vu(e,this.document),e.isCollapsed)return e;const{start:o,end:l}=this._breakAttributesRange(e,!0),c=o.parent,d=this._unwrapChildren(c,o.offset,l.offset,i),f=this.mergeAttributes(d.start);f.isEqual(d.start)||d.end.offset--;const g=this.mergeAttributes(d.end);return new ve(f,g)}rename(e,i){const o=new _u(this.document,e,i.getAttributes());return this.insert(ae._createAfter(i),o),this.move(ve._createIn(i),ae._createAt(o,0)),this.remove(ve._createOn(i)),o}clearClonedElementsGroup(e){this._cloneGroups.delete(e)}createPositionAt(e,i){return ae._createAt(e,i)}createPositionAfter(e){return ae._createAfter(e)}createPositionBefore(e){return ae._createBefore(e)}createRange(e,i){return new ve(e,i)}createRangeOn(e){return ve._createOn(e)}createRangeIn(e){return ve._createIn(e)}createSelection(...e){return new br(...e)}createSlot(e="children"){if(!this._slotFactory)throw new j("view-writer-invalid-create-slot-context",this.document);return this._slotFactory(this,e)}_registerSlotFactory(e){this._slotFactory=e}_clearSlotFactory(){this._slotFactory=null}_insertNodes(e,i,o){let l,c;if(l=o?uw(e):e.parent.is("$text")?e.parent.parent:e.parent,!l)throw new j("view-writer-invalid-position-container",this.document);c=o?this._breakAttributes(e,!0):e.parent.is("$text")?dw(e):e;const d=l._insertChild(c.offset,i);for(const w of i)this._addToClonedElementsGroup(w);const f=c.getShiftedBy(d),g=this.mergeAttributes(c);g.isEqual(c)||f.offset--;const k=this.mergeAttributes(f);return new ve(g,k)}_wrapChildren(e,i,o,l){let c=i;const d=[];for(;c<o;){const g=e.getChild(c),k=g.is("$text"),w=g.is("attributeElement");if(w&&this._wrapAttributeElement(l,g))d.push(new ae(e,c));else if(k||!w||_z(l,g)){const _=l._clone();g._remove(),_._appendChild(g),e._insertChild(c,_),this._addToClonedElementsGroup(_),d.push(new ae(e,c))}else this._wrapChildren(g,0,g.childCount,l);c++}let f=0;for(const g of d)g.offset-=f,g.offset!=i&&(this.mergeAttributes(g).isEqual(g)||(f++,o--));return ve._createFromParentsAndOffsets(e,i,e,o)}_unwrapChildren(e,i,o,l){let c=i;const d=[];for(;c<o;){const g=e.getChild(c);if(g.is("attributeElement"))if(g.isSimilar(l)){const k=g.getChildren(),w=g.childCount;g._remove(),e._insertChild(c,k),this._removeFromClonedElementsGroup(g),d.push(new ae(e,c),new ae(e,c+w)),c+=w,o+=w-1}else this._unwrapAttributeElement(l,g)?(d.push(new ae(e,c),new ae(e,c+1)),c++):(this._unwrapChildren(g,0,g.childCount,l),c++);else c++}let f=0;for(const g of d)g.offset-=f,!(g.offset==i||g.offset==o)&&(this.mergeAttributes(g).isEqual(g)||(f++,o--));return ve._createFromParentsAndOffsets(e,i,e,o)}_wrapRange(e,i){const{start:o,end:l}=this._breakAttributesRange(e,!0),c=o.parent,d=this._wrapChildren(c,o.offset,l.offset,i),f=this.mergeAttributes(d.start);f.isEqual(d.start)||d.end.offset--;const g=this.mergeAttributes(d.end);return new ve(f,g)}_wrapPosition(e,i){if(i.isSimilar(e.parent))return nE(e.clone());e.parent.is("$text")&&(e=dw(e));const o=this.createAttributeElement("_wrapPosition-fake-element");o._priority=Number.POSITIVE_INFINITY,o.isSimilar=()=>!1,e.parent._insertChild(e.offset,o);const l=new ve(e,e.getShiftedBy(1));this.wrap(l,i);const c=new ae(o.parent,o.index);o._remove();const d=c.nodeBefore,f=c.nodeAfter;return d instanceof ut&&f instanceof ut?iE(d,f):nE(c)}_wrapAttributeElement(e,i){if(!oE(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&i.hasAttribute(o)&&i.getAttribute(o)!==e.getAttribute(o))return!1;for(const o of e.getStyleNames())if(i.hasStyle(o)&&i.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&(i.hasAttribute(o)||this.setAttribute(o,e.getAttribute(o),i));for(const o of e.getStyleNames())i.hasStyle(o)||this.setStyle(o,e.getStyle(o),i);for(const o of e.getClassNames())i.hasClass(o)||this.addClass(o,i);return!0}_unwrapAttributeElement(e,i){if(!oE(e,i)||e.name!==i.name||e.priority!==i.priority)return!1;for(const o of e.getAttributeKeys())if(o!=="class"&&o!=="style"&&(!i.hasAttribute(o)||i.getAttribute(o)!==e.getAttribute(o)))return!1;if(!i.hasClass(...e.getClassNames()))return!1;for(const o of e.getStyleNames())if(!i.hasStyle(o)||i.getStyle(o)!==e.getStyle(o))return!1;for(const o of e.getAttributeKeys())o!=="class"&&o!=="style"&&this.removeAttribute(o,i);return this.removeClass(Array.from(e.getClassNames()),i),this.removeStyle(Array.from(e.getStyleNames()),i),!0}_breakAttributesRange(e,i=!1){const o=e.start,l=e.end;if(vu(e,this.document),e.isCollapsed){const g=this._breakAttributes(e.start,i);return new ve(g,g)}const c=this._breakAttributes(l,i),d=c.parent.childCount,f=this._breakAttributes(o,i);return c.offset+=c.parent.childCount-d,new ve(f,c)}_breakAttributes(e,i=!1){const o=e.offset,l=e.parent;if(e.parent.is("emptyElement"))throw new j("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new j("view-writer-cannot-break-ui-element",this.document);if(e.parent.is("rawElement"))throw new j("view-writer-cannot-break-raw-element",this.document);if(!i&&l.is("$text")&&hw(l.parent)||hw(l))return e.clone();if(l.is("$text"))return this._breakAttributes(dw(e),i);if(o==l.childCount){const c=new ae(l.parent,l.index+1);return this._breakAttributes(c,i)}if(o===0){const c=new ae(l.parent,l.index);return this._breakAttributes(c,i)}{const c=l.index+1,d=l._clone();l.parent._insertChild(c,d),this._addToClonedElementsGroup(d);const f=l.childCount-o,g=l._removeChildren(o,f);d._appendChild(g);const k=new ae(l.parent,c);return this._breakAttributes(k,i)}}_addToClonedElementsGroup(e){if(!e.root.is("rootElement"))return;if(e.is("element"))for(const l of e.getChildren())this._addToClonedElementsGroup(l);const i=e.id;if(!i)return;let o=this._cloneGroups.get(i);o||(o=new Set,this._cloneGroups.set(i,o)),o.add(e),e._clonesGroup=o}_removeFromClonedElementsGroup(e){if(e.is("element"))for(const l of e.getChildren())this._removeFromClonedElementsGroup(l);const i=e.id;if(!i)return;const o=this._cloneGroups.get(i);o&&o.delete(e)}}function uw(a){let e=a.parent;for(;!hw(e);){if(!e)return;e=e.parent}return e}function _z(a,e){return a.priority<e.priority||!(a.priority>e.priority)&&a.getIdentity()<e.getIdentity()}function nE(a){const e=a.nodeBefore;if(e&&e.is("$text"))return new ae(e,e.data.length);const i=a.nodeAfter;return i&&i.is("$text")?new ae(i,0):a}function dw(a){if(a.offset==a.parent.data.length)return new ae(a.parent.parent,a.parent.index+1);if(a.offset===0)return new ae(a.parent.parent,a.parent.index);const e=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new ut(a.root.document,e)),new ae(a.parent.parent,a.parent.index+1)}function iE(a,e){const i=a.data.length;return a._data+=e.data,e._remove(),new ae(a,i)}const Az=[ut,Xs,_u,lw,cw,Zf];function rE(a,e){for(const i of a){if(!Az.some(o=>i instanceof o))throw new j("view-writer-insert-invalid-node-type",e);i.is("$text")||rE(i.getChildren(),e)}}function hw(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function vu(a,e){const i=uw(a.start),o=uw(a.end);if(!i||!o||i!==o)throw new j("view-writer-invalid-range-container",e)}function oE(a,e){return a.id===null&&e.id===null}const sE=a=>a.createTextNode(""),aE=a=>{const e=a.createElement("span");return e.dataset.ckeFiller="true",e.innerText="",e},lE=a=>{const e=a.createElement("br");return e.dataset.ckeFiller="true",e},Vi=7,yu="".repeat(Vi);function ui(a){return typeof a=="string"?a.substr(0,Vi)===yu:Vt(a)&&a.data.substr(0,Vi)===yu}function Cu(a){return a.data.length==Vi&&ui(a)}function cE(a){const e=typeof a=="string"?a:a.data;return ui(a)?e.slice(Vi):e}function vz(a,e){if(e.keyCode==Ue.arrowleft){const i=e.domTarget.ownerDocument.defaultView.getSelection();if(i.rangeCount==1&&i.getRangeAt(0).collapsed){const o=i.getRangeAt(0).startContainer,l=i.getRangeAt(0).startOffset;ui(o)&&l<=Vi&&i.collapse(o,0)}}}var uE=u(9315),yz={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(uE.Z,yz),uE.Z.locals;class Cz extends Xe(){constructor(e,i){super(),this.domDocuments=new Set,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this._inlineFiller=null,this._fakeSelectionContainer=null,this.domConverter=e,this.selection=i,this.set("isFocused",!1),this.set("isSelecting",!1),C.isBlink&&!C.isAndroid&&this.on("change:isSelecting",()=>{this.isSelecting||this.render()}),this.set("isComposing",!1),this.on("change:isComposing",()=>{this.isComposing||this.render()})}markToSync(e,i){if(e==="text")this.domConverter.mapViewToDom(i.parent)&&this.markedTexts.add(i);else{if(!this.domConverter.mapViewToDom(i))return;if(e==="attributes")this.markedAttributes.add(i);else{if(e!=="children")throw new j("view-renderer-unknown-type",this);this.markedChildren.add(i)}}}render(){if(this.isComposing&&!C.isAndroid)return;let e=null;const i=!(C.isBlink&&!C.isAndroid)||!this.isSelecting;for(const o of this.markedChildren)this._updateChildrenMappings(o);i?(this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent))):this._inlineFiller&&this._inlineFiller.parentNode&&(e=this.domConverter.domPositionToView(this._inlineFiller),e&&e.parent.is("$text")&&(e=ae._createBefore(e.parent)));for(const o of this.markedAttributes)this._updateAttrs(o);for(const o of this.markedChildren)this._updateChildren(o,{inlineFillerPosition:e});for(const o of this.markedTexts)!this.markedChildren.has(o.parent)&&this.domConverter.mapViewToDom(o.parent)&&this._updateText(o,{inlineFillerPosition:e});if(i)if(e){const o=this.domConverter.viewPositionToDom(e),l=o.parent.ownerDocument;ui(o.parent)?this._inlineFiller=o.parent:this._inlineFiller=dE(l,o.parent,o.offset)}else this._inlineFiller=null;this._updateFocus(),this._updateSelection(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}_updateChildrenMappings(e){if(!this.domConverter.mapViewToDom(e))return;const i=Array.from(this.domConverter.mapViewToDom(e).childNodes),o=Array.from(this.domConverter.viewChildrenToDom(e,{withChildren:!1})),l=this._diffNodeLists(i,o),c=this._findUpdateActions(l,i,o,Ez);if(c.indexOf("update")!==-1){const d={equal:0,insert:0,delete:0};for(const f of c)if(f==="update"){const g=d.equal+d.insert,k=d.equal+d.delete,w=e.getChild(g);!w||w.is("uiElement")||w.is("rawElement")||this._updateElementMappings(w,i[k]),e1(o[g]),d.equal++}else d[f]++}}_updateElementMappings(e,i){this.domConverter.unbindDomElement(i),this.domConverter.bindElements(i,e),this.markedChildren.add(e),this.markedAttributes.add(e)}_getInlineFillerPosition(){const e=this.selection.getFirstPosition();return e.parent.is("$text")?ae._createBefore(e.parent):e}_isSelectionInInlineFiller(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=this.domConverter.viewPositionToDom(e);return!!(i&&Vt(i.parent)&&ui(i.parent))}_removeInlineFiller(){const e=this._inlineFiller;if(!ui(e))throw new j("view-renderer-filler-was-lost",this);Cu(e)?e.remove():e.data=e.data.substr(Vi),this._inlineFiller=null}_needsInlineFillerAtSelection(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;const e=this.selection.getFirstPosition(),i=e.parent,o=e.offset;if(!this.domConverter.mapViewToDom(i.root)||!i.is("element")||!function(d){if(d.getAttribute("contenteditable")=="false")return!1;const f=d.findAncestor(g=>g.hasAttribute("contenteditable"));return!f||f.getAttribute("contenteditable")=="true"}(i)||o===i.getFillerOffset())return!1;const l=e.nodeBefore,c=e.nodeAfter;return!(l instanceof ut||c instanceof ut)&&(!C.isAndroid||!l&&!c)}_updateText(e,i){const o=this.domConverter.findCorrespondingDomText(e);let l=this.domConverter.viewToDom(e).data;const c=i.inlineFillerPosition;c&&c.parent==e.parent&&c.offset==e.index&&(l=yu+l),hE(o,l)}_updateAttrs(e){const i=this.domConverter.mapViewToDom(e);if(!i)return;const o=Array.from(i.attributes).map(c=>c.name),l=e.getAttributeKeys();for(const c of l)this.domConverter.setDomElementAttribute(i,c,e.getAttribute(c),e);for(const c of o)e.hasAttribute(c)||this.domConverter.removeDomElementAttribute(i,c)}_updateChildren(e,i){const o=this.domConverter.mapViewToDom(e);if(!o)return;if(C.isAndroid){let _=null;for(const y of Array.from(o.childNodes)){if(_&&Vt(_)&&Vt(y)){o.normalize();break}_=y}}const l=i.inlineFillerPosition,c=o.childNodes,d=Array.from(this.domConverter.viewChildrenToDom(e,{bind:!0}));l&&l.parent===e&&dE(o.ownerDocument,d,l.offset);const f=this._diffNodeLists(c,d),g=this._findUpdateActions(f,c,d,xz);let k=0;const w=new Set;for(const _ of g)_==="delete"?(w.add(c[k]),e1(c[k])):_!=="equal"&&_!=="update"||k++;k=0;for(const _ of g)_==="insert"?(YC(o,k,d[k]),k++):_==="update"?(hE(c[k],d[k].data),k++):_==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(d[k])),k++);for(const _ of w)_.parentNode||this.domConverter.unbindDomElement(_)}_diffNodeLists(e,i){return e=function(o,l){const c=Array.from(o);return c.length==0||!l||c[c.length-1]==l&&c.pop(),c}(e,this._fakeSelectionContainer),L(e,i,Iz.bind(null,this.domConverter))}_findUpdateActions(e,i,o,l){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;let c=[],d=[],f=[];const g={equal:0,insert:0,delete:0};for(const k of e)k==="insert"?f.push(o[g.equal+g.insert]):k==="delete"?d.push(i[g.equal+g.delete]):(c=c.concat(L(d,f,l).map(w=>w==="equal"?"update":w)),c.push("equal"),d=[],f=[]),g[k]++;return c.concat(L(d,f,l).map(k=>k==="equal"?"update":k))}_markDescendantTextToSync(e){if(e){if(e.is("$text"))this.markedTexts.add(e);else if(e.is("element"))for(const i of e.getChildren())this._markDescendantTextToSync(i)}}_updateSelection(){if(C.isBlink&&!C.isAndroid&&this.isSelecting&&!this.markedChildren.size)return;if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();const e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):this._fakeSelectionContainer&&this._fakeSelectionContainer.isConnected?(this._removeFakeSelection(),this._updateDomSelection(e)):this.isComposing&&C.isAndroid||this._updateDomSelection(e))}_updateFakeSelection(e){const i=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(d){const f=d.createElement("div");return f.className="ck-fake-selection-container",Object.assign(f.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),f.textContent="",f}(i));const o=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(o,this.selection),!this._fakeSelectionNeedsUpdate(e))return;o.parentElement&&o.parentElement==e||e.appendChild(o),o.textContent=this.selection.fakeSelectionLabel||"";const l=i.getSelection(),c=i.createRange();l.removeAllRanges(),c.selectNodeContents(o),l.addRange(c)}_updateDomSelection(e){const i=e.ownerDocument.defaultView.getSelection();if(!this._domSelectionNeedsUpdate(i))return;const o=this.domConverter.viewPositionToDom(this.selection.anchor),l=this.domConverter.viewPositionToDom(this.selection.focus);i.setBaseAndExtent(o.parent,o.offset,l.parent,l.offset),C.isGecko&&function(c,d){const f=c.parent;if(f.nodeType!=Node.ELEMENT_NODE||c.offset!=f.childNodes.length-1)return;const g=f.childNodes[c.offset];g&&g.tagName=="BR"&&d.addRange(d.getRangeAt(0))}(l,i)}_domSelectionNeedsUpdate(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;const i=e&&this.domConverter.domSelectionToView(e);return(!i||!this.selection.isEqual(i))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(i))}_fakeSelectionNeedsUpdate(e){const i=this._fakeSelectionContainer,o=e.ownerDocument.getSelection();return!i||i.parentElement!==e||o.anchorNode!==i&&!i.contains(o.anchorNode)||i.textContent!==this.selection.fakeSelectionLabel}_removeDomSelection(){for(const e of this.domDocuments){const i=e.getSelection();if(i.rangeCount){const o=e.activeElement,l=this.domConverter.mapDomToView(o);o&&l&&i.removeAllRanges()}}}_removeFakeSelection(){const e=this._fakeSelectionContainer;e&&e.remove()}_updateFocus(){if(this.isFocused){const e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}function dE(a,e,i){const o=e instanceof Array?e:e.childNodes,l=o[i];if(Vt(l))return l.data=yu+l.data,l;{const c=a.createTextNode(yu);return Array.isArray(e)?o.splice(i,0,c):YC(e,i,c),c}}function Ez(a,e){return Ro(a)&&Ro(e)&&!Vt(a)&&!Vt(e)&&!bu(a)&&!bu(e)&&a.tagName.toLowerCase()===e.tagName.toLowerCase()}function xz(a,e){return Ro(a)&&Ro(e)&&Vt(a)&&Vt(e)}function Iz(a,e,i){return e===i||(Vt(e)&&Vt(i)?e.data===i.data:!(!a.isBlockFiller(e)||!a.isBlockFiller(i)))}function hE(a,e){const i=a.data;if(i==e)return;const o=x(i,e);for(const l of o)l.type==="insert"?a.insertData(l.index,l.values.join("")):a.deleteData(l.index,l.howMany)}const Tz=lE(Ne.document),Sz=sE(Ne.document),Dz=aE(Ne.document),Jf="data-ck-unsafe-attribute-",fE="data-ck-unsafe-element";class Xf{constructor(e,{blockFillerMode:i,renderingMode:o="editing"}={}){this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap,this._rawContentElementMatcher=new ji,this._inlineObjectElementMatcher=new ji,this.document=e,this.renderingMode=o,this.blockFillerMode=i||(o==="editing"?"br":"nbsp"),this.preElements=["pre"],this.blockElements=["address","article","aside","blockquote","caption","center","dd","details","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","legend","li","main","menu","nav","ol","p","pre","section","summary","table","tbody","td","tfoot","th","thead","tr","ul"],this.inlineObjectElements=["object","iframe","input","button","textarea","select","option","video","embed","audio","img","canvas"],this.unsafeElements=["script","style"],this._domDocument=this.renderingMode==="editing"?Ne.document:Ne.document.implementation.createHTMLDocument("")}bindFakeSelection(e,i){this._fakeSelectionMapping.set(e,new br(i))}fakeSelectionToView(e){return this._fakeSelectionMapping.get(e)}bindElements(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}unbindDomElement(e){const i=this._domToViewMapping.get(e);if(i){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(i);for(const o of Array.from(e.children))this.unbindDomElement(o)}}bindDocumentFragments(e,i){this._domToViewMapping.set(e,i),this._viewToDomMapping.set(i,e)}shouldRenderAttribute(e,i,o){return this.renderingMode==="data"||!(e=e.toLowerCase()).startsWith("on")&&(e!=="srcdoc"||!i.match(/\bon\S+\s*=|javascript:|<\s*\/*script/i))&&(o==="img"&&(e==="src"||e==="srcset")||o==="source"&&e==="srcset"||!i.match(/^\s*(javascript:|data:(image\/svg|text\/x?html))/i))}setContentOf(e,i){if(this.renderingMode==="data")return void(e.innerHTML=i);const o=new DOMParser().parseFromString(i,"text/html"),l=o.createDocumentFragment(),c=o.body.childNodes;for(;c.length>0;)l.appendChild(c[0]);const d=o.createTreeWalker(l,NodeFilter.SHOW_ELEMENT),f=[];let g;for(;g=d.nextNode();)f.push(g);for(const k of f){for(const _ of k.getAttributeNames())this.setDomElementAttribute(k,_,k.getAttribute(_));const w=k.tagName.toLowerCase();this._shouldRenameElement(w)&&(mE(w),k.replaceWith(this._createReplacementDomElement(w,k)))}for(;e.firstChild;)e.firstChild.remove();e.append(l)}viewToDom(e,i={}){if(e.is("$text")){const o=this._processDataFromViewText(e);return this._domDocument.createTextNode(o)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);let o;if(e.is("documentFragment"))o=this._domDocument.createDocumentFragment(),i.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.name==="$comment"?this._domDocument.createComment(e.getCustomProperty("$rawContent")):e.render(this._domDocument,this),i.bind&&this.bindElements(o,e),o;this._shouldRenameElement(e.name)?(mE(e.name),o=this._createReplacementDomElement(e.name)):o=e.hasAttribute("xmlns")?this._domDocument.createElementNS(e.getAttribute("xmlns"),e.name):this._domDocument.createElement(e.name),e.is("rawElement")&&e.render(o,this),i.bind&&this.bindElements(o,e);for(const l of e.getAttributeKeys())this.setDomElementAttribute(o,l,e.getAttribute(l),e)}if(i.withChildren!==!1)for(const l of this.viewChildrenToDom(e,i))o.appendChild(l);return o}}setDomElementAttribute(e,i,o,l){const c=this.shouldRenderAttribute(i,o,e.tagName.toLowerCase())||l&&l.shouldRenderUnsafeAttribute(i);c||q("domconverter-unsafe-attribute-detected",{domElement:e,key:i,value:o}),function(d){try{Ne.document.createAttribute(d)}catch{return!1}return!0}(i)?(e.hasAttribute(i)&&!c?e.removeAttribute(i):e.hasAttribute(Jf+i)&&c&&e.removeAttribute(Jf+i),e.setAttribute(c?i:Jf+i,o)):q("domconverter-invalid-attribute-detected",{domElement:e,key:i,value:o})}removeDomElementAttribute(e,i){i!=fE&&(e.removeAttribute(i),e.removeAttribute(Jf+i))}*viewChildrenToDom(e,i={}){const o=e.getFillerOffset&&e.getFillerOffset();let l=0;for(const c of e.getChildren()){o===l&&(yield this._getBlockFiller());const d=c.is("element")&&!!c.getCustomProperty("dataPipeline:transparentRendering")&&!Ft(c.getAttributes());d&&this.renderingMode=="data"?yield*this.viewChildrenToDom(c,i):(d&&q("domconverter-transparent-rendering-unsupported-in-editing-pipeline",{viewElement:c}),yield this.viewToDom(c,i)),l++}o===l&&(yield this._getBlockFiller())}viewRangeToDom(e){const i=this.viewPositionToDom(e.start),o=this.viewPositionToDom(e.end),l=this._domDocument.createRange();return l.setStart(i.parent,i.offset),l.setEnd(o.parent,o.offset),l}viewPositionToDom(e){const i=e.parent;if(i.is("$text")){const o=this.findCorrespondingDomText(i);if(!o)return null;let l=e.offset;return ui(o)&&(l+=Vi),{parent:o,offset:l}}{let o,l,c;if(e.offset===0){if(o=this.mapViewToDom(i),!o)return null;c=o.childNodes[0]}else{const d=e.nodeBefore;if(l=d.is("$text")?this.findCorrespondingDomText(d):this.mapViewToDom(d),!l)return null;o=l.parentNode,c=l.nextSibling}return Vt(c)&&ui(c)?{parent:c,offset:Vi}:{parent:o,offset:l?jf(l)+1:0}}}domToView(e,i={}){const o=[],l=this._domToView(e,i,o),c=l.next().value;return c?(l.next(),this._processDomInlineNodes(null,o,i),c.is("$text")&&c.data.length==0?null:c):null}*domChildrenToView(e,i={},o=[]){for(let l=0;l<e.childNodes.length;l++){const c=e.childNodes[l],d=this._domToView(c,i,o),f=d.next().value;f!==null&&(this._isBlockViewElement(f)&&this._processDomInlineNodes(e,o,i),yield f,d.next())}this._processDomInlineNodes(e,o,i)}domSelectionToView(e){if(e.rangeCount===1){let l=e.getRangeAt(0).startContainer;Vt(l)&&(l=l.parentNode);const c=this.fakeSelectionToView(l);if(c)return c}const i=this.isDomSelectionBackward(e),o=[];for(let l=0;l<e.rangeCount;l++){const c=e.getRangeAt(l),d=this.domRangeToView(c);d&&o.push(d)}return new br(o,{backward:i})}domRangeToView(e){const i=this.domPositionToView(e.startContainer,e.startOffset),o=this.domPositionToView(e.endContainer,e.endOffset);return i&&o?new ve(i,o):null}domPositionToView(e,i=0){if(this.isBlockFiller(e))return this.domPositionToView(e.parentNode,jf(e));const o=this.mapDomToView(e);if(o&&(o.is("uiElement")||o.is("rawElement")))return ae._createBefore(o);if(Vt(e)){if(Cu(e))return this.domPositionToView(e.parentNode,jf(e));const l=this.findCorrespondingViewText(e);let c=i;return l?(ui(e)&&(c-=Vi,c=c<0?0:c),new ae(l,c)):null}if(i===0){const l=this.mapDomToView(e);if(l)return new ae(l,0)}else{const l=e.childNodes[i-1];if(Vt(l)&&Cu(l)||l&&this.isBlockFiller(l))return this.domPositionToView(l.parentNode,jf(l));const c=Vt(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(c&&c.parent)return new ae(c.parent,c.index+1)}return null}mapDomToView(e){return this.getHostViewElement(e)||this._domToViewMapping.get(e)}findCorrespondingViewText(e){if(Cu(e))return null;const i=this.getHostViewElement(e);if(i)return i;const o=e.previousSibling;if(o){if(!this.isElement(o))return null;const l=this.mapDomToView(o);if(l){const c=l.nextSibling;return c instanceof ut?c:null}}else{const l=this.mapDomToView(e.parentNode);if(l){const c=l.getChild(0);return c instanceof ut?c:null}}return null}mapViewToDom(e){return this._viewToDomMapping.get(e)}findCorrespondingDomText(e){const i=e.previousSibling;return i&&this.mapViewToDom(i)?this.mapViewToDom(i).nextSibling:!i&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}focus(e){const i=this.mapViewToDom(e);if(i&&i.ownerDocument.activeElement!==i){const{scrollX:o,scrollY:l}=Ne.window,c=[];pE(i,d=>{const{scrollLeft:f,scrollTop:g}=d;c.push([f,g])}),i.focus(),pE(i,d=>{const[f,g]=c.shift();d.scrollLeft=f,d.scrollTop=g}),Ne.window.scrollTo(o,l)}}_clearDomSelection(){const e=this.mapViewToDom(this.document.selection.editableElement);if(!e)return;const i=e.ownerDocument.defaultView.getSelection(),o=this.domSelectionToView(i);o&&o.rangeCount>0&&i.removeAllRanges()}isElement(e){return e&&e.nodeType==Node.ELEMENT_NODE}isDocumentFragment(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}isBlockFiller(e){return this.blockFillerMode=="br"?e.isEqualNode(Tz):!(e.tagName!=="BR"||!gE(e,this.blockElements)||e.parentNode.childNodes.length!==1)||e.isEqualNode(Dz)||function(i,o){return i.isEqualNode(Sz)&&gE(i,o)&&i.parentNode.childNodes.length===1}(e,this.blockElements)}isDomSelectionBackward(e){if(e.isCollapsed)return!1;const i=this._domDocument.createRange();try{i.setStart(e.anchorNode,e.anchorOffset),i.setEnd(e.focusNode,e.focusOffset)}catch{return!1}const o=i.collapsed;return i.detach(),o}getHostViewElement(e){const i=function(o){const l=[];let c=o;for(;c&&c.nodeType!=Node.DOCUMENT_NODE;)l.unshift(c),c=c.parentNode;return l}(e);for(i.pop();i.length;){const o=i.pop(),l=this._domToViewMapping.get(o);if(l&&(l.is("uiElement")||l.is("rawElement")))return l}return null}isDomSelectionCorrect(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}registerRawContentMatcher(e){this._rawContentElementMatcher.add(e)}registerInlineObjectMatcher(e){this._inlineObjectElementMatcher.add(e)}_getBlockFiller(){switch(this.blockFillerMode){case"nbsp":return sE(this._domDocument);case"markedNbsp":return aE(this._domDocument);case"br":return lE(this._domDocument)}}_isDomSelectionPositionCorrect(e,i){if(Vt(e)&&ui(e)&&i<Vi||this.isElement(e)&&ui(e.childNodes[i]))return!1;const o=this.mapDomToView(e);return!o||!o.is("uiElement")&&!o.is("rawElement")}*_domToView(e,i,o){if(this.isBlockFiller(e))return null;const l=this.getHostViewElement(e);if(l)return l;if(bu(e)&&i.skipComments)return null;if(Vt(e)){if(Cu(e))return null;{const c=e.data;if(c==="")return null;const d=new ut(this.document,c);return o.push(d),d}}{let c=this.mapDomToView(e);if(c)return this._isInlineObjectElement(c)&&o.push(c),c;if(this.isDocumentFragment(e))c=new ea(this.document),i.bind&&this.bindDocumentFragments(e,c);else{c=this._createViewElement(e,i),i.bind&&this.bindElements(e,c);const f=e.attributes;if(f)for(let g=f.length,k=0;k<g;k++)c._setAttribute(f[k].name,f[k].value);if(this._isViewElementWithRawContent(c,i))return c._setCustomProperty("$rawContent",e.innerHTML),this._isBlockViewElement(c)||o.push(c),c;if(bu(e))return c._setCustomProperty("$rawContent",e.data),c}yield c;const d=[];if(i.withChildren!==!1)for(const f of this.domChildrenToView(e,i,d))c._appendChild(f);if(this._isInlineObjectElement(c))o.push(c);else for(const f of d)o.push(f)}}_processDomInlineNodes(e,i,o){if(!i.length||e&&!this.isDocumentFragment(e)&&!this._isBlockDomElement(e))return;let l=!1;for(let c=0;c<i.length;c++){const d=i[c];if(!d.is("$text")){l=!1;continue}let f,g=!1;if(Mz(d,this.preElements))f=cE(d.data);else{f=d.data.replace(/[ \n\t\r]{1,}/g," "),g=/[^\S\u00A0]/.test(f.charAt(f.length-1));const k=c>0?i[c-1]:null,w=c+1<i.length?i[c+1]:null,_=!k||k.is("element")&&k.name=="br"||l,y=!w&&!ui(d.data);o.withChildren!==!1&&(_&&(f=f.replace(/^ /,"")),y&&(f=f.replace(/ $/,""))),f=cE(f),f=f.replace(/ \u00A0/g,"  ");const I=w&&w.is("element")&&w.name!="br",T=w&&w.is("$text")&&w.data.charAt(0)==" ";(/[ \u00A0]\u00A0$/.test(f)||!w||I||T)&&(f=f.replace(/\u00A0$/," ")),(_||k&&k.is("element")&&k.name!="br")&&(f=f.replace(/^\u00A0/," "))}f.length==0&&d.parent?(d._remove(),i.splice(c,1),c--):(d._data=f,l=g)}i.length=0}_processDataFromViewText(e){let i=e.data;if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return i;if(i.charAt(0)==" "){const o=this._getTouchingInlineViewNode(e,!1);!(o&&o.is("$textProxy")&&this._nodeEndsWithSpace(o))&&o||(i=""+i.substr(1))}if(i.charAt(i.length-1)==" "){const o=this._getTouchingInlineViewNode(e,!0),l=o&&o.is("$textProxy")&&o.data.charAt(0)==" ";i.charAt(i.length-2)!=" "&&o&&!l||(i=i.substr(0,i.length-1)+"")}return i.replace(/ {2}/g," ")}_nodeEndsWithSpace(e){if(e.getAncestors().some(o=>this.preElements.includes(o.name)))return!1;const i=this._processDataFromViewText(e);return i.charAt(i.length-1)==" "}_getTouchingInlineViewNode(e,i){const o=new Js({startPosition:i?ae._createAfter(e):ae._createBefore(e),direction:i?"forward":"backward"});for(const l of o){if(l.item.is("element","br"))return null;if(this._isInlineObjectElement(l.item))return l.item;if(l.item.is("containerElement"))return null;if(l.item.is("$textProxy"))return l.item}return null}_isBlockDomElement(e){return this.isElement(e)&&this.blockElements.includes(e.tagName.toLowerCase())}_isBlockViewElement(e){return e.is("element")&&this.blockElements.includes(e.name)}_isInlineObjectElement(e){return!!e.is("element")&&(e.name=="br"||this.inlineObjectElements.includes(e.name)||!!this._inlineObjectElementMatcher.match(e))}_createViewElement(e,i){if(bu(e))return new Zf(this.document,"$comment");const o=i.keepOriginalCase?e.tagName:e.tagName.toLowerCase();return new ci(this.document,o)}_isViewElementWithRawContent(e,i){return i.withChildren!==!1&&e.is("element")&&!!this._rawContentElementMatcher.match(e)}_shouldRenameElement(e){const i=e.toLowerCase();return this.renderingMode==="editing"&&this.unsafeElements.includes(i)}_createReplacementDomElement(e,i){const o=this._domDocument.createElement("span");if(o.setAttribute(fE,e),i){for(;i.firstChild;)o.appendChild(i.firstChild);for(const l of i.getAttributeNames())o.setAttribute(l,i.getAttribute(l))}return o}}function Mz(a,e){return a.getAncestors().some(i=>i.is("element")&&e.includes(i.name))}function pE(a,e){let i=a;for(;i;)e(i),i=i.parentElement}function gE(a,e){const i=a.parentNode;return!!i&&!!i.tagName&&e.includes(i.tagName.toLowerCase())}function mE(a){a==="script"&&q("domconverter-unsafe-script-element-detected"),a==="style"&&q("domconverter-unsafe-style-element-detected")}class wr extends Oo(){constructor(e){super(),this._isEnabled=!1,this.view=e,this.document=e.document}get isEnabled(){return this._isEnabled}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}destroy(){this.disable(),this.stopListening()}checkShouldIgnoreEventFromTarget(e){return e&&e.nodeType===3&&(e=e.parentNode),!(!e||e.nodeType!==1)&&e.matches("[data-cke-ignore-events], [data-cke-ignore-events] *")}}const kE=K1(function(a,e){To(e,So(e),a)});class pl{constructor(e,i,o){this.view=e,this.document=e.document,this.domEvent=i,this.domTarget=i.target,kE(this,o)}get target(){return this.view.domConverter.mapDomToView(this.domTarget)}preventDefault(){this.domEvent.preventDefault()}stopPropagation(){this.domEvent.stopPropagation()}}class Lo extends wr{constructor(){super(...arguments),this.useCapture=!1}observe(e){(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(i=>{this.listenTo(e,i,(o,l)=>{this.isEnabled&&!this.checkShouldIgnoreEventFromTarget(l.target)&&this.onDomEvent(l)},{useCapture:this.useCapture})})}stopObserving(e){this.stopListening(e)}fire(e,i,o){this.isEnabled&&this.document.fire(e,new pl(this.view,i,o))}}class Pz extends Lo{constructor(){super(...arguments),this.domEventType=["keydown","keyup"]}onDomEvent(e){const i={keyCode:e.keyCode,altKey:e.altKey,ctrlKey:e.ctrlKey,shiftKey:e.shiftKey,metaKey:e.metaKey,get keystroke(){return ll(this)}};this.fire(e.type,e,i)}}const fw=function(){return oi.Date.now()};var Nz=/\s/;const Rz=function(a){for(var e=a.length;e--&&Nz.test(a.charAt(e)););return e};var Oz=/^\s+/;const Bz=function(a){return a&&a.slice(0,Rz(a)+1).replace(Oz,"")};var Lz=/^[-+]0x[0-9a-f]+$/i,zz=/^0b[01]+$/i,jz=/^0o[0-7]+$/i,Vz=parseInt;const bE=function(a){if(typeof a=="number")return a;if($f(a))return NaN;if(Ze(a)){var e=typeof a.valueOf=="function"?a.valueOf():a;a=Ze(e)?e+"":e}if(typeof a!="string")return a===0?a:+a;a=Bz(a);var i=zz.test(a);return i||jz.test(a)?Vz(a.slice(2),i?2:8):Lz.test(a)?NaN:+a};var Fz=Math.max,Uz=Math.min;const Eu=function(a,e,i){var o,l,c,d,f,g,k=0,w=!1,_=!1,y=!0;if(typeof a!="function")throw new TypeError("Expected a function");function I(H){var Q=o,le=l;return o=l=void 0,k=H,d=a.apply(le,Q)}function T(H){var Q=H-g;return g===void 0||Q>=e||Q<0||_&&H-k>=c}function S(){var H=fw();if(T(H))return B(H);f=setTimeout(S,function(Q){var le=e-(Q-g);return _?Uz(le,c-(Q-k)):le}(H))}function B(H){return f=void 0,y&&o?I(H):(o=l=void 0,d)}function V(){var H=fw(),Q=T(H);if(o=arguments,l=this,g=H,Q){if(f===void 0)return function(le){return k=le,f=setTimeout(S,e),w?I(le):d}(g);if(_)return clearTimeout(f),f=setTimeout(S,e),I(g)}return f===void 0&&(f=setTimeout(S,e)),d}return e=bE(e)||0,Ze(i)&&(w=!!i.leading,c=(_="maxWait"in i)?Fz(bE(i.maxWait)||0,e):c,y="trailing"in i?!!i.trailing:y),V.cancel=function(){f!==void 0&&clearTimeout(f),k=0,o=g=l=f=void 0},V.flush=function(){return f===void 0?d:B(fw())},V};class Hz extends wr{constructor(e){super(e),this._fireSelectionChangeDoneDebounced=Eu(i=>{this.document.fire("selectionChangeDone",i)},200)}observe(){const e=this.document;e.on("arrowKey",(i,o)=>{e.selection.isFake&&this.isEnabled&&o.preventDefault()},{context:"$capture"}),e.on("arrowKey",(i,o)=>{e.selection.isFake&&this.isEnabled&&this._handleSelectionMove(o.keyCode)},{priority:"lowest"})}stopObserving(){}destroy(){super.destroy(),this._fireSelectionChangeDoneDebounced.cancel()}_handleSelectionMove(e){const i=this.document.selection,o=new br(i.getRanges(),{backward:i.isBackward,fake:!1});e!=Ue.arrowleft&&e!=Ue.arrowup||o.setTo(o.getFirstPosition()),e!=Ue.arrowright&&e!=Ue.arrowdown||o.setTo(o.getLastPosition());const l={oldSelection:i,newSelection:o,domSelection:null};this.document.fire("selectionChange",l),this._fireSelectionChangeDoneDebounced(l)}}const Wz=function(a){return this.__data__.set(a,"__lodash_hash_undefined__"),this},qz=function(a){return this.__data__.has(a)};function ep(a){var e=-1,i=a==null?0:a.length;for(this.__data__=new Ka;++e<i;)this.add(a[e])}ep.prototype.add=ep.prototype.push=Wz,ep.prototype.has=qz;const $z=ep,Gz=function(a,e){for(var i=-1,o=a==null?0:a.length;++i<o;)if(e(a[i],i,a))return!0;return!1},Kz=function(a,e){return a.has(e)},wE=function(a,e,i,o,l,c){var d=1&i,f=a.length,g=e.length;if(f!=g&&!(d&&g>f))return!1;var k=c.get(a),w=c.get(e);if(k&&w)return k==e&&w==a;var _=-1,y=!0,I=2&i?new $z:void 0;for(c.set(a,e),c.set(e,a);++_<f;){var T=a[_],S=e[_];if(o)var B=d?o(S,T,_,e,a,c):o(T,S,_,a,e,c);if(B!==void 0){if(B)continue;y=!1;break}if(I){if(!Gz(e,function(V,H){if(!Kz(I,H)&&(T===V||l(T,V,i,o,c)))return I.push(H)})){y=!1;break}}else if(T!==S&&!l(T,S,i,o,c)){y=!1;break}}return c.delete(a),c.delete(e),y},Qz=function(a){var e=-1,i=Array(a.size);return a.forEach(function(o,l){i[++e]=[l,o]}),i},Yz=function(a){var e=-1,i=Array(a.size);return a.forEach(function(o){i[++e]=o}),i};var _E=Ai?Ai.prototype:void 0,pw=_E?_E.valueOf:void 0;const Zz=function(a,e,i,o,l,c,d){switch(i){case"[object DataView]":if(a.byteLength!=e.byteLength||a.byteOffset!=e.byteOffset)return!1;a=a.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(a.byteLength!=e.byteLength||!c(new $s(a),new $s(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return js(+a,+e);case"[object Error]":return a.name==e.name&&a.message==e.message;case"[object RegExp]":case"[object String]":return a==e+"";case"[object Map]":var f=Qz;case"[object Set]":var g=1&o;if(f||(f=Yz),a.size!=e.size&&!g)return!1;var k=d.get(a);if(k)return k==e;o|=2,d.set(a,e);var w=wE(f(a),f(e),o,l,c,d);return d.delete(a),w;case"[object Symbol]":if(pw)return pw.call(a)==pw.call(e)}return!1};var Jz=Object.prototype.hasOwnProperty;const Xz=function(a,e,i,o,l,c){var d=1&i,f=il(a),g=f.length;if(g!=il(e).length&&!d)return!1;for(var k=g;k--;){var w=f[k];if(!(d?w in e:Jz.call(e,w)))return!1}var _=c.get(a),y=c.get(e);if(_&&y)return _==e&&y==a;var I=!0;c.set(a,e),c.set(e,a);for(var T=d;++k<g;){var S=a[w=f[k]],B=e[w];if(o)var V=d?o(B,S,w,e,a,c):o(S,B,w,a,e,c);if(!(V===void 0?S===B||l(S,B,i,o,c):V)){I=!1;break}T||(T=w=="constructor")}if(I&&!T){var H=a.constructor,Q=e.constructor;H==Q||!("constructor"in a)||!("constructor"in e)||typeof H=="function"&&H instanceof H&&typeof Q=="function"&&Q instanceof Q||(I=!1)}return c.delete(a),c.delete(e),I};var AE="[object Arguments]",vE="[object Array]",tp="[object Object]",yE=Object.prototype.hasOwnProperty;const ej=function(a,e,i,o,l,c){var d=yt(a),f=yt(e),g=d?vE:Do(a),k=f?vE:Do(e),w=(g=g==AE?tp:g)==tp,_=(k=k==AE?tp:k)==tp,y=g==k;if(y&&Wr(a)){if(!Wr(e))return!1;d=!0,w=!1}if(y&&!w)return c||(c=new Hr),d||qs(a)?wE(a,e,i,o,l,c):Zz(a,e,g,i,o,l,c);if(!(1&i)){var I=w&&yE.call(a,"__wrapped__"),T=_&&yE.call(e,"__wrapped__");if(I||T){var S=I?a.value():a,B=T?e.value():e;return c||(c=new Hr),l(S,B,i,o,c)}}return!!y&&(c||(c=new Hr),Xz(a,e,i,o,l,c))},CE=function a(e,i,o,l,c){return e===i||(e==null||i==null||!tn(e)&&!tn(i)?e!=e&&i!=i:ej(e,i,o,l,a,c))},tj=function(a,e,i){var o=(i=typeof i=="function"?i:void 0)?i(a,e):void 0;return o===void 0?CE(a,e,void 0,i):!!o};class EE extends wr{constructor(e){super(e),this._config={childList:!0,characterData:!0,subtree:!0},this.domConverter=e.domConverter,this.renderer=e._renderer,this._domElements=new Set,this._mutationObserver=new window.MutationObserver(this._onMutations.bind(this))}flush(){this._onMutations(this._mutationObserver.takeRecords())}observe(e){this._domElements.add(e),this.isEnabled&&this._mutationObserver.observe(e,this._config)}stopObserving(e){if(this._domElements.delete(e),this.isEnabled){this._mutationObserver.disconnect();for(const i of this._domElements)this._mutationObserver.observe(i,this._config)}}enable(){super.enable();for(const e of this._domElements)this._mutationObserver.observe(e,this._config)}disable(){super.disable(),this._mutationObserver.disconnect()}destroy(){super.destroy(),this._mutationObserver.disconnect()}_onMutations(e){if(e.length===0)return;const i=this.domConverter,o=new Set,l=new Set;for(const d of e){const f=i.mapDomToView(d.target);f&&(f.is("uiElement")||f.is("rawElement")||d.type!=="childList"||this._isBogusBrMutation(d)||l.add(f))}for(const d of e){const f=i.mapDomToView(d.target);if((!f||!f.is("uiElement")&&!f.is("rawElement"))&&d.type==="characterData"){const g=i.findCorrespondingViewText(d.target);g&&!l.has(g.parent)?o.add(g):!g&&ui(d.target)&&l.add(i.mapDomToView(d.target.parentNode))}}let c=!1;for(const d of o)c=!0,this.renderer.markToSync("text",d);for(const d of l){const f=i.mapViewToDom(d),g=Array.from(d.getChildren()),k=Array.from(i.domChildrenToView(f,{withChildren:!1}));tj(g,k,nj)||(c=!0,this.renderer.markToSync("children",d))}c&&this.view.forceRender()}_isBogusBrMutation(e){let i=null;return e.nextSibling===null&&e.removedNodes.length===0&&e.addedNodes.length==1&&(i=this.domConverter.domToView(e.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}function nj(a,e){if(!Array.isArray(a))return a===e||!(!a.is("$text")||!e.is("$text"))&&a.data===e.data}class np extends Lo{constructor(e){super(e),this._isFocusChanging=!1,this.domEventType=["focus","blur"],this.useCapture=!0;const i=this.document;i.on("focus",()=>{this._isFocusChanging=!0,this._renderTimeoutId=setTimeout(()=>{this.flush(),e.change(()=>{})},50)}),i.on("blur",(o,l)=>{const c=i.selection.editableElement;c!==null&&c!==l.target||(i.isFocused=!1,this._isFocusChanging=!1,e.change(()=>{}))})}flush(){this._isFocusChanging&&(this._isFocusChanging=!1,this.document.isFocused=!0)}onDomEvent(e){this.fire(e.type,e)}destroy(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),super.destroy()}}class ij extends wr{constructor(e){super(e),this.mutationObserver=e.getObserver(EE),this.focusObserver=e.getObserver(np),this.selection=this.document.selection,this.domConverter=e.domConverter,this._documents=new WeakSet,this._fireSelectionChangeDoneDebounced=Eu(i=>{this.document.fire("selectionChangeDone",i)},200),this._clearInfiniteLoopInterval=setInterval(()=>this._clearInfiniteLoop(),1e3),this._documentIsSelectingInactivityTimeoutDebounced=Eu(()=>this.document.isSelecting=!1,5e3),this._loopbackCounter=0}observe(e){const i=e.ownerDocument,o=()=>{this.document.isSelecting&&(this._handleSelectionChange(null,i),this.document.isSelecting=!1,this._documentIsSelectingInactivityTimeoutDebounced.cancel())};this.listenTo(e,"selectstart",()=>{this.document.isSelecting=!0,this._documentIsSelectingInactivityTimeoutDebounced()},{priority:"highest"}),this.listenTo(e,"keydown",o,{priority:"highest",useCapture:!0}),this.listenTo(e,"keyup",o,{priority:"highest",useCapture:!0}),this._documents.has(i)||(this.listenTo(i,"mouseup",o,{priority:"highest",useCapture:!0}),this.listenTo(i,"selectionchange",(l,c)=>{this.document.isComposing&&!C.isAndroid||(this._handleSelectionChange(c,i),this._documentIsSelectingInactivityTimeoutDebounced())}),this._documents.add(i))}stopObserving(e){this.stopListening(e)}destroy(){super.destroy(),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel(),this._documentIsSelectingInactivityTimeoutDebounced.cancel()}_reportInfiniteLoop(){}_handleSelectionChange(e,i){if(!this.isEnabled)return;const o=i.defaultView.getSelection();if(this.checkShouldIgnoreEventFromTarget(o.anchorNode))return;this.mutationObserver.flush();const l=this.domConverter.domSelectionToView(o);if(l.rangeCount!=0){if(this.view.hasDomSelection=!0,this.focusObserver.flush(),!this.selection.isEqual(l)||!this.domConverter.isDomSelectionCorrect(o))if(++this._loopbackCounter>60)this._reportInfiniteLoop();else if(this.selection.isSimilar(l))this.view.forceRender();else{const c={oldSelection:this.selection,newSelection:l,domSelection:o};this.document.fire("selectionChange",c),this._fireSelectionChangeDoneDebounced(c)}}else this.view.hasDomSelection=!1}_clearInfiniteLoop(){this._loopbackCounter=0}}class rj extends Lo{constructor(e){super(e),this.domEventType=["compositionstart","compositionupdate","compositionend"];const i=this.document;i.on("compositionstart",()=>{i.isComposing=!0},{priority:"low"}),i.on("compositionend",()=>{i.isComposing=!1},{priority:"low"})}onDomEvent(e){this.fire(e.type,e,{data:e.data})}}class xE{constructor(e,i={}){this._files=i.cacheFiles?IE(e):null,this._native=e}get files(){return this._files||(this._files=IE(this._native)),this._files}get types(){return this._native.types}getData(e){return this._native.getData(e)}setData(e,i){this._native.setData(e,i)}set effectAllowed(e){this._native.effectAllowed=e}get effectAllowed(){return this._native.effectAllowed}set dropEffect(e){this._native.dropEffect=e}get dropEffect(){return this._native.dropEffect}setDragImage(e,i,o){this._native.setDragImage(e,i,o)}get isCanceled(){return this._native.dropEffect=="none"||!!this._native.mozUserCancelled}}function IE(a){const e=Array.from(a.files||[]),i=Array.from(a.items||[]);return e.length?e:i.filter(o=>o.kind==="file").map(o=>o.getAsFile())}class oj extends Lo{constructor(){super(...arguments),this.domEventType="beforeinput"}onDomEvent(e){const i=e.getTargetRanges(),o=this.view,l=o.document;let c=null,d=null,f=[];if(e.dataTransfer&&(c=new xE(e.dataTransfer)),e.data!==null?d=e.data:c&&(d=c.getData("text/plain")),l.selection.isFake)f=Array.from(l.selection.getRanges());else if(i.length)f=i.map(g=>{const k=o.domConverter.domPositionToView(g.startContainer,g.startOffset),w=o.domConverter.domPositionToView(g.endContainer,g.endOffset);return k?o.createRange(k,w):w?o.createRange(w):void 0}).filter(g=>!!g);else if(C.isAndroid){const g=e.target.ownerDocument.defaultView.getSelection();f=Array.from(o.domConverter.domSelectionToView(g).getRanges())}if(C.isAndroid&&e.inputType=="insertCompositionText"&&d&&d.endsWith(`
`))this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:[o.createRange(f[0].end)]});else if(e.inputType=="insertText"&&d&&d.includes(`
`)){const g=d.split(/\n{1,2}/g);let k=f;for(let w=0;w<g.length;w++){const _=g[w];_!=""&&(this.fire(e.type,e,{data:_,dataTransfer:c,targetRanges:k,inputType:e.inputType,isComposing:e.isComposing}),k=[l.selection.getFirstRange()]),w+1<g.length&&(this.fire(e.type,e,{inputType:"insertParagraph",targetRanges:k}),k=[l.selection.getFirstRange()])}}else this.fire(e.type,e,{data:d,dataTransfer:c,targetRanges:f,inputType:e.inputType,isComposing:e.isComposing})}}class sj extends wr{constructor(e){super(e),this.document.on("keydown",(i,o)=>{if(this.isEnabled&&((l=o.keyCode)==Ue.arrowright||l==Ue.arrowleft||l==Ue.arrowup||l==Ue.arrowdown)){const c=new hl(this.document,"arrowKey",this.document.selection.getFirstRange());this.document.fire(c,o),c.stop.called&&i.stop()}var l})}observe(){}stopObserving(){}}class aj extends wr{constructor(e){super(e);const i=this.document;i.on("keydown",(o,l)=>{if(!this.isEnabled||l.keyCode!=Ue.tab||l.ctrlKey)return;const c=new hl(i,"tab",i.selection.getFirstRange());i.fire(c,l),c.stop.called&&o.stop()})}observe(){}stopObserving(){}}const zo=function(a){return dn(a,5)};class lj extends Xe(){constructor(e){super(),this.domRoots=new Map,this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this.document=new Yf(e),this.domConverter=new Xf(this.document),this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Cz(this.domConverter,this.document.selection),this._renderer.bind("isFocused","isSelecting","isComposing").to(this.document,"isFocused","isSelecting","isComposing"),this._writer=new tE(this.document),this.addObserver(EE),this.addObserver(np),this.addObserver(ij),this.addObserver(Pz),this.addObserver(Hz),this.addObserver(rj),this.addObserver(sj),this.addObserver(oj),this.addObserver(aj),this.document.on("arrowKey",vz,{priority:"low"}),kz(this),this.on("render",()=>{this._render(),this.document.fire("layoutChanged"),this._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",()=>{this._hasChangedSinceTheLastRendering=!0}),this.listenTo(this.document,"change:isFocused",()=>{this._hasChangedSinceTheLastRendering=!0}),C.isiOS&&this.listenTo(this.document,"blur",(i,o)=>{this.domConverter.mapDomToView(o.domEvent.relatedTarget)||this.domConverter._clearDomSelection()})}attachDomRoot(e,i="main"){const o=this.document.getRoot(i);o._name=e.tagName.toLowerCase();const l={};for(const{name:d,value:f}of Array.from(e.attributes))l[d]=f,d==="class"?this._writer.addClass(f.split(" "),o):this._writer.setAttribute(d,f,o);this._initialDomRootAttributes.set(e,l);const c=()=>{this._writer.setAttribute("contenteditable",(!o.isReadOnly).toString(),o),o.isReadOnly?this._writer.addClass("ck-read-only",o):this._writer.removeClass("ck-read-only",o)};c(),this.domRoots.set(i,e),this.domConverter.bindElements(e,o),this._renderer.markToSync("children",o),this._renderer.markToSync("attributes",o),this._renderer.domDocuments.add(e.ownerDocument),o.on("change:children",(d,f)=>this._renderer.markToSync("children",f)),o.on("change:attributes",(d,f)=>this._renderer.markToSync("attributes",f)),o.on("change:text",(d,f)=>this._renderer.markToSync("text",f)),o.on("change:isReadOnly",()=>this.change(c)),o.on("change",()=>{this._hasChangedSinceTheLastRendering=!0});for(const d of this._observers.values())d.observe(e,i)}detachDomRoot(e){const i=this.domRoots.get(e);Array.from(i.attributes).forEach(({name:l})=>i.removeAttribute(l));const o=this._initialDomRootAttributes.get(i);for(const l in o)i.setAttribute(l,o[l]);this.domRoots.delete(e),this.domConverter.unbindDomElement(i);for(const l of this._observers.values())l.stopObserving(i)}getDomRoot(e="main"){return this.domRoots.get(e)}addObserver(e){let i=this._observers.get(e);if(i)return i;i=new e(this),this._observers.set(e,i);for(const[o,l]of this.domRoots)i.observe(l,o);return i.enable(),i}getObserver(e){return this._observers.get(e)}disableObservers(){for(const e of this._observers.values())e.disable()}enableObservers(){for(const e of this._observers.values())e.enable()}scrollToTheSelection({alignToTop:e,forceScroll:i,viewportOffset:o=20,ancestorOffset:l=20}={}){const c=this.document.selection.getFirstRange();if(!c)return;const d=zo({alignToTop:e,forceScroll:i,viewportOffset:o,ancestorOffset:l});typeof o=="number"&&(o={top:o,bottom:o,left:o,right:o});const f={target:this.domConverter.viewRangeToDom(c),viewportOffset:o,ancestorOffset:l,alignToTop:e,forceScroll:i};this.fire("scrollToTheSelection",f,d),function({target:g,viewportOffset:k=0,ancestorOffset:w=0,alignToTop:_,forceScroll:y}){const I=Bb(g);let T=I,S=null;for(k=function(B){return typeof B=="number"?{top:B,bottom:B,left:B,right:B}:B}(k);T;){let B;B=oL(T==I?g:S),rL({parent:B,getRect:()=>o1(g,T),alignToTop:_,ancestorOffset:w,forceScroll:y});const V=o1(g,T);if(iL({window:T,rect:V,viewportOffset:k,alignToTop:_,forceScroll:y}),T.parent!=T){if(S=T.frameElement,T=T.parent,!S)return}else T=null}}(f)}focus(){if(!this.document.isFocused){const e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}change(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new j("cannot-change-view-tree",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;const i=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),i}catch(i){j.rethrowUnexpectedError(i,this)}}forceRender(){this._hasChangedSinceTheLastRendering=!0,this.getObserver(np).flush(),this.change(()=>{})}destroy(){for(const e of this._observers.values())e.destroy();this.document.destroy(),this.stopListening()}createPositionAt(e,i){return ae._createAt(e,i)}createPositionAfter(e){return ae._createAfter(e)}createPositionBefore(e){return ae._createBefore(e)}createRange(e,i){return new ve(e,i)}createRangeOn(e){return ve._createOn(e)}createRangeIn(e){return ve._createIn(e)}createSelection(...e){return new br(...e)}_disableRendering(e){this._renderingDisabled=e,e==0&&this.change(()=>{})}_render(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}class jo{is(){throw new Error("is() method is abstract")}}class ta extends jo{constructor(e){super(),this.parent=null,this._attrs=mr(e)}get document(){return null}get index(){let e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new j("model-node-not-found-in-parent",this);return e}get startOffset(){let e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new j("model-node-not-found-in-parent",this);return e}get offsetSize(){return 1}get endOffset(){return this.parent?this.startOffset+this.offsetSize:null}get nextSibling(){const e=this.index;return e!==null&&this.parent.getChild(e+1)||null}get previousSibling(){const e=this.index;return e!==null&&this.parent.getChild(e-1)||null}get root(){let e=this;for(;e.parent;)e=e.parent;return e}isAttached(){return this.parent!==null&&this.root.isAttached()}getPath(){const e=[];let i=this;for(;i.parent;)e.unshift(i.startOffset),i=i.parent;return e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}getCommonAncestor(e,i={}){const o=this.getAncestors(i),l=e.getAncestors(i);let c=0;for(;o[c]==l[c]&&o[c];)c++;return c===0?null:o[c-1]}isBefore(e){if(this==e||this.root!==e.root)return!1;const i=this.getPath(),o=e.getPath(),l=un(i,o);switch(l){case"prefix":return!0;case"extension":return!1;default:return i[l]<o[l]}}isAfter(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}hasAttribute(e){return this._attrs.has(e)}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}toJSON(){const e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce((i,o)=>(i[o[0]]=o[1],i),{})),e}_clone(e){return new this.constructor(this._attrs)}_remove(){this.parent._removeChildren(this.index)}_setAttribute(e,i){this._attrs.set(e,i)}_setAttributesTo(e){this._attrs=mr(e)}_removeAttribute(e){return this._attrs.delete(e)}_clearAttributes(){this._attrs.clear()}}ta.prototype.is=function(a){return a==="node"||a==="model:node"};class xu{constructor(e){this._nodes=[],e&&this._insertNodes(0,e)}[Symbol.iterator](){return this._nodes[Symbol.iterator]()}get length(){return this._nodes.length}get maxOffset(){return this._nodes.reduce((e,i)=>e+i.offsetSize,0)}getNode(e){return this._nodes[e]||null}getNodeIndex(e){const i=this._nodes.indexOf(e);return i==-1?null:i}getNodeStartOffset(e){const i=this.getNodeIndex(e);return i===null?null:this._nodes.slice(0,i).reduce((o,l)=>o+l.offsetSize,0)}indexToOffset(e){if(e==this._nodes.length)return this.maxOffset;const i=this._nodes[e];if(!i)throw new j("model-nodelist-index-out-of-bounds",this);return this.getNodeStartOffset(i)}offsetToIndex(e){let i=0;for(const o of this._nodes){if(e>=i&&e<i+o.offsetSize)return this.getNodeIndex(o);i+=o.offsetSize}if(i!=e)throw new j("model-nodelist-offset-out-of-bounds",this,{offset:e,nodeList:this});return this.length}_insertNodes(e,i){for(const o of i)if(!(o instanceof ta))throw new j("model-nodelist-insertnodes-not-node",this);this._nodes=function(o,l,c,d){if(Math.max(l.length,o.length)>1e4)return o.slice(0,c).concat(l).concat(o.slice(c+d,o.length));{const f=Array.from(o);return f.splice(c,d,...l),f}}(this._nodes,Array.from(i),e,0)}_removeNodes(e,i=1){return this._nodes.splice(e,i)}toJSON(){return this._nodes.map(e=>e.toJSON())}}class dt extends ta{constructor(e,i){super(i),this._data=e||""}get offsetSize(){return this.data.length}get data(){return this._data}toJSON(){const e=super.toJSON();return e.data=this.data,e}_clone(){return new dt(this.data,this.getAttributes())}static fromJSON(e){return new dt(e.data,e.attributes)}}dt.prototype.is=function(a){return a==="$text"||a==="model:$text"||a==="text"||a==="model:text"||a==="node"||a==="model:node"};class Fi extends jo{constructor(e,i,o){if(super(),this.textNode=e,i<0||i>e.offsetSize)throw new j("model-textproxy-wrong-offsetintext",this);if(o<0||i+o>e.offsetSize)throw new j("model-textproxy-wrong-length",this);this.data=e.data.substring(i,i+o),this.offsetInText=i}get startOffset(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}get offsetSize(){return this.data.length}get endOffset(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}get isPartial(){return this.offsetSize!==this.textNode.offsetSize}get parent(){return this.textNode.parent}get root(){return this.textNode.root}getPath(){const e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}getAncestors(e={}){const i=[];let o=e.includeSelf?this:this.parent;for(;o;)i[e.parentFirst?"push":"unshift"](o),o=o.parent;return i}hasAttribute(e){return this.textNode.hasAttribute(e)}getAttribute(e){return this.textNode.getAttribute(e)}getAttributes(){return this.textNode.getAttributes()}getAttributeKeys(){return this.textNode.getAttributeKeys()}}Fi.prototype.is=function(a){return a==="$textProxy"||a==="model:$textProxy"||a==="textProxy"||a==="model:textProxy"};class nt extends ta{constructor(e,i,o){super(i),this._children=new xu,this.name=e,o&&this._insertChild(0,o)}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}offsetToIndex(e){return this._children.offsetToIndex(e)}getNodeByPath(e){let i=this;for(const o of e)i=i.getChild(i.offsetToIndex(o));return i}findAncestor(e,i={}){let o=i.includeSelf?this:this.parent;for(;o;){if(o.name===e)return o;o=o.parent}return null}toJSON(){const e=super.toJSON();if(e.name=this.name,this._children.length>0){e.children=[];for(const i of this._children)e.children.push(i.toJSON())}return e}_clone(e=!1){const i=e?Array.from(this._children).map(o=>o._clone(!0)):void 0;return new nt(this.name,this.getAttributes(),i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const o=function(l){return typeof l=="string"?[new dt(l)]:(An(l)||(l=[l]),Array.from(l).map(c=>typeof c=="string"?new dt(c):c instanceof Fi?new dt(c.data,c.getAttributes()):c))}(i);for(const l of o)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,i=1){const o=this._children._removeNodes(e,i);for(const l of o)l.parent=null;return o}static fromJSON(e){let i;if(e.children){i=[];for(const o of e.children)o.name?i.push(nt.fromJSON(o)):i.push(dt.fromJSON(o))}return new nt(e.name,e.attributes,i)}}nt.prototype.is=function(a,e){return e?e===this.name&&(a==="element"||a==="model:element"):a==="element"||a==="model:element"||a==="node"||a==="model:node"};class _r{constructor(e){if(!e||!e.boundaries&&!e.startPosition)throw new j("model-tree-walker-no-start-position",null);const i=e.direction||"forward";if(i!="forward"&&i!="backward")throw new j("model-tree-walker-unknown-direction",e,{direction:i});this.direction=i,this.boundaries=e.boundaries||null,e.startPosition?this._position=e.startPosition.clone():this._position=ee._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!e.singleCharacters,this.shallow=!!e.shallow,this.ignoreElementEnd=!!e.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}[Symbol.iterator](){return this}get position(){return this._position}skip(e){let i,o,l,c;do l=this.position,c=this._visitedParent,{done:i,value:o}=this.next();while(!i&&e(o));i||(this._position=l,this._visitedParent=c)}next(){return this.direction=="forward"?this._next():this._previous()}_next(){const e=this.position,i=this.position.clone(),o=this._visitedParent;if(o.parent===null&&i.offset===o.maxOffset)return{done:!0,value:void 0};if(o===this._boundaryEndParent&&i.offset==this.boundaries.end.offset)return{done:!0,value:void 0};const l=Iu(i,o),c=l||TE(i,o,l);if(c instanceof nt){if(this.shallow){if(this.boundaries&&this.boundaries.end.isBefore(i))return{done:!0,value:void 0};i.offset++}else i.path.push(0),this._visitedParent=c;return this._position=i,na("elementStart",c,e,i,1)}if(c instanceof dt){let d;if(this.singleCharacters)d=1;else{let k=c.endOffset;this._boundaryEndParent==o&&this.boundaries.end.offset<k&&(k=this.boundaries.end.offset),d=k-i.offset}const f=i.offset-c.startOffset,g=new Fi(c,f,d);return i.offset+=d,this._position=i,na("text",g,e,i,d)}return i.path.pop(),i.offset++,this._position=i,this._visitedParent=o.parent,this.ignoreElementEnd?this._next():na("elementEnd",o,e,i)}_previous(){const e=this.position,i=this.position.clone(),o=this._visitedParent;if(o.parent===null&&i.offset===0)return{done:!0,value:void 0};if(o==this._boundaryStartParent&&i.offset==this.boundaries.start.offset)return{done:!0,value:void 0};const l=i.parent,c=Iu(i,l),d=c||SE(i,l,c);if(d instanceof nt)return i.offset--,this.shallow?(this._position=i,na("elementStart",d,e,i,1)):(i.path.push(d.maxOffset),this._position=i,this._visitedParent=d,this.ignoreElementEnd?this._previous():na("elementEnd",d,e,i));if(d instanceof dt){let f;if(this.singleCharacters)f=1;else{let w=d.startOffset;this._boundaryStartParent==o&&this.boundaries.start.offset>w&&(w=this.boundaries.start.offset),f=i.offset-w}const g=i.offset-d.startOffset,k=new Fi(d,g-f,f);return i.offset-=f,this._position=i,na("text",k,e,i,f)}return i.path.pop(),this._position=i,this._visitedParent=o.parent,na("elementStart",o,e,i,1)}}function na(a,e,i,o,l){return{done:!1,value:{type:a,item:e,previousPosition:i,nextPosition:o,length:l}}}class ee extends jo{constructor(e,i,o="toNone"){if(super(),!e.is("element")&&!e.is("documentFragment"))throw new j("model-position-root-invalid",e);if(!(i instanceof Array)||i.length===0)throw new j("model-position-path-incorrect-format",e,{path:i});e.is("rootElement")?i=i.slice():(i=[...e.getPath(),...i],e=e.root),this.root=e,this.path=i,this.stickiness=o}get offset(){return this.path[this.path.length-1]}set offset(e){this.path[this.path.length-1]=e}get parent(){let e=this.root;for(let i=0;i<this.path.length-1;i++)if(e=e.getChild(e.offsetToIndex(this.path[i])),!e)throw new j("model-position-path-incorrect",this,{position:this});if(e.is("$text"))throw new j("model-position-path-incorrect",this,{position:this});return e}get index(){return this.parent.offsetToIndex(this.offset)}get textNode(){return Iu(this,this.parent)}get nodeAfter(){const e=this.parent;return TE(this,e,Iu(this,e))}get nodeBefore(){const e=this.parent;return SE(this,e,Iu(this,e))}get isAtStart(){return this.offset===0}get isAtEnd(){return this.offset==this.parent.maxOffset}compareWith(e){if(this.root!=e.root)return"different";const i=un(this.path,e.path);switch(i){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[i]<e.path[i]?"before":"after"}}getLastMatchingPosition(e,i={}){i.startPosition=this;const o=new _r(i);return o.skip(e),o.position}getParentPath(){return this.path.slice(0,-1)}getAncestors(){const e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}findAncestor(e){const i=this.parent;return i.is("element")?i.findAncestor(e,{includeSelf:!0}):null}getCommonPath(e){if(this.root!=e.root)return[];const i=un(this.path,e.path),o=typeof i=="string"?Math.min(this.path.length,e.path.length):i;return this.path.slice(0,o)}getCommonAncestor(e){const i=this.getAncestors(),o=e.getAncestors();let l=0;for(;i[l]==o[l]&&i[l];)l++;return l===0?null:i[l-1]}getShiftedBy(e){const i=this.clone(),o=i.offset+e;return i.offset=o<0?0:o,i}isAfter(e){return this.compareWith(e)=="after"}isBefore(e){return this.compareWith(e)=="before"}isEqual(e){return this.compareWith(e)=="same"}isTouching(e){if(this.root!==e.root)return!1;const i=Math.min(this.path.length,e.path.length);for(let o=0;o<i;o++){const l=this.path[o]-e.path[o];if(l<-1||l>1)return!1;if(l===1)return DE(e,this,o);if(l===-1)return DE(this,e,o)}return this.path.length===e.path.length||(this.path.length>e.path.length?gw(this.path,i):gw(e.path,i))}hasSameParentAs(e){return this.root!==e.root?!1:un(this.getParentPath(),e.getParentPath())=="same"}getTransformedByOperation(e){let i;switch(e.type){case"insert":i=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":i=this._getTransformedByMoveOperation(e);break;case"split":i=this._getTransformedBySplitOperation(e);break;case"merge":i=this._getTransformedByMergeOperation(e);break;default:i=ee._createAt(this)}return i}_getTransformedByInsertOperation(e){return this._getTransformedByInsertion(e.position,e.howMany)}_getTransformedByMoveOperation(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}_getTransformedBySplitOperation(e){const i=e.movedRange;return i.containsPosition(this)||i.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}_getTransformedByMergeOperation(e){const i=e.movedRange;let o;return i.containsPosition(this)||i.start.isEqual(this)?(o=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(o=o._getTransformedByDeletion(e.deletionPosition,1))):o=this.isEqual(e.deletionPosition)?ee._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),o}_getTransformedByDeletion(e,i){const o=ee._createAt(this);if(this.root!=e.root)return o;if(un(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+i>this.offset)return null;o.offset-=i}}else if(un(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;if(e.offset<=this.path[l]){if(e.offset+i>this.path[l])return null;o.path[l]-=i}}return o}_getTransformedByInsertion(e,i){const o=ee._createAt(this);if(this.root!=e.root)return o;if(un(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(o.offset+=i);else if(un(e.getParentPath(),this.getParentPath())=="prefix"){const l=e.path.length-1;e.offset<=this.path[l]&&(o.path[l]+=i)}return o}_getTransformedByMove(e,i,o){if(i=i._getTransformedByDeletion(e,o),e.isEqual(i))return ee._createAt(this);const l=this._getTransformedByDeletion(e,o);return l===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(o).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,i):l._getTransformedByInsertion(i,o)}_getCombined(e,i){const o=e.path.length-1,l=ee._createAt(i);return l.stickiness=this.stickiness,l.offset=l.offset+this.path[o]-e.offset,l.path=[...l.path,...this.path.slice(o+1)],l}toJSON(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}clone(){return new this.constructor(this.root,this.path,this.stickiness)}static _createAt(e,i,o="toNone"){if(e instanceof ee)return new ee(e.root,e.path,e.stickiness);{const l=e;if(i=="end")i=l.maxOffset;else{if(i=="before")return this._createBefore(l,o);if(i=="after")return this._createAfter(l,o);if(i!==0&&!i)throw new j("model-createpositionat-offset-required",[this,e])}if(!l.is("element")&&!l.is("documentFragment"))throw new j("model-position-parent-incorrect",[this,e]);const c=l.getPath();return c.push(i),new this(l.root,c,o)}}static _createAfter(e,i){if(!e.parent)throw new j("model-position-after-root",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,i)}static _createBefore(e,i){if(!e.parent)throw new j("model-position-before-root",e,{root:e});return this._createAt(e.parent,e.startOffset,i)}static fromJSON(e,i){if(e.root==="$graveyard"){const o=new ee(i.graveyard,e.path);return o.stickiness=e.stickiness,o}if(!i.getRoot(e.root))throw new j("model-position-fromjson-no-root",i,{rootName:e.root});return new ee(i.getRoot(e.root),e.path,e.stickiness)}}function Iu(a,e){const i=e.getChild(e.offsetToIndex(a.offset));return i&&i.is("$text")&&i.startOffset<a.offset?i:null}function TE(a,e,i){return i!==null?null:e.getChild(e.offsetToIndex(a.offset))}function SE(a,e,i){return i!==null?null:e.getChild(e.offsetToIndex(a.offset)-1)}function DE(a,e,i){return i+1!==a.path.length&&!!gw(e.path,i+1)&&!!function(o,l){let c=o.parent,d=o.path.length-1,f=0;for(;d>=l;){if(o.path[d]+f!==c.maxOffset)return!1;f=1,d--,c=c.parent}return!0}(a,i+1)}function gw(a,e){for(;e<a.length;){if(a[e]!==0)return!1;e++}return!0}ee.prototype.is=function(a){return a==="position"||a==="model:position"};class G extends jo{constructor(e,i){super(),this.start=ee._createAt(e),this.end=i?ee._createAt(i):ee._createAt(e),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}*[Symbol.iterator](){yield*new _r({boundaries:this,ignoreElementEnd:!0})}get isCollapsed(){return this.start.isEqual(this.end)}get isFlat(){return un(this.start.getParentPath(),this.end.getParentPath())=="same"}get root(){return this.start.root}containsPosition(e){return e.isAfter(this.start)&&e.isBefore(this.end)}containsRange(e,i=!1){e.isCollapsed&&(i=!1);const o=this.containsPosition(e.start)||i&&this.start.isEqual(e.start),l=this.containsPosition(e.end)||i&&this.end.isEqual(e.end);return o&&l}containsItem(e){const i=ee._createBefore(e);return this.containsPosition(i)||this.start.isEqual(i)}isEqual(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}isIntersecting(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}getDifference(e){const i=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&i.push(new G(this.start,e.start)),this.containsPosition(e.end)&&i.push(new G(e.end,this.end))):i.push(new G(this.start,this.end)),i}getIntersection(e){if(this.isIntersecting(e)){let i=this.start,o=this.end;return this.containsPosition(e.start)&&(i=e.start),this.containsPosition(e.end)&&(o=e.end),new G(i,o)}return null}getJoined(e,i=!1){let o=this.isIntersecting(e);if(o||(o=this.start.isBefore(e.start)?i?this.end.isTouching(e.start):this.end.isEqual(e.start):i?e.end.isTouching(this.start):e.end.isEqual(this.start)),!o)return null;let l=this.start,c=this.end;return e.start.isBefore(l)&&(l=e.start),e.end.isAfter(c)&&(c=e.end),new G(l,c)}getMinimalFlatRanges(){const e=[],i=this.start.getCommonPath(this.end).length,o=ee._createAt(this.start);let l=o.parent;for(;o.path.length>i+1;){const c=l.maxOffset-o.offset;c!==0&&e.push(new G(o,o.getShiftedBy(c))),o.path=o.path.slice(0,-1),o.offset++,l=l.parent}for(;o.path.length<=this.end.path.length;){const c=this.end.path[o.path.length-1],d=c-o.offset;d!==0&&e.push(new G(o,o.getShiftedBy(d))),o.offset=c,o.path.push(0)}return e}getWalker(e={}){return e.boundaries=this,new _r(e)}*getItems(e={}){e.boundaries=this,e.ignoreElementEnd=!0;const i=new _r(e);for(const o of i)yield o.item}*getPositions(e={}){e.boundaries=this;const i=new _r(e);yield i.position;for(const o of i)yield o.nextPosition}getTransformedByOperation(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new G(this.start,this.end)]}getTransformedByOperations(e){const i=[new G(this.start,this.end)];for(const o of e)for(let l=0;l<i.length;l++){const c=i[l].getTransformedByOperation(o);i.splice(l,1,...c),l+=c.length-1}for(let o=0;o<i.length;o++){const l=i[o];for(let c=o+1;c<i.length;c++){const d=i[c];(l.containsRange(d)||d.containsRange(l)||l.isEqual(d))&&i.splice(c,1)}}return i}getCommonAncestor(){return this.start.getCommonAncestor(this.end)}getContainedElement(){if(this.isCollapsed)return null;const e=this.start.nodeAfter,i=this.end.nodeBefore;return e&&e.is("element")&&e===i?e:null}toJSON(){return{start:this.start.toJSON(),end:this.end.toJSON()}}clone(){return new this.constructor(this.start,this.end)}_getTransformedByInsertOperation(e,i=!1){return this._getTransformedByInsertion(e.position,e.howMany,i)}_getTransformedByMoveOperation(e,i=!1){const o=e.sourcePosition,l=e.howMany,c=e.targetPosition;return this._getTransformedByMove(o,c,l,i)}_getTransformedBySplitOperation(e){const i=this.start._getTransformedBySplitOperation(e);let o=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(o=this.end.getShiftedBy(1)),i.root!=o.root&&(o=this.end.getShiftedBy(-1)),new G(i,o)}_getTransformedByMergeOperation(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new G(this.start);let i=this.start._getTransformedByMergeOperation(e),o=this.end._getTransformedByMergeOperation(e);return i.root!=o.root&&(o=this.end.getShiftedBy(-1)),i.isAfter(o)?(e.sourcePosition.isBefore(e.targetPosition)?(i=ee._createAt(o),i.offset=0):(e.deletionPosition.isEqual(i)||(o=e.deletionPosition),i=e.targetPosition),new G(i,o)):new G(i,o)}_getTransformedByInsertion(e,i,o=!1){if(o&&this.containsPosition(e))return[new G(this.start,e),new G(e.getShiftedBy(i),this.end._getTransformedByInsertion(e,i))];{const l=new G(this.start,this.end);return l.start=l.start._getTransformedByInsertion(e,i),l.end=l.end._getTransformedByInsertion(e,i),[l]}}_getTransformedByMove(e,i,o,l=!1){if(this.isCollapsed){const _=this.start._getTransformedByMove(e,i,o);return[new G(_)]}const c=G._createFromPositionAndShift(e,o),d=i._getTransformedByDeletion(e,o);if(this.containsPosition(i)&&!l&&(c.containsPosition(this.start)||c.containsPosition(this.end))){const _=this.start._getTransformedByMove(e,i,o),y=this.end._getTransformedByMove(e,i,o);return[new G(_,y)]}let f;const g=this.getDifference(c);let k=null;const w=this.getIntersection(c);if(g.length==1?k=new G(g[0].start._getTransformedByDeletion(e,o),g[0].end._getTransformedByDeletion(e,o)):g.length==2&&(k=new G(this.start,this.end._getTransformedByDeletion(e,o))),f=k?k._getTransformedByInsertion(d,o,w!==null||l):[],w){const _=new G(w.start._getCombined(c.start,d),w.end._getCombined(c.start,d));f.length==2?f.splice(1,0,_):f.push(_)}return f}_getTransformedByDeletion(e,i){let o=this.start._getTransformedByDeletion(e,i),l=this.end._getTransformedByDeletion(e,i);return o==null&&l==null?null:(o==null&&(o=e),l==null&&(l=e),new G(o,l))}static _createFromPositionAndShift(e,i){const o=e,l=e.getShiftedBy(i);return i>0?new this(o,l):new this(l,o)}static _createIn(e){return new this(ee._createAt(e,0),ee._createAt(e,e.maxOffset))}static _createOn(e){return this._createFromPositionAndShift(ee._createBefore(e),e.offsetSize)}static _createFromRanges(e){if(e.length===0)throw new j("range-create-from-ranges-empty-array",null);if(e.length==1)return e[0].clone();const i=e[0];e.sort((c,d)=>c.start.isAfter(d.start)?1:-1);const o=e.indexOf(i),l=new this(i.start,i.end);if(o>0)for(let c=o-1;e[c].end.isEqual(l.start);c++)l.start=ee._createAt(e[c].start);for(let c=o+1;c<e.length&&e[c].start.isEqual(l.end);c++)l.end=ee._createAt(e[c].end);return l}static fromJSON(e,i){return new this(ee.fromJSON(e.start,i),ee.fromJSON(e.end,i))}}G.prototype.is=function(a){return a==="range"||a==="model:range"};class ME extends ce(){constructor(){super(),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._deferredBindingRemovals=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",(e,i)=>{if(i.viewPosition)return;const o=this._modelToViewMapping.get(i.modelPosition.parent);if(!o)throw new j("mapping-model-position-view-parent-not-found",this,{modelPosition:i.modelPosition});i.viewPosition=this.findPositionIn(o,i.modelPosition.offset)},{priority:"low"}),this.on("viewToModelPosition",(e,i)=>{if(i.modelPosition)return;const o=this.findMappedViewAncestor(i.viewPosition),l=this._viewToModelMapping.get(o),c=this._toModelOffset(i.viewPosition.parent,i.viewPosition.offset,o);i.modelPosition=ee._createAt(l,c)},{priority:"low"})}bindElements(e,i){this._modelToViewMapping.set(e,i),this._viewToModelMapping.set(i,e)}unbindViewElement(e,i={}){const o=this.toModelElement(e);if(this._elementToMarkerNames.has(e))for(const l of this._elementToMarkerNames.get(e))this._unboundMarkerNames.add(l);i.defer?this._deferredBindingRemovals.set(e,e.root):(this._viewToModelMapping.delete(e),this._modelToViewMapping.get(o)==e&&this._modelToViewMapping.delete(o))}unbindModelElement(e){const i=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(i)==e&&this._viewToModelMapping.delete(i)}bindElementToMarker(e,i){const o=this._markerNameToElements.get(i)||new Set;o.add(e);const l=this._elementToMarkerNames.get(e)||new Set;l.add(i),this._markerNameToElements.set(i,o),this._elementToMarkerNames.set(e,l)}unbindElementFromMarkerName(e,i){const o=this._markerNameToElements.get(i);o&&(o.delete(e),o.size==0&&this._markerNameToElements.delete(i));const l=this._elementToMarkerNames.get(e);l&&(l.delete(i),l.size==0&&this._elementToMarkerNames.delete(e))}flushUnboundMarkerNames(){const e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}flushDeferredBindings(){for(const[e,i]of this._deferredBindingRemovals)e.root==i&&this.unbindViewElement(e);this._deferredBindingRemovals=new Map}clearBindings(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this._deferredBindingRemovals=new Map}toModelElement(e){return this._viewToModelMapping.get(e)}toViewElement(e){return this._modelToViewMapping.get(e)}toModelRange(e){return new G(this.toModelPosition(e.start),this.toModelPosition(e.end))}toViewRange(e){return new ve(this.toViewPosition(e.start),this.toViewPosition(e.end))}toModelPosition(e){const i={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",i),i.modelPosition}toViewPosition(e,i={}){const o={modelPosition:e,mapper:this,isPhantom:i.isPhantom};return this.fire("modelToViewPosition",o),o.viewPosition}markerNameToElements(e){const i=this._markerNameToElements.get(e);if(!i)return null;const o=new Set;for(const l of i)if(l.is("attributeElement"))for(const c of l.getElementsWithSameId())o.add(c);else o.add(l);return o}registerViewToModelLength(e,i){this._viewToModelLengthCallbacks.set(e,i)}findMappedViewAncestor(e){let i=e.parent;for(;!this._viewToModelMapping.has(i);)i=i.parent;return i}_toModelOffset(e,i,o){if(o!=e)return this._toModelOffset(e.parent,e.index,o)+this._toModelOffset(e,i,e);if(e.is("$text"))return i;let l=0;for(let c=0;c<i;c++)l+=this.getModelLength(e.getChild(c));return l}getModelLength(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("$text"))return e.data.length;if(e.is("uiElement"))return 0;{let i=0;for(const o of e.getChildren())i+=this.getModelLength(o);return i}}findPositionIn(e,i){let o,l=0,c=0,d=0;if(e.is("$text"))return new ae(e,i);for(;c<i;)o=e.getChild(d),l=this.getModelLength(o),c+=l,d++;return c==i?this._moveViewPositionToTextNode(new ae(e,d)):this.findPositionIn(o,i-(c-l))}_moveViewPositionToTextNode(e){const i=e.nodeBefore,o=e.nodeAfter;return i instanceof ut?new ae(i,i.data.length):o instanceof ut?new ae(o,0):e}}class cj{constructor(){this._consumable=new Map,this._textProxyRegistry=new Map}add(e,i){i=ip(i),e instanceof Fi&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(i,!0)}consume(e,i){return i=ip(i),e instanceof Fi&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,i)&&(this._consumable.get(e).set(i,!1),!0)}test(e,i){i=ip(i),e instanceof Fi&&(e=this._getSymbolForTextProxy(e));const o=this._consumable.get(e);if(o===void 0)return null;const l=o.get(i);return l===void 0?null:l}revert(e,i){i=ip(i),e instanceof Fi&&(e=this._getSymbolForTextProxy(e));const o=this.test(e,i);return o===!1?(this._consumable.get(e).set(i,!0),!0):o!==!0&&null}verifyAllConsumed(e){const i=[];for(const[o,l]of this._consumable)for(const[c,d]of l){const f=c.split(":")[0];d&&e==f&&i.push({event:c,item:o.name||o.description})}if(i.length)throw new j("conversion-model-consumable-not-consumed",null,{items:i})}_getSymbolForTextProxy(e){let i=null;const o=this._textProxyRegistry.get(e.startOffset);if(o){const l=o.get(e.endOffset);l&&(i=l.get(e.parent))}return i||(i=this._addSymbolForTextProxy(e)),i}_addSymbolForTextProxy(e){const i=e.startOffset,o=e.endOffset,l=e.parent,c=Symbol("$textProxy:"+e.data);let d,f;return d=this._textProxyRegistry.get(i),d||(d=new Map,this._textProxyRegistry.set(i,d)),f=d.get(o),f||(f=new Map,d.set(o,f)),f.set(l,c),c}}function ip(a){const e=a.split(":");return e[0]=="insert"?e[0]:e[0]=="addMarker"||e[0]=="removeMarker"?a:e.length>1?e[0]+":"+e[1]:e[0]}var uj=Object.defineProperty,dj=Object.defineProperties,hj=Object.getOwnPropertyDescriptors,PE=Object.getOwnPropertySymbols,fj=Object.prototype.hasOwnProperty,pj=Object.prototype.propertyIsEnumerable,NE=(a,e,i)=>e in a?uj(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,mw=(a,e)=>{for(var i in e||(e={}))fj.call(e,i)&&NE(a,i,e[i]);if(PE)for(var i of PE(e))pj.call(e,i)&&NE(a,i,e[i]);return a},RE=(a,e)=>dj(a,hj(e));class OE extends ce(){constructor(e){super(),this._conversionApi=mw({dispatcher:this},e),this._firedEventsMap=new WeakMap}convertChanges(e,i,o){const l=this._createConversionApi(o,e.getRefreshedItems());for(const d of e.getMarkersToRemove())this._convertMarkerRemove(d.name,d.range,l);const c=this._reduceChanges(e.getChanges());for(const d of c)d.type==="insert"?this._convertInsert(G._createFromPositionAndShift(d.position,d.length),l):d.type==="reinsert"?this._convertReinsert(G._createFromPositionAndShift(d.position,d.length),l):d.type==="remove"?this._convertRemove(d.position,d.length,d.name,l):this._convertAttribute(d.range,d.attributeKey,d.attributeOldValue,d.attributeNewValue,l);for(const d of l.mapper.flushUnboundMarkerNames()){const f=i.get(d).getRange();this._convertMarkerRemove(d,f,l),this._convertMarkerAdd(d,f,l)}for(const d of e.getMarkersToAdd())this._convertMarkerAdd(d.name,d.range,l);l.mapper.flushDeferredBindings(),l.consumable.verifyAllConsumed("insert")}convert(e,i,o,l={}){const c=this._createConversionApi(o,void 0,l);this._convertInsert(e,c);for(const[d,f]of i)this._convertMarkerAdd(d,f,c);c.consumable.verifyAllConsumed("insert")}convertSelection(e,i,o){const l=this._createConversionApi(o);this.fire("cleanSelection",{selection:e},l);const c=e.getFirstPosition().root;if(!l.mapper.toViewElement(c))return;const d=Array.from(i.getMarkersAtPosition(e.getFirstPosition()));if(this._addConsumablesForSelection(l.consumable,e,d),this.fire("selection",{selection:e},l),e.isCollapsed){for(const f of d)if(l.consumable.test(e,"addMarker:"+f.name)){const g=f.getRange();if(!gj(e.getFirstPosition(),f,l.mapper))continue;const k={item:e,markerName:f.name,markerRange:g};this.fire(`addMarker:${f.name}`,k,l)}for(const f of e.getAttributeKeys())if(l.consumable.test(e,"attribute:"+f)){const g={item:e,range:e.getFirstRange(),attributeKey:f,attributeOldValue:null,attributeNewValue:e.getAttribute(f)};this.fire(`attribute:${f}:$text`,g,l)}}}_convertInsert(e,i,o={}){o.doNotAddConsumables||this._addConsumablesForInsert(i.consumable,Array.from(e));for(const l of Array.from(e.getWalker({shallow:!0})).map(BE))this._testAndFire("insert",l,i)}_convertRemove(e,i,o,l){this.fire(`remove:${o}`,{position:e,length:i},l)}_convertAttribute(e,i,o,l,c){this._addConsumablesForRange(c.consumable,e,`attribute:${i}`);for(const d of e){const f={item:d.item,range:G._createFromPositionAndShift(d.previousPosition,d.length),attributeKey:i,attributeOldValue:o,attributeNewValue:l};this._testAndFire(`attribute:${i}`,f,c)}}_convertReinsert(e,i){const o=Array.from(e.getWalker({shallow:!0}));this._addConsumablesForInsert(i.consumable,o);for(const l of o.map(BE))this._testAndFire("insert",RE(mw({},l),{reconversion:!0}),i)}_convertMarkerAdd(e,i,o){if(i.root.rootName=="$graveyard")return;const l=`addMarker:${e}`;if(o.consumable.add(i,l),this.fire(l,{markerName:e,markerRange:i},o),o.consumable.consume(i,l)){this._addConsumablesForRange(o.consumable,i,l);for(const c of i.getItems()){if(!o.consumable.test(c,l))continue;const d={item:c,range:G._createOn(c),markerName:e,markerRange:i};this.fire(l,d,o)}}}_convertMarkerRemove(e,i,o){i.root.rootName!="$graveyard"&&this.fire(`removeMarker:${e}`,{markerName:e,markerRange:i},o)}_reduceChanges(e){const i={changes:e};return this.fire("reduceChanges",i),i.changes}_addConsumablesForInsert(e,i){for(const o of i){const l=o.item;if(e.test(l,"insert")===null){e.add(l,"insert");for(const c of l.getAttributeKeys())e.add(l,"attribute:"+c)}}return e}_addConsumablesForRange(e,i,o){for(const l of i.getItems())e.add(l,o);return e}_addConsumablesForSelection(e,i,o){e.add(i,"selection");for(const l of o)e.add(i,"addMarker:"+l.name);for(const l of i.getAttributeKeys())e.add(i,"attribute:"+l);return e}_testAndFire(e,i,o){const l=function(g,k){const w=k.item.is("element")?k.item.name:"$text";return`${g}:${w}`}(e,i),c=i.item.is("$textProxy")?o.consumable._getSymbolForTextProxy(i.item):i.item,d=this._firedEventsMap.get(o),f=d.get(c);if(f){if(f.has(l))return;f.add(l)}else d.set(c,new Set([l]));this.fire(l,i,o)}_testAndFireAddAttributes(e,i){const o={item:e,range:G._createOn(e)};for(const l of o.item.getAttributeKeys())o.attributeKey=l,o.attributeOldValue=null,o.attributeNewValue=o.item.getAttribute(l),this._testAndFire(`attribute:${l}`,o,i)}_createConversionApi(e,i=new Set,o={}){const l=RE(mw({},this._conversionApi),{consumable:new cj,writer:e,options:o,convertItem:c=>this._convertInsert(G._createOn(c),l),convertChildren:c=>this._convertInsert(G._createIn(c),l,{doNotAddConsumables:!0}),convertAttributes:c=>this._testAndFireAddAttributes(c,l),canReuseView:c=>!i.has(l.mapper.toModelElement(c))});return this._firedEventsMap.set(l,new Map),l}}function gj(a,e,i){const o=e.getRange(),l=Array.from(a.getAncestors());return l.shift(),l.reverse(),!l.some(c=>{if(o.containsItem(c))return!!i.toViewElement(c).getCustomProperty("addHighlight")})}function BE(a){return{item:a.item,range:G._createFromPositionAndShift(a.previousPosition,a.length)}}class di extends ce(jo){constructor(...e){super(),this._lastRangeBackward=!1,this._attrs=new Map,this._ranges=[],e.length&&this.setTo(...e)}get anchor(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}get focus(){if(this._ranges.length>0){const e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}get isCollapsed(){return this._ranges.length===1&&this._ranges[0].isCollapsed}get rangeCount(){return this._ranges.length}get isBackward(){return!this.isCollapsed&&this._lastRangeBackward}isEqual(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;for(const i of this._ranges){let o=!1;for(const l of e._ranges)if(i.isEqual(l)){o=!0;break}if(!o)return!1}return!0}*getRanges(){for(const e of this._ranges)yield new G(e.start,e.end)}getFirstRange(){let e=null;for(const i of this._ranges)e&&!i.start.isBefore(e.start)||(e=i);return e?new G(e.start,e.end):null}getLastRange(){let e=null;for(const i of this._ranges)e&&!i.end.isAfter(e.end)||(e=i);return e?new G(e.start,e.end):null}getFirstPosition(){const e=this.getFirstRange();return e?e.start.clone():null}getLastPosition(){const e=this.getLastRange();return e?e.end.clone():null}setTo(...e){let[i,o,l]=e;if(typeof o=="object"&&(l=o,o=void 0),i===null)this._setRanges([]);else if(i instanceof di)this._setRanges(i.getRanges(),i.isBackward);else if(i&&typeof i.getRanges=="function")this._setRanges(i.getRanges(),i.isBackward);else if(i instanceof G)this._setRanges([i],!!l&&!!l.backward);else if(i instanceof ee)this._setRanges([new G(i)]);else if(i instanceof ta){const c=!!l&&!!l.backward;let d;if(o=="in")d=G._createIn(i);else if(o=="on")d=G._createOn(i);else{if(o===void 0)throw new j("model-selection-setto-required-second-parameter",[this,i]);d=new G(ee._createAt(i,o))}this._setRanges([d],c)}else{if(!An(i))throw new j("model-selection-setto-not-selectable",[this,i]);this._setRanges(i,l&&!!l.backward)}}_setRanges(e,i=!1){const o=Array.from(e),l=o.some(c=>{if(!(c instanceof G))throw new j("model-selection-set-ranges-not-range",[this,e]);return this._ranges.every(d=>!d.isEqual(c))});(o.length!==this._ranges.length||l)&&(this._replaceAllRanges(o),this._lastRangeBackward=!!i,this.fire("change:range",{directChange:!0}))}setFocus(e,i){if(this.anchor===null)throw new j("model-selection-setfocus-no-ranges",[this,e]);const o=ee._createAt(e,i);if(o.compareWith(this.focus)=="same")return;const l=this.anchor;this._ranges.length&&this._popRange(),o.compareWith(l)=="before"?(this._pushRange(new G(o,l)),this._lastRangeBackward=!0):(this._pushRange(new G(l,o)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}getAttribute(e){return this._attrs.get(e)}getAttributes(){return this._attrs.entries()}getAttributeKeys(){return this._attrs.keys()}hasAttribute(e){return this._attrs.has(e)}removeAttribute(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}setAttribute(e,i){this.getAttribute(e)!==i&&(this._attrs.set(e,i),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}getSelectedElement(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}*getSelectedBlocks(){const e=new WeakSet;for(const i of this.getRanges()){const o=zE(i.start,e);kj(o,i)&&(yield o);for(const c of i.getWalker()){const d=c.item;c.type=="elementEnd"&&mj(d,e,i)&&(yield d)}const l=zE(i.end,e);bj(l,i)&&(yield l)}}containsEntireContent(e=this.anchor.root){const i=ee._createAt(e,0),o=ee._createAt(e,"end");return i.isTouching(this.getFirstPosition())&&o.isTouching(this.getLastPosition())}_pushRange(e){this._checkRange(e),this._ranges.push(new G(e.start,e.end))}_checkRange(e){for(let i=0;i<this._ranges.length;i++)if(e.isIntersecting(this._ranges[i]))throw new j("model-selection-range-intersects",[this,e],{addedRange:e,intersectingRange:this._ranges[i]})}_replaceAllRanges(e){this._removeAllRanges();for(const i of e)this._pushRange(i)}_removeAllRanges(){for(;this._ranges.length>0;)this._popRange()}_popRange(){this._ranges.pop()}}function LE(a,e){return!e.has(a)&&(e.add(a),a.root.document.model.schema.isBlock(a)&&!!a.parent)}function mj(a,e,i){return LE(a,e)&&kw(a,i)}function zE(a,e){const i=a.parent.root.document.model.schema,o=a.parent.getAncestors({parentFirst:!0,includeSelf:!0});let l=!1;const c=o.find(d=>!l&&(l=i.isLimit(d),!l&&LE(d,e)));return o.forEach(d=>e.add(d)),c}function kw(a,e){const i=function(o){const l=o.root.document.model.schema;let c=o.parent;for(;c;){if(l.isBlock(c))return c;c=c.parent}}(a);return i?!e.containsRange(G._createOn(i),!0):!0}function kj(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.start.isTouching(ee._createAt(a,a.maxOffset))&&kw(a,e))}function bj(a,e){return!!a&&(!(!e.isCollapsed&&!a.isEmpty)||!e.end.isTouching(ee._createAt(a,0))&&kw(a,e))}di.prototype.is=function(a){return a==="selection"||a==="model:selection"};class Ui extends ce(G){constructor(e,i){super(e,i),wj.call(this)}detach(){this.stopListening()}toRange(){return new G(this.start,this.end)}static fromRange(e){return new Ui(e.start,e.end)}}function wj(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const i=e[0];i.isDocumentOperation&&_j.call(this,i)},{priority:"low"})}function _j(a){const e=this.getTransformedByOperation(a),i=G._createFromRanges(e),o=!i.isEqual(this),l=function(d,f){switch(f.type){case"insert":return d.containsPosition(f.position);case"move":case"remove":case"reinsert":case"merge":return d.containsPosition(f.sourcePosition)||d.start.isEqual(f.sourcePosition)||d.containsPosition(f.targetPosition);case"split":return d.containsPosition(f.splitPosition)||d.containsPosition(f.insertionPosition)}return!1}(this,a);let c=null;if(o){i.root.rootName=="$graveyard"&&(c=a.type=="remove"?a.sourcePosition:a.deletionPosition);const d=this.toRange();this.start=i.start,this.end=i.end,this.fire("change:range",d,{deletionPosition:c})}else l&&this.fire("change:content",this.toRange(),{deletionPosition:c})}Ui.prototype.is=function(a){return a==="liveRange"||a==="model:liveRange"||a=="range"||a==="model:range"};const rp="selection:";class Hi extends ce(jo){constructor(e){super(),this._selection=new Aj(e),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}get isCollapsed(){return this._selection.isCollapsed}get anchor(){return this._selection.anchor}get focus(){return this._selection.focus}get rangeCount(){return this._selection.rangeCount}get hasOwnRange(){return this._selection.hasOwnRange}get isBackward(){return this._selection.isBackward}get isGravityOverridden(){return this._selection.isGravityOverridden}get markers(){return this._selection.markers}get _ranges(){return this._selection._ranges}getRanges(){return this._selection.getRanges()}getFirstPosition(){return this._selection.getFirstPosition()}getLastPosition(){return this._selection.getLastPosition()}getFirstRange(){return this._selection.getFirstRange()}getLastRange(){return this._selection.getLastRange()}getSelectedBlocks(){return this._selection.getSelectedBlocks()}getSelectedElement(){return this._selection.getSelectedElement()}containsEntireContent(e){return this._selection.containsEntireContent(e)}destroy(){this._selection.destroy()}getAttributeKeys(){return this._selection.getAttributeKeys()}getAttributes(){return this._selection.getAttributes()}getAttribute(e){return this._selection.getAttribute(e)}hasAttribute(e){return this._selection.hasAttribute(e)}refresh(){this._selection.updateMarkers(),this._selection._updateAttributes(!1)}observeMarkers(e){this._selection.observeMarkers(e)}_setFocus(e,i){this._selection.setFocus(e,i)}_setTo(...e){this._selection.setTo(...e)}_setAttribute(e,i){this._selection.setAttribute(e,i)}_removeAttribute(e){this._selection.removeAttribute(e)}_getStoredAttributes(){return this._selection.getStoredAttributes()}_overrideGravity(){return this._selection.overrideGravity()}_restoreGravity(e){this._selection.restoreGravity(e)}static _getStoreAttributeKey(e){return rp+e}static _isStoreAttributeKey(e){return e.startsWith(rp)}}Hi.prototype.is=function(a){return a==="selection"||a=="model:selection"||a=="documentSelection"||a=="model:documentSelection"};class Aj extends di{constructor(e){super(),this.markers=new Li({idProperty:"name"}),this._attributePriority=new Map,this._selectionRestorePosition=null,this._hasChangedRange=!1,this._overriddenGravityRegister=new Set,this._observedMarkers=new Set,this._model=e.model,this._document=e,this.listenTo(this._model,"applyOperation",(i,o)=>{const l=o[0];l.isDocumentOperation&&l.type!="marker"&&l.type!="rename"&&l.type!="noop"&&(this._ranges.length==0&&this._selectionRestorePosition&&this._fixGraveyardSelection(this._selectionRestorePosition),this._selectionRestorePosition=null,this._hasChangedRange&&(this._hasChangedRange=!1,this.fire("change:range",{directChange:!1})))},{priority:"lowest"}),this.on("change:range",()=>{this._validateSelectionRanges(this.getRanges())}),this.listenTo(this._model.markers,"update",(i,o,l,c)=>{this._updateMarker(o,c)}),this.listenTo(this._document,"change",(i,o)=>{(function(l,c){const d=l.document.differ;for(const f of d.getChanges()){if(f.type!="insert")continue;const g=f.position.parent;f.length===g.maxOffset&&l.enqueueChange(c,k=>{const w=Array.from(g.getAttributeKeys()).filter(_=>_.startsWith(rp));for(const _ of w)k.removeAttribute(_,g)})}})(this._model,o)})}get isCollapsed(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:super.isCollapsed}get anchor(){return super.anchor||this._document._getDefaultRange().start}get focus(){return super.focus||this._document._getDefaultRange().end}get rangeCount(){return this._ranges.length?this._ranges.length:1}get hasOwnRange(){return this._ranges.length>0}get isGravityOverridden(){return!!this._overriddenGravityRegister.size}destroy(){for(let e=0;e<this._ranges.length;e++)this._ranges[e].detach();this.stopListening()}*getRanges(){this._ranges.length?yield*super.getRanges():yield this._document._getDefaultRange()}getFirstRange(){return super.getFirstRange()||this._document._getDefaultRange()}getLastRange(){return super.getLastRange()||this._document._getDefaultRange()}setTo(...e){super.setTo(...e),this._updateAttributes(!0),this.updateMarkers()}setFocus(e,i){super.setFocus(e,i),this._updateAttributes(!0),this.updateMarkers()}setAttribute(e,i){if(this._setAttribute(e,i)){const o=[e];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}removeAttribute(e){if(this._removeAttribute(e)){const i=[e];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}overrideGravity(){const e=U();return this._overriddenGravityRegister.add(e),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),e}restoreGravity(e){if(!this._overriddenGravityRegister.has(e))throw new j("document-selection-gravity-wrong-restore",this,{uid:e});this._overriddenGravityRegister.delete(e),this.isGravityOverridden||this._updateAttributes(!0)}observeMarkers(e){this._observedMarkers.add(e),this.updateMarkers()}_replaceAllRanges(e){this._validateSelectionRanges(e),super._replaceAllRanges(e)}_popRange(){this._ranges.pop().detach()}_pushRange(e){const i=this._prepareRange(e);i&&this._ranges.push(i)}_validateSelectionRanges(e){for(const i of e)if(!this._document._validateSelectionRange(i))throw new j("document-selection-wrong-position",this,{range:i})}_prepareRange(e){if(this._checkRange(e),e.root==this._document.graveyard)return;const i=Ui.fromRange(e);return i.on("change:range",(o,l,c)=>{if(this._hasChangedRange=!0,i.root==this._document.graveyard){this._selectionRestorePosition=c.deletionPosition;const d=this._ranges.indexOf(i);this._ranges.splice(d,1),i.detach()}}),i}updateMarkers(){if(!this._observedMarkers.size)return;const e=[];let i=!1;for(const l of this._model.markers){const c=l.name.split(":",1)[0];if(!this._observedMarkers.has(c))continue;const d=l.getRange();for(const f of this.getRanges())d.containsRange(f,!f.isCollapsed)&&e.push(l)}const o=Array.from(this.markers);for(const l of e)this.markers.has(l)||(this.markers.add(l),i=!0);for(const l of Array.from(this.markers))e.includes(l)||(this.markers.remove(l),i=!0);i&&this.fire("change:marker",{oldMarkers:o,directChange:!1})}_updateMarker(e,i){const o=e.name.split(":",1)[0];if(!this._observedMarkers.has(o))return;let l=!1;const c=Array.from(this.markers),d=this.markers.has(e);if(i){let f=!1;for(const g of this.getRanges())if(i.containsRange(g,!g.isCollapsed)){f=!0;break}f&&!d?(this.markers.add(e),l=!0):!f&&d&&(this.markers.remove(e),l=!0)}else d&&(this.markers.remove(e),l=!0);l&&this.fire("change:marker",{oldMarkers:c,directChange:!1})}_updateAttributes(e){const i=mr(this._getSurroundingAttributes()),o=mr(this.getAttributes());if(e)this._attributePriority=new Map,this._attrs=new Map;else for(const[c,d]of this._attributePriority)d=="low"&&(this._attrs.delete(c),this._attributePriority.delete(c));this._setAttributesTo(i);const l=[];for(const[c,d]of this.getAttributes())o.has(c)&&o.get(c)===d||l.push(c);for(const[c]of o)this.hasAttribute(c)||l.push(c);l.length>0&&this.fire("change:attribute",{attributeKeys:l,directChange:!1})}_setAttribute(e,i,o=!0){const l=o?"normal":"low";return l=="low"&&this._attributePriority.get(e)=="normal"?!1:super.getAttribute(e)!==i&&(this._attrs.set(e,i),this._attributePriority.set(e,l),!0)}_removeAttribute(e,i=!0){const o=i?"normal":"low";return(o!="low"||this._attributePriority.get(e)!="normal")&&(this._attributePriority.set(e,o),!!super.hasAttribute(e)&&(this._attrs.delete(e),!0))}_setAttributesTo(e){const i=new Set;for(const[o,l]of this.getAttributes())e.get(o)!==l&&this._removeAttribute(o,!1);for(const[o,l]of e)this._setAttribute(o,l,!1)&&i.add(o);return i}*getStoredAttributes(){const e=this.getFirstPosition().parent;if(this.isCollapsed&&e.isEmpty)for(const i of e.getAttributeKeys())i.startsWith(rp)&&(yield[i.substr(10),e.getAttribute(i)])}_getSurroundingAttributes(){const e=this.getFirstPosition(),i=this._model.schema;if(e.root.rootName=="$graveyard")return null;let o=null;if(this.isCollapsed){const l=e.textNode?e.textNode:e.nodeBefore,c=e.textNode?e.textNode:e.nodeAfter;if(this.isGravityOverridden||(o=Tu(l,i)),o||(o=Tu(c,i)),!this.isGravityOverridden&&!o){let d=l;for(;d&&!o;)d=d.previousSibling,o=Tu(d,i)}if(!o){let d=c;for(;d&&!o;)d=d.nextSibling,o=Tu(d,i)}o||(o=this.getStoredAttributes())}else{const l=this.getFirstRange();for(const c of l){if(c.item.is("element")&&i.isObject(c.item)){o=Tu(c.item,i);break}if(c.type=="text"){o=c.item.getAttributes();break}}}return o}_fixGraveyardSelection(e){const i=this._model.schema.getNearestSelectionRange(e);i&&this._pushRange(i)}}function Tu(a,e){if(!a)return null;if(a instanceof Fi||a instanceof dt)return a.getAttributes();if(!e.isInline(a))return null;if(!e.isObject(a))return[];const i=[];for(const[o,l]of a.getAttributes())e.checkAttribute("$text",o)&&e.getAttributeProperties(o).copyFromObject!==!1&&i.push([o,l]);return i}class jE{constructor(e){this._dispatchers=e}add(e){for(const i of this._dispatchers)e(i);return this}}class vj extends jE{elementToElement(e){return this.add(function(i){const o=UE(i.model),l=Su(i.view,"container");return o.attributes.length&&(o.children=!0),c=>{c.on(`insert:${o.name}`,function(d,f=Cj){return(g,k,w)=>{if(!f(k.item,w.consumable,{preflight:!0}))return;const _=d(k.item,w,k);if(!_)return;f(k.item,w.consumable);const y=w.mapper.toViewPosition(k.range.start);w.mapper.bindElements(k.item,_),w.writer.insert(y,_),w.convertAttributes(k.item),GE(_,k.item.getChildren(),w,{reconversion:k.reconversion})}}(l,$E(o)),{priority:i.converterPriority||"normal"}),(o.children||o.attributes.length)&&c.on("reduceChanges",qE(o),{priority:"low"})}}(e))}elementToStructure(e){return this.add(function(i){const o=UE(i.model),l=Su(i.view,"container");return o.children=!0,c=>{if(c._conversionApi.schema.checkChild(o.name,"$text"))throw new j("conversion-element-to-structure-disallowed-text",c,{elementName:o.name});var d,f;c.on(`insert:${o.name}`,(d=l,f=$E(o),(g,k,w)=>{if(!f(k.item,w.consumable,{preflight:!0}))return;const _=new Map;w.writer._registerSlotFactory(function(T,S,B){return(V,H)=>{const Q=V.createContainerElement("$slot");let le=null;if(H==="children")le=Array.from(T.getChildren());else{if(typeof H!="function")throw new j("conversion-slot-mode-unknown",B.dispatcher,{modeOrFilter:H});le=Array.from(T.getChildren()).filter(_e=>H(_e))}return S.set(Q,le),Q}}(k.item,_,w));const y=d(k.item,w,k);if(w.writer._clearSlotFactory(),!y)return;(function(T,S,B){const V=Array.from(S.values()).flat(),H=new Set(V);if(H.size!=V.length)throw new j("conversion-slot-filter-overlap",B.dispatcher,{element:T});if(H.size!=T.childCount)throw new j("conversion-slot-filter-incomplete",B.dispatcher,{element:T})})(k.item,_,w),f(k.item,w.consumable);const I=w.mapper.toViewPosition(k.range.start);w.mapper.bindElements(k.item,y),w.writer.insert(I,y),w.convertAttributes(k.item),function(T,S,B,V){B.mapper.on("modelToViewPosition",le,{priority:"highest"});let H=null,Q=null;for([H,Q]of S)GE(T,Q,B,V),B.writer.move(B.writer.createRangeIn(H),B.writer.createPositionBefore(H)),B.writer.remove(H);function le(_e,rt){const je=rt.modelPosition.nodeAfter,Qt=Q.indexOf(je);Qt<0||(rt.viewPosition=rt.mapper.findPositionIn(H,Qt))}B.mapper.off("modelToViewPosition",le)}(y,_,w,{reconversion:k.reconversion})}),{priority:i.converterPriority||"normal"}),c.on("reduceChanges",qE(o),{priority:"low"})}}(e))}attributeToElement(e){return this.add(function(i){i=zo(i);let o=i.model;typeof o=="string"&&(o={key:o});let l=`attribute:${o.key}`;if(o.name&&(l+=":"+o.name),o.values)for(const d of o.values)i.view[d]=Su(i.view[d],"attribute");else i.view=Su(i.view,"attribute");const c=HE(i);return d=>{d.on(l,function(f){return(g,k,w)=>{if(!w.consumable.test(k.item,g.name))return;const _=f(k.attributeOldValue,w,k),y=f(k.attributeNewValue,w,k);if(!_&&!y)return;w.consumable.consume(k.item,g.name);const I=w.writer,T=I.document.selection;if(k.item instanceof di||k.item instanceof Hi)I.wrap(T.getFirstRange(),y);else{let S=w.mapper.toViewRange(k.range);k.attributeOldValue!==null&&_&&(S=I.unwrap(S,_)),k.attributeNewValue!==null&&y&&I.wrap(S,y)}}}(c),{priority:i.converterPriority||"normal"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=zo(i);let o=i.model;typeof o=="string"&&(o={key:o});let l=`attribute:${o.key}`;if(o.name&&(l+=":"+o.name),o.values)for(const d of o.values)i.view[d]=WE(i.view[d]);else i.view=WE(i.view);const c=HE(i);return d=>{var f;d.on(l,(f=c,(g,k,w)=>{if(!w.consumable.test(k.item,g.name))return;const _=f(k.attributeOldValue,w,k),y=f(k.attributeNewValue,w,k);if(!_&&!y)return;w.consumable.consume(k.item,g.name);const I=w.mapper.toViewElement(k.item),T=w.writer;if(!I)throw new j("conversion-attribute-to-attribute-on-text",w.dispatcher,k);if(k.attributeOldValue!==null&&_)if(_.key=="class"){const S=nn(_.value);for(const B of S)T.removeClass(B,I)}else if(_.key=="style"){const S=Object.keys(_.value);for(const B of S)T.removeStyle(B,I)}else T.removeAttribute(_.key,I);if(k.attributeNewValue!==null&&y)if(y.key=="class"){const S=nn(y.value);for(const B of S)T.addClass(B,I)}else if(y.key=="style"){const S=Object.keys(y.value);for(const B of S)T.setStyle(B,y.value[B],I)}else T.setAttribute(y.key,y.value,I)}),{priority:i.converterPriority||"normal"})}}(e))}markerToElement(e){return this.add(function(i){const o=Su(i.view,"ui");return l=>{var c;l.on(`addMarker:${i.model}`,(c=o,(d,f,g)=>{f.isOpening=!0;const k=c(f,g);f.isOpening=!1;const w=c(f,g);if(!k||!w)return;const _=f.markerRange;if(_.isCollapsed&&!g.consumable.consume(_,d.name))return;for(const T of _)if(!g.consumable.consume(T.item,d.name))return;const y=g.mapper,I=g.writer;I.insert(y.toViewPosition(_.start),k),g.mapper.bindElementToMarker(k,f.markerName),_.isCollapsed||(I.insert(y.toViewPosition(_.end),w),g.mapper.bindElementToMarker(w,f.markerName)),d.stop()}),{priority:i.converterPriority||"normal"}),l.on(`removeMarker:${i.model}`,(d,f,g)=>{const k=g.mapper.markerNameToElements(f.markerName);if(k){for(const w of k)g.mapper.unbindElementFromMarkerName(w,f.markerName),g.writer.clear(g.writer.createRangeOn(w),w);g.writer.clearClonedElementsGroup(f.markerName),d.stop()}},{priority:i.converterPriority||"normal"})}}(e))}markerToHighlight(e){return this.add(function(i){return o=>{var l;o.on(`addMarker:${i.model}`,(l=i.view,(c,d,f)=>{if(!d.item||!(d.item instanceof di||d.item instanceof Hi||d.item.is("$textProxy")))return;const g=bw(l,d,f);if(!g||!f.consumable.consume(d.item,c.name))return;const k=f.writer,w=VE(k,g),_=k.document.selection;if(d.item instanceof di||d.item instanceof Hi)k.wrap(_.getFirstRange(),w);else{const y=f.mapper.toViewRange(d.range),I=k.wrap(y,w);for(const T of I.getItems())if(T.is("attributeElement")&&T.isSimilar(w)){f.mapper.bindElementToMarker(T,d.markerName);break}}}),{priority:i.converterPriority||"normal"}),o.on(`addMarker:${i.model}`,function(c){return(d,f,g)=>{if(!f.item||!(f.item instanceof nt))return;const k=bw(c,f,g);if(!k||!g.consumable.test(f.item,d.name))return;const w=g.mapper.toViewElement(f.item);if(w&&w.getCustomProperty("addHighlight")){g.consumable.consume(f.item,d.name);for(const _ of G._createIn(f.item))g.consumable.consume(_.item,d.name);w.getCustomProperty("addHighlight")(w,k,g.writer),g.mapper.bindElementToMarker(w,f.markerName)}}}(i.view),{priority:i.converterPriority||"normal"}),o.on(`removeMarker:${i.model}`,function(c){return(d,f,g)=>{if(f.markerRange.isCollapsed)return;const k=bw(c,f,g);if(!k)return;const w=VE(g.writer,k),_=g.mapper.markerNameToElements(f.markerName);if(_){for(const y of _)g.mapper.unbindElementFromMarkerName(y,f.markerName),y.is("attributeElement")?g.writer.unwrap(g.writer.createRangeOn(y),w):y.getCustomProperty("removeHighlight")(y,k.id,g.writer);g.writer.clearClonedElementsGroup(f.markerName),d.stop()}}}(i.view),{priority:i.converterPriority||"normal"})}}(e))}markerToData(e){return this.add(function(i){i=zo(i);const o=i.model;let l=i.view;return l||(l=c=>({group:o,name:c.substr(i.model.length+1)})),c=>{var d;c.on(`addMarker:${o}`,(d=l,(f,g,k)=>{const w=d(g.markerName,k);if(!w)return;const _=g.markerRange;k.consumable.consume(_,f.name)&&(FE(_,!1,k,g,w),FE(_,!0,k,g,w),f.stop())}),{priority:i.converterPriority||"normal"}),c.on(`removeMarker:${o}`,function(f){return(g,k,w)=>{const _=f(k.markerName,w);if(!_)return;const y=w.mapper.markerNameToElements(k.markerName);if(y){for(const T of y)w.mapper.unbindElementFromMarkerName(T,k.markerName),T.is("containerElement")?(I(`data-${_.group}-start-before`,T),I(`data-${_.group}-start-after`,T),I(`data-${_.group}-end-before`,T),I(`data-${_.group}-end-after`,T)):w.writer.clear(w.writer.createRangeOn(T),T);w.writer.clearClonedElementsGroup(k.markerName),g.stop()}function I(T,S){if(S.hasAttribute(T)){const B=new Set(S.getAttribute(T).split(","));B.delete(_.name),B.size==0?w.writer.removeAttribute(T,S):w.writer.setAttribute(T,Array.from(B).join(","),S)}}}}(l),{priority:i.converterPriority||"normal"})}}(e))}}function VE(a,e){const i=a.createAttributeElement("span",e.attributes);return e.classes&&i._addClass(e.classes),typeof e.priority=="number"&&(i._priority=e.priority),i._id=e.id,i}function FE(a,e,i,o,l){const c=e?a.start:a.end,d=c.nodeAfter&&c.nodeAfter.is("element")?c.nodeAfter:null,f=c.nodeBefore&&c.nodeBefore.is("element")?c.nodeBefore:null;if(d||f){let g,k;e&&d||!e&&!f?(g=d,k=!0):(g=f,k=!1);const w=i.mapper.toViewElement(g);if(w)return void function(_,y,I,T,S,B){const V=`data-${B.group}-${y?"start":"end"}-${I?"before":"after"}`,H=_.hasAttribute(V)?_.getAttribute(V).split(","):[];H.unshift(B.name),T.writer.setAttribute(V,H.join(","),_),T.mapper.bindElementToMarker(_,S.markerName)}(w,e,k,i,o,l)}(function(g,k,w,_,y){const I=`${y.group}-${k?"start":"end"}`,T=y.name?{name:y.name}:null,S=w.writer.createUIElement(I,T);w.writer.insert(g,S),w.mapper.bindElementToMarker(S,_.markerName)})(i.mapper.toViewPosition(c),e,i,o,l)}function UE(a){return typeof a=="string"&&(a={name:a}),a.attributes?Array.isArray(a.attributes)||(a.attributes=[a.attributes]):a.attributes=[],a.children=!!a.children,a}function Su(a,e){return typeof a=="function"?a:(i,o)=>function(l,c,d){typeof l=="string"&&(l={name:l});let f;const g=c.writer,k=Object.assign({},l.attributes);if(d=="container")f=g.createContainerElement(l.name,k);else if(d=="attribute"){const w={priority:l.priority||Xs.DEFAULT_PRIORITY};f=g.createAttributeElement(l.name,k,w)}else f=g.createUIElement(l.name,k);if(l.styles){const w=Object.keys(l.styles);for(const _ of w)g.setStyle(_,l.styles[_],f)}if(l.classes){const w=l.classes;if(typeof w=="string")g.addClass(w,f);else for(const _ of w)g.addClass(_,f)}return f}(a,o,e)}function HE(a){return a.model.values?(e,i,o)=>{const l=a.view[e];return l?l(e,i,o):null}:a.view}function WE(a){return typeof a=="string"?e=>({key:a,value:e}):typeof a=="object"?a.value?()=>a:e=>({key:a.key,value:e}):a}function bw(a,e,i){const o=typeof a=="function"?a(e,i):a;return o?(o.priority||(o.priority=10),o.id||(o.id=e.markerName),o):null}function qE(a){const e=function(i){return(o,l)=>{if(!o.is("element",i.name))return!1;if(l.type=="attribute"){if(i.attributes.includes(l.attributeKey))return!0}else if(i.children)return!0;return!1}}(a);return(i,o)=>{const l=[];o.reconvertedElements||(o.reconvertedElements=new Set);for(const c of o.changes){const d=c.type=="attribute"?c.range.start.nodeAfter:c.position.parent;if(d&&e(d,c)){if(!o.reconvertedElements.has(d)){o.reconvertedElements.add(d);const f=ee._createBefore(d);let g=l.length;for(let k=l.length-1;k>=0;k--){const w=l[k],_=(w.type=="attribute"?w.range.start:w.position).compareWith(f);if(_=="before"||w.type=="remove"&&_=="same")break;g=k}l.splice(g,0,{type:"remove",name:d.name,position:f,length:1},{type:"reinsert",name:d.name,position:f,length:1})}}else l.push(c)}o.changes=l}}function $E(a){return(e,i,o={})=>{const l=["insert"];for(const c of a.attributes)e.hasAttribute(c)&&l.push(`attribute:${c}`);return!!l.every(c=>i.test(e,c))&&(o.preflight||l.forEach(c=>i.consume(e,c)),!0)}}function GE(a,e,i,o){for(const l of e)yj(a.root,l,i,o)||i.convertItem(l)}function yj(a,e,i,o){const{writer:l,mapper:c}=i;if(!o.reconversion)return!1;const d=c.toViewElement(e);return!(!d||d.root==a)&&!!i.canReuseView(d)&&(l.move(l.createRangeOn(d),c.toViewPosition(ee._createBefore(e))),!0)}function Cj(a,e,{preflight:i}={}){return i?e.test(a,"insert"):e.consume(a,"insert")}function KE(a){const{schema:e,document:i}=a.model;for(const o of i.getRoots())if(o.isEmpty&&!e.checkChild(o,"$text")&&e.checkChild(o,"paragraph"))return a.insertElement("paragraph",o),!0;return!1}function QE(a,e,i){const o=i.createContext(a);return!!i.checkChild(o,"paragraph")&&!!i.checkChild(o.push("paragraph"),e)}function YE(a,e){const i=e.createElement("paragraph");return e.insert(i,a),e.createPositionAt(i,0)}var Ej=Object.defineProperty,xj=Object.defineProperties,Ij=Object.getOwnPropertyDescriptors,ZE=Object.getOwnPropertySymbols,Tj=Object.prototype.hasOwnProperty,Sj=Object.prototype.propertyIsEnumerable,JE=(a,e,i)=>e in a?Ej(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class Dj extends jE{elementToElement(e){return this.add(XE(e))}elementToAttribute(e){return this.add(function(i){i=zo(i),ex(i);const o=tx(i,!1),l=ww(i.view),c=l?`element:${l}`:"element";return d=>{d.on(c,o,{priority:i.converterPriority||"low"})}}(e))}attributeToAttribute(e){return this.add(function(i){i=zo(i);let o=null;(typeof i.view=="string"||i.view.key)&&(o=function(c){typeof c.view=="string"&&(c.view={key:c.view});const d=c.view.key;let f;return d=="class"||d=="style"?f={[d=="class"?"classes":"styles"]:c.view.value}:f={attributes:{[d]:c.view.value===void 0?/[\s\S]*/:c.view.value}},c.view.name&&(f.name=c.view.name),c.view=f,d}(i)),ex(i,o);const l=tx(i,!0);return c=>{c.on("element",l,{priority:i.converterPriority||"low"})}}(e))}elementToMarker(e){return this.add(function(i){const o=function(d){return(f,g)=>{const k=typeof d=="string"?d:d(f,g);return g.writer.createElement("$marker",{"data-name":k})}}(i.model);return XE((l=((d,f)=>{for(var g in f||(f={}))Tj.call(f,g)&&JE(d,g,f[g]);if(ZE)for(var g of ZE(f))Sj.call(f,g)&&JE(d,g,f[g]);return d})({},i),c={model:o},xj(l,Ij(c))));var l,c}(e))}dataToMarker(e){return this.add(function(i){i=zo(i),i.model||(i.model=d=>d?i.view+":"+d:i.view);const o={view:i.view,model:i.model},l=_w(nx(o,"start")),c=_w(nx(o,"end"));return d=>{d.on(`element:${i.view}-start`,l,{priority:i.converterPriority||"normal"}),d.on(`element:${i.view}-end`,c,{priority:i.converterPriority||"normal"});const f=$.low,g=$.highest,k=$.get(i.converterPriority)/g;d.on("element",function(w){return(_,y,I)=>{const T=`data-${w.view}`;function S(B,V){for(const H of V){const Q=w.model(H,I),le=I.writer.createElement("$marker",{"data-name":Q});I.writer.insert(le,B),y.modelCursor.isEqual(B)?y.modelCursor=y.modelCursor.getShiftedBy(1):y.modelCursor=y.modelCursor._getTransformedByInsertion(B,1),y.modelRange=y.modelRange._getTransformedByInsertion(B,1)[0]}}(I.consumable.test(y.viewItem,{attributes:T+"-end-after"})||I.consumable.test(y.viewItem,{attributes:T+"-start-after"})||I.consumable.test(y.viewItem,{attributes:T+"-end-before"})||I.consumable.test(y.viewItem,{attributes:T+"-start-before"}))&&(y.modelRange||Object.assign(y,I.convertChildren(y.viewItem,y.modelCursor)),I.consumable.consume(y.viewItem,{attributes:T+"-end-after"})&&S(y.modelRange.end,y.viewItem.getAttribute(T+"-end-after").split(",")),I.consumable.consume(y.viewItem,{attributes:T+"-start-after"})&&S(y.modelRange.end,y.viewItem.getAttribute(T+"-start-after").split(",")),I.consumable.consume(y.viewItem,{attributes:T+"-end-before"})&&S(y.modelRange.start,y.viewItem.getAttribute(T+"-end-before").split(",")),I.consumable.consume(y.viewItem,{attributes:T+"-start-before"})&&S(y.modelRange.start,y.viewItem.getAttribute(T+"-start-before").split(",")))}}(o),{priority:f+k})}}(e))}}function XE(a){const e=_w(a=zo(a)),i=ww(a.view),o=i?`element:${i}`:"element";return l=>{l.on(o,e,{priority:a.converterPriority||"normal"})}}function ww(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function _w(a){const e=new ji(a.view);return(i,o,l)=>{const c=e.match(o.viewItem);if(!c)return;const d=c.match;if(d.name=!0,!l.consumable.test(o.viewItem,d))return;const f=function(g,k,w){return g instanceof Function?g(k,w):w.writer.createElement(g)}(a.model,o.viewItem,l);f&&l.safeInsert(f,o.modelCursor)&&(l.consumable.consume(o.viewItem,d),l.convertChildren(o.viewItem,f),l.updateConversionResult(f,o))}}function ex(a,e=null){const i=e===null||(c=>c.getAttribute(e)),o=typeof a.model!="object"?a.model:a.model.key,l=typeof a.model!="object"||a.model.value===void 0?i:a.model.value;a.model={key:o,value:l}}function tx(a,e){const i=new ji(a.view);return(o,l,c)=>{if(!l.modelRange&&e)return;const d=i.match(l.viewItem);if(!d||(function(w,_){const y=typeof w=="function"?w(_):w;return typeof y=="object"&&!ww(y)?!1:!y.classes&&!y.attributes&&!y.styles}(a.view,l.viewItem)?d.match.name=!0:delete d.match.name,!c.consumable.test(l.viewItem,d.match)))return;const f=a.model.key,g=typeof a.model.value=="function"?a.model.value(l.viewItem,c):a.model.value;if(g===null)return;l.modelRange||Object.assign(l,c.convertChildren(l.viewItem,l.modelCursor)),function(w,_,y,I){let T=!1;for(const S of Array.from(w.getItems({shallow:y})))I.schema.checkAttribute(S,_.key)&&(T=!0,S.hasAttribute(_.key)||I.writer.setAttribute(_.key,_.value,S));return T}(l.modelRange,{key:f,value:g},e,c)&&(c.consumable.test(l.viewItem,{name:!0})&&(d.match.name=!0),c.consumable.consume(l.viewItem,d.match))}}function nx(a,e){return{view:`${a.view}-${e}`,model:(i,o)=>{const l=i.getAttribute("name"),c=a.model(l,o);return o.writer.createElement("$marker",{"data-name":c})}}}function Mj(a){a.document.registerPostFixer(e=>function(i,o){const l=o.document.selection,c=o.schema,d=[];let f=!1;for(const g of l.getRanges()){const k=ix(g,c);k&&!k.isEqual(g)?(d.push(k),f=!0):d.push(g)}return f&&i.setSelection(function(g){const k=[...g],w=new Set;let _=1;for(;_<k.length;){const y=k[_],I=k.slice(0,_);for(const[T,S]of I.entries())if(!w.has(T)){if(y.isEqual(S))w.add(T);else if(y.isIntersecting(S)){w.add(T),w.add(_);const B=y.getJoined(S);k.push(B)}}_++}return k.filter((y,I)=>!w.has(I))}(d),{backward:l.isBackward}),!1}(e,a))}function ix(a,e){return a.isCollapsed?function(i,o){const l=i.start,c=o.getNearestSelectionRange(l);if(!c){const f=l.getAncestors().reverse().find(g=>o.isObject(g));return f?G._createOn(f):null}if(!c.isCollapsed)return c;const d=c.start;return l.isEqual(d)?null:new G(d)}(a,e):function(i,o){const{start:l,end:c}=i,d=o.checkChild(l,"$text"),f=o.checkChild(c,"$text"),g=o.getLimitElement(l),k=o.getLimitElement(c);if(g===k){if(d&&f)return null;if(function(y,I,T){const S=y.nodeAfter&&!T.isLimit(y.nodeAfter)||T.checkChild(y,"$text"),B=I.nodeBefore&&!T.isLimit(I.nodeBefore)||T.checkChild(I,"$text");return S||B}(l,c,o)){const y=l.nodeAfter&&o.isSelectable(l.nodeAfter)?null:o.getNearestSelectionRange(l,"forward"),I=c.nodeBefore&&o.isSelectable(c.nodeBefore)?null:o.getNearestSelectionRange(c,"backward"),T=y?y.start:l,S=I?I.end:c;return new G(T,S)}}const w=g&&!g.is("rootElement"),_=k&&!k.is("rootElement");if(w||_){const y=l.nodeAfter&&c.nodeBefore&&l.nodeAfter.parent===c.nodeBefore.parent,I=w&&(!y||!ox(l.nodeAfter,o)),T=_&&(!y||!ox(c.nodeBefore,o));let S=l,B=c;return I&&(S=ee._createBefore(rx(g,o))),T&&(B=ee._createAfter(rx(k,o))),new G(S,B)}return null}(a,e)}function rx(a,e){let i=a,o=i;for(;e.isLimit(o)&&o.parent;)i=o,o=o.parent;return i}function ox(a,e){return a&&e.isSelectable(a)}class Pj extends Xe(){constructor(e,i){super(),this.model=e,this.view=new lj(i),this.mapper=new ME,this.downcastDispatcher=new OE({mapper:this.mapper,schema:e.schema});const o=this.model.document,l=o.selection,c=this.model.markers;var d,f,g;this.listenTo(this.model,"_beforeChanges",()=>{this.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",()=>{this.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(o,"change",()=>{this.view.change(k=>{this.downcastDispatcher.convertChanges(o.differ,c,k),this.downcastDispatcher.convertSelection(l,c,k)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(k,w){return(_,y)=>{const I=y.newSelection,T=[];for(const B of I.getRanges())T.push(w.toModelRange(B));const S=k.createSelection(T,{backward:I.isBackward});S.isEqual(k.document.selection)||k.change(B=>{B.setSelection(S)})}}(this.model,this.mapper)),this.listenTo(this.view.document,"beforeinput",(d=this.mapper,f=this.model.schema,g=this.view,(k,w)=>{if(!g.document.isComposing||C.isAndroid)for(let _=0;_<w.targetRanges.length;_++){const y=w.targetRanges[_],I=d.toModelRange(y),T=ix(I,f);T&&!T.isEqual(I)&&(w.targetRanges[_]=d.toViewRange(T))}}),{priority:"high"}),this.downcastDispatcher.on("insert:$text",(k,w,_)=>{if(!_.consumable.consume(w.item,k.name))return;const y=_.writer,I=_.mapper.toViewPosition(w.range.start),T=y.createText(w.item.data);y.insert(I,T)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(k,w,_)=>{_.convertAttributes(w.item),w.reconversion||!w.item.is("element")||w.item.isEmpty||_.convertChildren(w.item)},{priority:"lowest"}),this.downcastDispatcher.on("remove",(k,w,_)=>{const y=_.mapper.toViewPosition(w.position),I=w.position.getShiftedBy(w.length),T=_.mapper.toViewPosition(I,{isPhantom:!0}),S=_.writer.createRange(y,T),B=_.writer.remove(S.getTrimmed());for(const V of _.writer.createRangeIn(B).getItems())_.mapper.unbindViewElement(V,{defer:!0})},{priority:"low"}),this.downcastDispatcher.on("cleanSelection",(k,w,_)=>{const y=_.writer,I=y.document.selection;for(const T of I.getRanges())T.isCollapsed&&T.end.parent.isAttached()&&_.writer.mergeAttributes(T.start);y.setSelection(null)}),this.downcastDispatcher.on("selection",(k,w,_)=>{const y=w.selection;if(y.isCollapsed||!_.consumable.consume(y,"selection"))return;const I=[];for(const T of y.getRanges())I.push(_.mapper.toViewRange(T));_.writer.setSelection(I,{backward:y.isBackward})},{priority:"low"}),this.downcastDispatcher.on("selection",(k,w,_)=>{const y=w.selection;if(!y.isCollapsed||!_.consumable.consume(y,"selection"))return;const I=_.writer,T=y.getFirstPosition(),S=_.mapper.toViewPosition(T),B=I.breakAttributes(S);I.setSelection(B)},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(k=>{if(k.rootName=="$graveyard")return null;const w=new X1(this.view.document,k.name);return w.rootName=k.rootName,this.mapper.bindElements(k,w),w})}destroy(){this.view.destroy(),this.stopListening()}reconvertMarker(e){const i=typeof e=="string"?e:e.name,o=this.model.markers.get(i);if(!o)throw new j("editingcontroller-reconvertmarker-marker-not-exist",this,{markerName:i});this.model.change(()=>{this.model.markers._refresh(o)})}reconvertItem(e){this.model.change(()=>{this.model.document.differ._refreshItem(e)})}}class Du{constructor(){this._consumables=new Map}add(e,i){let o;e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?o=this._consumables.get(e):(o=new Nj(e),this._consumables.set(e,o)),o.add(i))}test(e,i){const o=this._consumables.get(e);return o===void 0?null:e.is("$text")||e.is("documentFragment")?o:o.test(i)}consume(e,i){return!!this.test(e,i)&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(i),!0)}revert(e,i){const o=this._consumables.get(e);o!==void 0&&(e.is("$text")||e.is("documentFragment")?this._consumables.set(e,!0):o.revert(i))}static consumablesFromElement(e){const i={element:e,name:!0,attributes:[],classes:[],styles:[]},o=e.getAttributeKeys();for(const d of o)d!="style"&&d!="class"&&i.attributes.push(d);const l=e.getClassNames();for(const d of l)i.classes.push(d);const c=e.getStyleNames();for(const d of c)i.styles.push(d);return i}static createFrom(e,i){if(i||(i=new Du),e.is("$text"))return i.add(e),i;e.is("element")&&i.add(e,Du.consumablesFromElement(e)),e.is("documentFragment")&&i.add(e);for(const o of e.getChildren())i=Du.createFrom(o,i);return i}}const op=["attributes","classes","styles"];class Nj{constructor(e){this.element=e,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}add(e){e.name&&(this._canConsumeName=!0);for(const i of op)i in e&&this._add(i,e[i])}test(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(const i of op)if(i in e){const o=this._test(i,e[i]);if(o!==!0)return o}return!0}consume(e){e.name&&(this._canConsumeName=!1);for(const i of op)i in e&&this._consume(i,e[i])}revert(e){e.name&&(this._canConsumeName=!0);for(const i of op)i in e&&this._revert(i,e[i])}_add(e,i){const o=yt(i)?i:[i],l=this._consumables[e];for(const c of o){if(e==="attributes"&&(c==="class"||c==="style"))throw new j("viewconsumable-invalid-attribute",this);if(l.set(c,!0),e==="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))l.set(d,!0)}}_test(e,i){const o=yt(i)?i:[i],l=this._consumables[e];for(const c of o)if(e!=="attributes"||c!=="class"&&c!=="style"){const d=l.get(c);if(d===void 0)return null;if(!d)return!1}else{const d=c=="class"?"classes":"styles",f=this._test(d,[...this._consumables[d].keys()]);if(f!==!0)return f}return!0}_consume(e,i){const o=yt(i)?i:[i],l=this._consumables[e];for(const c of o)if(e!=="attributes"||c!=="class"&&c!=="style"){if(l.set(c,!1),e=="styles")for(const d of this.element.document.stylesProcessor.getRelatedStyles(c))l.set(d,!1)}else{const d=c=="class"?"classes":"styles";this._consume(d,[...this._consumables[d].keys()])}}_revert(e,i){const o=yt(i)?i:[i],l=this._consumables[e];for(const c of o)if(e!=="attributes"||c!=="class"&&c!=="style")l.get(c)===!1&&l.set(c,!0);else{const d=c=="class"?"classes":"styles";this._revert(d,[...this._consumables[d].keys()])}}}class Rj extends Xe(){constructor(){super(),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",(e,i)=>{i[0]=new ia(i[0])},{priority:"highest"}),this.on("checkChild",(e,i)=>{i[0]=new ia(i[0]),i[1]=this.getDefinition(i[1])},{priority:"highest"})}register(e,i){if(this._sourceDefinitions[e])throw new j("schema-cannot-register-item-twice",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},i)],this._clearCache()}extend(e,i){if(!this._sourceDefinitions[e])throw new j("schema-cannot-extend-missing-item",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},i)),this._clearCache()}getDefinitions(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}getDefinition(e){let i;return i=typeof e=="string"?e:"is"in e&&(e.is("$text")||e.is("$textProxy"))?"$text":e.name,this.getDefinitions()[i]}isRegistered(e){return!!this.getDefinition(e)}isBlock(e){const i=this.getDefinition(e);return!(!i||!i.isBlock)}isLimit(e){const i=this.getDefinition(e);return!!i&&!(!i.isLimit&&!i.isObject)}isObject(e){const i=this.getDefinition(e);return!!i&&!!(i.isObject||i.isLimit&&i.isSelectable&&i.isContent)}isInline(e){const i=this.getDefinition(e);return!(!i||!i.isInline)}isSelectable(e){const i=this.getDefinition(e);return!!i&&!(!i.isSelectable&&!i.isObject)}isContent(e){const i=this.getDefinition(e);return!!i&&!(!i.isContent&&!i.isObject)}checkChild(e,i){return!!i&&this._checkContextMatch(i,e)}checkAttribute(e,i){const o=this.getDefinition(e.last);return!!o&&o.allowAttributes.includes(i)}checkMerge(e,i){if(e instanceof ee){const o=e.nodeBefore,l=e.nodeAfter;if(!(o instanceof nt))throw new j("schema-check-merge-no-element-before",this);if(!(l instanceof nt))throw new j("schema-check-merge-no-element-after",this);return this.checkMerge(o,l)}for(const o of i.getChildren())if(!this.checkChild(e,o))return!1;return!0}addChildCheck(e){this.on("checkChild",(i,[o,l])=>{if(!l)return;const c=e(o,l);typeof c=="boolean"&&(i.stop(),i.return=c)},{priority:"high"})}addAttributeCheck(e){this.on("checkAttribute",(i,[o,l])=>{const c=e(o,l);typeof c=="boolean"&&(i.stop(),i.return=c)},{priority:"high"})}setAttributeProperties(e,i){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),i)}getAttributeProperties(e){return this._attributeProperties[e]||{}}getLimitElement(e){let i;for(e instanceof ee?i=e.parent:i=(e instanceof G?[e]:Array.from(e.getRanges())).reduce((o,l)=>{const c=l.getCommonAncestor();return o?o.getCommonAncestor(c,{includeSelf:!0}):c},null);!this.isLimit(i)&&i.parent;)i=i.parent;return i}checkAttributeInSelection(e,i){if(e.isCollapsed){const o=[...e.getFirstPosition().getAncestors(),new dt("",e.getAttributes())];return this.checkAttribute(o,i)}{const o=e.getRanges();for(const l of o)for(const c of l)if(this.checkAttribute(c.item,i))return!0}return!1}*getValidRanges(e,i){e=function*(o){for(const l of o)yield*l.getMinimalFlatRanges()}(e);for(const o of e)yield*this._getValidRangesForRange(o,i)}getNearestSelectionRange(e,i="both"){if(e.root.rootName=="$graveyard")return null;if(this.checkChild(e,"$text"))return new G(e);let o,l;const c=e.getAncestors().reverse().find(d=>this.isLimit(d))||e.root;i!="both"&&i!="backward"||(o=new _r({boundaries:G._createIn(c),startPosition:e,direction:"backward"})),i!="both"&&i!="forward"||(l=new _r({boundaries:G._createIn(c),startPosition:e}));for(const d of function*(f,g){let k=!1;for(;!k;){if(k=!0,f){const w=f.next();w.done||(k=!1,yield{walker:f,value:w.value})}if(g){const w=g.next();w.done||(k=!1,yield{walker:g,value:w.value})}}}(o,l)){const f=d.walker==o?"elementEnd":"elementStart",g=d.value;if(g.type==f&&this.isObject(g.item))return G._createOn(g.item);if(this.checkChild(g.nextPosition,"$text"))return new G(g.nextPosition)}return null}findAllowedParent(e,i){let o=e.parent;for(;o;){if(this.checkChild(o,i))return o;if(this.isLimit(o))return null;o=o.parent}return null}setAllowedAttributes(e,i,o){const l=o.model;for(const[c,d]of Object.entries(i))l.schema.checkAttribute(e,c)&&o.setAttribute(c,d,e)}removeDisallowedAttributes(e,i){for(const o of e)if(o.is("$text"))sx(this,o,i);else{const l=G._createIn(o).getPositions();for(const c of l)sx(this,c.nodeBefore||c.parent,i)}}getAttributesWithProperty(e,i,o){const l={};for(const[c,d]of e.getAttributes()){const f=this.getAttributeProperties(c);f[i]!==void 0&&(o!==void 0&&o!==f[i]||(l[c]=d))}return l}createContext(e){return new ia(e)}_clearCache(){this._compiledDefinitions=null}_compile(){const e={},i=this._sourceDefinitions,o=Object.keys(i);for(const l of o)e[l]=Oj(i[l],l);for(const l of o)Bj(e,l);for(const l of o)Lj(e,l);for(const l of o)zj(e,l);for(const l of o)jj(e,l),Vj(e,l);for(const l of o)Fj(e,l),Uj(e,l),Hj(e,l);this._compiledDefinitions=e}_checkContextMatch(e,i,o=i.length-1){const l=i.getItem(o);if(e.allowIn.includes(l.name)){if(o==0)return!0;{const c=this.getDefinition(l);return this._checkContextMatch(c,i,o-1)}}return!1}*_getValidRangesForRange(e,i){let o=e.start,l=e.start;for(const c of e.getItems({shallow:!0}))c.is("element")&&(yield*this._getValidRangesForRange(G._createIn(c),i)),this.checkAttribute(c,i)||(o.isEqual(l)||(yield new G(o,l)),o=ee._createAfter(c)),l=ee._createAfter(c);o.isEqual(l)||(yield new G(o,l))}}class ia{constructor(e){if(e instanceof ia)return e;let i;i=typeof e=="string"?[e]:Array.isArray(e)?e:e.getAncestors({includeSelf:!0}),this._items=i.map(qj)}get length(){return this._items.length}get last(){return this._items[this._items.length-1]}[Symbol.iterator](){return this._items[Symbol.iterator]()}push(e){const i=new ia([e]);return i._items=[...this._items,...i._items],i}getItem(e){return this._items[e]}*getNames(){yield*this._items.map(e=>e.name)}endsWith(e){return Array.from(this.getNames()).join(" ").endsWith(e)}startsWith(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}function Oj(a,e){const i={name:e,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],allowChildren:[],inheritTypesFrom:[]};return function(o,l){for(const c of o){const d=Object.keys(c).filter(f=>f.startsWith("is"));for(const f of d)l[f]=!!c[f]}}(a,i),ra(a,i,"allowIn"),ra(a,i,"allowContentOf"),ra(a,i,"allowWhere"),ra(a,i,"allowAttributes"),ra(a,i,"allowAttributesOf"),ra(a,i,"allowChildren"),ra(a,i,"inheritTypesFrom"),function(o,l){for(const c of o){const d=c.inheritAllFrom;d&&(l.allowContentOf.push(d),l.allowWhere.push(d),l.allowAttributesOf.push(d),l.inheritTypesFrom.push(d))}}(a,i),i}function Bj(a,e){const i=a[e];for(const o of i.allowChildren){const l=a[o];l&&l.allowIn.push(e)}i.allowChildren.length=0}function Lj(a,e){for(const i of a[e].allowContentOf)a[i]&&Wj(a,i).forEach(o=>{o.allowIn.push(e)});delete a[e].allowContentOf}function zj(a,e){for(const i of a[e].allowWhere){const o=a[i];if(o){const l=o.allowIn;a[e].allowIn.push(...l)}}delete a[e].allowWhere}function jj(a,e){for(const i of a[e].allowAttributesOf){const o=a[i];if(o){const l=o.allowAttributes;a[e].allowAttributes.push(...l)}}delete a[e].allowAttributesOf}function Vj(a,e){const i=a[e];for(const o of i.inheritTypesFrom){const l=a[o];if(l){const c=Object.keys(l).filter(d=>d.startsWith("is"));for(const d of c)d in i||(i[d]=l[d])}}delete i.inheritTypesFrom}function Fj(a,e){const i=a[e],o=i.allowIn.filter(l=>a[l]);i.allowIn=Array.from(new Set(o))}function Uj(a,e){const i=a[e];for(const o of i.allowIn)a[o].allowChildren.push(e)}function Hj(a,e){const i=a[e];i.allowAttributes=Array.from(new Set(i.allowAttributes))}function ra(a,e,i){for(const o of a){const l=o[i];typeof l=="string"?e[i].push(l):Array.isArray(l)&&e[i].push(...l)}}function Wj(a,e){const i=a[e];return(o=a,Object.keys(o).map(l=>o[l])).filter(l=>l.allowIn.includes(i.name));var o}function qj(a){return typeof a=="string"||a.is("documentFragment")?{name:typeof a=="string"?a:"$documentFragment",*getAttributeKeys(){},getAttribute(){}}:{name:a.is("element")?a.name:"$text",*getAttributeKeys(){yield*a.getAttributeKeys()},getAttribute:e=>a.getAttribute(e)}}function sx(a,e,i){for(const o of e.getAttributeKeys())a.checkAttribute(e,o)||i.removeAttribute(o,e)}var $j=Object.defineProperty,Gj=Object.defineProperties,Kj=Object.getOwnPropertyDescriptors,ax=Object.getOwnPropertySymbols,Qj=Object.prototype.hasOwnProperty,Yj=Object.prototype.propertyIsEnumerable,lx=(a,e,i)=>e in a?$j(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class Zj extends ce(){constructor(e){var i;super(),this._splitParts=new Map,this._cursorParents=new Map,this._modelCursor=null,this._emptyElementsToKeep=new Set,this.conversionApi=(i=((o,l)=>{for(var c in l||(l={}))Qj.call(l,c)&&lx(o,c,l[c]);if(ax)for(var c of ax(l))Yj.call(l,c)&&lx(o,c,l[c]);return o})({},e),Gj(i,Kj({consumable:null,writer:null,store:null,convertItem:(o,l)=>this._convertItem(o,l),convertChildren:(o,l)=>this._convertChildren(o,l),safeInsert:(o,l)=>this._safeInsert(o,l),updateConversionResult:(o,l)=>this._updateConversionResult(o,l),splitToAllowedParent:(o,l)=>this._splitToAllowedParent(o,l),getSplitParts:o=>this._getSplitParts(o),keepEmptyElement:o=>this._keepEmptyElement(o)})))}convert(e,i,o=["$root"]){this.fire("viewCleanup",e),this._modelCursor=function(d,f){let g;for(const k of new ia(d)){const w={};for(const y of k.getAttributeKeys())w[y]=k.getAttribute(y);const _=f.createElement(k.name,w);g&&f.insert(_,g),g=ee._createAt(_,0)}return g}(o,i),this.conversionApi.writer=i,this.conversionApi.consumable=Du.createFrom(e),this.conversionApi.store={};const{modelRange:l}=this._convertItem(e,this._modelCursor),c=i.createDocumentFragment();if(l){this._removeEmptyElements();for(const d of Array.from(this._modelCursor.parent.getChildren()))i.append(d,c);c.markers=function(d,f){const g=new Set,k=new Map,w=G._createIn(d).getItems();for(const _ of w)_.is("element","$marker")&&g.add(_);for(const _ of g){const y=_.getAttribute("data-name"),I=f.createPositionBefore(_);k.has(y)?k.get(y).end=I.clone():k.set(y,new G(I.clone())),f.remove(_)}return k}(c,i)}return this._modelCursor=null,this._splitParts.clear(),this._cursorParents.clear(),this._emptyElementsToKeep.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,c}_convertItem(e,i){const o={viewItem:e,modelCursor:i,modelRange:null};if(e.is("element")?this.fire(`element:${e.name}`,o,this.conversionApi):e.is("$text")?this.fire("text",o,this.conversionApi):this.fire("documentFragment",o,this.conversionApi),o.modelRange&&!(o.modelRange instanceof G))throw new j("view-conversion-dispatcher-incorrect-result",this);return{modelRange:o.modelRange,modelCursor:o.modelCursor}}_convertChildren(e,i){let o=i.is("position")?i:ee._createAt(i,0);const l=new G(o);for(const c of Array.from(e.getChildren())){const d=this._convertItem(c,o);d.modelRange instanceof G&&(l.end=d.modelRange.end,o=d.modelCursor)}return{modelRange:l,modelCursor:o}}_safeInsert(e,i){const o=this._splitToAllowedParent(e,i);return!!o&&(this.conversionApi.writer.insert(e,o.position),!0)}_updateConversionResult(e,i){const o=this._getSplitParts(e),l=this.conversionApi.writer;i.modelRange||(i.modelRange=l.createRange(l.createPositionBefore(e),l.createPositionAfter(o[o.length-1])));const c=this._cursorParents.get(e);i.modelCursor=c?l.createPositionAt(c,0):i.modelRange.end}_splitToAllowedParent(e,i){const{schema:o,writer:l}=this.conversionApi;let c=o.findAllowedParent(i,e);if(c){if(c===i.parent)return{position:i};this._modelCursor.parent.getAncestors().includes(c)&&(c=null)}if(!c)return QE(i,e,o)?{position:YE(i,l)}:null;const d=this.conversionApi.writer.split(i,c),f=[];for(const k of d.range.getWalker())if(k.type=="elementEnd")f.push(k.item);else{const w=f.pop(),_=k.item;this._registerSplitPair(w,_)}const g=d.range.end.parent;return this._cursorParents.set(e,g),{position:d.position,cursorParent:g}}_registerSplitPair(e,i){this._splitParts.has(e)||this._splitParts.set(e,[e]);const o=this._splitParts.get(e);this._splitParts.set(i,o),o.push(i)}_getSplitParts(e){let i;return i=this._splitParts.has(e)?this._splitParts.get(e):[e],i}_keepEmptyElement(e){this._emptyElementsToKeep.add(e)}_removeEmptyElements(){let e=!1;for(const i of this._splitParts.keys())i.isEmpty&&!this._emptyElementsToKeep.has(i)&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0);e&&this._removeEmptyElements()}}class Jj{getHtml(e){const i=document.implementation.createHTMLDocument("").createElement("div");return i.appendChild(e),i.innerHTML}}class Xj{constructor(e){this.skipComments=!0,this.domParser=new DOMParser,this.domConverter=new Xf(e,{renderingMode:"data"}),this.htmlWriter=new Jj}toData(e){const i=this.domConverter.viewToDom(e);return this.htmlWriter.getHtml(i)}toView(e){const i=this._toDom(e);return this.domConverter.domToView(i,{skipComments:this.skipComments})}registerRawContentMatcher(e){this.domConverter.registerRawContentMatcher(e)}useFillerType(e){this.domConverter.blockFillerMode=e=="marked"?"markedNbsp":"nbsp"}_toDom(e){e.match(/<(?:html|body|head|meta)(?:\s[^>]*)?>/i)||(e=`<body>${e}</body>`);const i=this.domParser.parseFromString(e,"text/html"),o=i.createDocumentFragment(),l=i.body.childNodes;for(;l.length>0;)o.appendChild(l[0]);return o}}class e6 extends ce(){constructor(e,i){super(),this.model=e,this.mapper=new ME,this.downcastDispatcher=new OE({mapper:this.mapper,schema:e.schema}),this.downcastDispatcher.on("insert:$text",(o,l,c)=>{if(!c.consumable.consume(l.item,o.name))return;const d=c.writer,f=c.mapper.toViewPosition(l.range.start),g=d.createText(l.item.data);d.insert(f,g)},{priority:"lowest"}),this.downcastDispatcher.on("insert",(o,l,c)=>{c.convertAttributes(l.item),l.reconversion||!l.item.is("element")||l.item.isEmpty||c.convertChildren(l.item)},{priority:"lowest"}),this.upcastDispatcher=new Zj({schema:e.schema}),this.viewDocument=new Yf(i),this.stylesProcessor=i,this.htmlProcessor=new Xj(this.viewDocument),this.processor=this.htmlProcessor,this._viewWriter=new tE(this.viewDocument),this.upcastDispatcher.on("text",(o,l,{schema:c,consumable:d,writer:f})=>{let g=l.modelCursor;if(!d.test(l.viewItem))return;if(!c.checkChild(g,"$text")){if(!QE(g,"$text",c)||l.viewItem.data.trim().length==0)return;const w=g.nodeBefore;g=YE(g,f),w&&w.is("element","$marker")&&(f.move(f.createRangeOn(w),g),g=f.createPositionAfter(w))}d.consume(l.viewItem);const k=f.createText(l.viewItem.data);f.insert(k,g),l.modelRange=f.createRange(g,g.getShiftedBy(k.offsetSize)),l.modelCursor=l.modelRange.end},{priority:"lowest"}),this.upcastDispatcher.on("element",(o,l,c)=>{if(!l.modelRange&&c.consumable.consume(l.viewItem,{name:!0})){const{modelRange:d,modelCursor:f}=c.convertChildren(l.viewItem,l.modelCursor);l.modelRange=d,l.modelCursor=f}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",(o,l,c)=>{if(!l.modelRange&&c.consumable.consume(l.viewItem,{name:!0})){const{modelRange:d,modelCursor:f}=c.convertChildren(l.viewItem,l.modelCursor);l.modelRange=d,l.modelCursor=f}},{priority:"lowest"}),Xe().prototype.decorate.call(this,"init"),Xe().prototype.decorate.call(this,"set"),Xe().prototype.decorate.call(this,"get"),Xe().prototype.decorate.call(this,"toView"),Xe().prototype.decorate.call(this,"toModel"),this.on("init",()=>{this.fire("ready")},{priority:"lowest"}),this.on("ready",()=>{this.model.enqueueChange({isUndoable:!1},KE)},{priority:"lowest"})}get(e={}){const{rootName:i="main",trim:o="empty"}=e;if(!this._checkIfRootsExists([i]))throw new j("datacontroller-get-non-existent-root",this);const l=this.model.document.getRoot(i);return l.isAttached()||q("datacontroller-get-detached-root",this),o!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l,e):""}stringify(e,i={}){const o=this.toView(e,i);return this.processor.toData(o)}toView(e,i={}){const o=this.viewDocument,l=this._viewWriter;this.mapper.clearBindings();const c=G._createIn(e),d=new ea(o);this.mapper.bindElements(e,d);const f=e.is("documentFragment")?e.markers:function(g){const k=[],w=g.root.document;if(!w)return new Map;const _=G._createIn(g);for(const y of w.model.markers){const I=y.getRange(),T=I.isCollapsed,S=I.start.isEqual(_.start)||I.end.isEqual(_.end);if(T&&S)k.push([y.name,I]);else{const B=_.getIntersection(I);B&&k.push([y.name,B])}}return k.sort(([y,I],[T,S])=>{if(I.end.compareWith(S.start)!=="after")return 1;if(I.start.compareWith(S.end)!=="before")return-1;switch(I.start.compareWith(S.start)){case"before":return 1;case"after":return-1;default:switch(I.end.compareWith(S.end)){case"before":return 1;case"after":return-1;default:return T.localeCompare(y)}}}),new Map(k)}(e);return this.downcastDispatcher.convert(c,f,l,i),d}init(e){if(this.model.document.version)throw new j("datacontroller-init-document-not-empty",this);let i={};if(typeof e=="string"?i.main=e:i=e,!this._checkIfRootsExists(Object.keys(i)))throw new j("datacontroller-init-non-existent-root",this);return this.model.enqueueChange({isUndoable:!1},o=>{for(const l of Object.keys(i)){const c=this.model.document.getRoot(l);o.insert(this.parse(i[l],c),c,0)}}),Promise.resolve()}set(e,i={}){let o={};if(typeof e=="string"?o.main=e:o=e,!this._checkIfRootsExists(Object.keys(o)))throw new j("datacontroller-set-non-existent-root",this);this.model.enqueueChange(i.batchType||{},l=>{l.setSelection(null),l.removeSelectionAttribute(this.model.document.selection.getAttributeKeys());for(const c of Object.keys(o)){const d=this.model.document.getRoot(c);l.remove(l.createRangeIn(d)),l.insert(this.parse(o[c],d),d,0)}})}parse(e,i="$root"){const o=this.processor.toView(e);return this.toModel(o,i)}toModel(e,i="$root"){return this.model.change(o=>this.upcastDispatcher.convert(e,o,i))}addStyleProcessorRules(e){e(this.stylesProcessor)}registerRawContentMatcher(e){this.processor&&this.processor!==this.htmlProcessor&&this.processor.registerRawContentMatcher(e),this.htmlProcessor.registerRawContentMatcher(e)}destroy(){this.stopListening()}_checkIfRootsExists(e){for(const i of e)if(!this.model.document.getRoot(i))return!1;return!0}}class t6{constructor(e,i){this._helpers=new Map,this._downcast=nn(e),this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=nn(i),this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}addAlias(e,i){const o=this._downcast.includes(i);if(!this._upcast.includes(i)&&!o)throw new j("conversion-add-alias-dispatcher-not-registered",this);this._createConversionHelpers({name:e,dispatchers:[i],isDowncast:o})}for(e){if(!this._helpers.has(e))throw new j("conversion-for-unknown-group",this);return this._helpers.get(e)}elementToElement(e){this.for("downcast").elementToElement(e);for(const{model:i,view:o}of Aw(e))this.for("upcast").elementToElement({model:i,view:o,converterPriority:e.converterPriority})}attributeToElement(e){this.for("downcast").attributeToElement(e);for(const{model:i,view:o}of Aw(e))this.for("upcast").elementToAttribute({view:o,model:i,converterPriority:e.converterPriority})}attributeToAttribute(e){this.for("downcast").attributeToAttribute(e);for(const{model:i,view:o}of Aw(e))this.for("upcast").attributeToAttribute({view:o,model:i})}_createConversionHelpers({name:e,dispatchers:i,isDowncast:o}){if(this._helpers.has(e))throw new j("conversion-group-exists",this);const l=o?new vj(i):new Dj(i);this._helpers.set(e,l)}}function*Aw(a){if(a.model.values)for(const e of a.model.values){const i={key:a.model.key,value:e},o=a.view[e],l=a.upcastAlso?a.upcastAlso[e]:void 0;yield*cx(i,o,l)}else yield*cx(a.model,a.view,a.upcastAlso)}function*cx(a,e,i){if(yield{model:a,view:e},i)for(const o of nn(i))yield{model:a,view:o}}class hi{constructor(e){this.baseVersion=e,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}_validate(){}toJSON(){const e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}static get className(){return"Operation"}static fromJSON(e,i){return new this(e.baseVersion)}}function vw(a,e){const i=dx(e),o=i.reduce((d,f)=>d+f.offsetSize,0),l=a.parent;Nu(a);const c=a.index;return l._insertChild(c,i),Pu(l,c+i.length),Pu(l,c),new G(a,a.getShiftedBy(o))}function ux(a){if(!a.isFlat)throw new j("operation-utils-remove-range-not-flat",this);const e=a.start.parent;Nu(a.start),Nu(a.end);const i=e._removeChildren(a.start.index,a.end.index-a.start.index);return Pu(e,a.start.index),i}function Mu(a,e){if(!a.isFlat)throw new j("operation-utils-move-range-not-flat",this);const i=ux(a);return vw(e=e._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),i)}function dx(a){const e=[];(function i(o){if(typeof o=="string")e.push(new dt(o));else if(o instanceof Fi)e.push(new dt(o.data,o.getAttributes()));else if(o instanceof ta)e.push(o);else if(An(o))for(const l of o)i(l)})(a);for(let i=1;i<e.length;i++){const o=e[i],l=e[i-1];o instanceof dt&&l instanceof dt&&hx(o,l)&&(e.splice(i-1,2,new dt(l.data+o.data,l.getAttributes())),i--)}return e}function Pu(a,e){const i=a.getChild(e-1),o=a.getChild(e);if(i&&o&&i.is("$text")&&o.is("$text")&&hx(i,o)){const l=new dt(i.data+o.data,i.getAttributes());a._removeChildren(e-1,2),a._insertChild(e-1,l)}}function Nu(a){const e=a.textNode,i=a.parent;if(e){const o=a.offset-e.startOffset,l=e.index;i._removeChildren(l,1);const c=new dt(e.data.substr(0,o),e.getAttributes()),d=new dt(e.data.substr(o),e.getAttributes());i._insertChild(l,[c,d])}}function hx(a,e){const i=a.getAttributes(),o=e.getAttributes();for(const l of i){if(l[1]!==e.getAttribute(l[0]))return!1;o.next()}return o.next().done}class Qe extends hi{constructor(e,i,o,l){super(l),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toNext",this.howMany=i,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNone"}get type(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}get affectedSelectable(){return[G._createFromPositionAndShift(this.sourcePosition,this.howMany),G._createFromPositionAndShift(this.targetPosition,0)]}clone(){return new Qe(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}getMovedRangeStart(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}getReversed(){const e=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new Qe(this.getMovedRangeStart(),this.howMany,e,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent,o=this.sourcePosition.offset,l=this.targetPosition.offset;if(o+this.howMany>e.maxOffset)throw new j("move-operation-nodes-do-not-exist",this);if(e===i&&o<l&&l<o+this.howMany)throw new j("move-operation-range-into-itself",this);if(this.sourcePosition.root==this.targetPosition.root&&un(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){const c=this.sourcePosition.path.length-1;if(this.targetPosition.path[c]>=o&&this.targetPosition.path[c]<o+this.howMany)throw new j("move-operation-node-into-itself",this)}}_execute(){Mu(G._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e.targetPosition=this.targetPosition.toJSON(),e}static get className(){return"MoveOperation"}static fromJSON(e,i){const o=ee.fromJSON(e.sourcePosition,i),l=ee.fromJSON(e.targetPosition,i);return new this(o,e.howMany,l,e.baseVersion)}}class rn extends hi{constructor(e,i,o){super(o),this.position=e.clone(),this.position.stickiness="toNone",this.nodes=new xu(dx(i)),this.shouldReceiveAttributes=!1}get type(){return"insert"}get howMany(){return this.nodes.maxOffset}get affectedSelectable(){return this.position.clone()}clone(){const e=new xu([...this.nodes].map(o=>o._clone(!0))),i=new rn(this.position,e,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}getReversed(){const e=this.position.root.document.graveyard,i=new ee(e,[0]);return new Qe(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}_validate(){const e=this.position.parent;if(!e||e.maxOffset<this.position.offset)throw new j("insert-operation-position-invalid",this)}_execute(){const e=this.nodes;this.nodes=new xu([...e].map(i=>i._clone(!0))),vw(this.position,e)}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e.nodes=this.nodes.toJSON(),e}static get className(){return"InsertOperation"}static fromJSON(e,i){const o=[];for(const c of e.nodes)c.name?o.push(nt.fromJSON(c)):o.push(dt.fromJSON(c));const l=new rn(ee.fromJSON(e.position,i),o,e.baseVersion);return l.shouldReceiveAttributes=e.shouldReceiveAttributes,l}}class ht extends hi{constructor(e,i,o,l,c){super(c),this.splitPosition=e.clone(),this.splitPosition.stickiness="toNext",this.howMany=i,this.insertionPosition=o,this.graveyardPosition=l?l.clone():null,this.graveyardPosition&&(this.graveyardPosition.stickiness="toNext")}get type(){return"split"}get moveTargetPosition(){const e=this.insertionPosition.path.slice();return e.push(0),new ee(this.insertionPosition.root,e)}get movedRange(){const e=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.splitPosition,e)}get affectedSelectable(){const e=[G._createFromPositionAndShift(this.splitPosition,0),G._createFromPositionAndShift(this.insertionPosition,0)];return this.graveyardPosition&&e.push(G._createFromPositionAndShift(this.graveyardPosition,0)),e}clone(){return new ht(this.splitPosition,this.howMany,this.insertionPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.splitPosition.root.document.graveyard,i=new ee(e,[0]);return new Dt(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}_validate(){const e=this.splitPosition.parent,i=this.splitPosition.offset;if(!e||e.maxOffset<i)throw new j("split-operation-position-invalid",this);if(!e.parent)throw new j("split-operation-split-in-root",this);if(this.howMany!=e.maxOffset-this.splitPosition.offset)throw new j("split-operation-how-many-invalid",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new j("split-operation-graveyard-position-invalid",this)}_execute(){const e=this.splitPosition.parent;if(this.graveyardPosition)Mu(G._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{const i=e._clone();vw(this.insertionPosition,i)}Mu(new G(ee._createAt(e,this.splitPosition.offset),ee._createAt(e,e.maxOffset)),this.moveTargetPosition)}toJSON(){const e=super.toJSON();return e.splitPosition=this.splitPosition.toJSON(),e.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(e.graveyardPosition=this.graveyardPosition.toJSON()),e}static get className(){return"SplitOperation"}static getInsertionPosition(e){const i=e.path.slice(0,-1);return i[i.length-1]++,new ee(e.root,i,"toPrevious")}static fromJSON(e,i){const o=ee.fromJSON(e.splitPosition,i),l=ee.fromJSON(e.insertionPosition,i),c=e.graveyardPosition?ee.fromJSON(e.graveyardPosition,i):null;return new this(o,e.howMany,l,c,e.baseVersion)}}class Dt extends hi{constructor(e,i,o,l,c){super(c),this.sourcePosition=e.clone(),this.sourcePosition.stickiness="toPrevious",this.howMany=i,this.targetPosition=o.clone(),this.targetPosition.stickiness="toNext",this.graveyardPosition=l.clone()}get type(){return"merge"}get deletionPosition(){return new ee(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}get movedRange(){const e=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new G(this.sourcePosition,e)}get affectedSelectable(){const e=this.sourcePosition.parent;return[G._createOn(e),G._createFromPositionAndShift(this.targetPosition,0),G._createFromPositionAndShift(this.graveyardPosition,0)]}clone(){return new Dt(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}getReversed(){const e=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),o=new ee(this.sourcePosition.root,i)._getTransformedByMergeOperation(this);return new ht(e,this.howMany,o,this.graveyardPosition,this.baseVersion+1)}_validate(){const e=this.sourcePosition.parent,i=this.targetPosition.parent;if(!e.parent)throw new j("merge-operation-source-position-invalid",this);if(!i.parent)throw new j("merge-operation-target-position-invalid",this);if(this.howMany!=e.maxOffset)throw new j("merge-operation-how-many-invalid",this)}_execute(){const e=this.sourcePosition.parent;Mu(G._createIn(e),this.targetPosition),Mu(G._createOn(e),this.graveyardPosition)}toJSON(){const e=super.toJSON();return e.sourcePosition=e.sourcePosition.toJSON(),e.targetPosition=e.targetPosition.toJSON(),e.graveyardPosition=e.graveyardPosition.toJSON(),e}static get className(){return"MergeOperation"}static fromJSON(e,i){const o=ee.fromJSON(e.sourcePosition,i),l=ee.fromJSON(e.targetPosition,i),c=ee.fromJSON(e.graveyardPosition,i);return new this(o,e.howMany,l,c,e.baseVersion)}}class $n extends hi{constructor(e,i,o,l,c,d){super(d),this.name=e,this.oldRange=i?i.clone():null,this.newRange=o?o.clone():null,this.affectsData=c,this._markers=l}get type(){return"marker"}get affectedSelectable(){const e=[];return this.oldRange&&e.push(this.oldRange.clone()),this.newRange&&(this.oldRange?e.push(...this.newRange.getDifference(this.oldRange)):e.push(this.newRange.clone())),e}clone(){return new $n(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}getReversed(){return new $n(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}_execute(){this.newRange?this._markers._set(this.name,this.newRange,!0,this.affectsData):this._markers._remove(this.name)}toJSON(){const e=super.toJSON();return this.oldRange&&(e.oldRange=this.oldRange.toJSON()),this.newRange&&(e.newRange=this.newRange.toJSON()),delete e._markers,e}static get className(){return"MarkerOperation"}static fromJSON(e,i){return new $n(e.name,e.oldRange?G.fromJSON(e.oldRange,i):null,e.newRange?G.fromJSON(e.newRange,i):null,i.model.markers,e.affectsData,e.baseVersion)}}const fx=function(a,e){return CE(a,e)};class Bt extends hi{constructor(e,i,o,l,c){super(c),this.range=e.clone(),this.key=i,this.oldValue=o===void 0?null:o,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}get affectedSelectable(){return this.range.clone()}clone(){return new Bt(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Bt(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}toJSON(){const e=super.toJSON();return e.range=this.range.toJSON(),e}_validate(){if(!this.range.isFlat)throw new j("attribute-operation-range-not-flat",this);for(const e of this.range.getItems({shallow:!0})){if(this.oldValue!==null&&!fx(e.getAttribute(this.key),this.oldValue))throw new j("attribute-operation-wrong-old-value",this,{item:e,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&e.hasAttribute(this.key))throw new j("attribute-operation-attribute-exists",this,{node:e,key:this.key})}}_execute(){fx(this.oldValue,this.newValue)||function(e,i,o){Nu(e.start),Nu(e.end);for(const l of e.getItems({shallow:!0})){const c=l.is("$textProxy")?l.textNode:l;o!==null?c._setAttribute(i,o):c._removeAttribute(i),Pu(c.parent,c.index)}Pu(e.end.parent,e.end.index)}(this.range,this.key,this.newValue)}static get className(){return"AttributeOperation"}static fromJSON(e,i){return new Bt(G.fromJSON(e.range,i),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ut extends hi{get type(){return"noop"}get affectedSelectable(){return null}clone(){return new Ut(this.baseVersion)}getReversed(){return new Ut(this.baseVersion+1)}_execute(){}static get className(){return"NoOperation"}}class Gn extends hi{constructor(e,i,o,l){super(l),this.position=e,this.position.stickiness="toNext",this.oldName=i,this.newName=o}get type(){return"rename"}get affectedSelectable(){return this.position.nodeAfter}clone(){return new Gn(this.position.clone(),this.oldName,this.newName,this.baseVersion)}getReversed(){return new Gn(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}_validate(){const e=this.position.nodeAfter;if(!(e instanceof nt))throw new j("rename-operation-wrong-position",this);if(e.name!==this.oldName)throw new j("rename-operation-wrong-name",this)}_execute(){this.position.nodeAfter.name=this.newName}toJSON(){const e=super.toJSON();return e.position=this.position.toJSON(),e}static get className(){return"RenameOperation"}static fromJSON(e,i){return new Gn(ee.fromJSON(e.position,i),e.oldName,e.newName,e.baseVersion)}}class Gr extends hi{constructor(e,i,o,l,c){super(c),this.root=e,this.key=i,this.oldValue=o===void 0?null:o,this.newValue=l===void 0?null:l}get type(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}get affectedSelectable(){return this.root}clone(){return new Gr(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}getReversed(){return new Gr(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}_validate(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new j("rootattribute-operation-not-a-root",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new j("rootattribute-operation-wrong-old-value",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new j("rootattribute-operation-attribute-exists",this,{root:this.root,key:this.key})}_execute(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}toJSON(){const e=super.toJSON();return e.root=this.root.toJSON(),e}static get className(){return"RootAttributeOperation"}static fromJSON(e,i){if(!i.getRoot(e.root))throw new j("rootattribute-operation-fromjson-no-root",this,{rootName:e.root});return new Gr(i.getRoot(e.root),e.key,e.oldValue,e.newValue,e.baseVersion)}}class Ar extends hi{constructor(e,i,o,l,c){super(c),this.rootName=e,this.elementName=i,this.isAdd=o,this._document=l,!this._document.getRoot(this.rootName)&&(this._document.createRoot(this.elementName,this.rootName)._isAttached=!1)}get type(){return this.isAdd?"addRoot":"detachRoot"}get affectedSelectable(){return this._document.getRoot(this.rootName)}clone(){return new Ar(this.rootName,this.elementName,this.isAdd,this._document,this.baseVersion)}getReversed(){return new Ar(this.rootName,this.elementName,!this.isAdd,this._document,this.baseVersion+1)}_execute(){this._document.getRoot(this.rootName)._isAttached=this.isAdd}toJSON(){const e=super.toJSON();return delete e._document,e}static get className(){return"RootOperation"}static fromJSON(e,i){return new Ar(e.rootName,e.elementName,e.isAdd,i,e.baseVersion)}}const yi={};yi[Bt.className]=Bt,yi[rn.className]=rn,yi[$n.className]=$n,yi[Qe.className]=Qe,yi[Ut.className]=Ut,yi[hi.className]=hi,yi[Gn.className]=Gn,yi[Gr.className]=Gr,yi[Ar.className]=Ar,yi[ht.className]=ht,yi[Dt.className]=Dt;class n6{static fromJSON(e,i){return yi[e.__className].fromJSON(e,i)}}const yw=new Map;function He(a,e,i){let o=yw.get(a);o||(o=new Map,yw.set(a,o)),o.set(e,i)}function i6(a){return[a]}function px(a,e,i={}){const o=function(l,c){const d=yw.get(l);return d&&d.has(c)?d.get(c):i6}(a.constructor,e.constructor);try{return o(a=a.clone(),e,i)}catch(l){throw l}}function r6(a,e,i){a=a.slice(),e=e.slice();const o=new o6(i.document,i.useRelations,i.forceWeakRemove);o.setOriginalOperations(a),o.setOriginalOperations(e);const l=o.originalOperations;if(a.length==0||e.length==0)return{operationsA:a,operationsB:e,originalOperations:l};const c=new WeakMap;for(const g of a)c.set(g,0);const d={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:e[e.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:e.length};let f=0;for(;f<a.length;){const g=a[f],k=c.get(g);if(k==e.length){f++;continue}const w=e[k],_=px(g,w,o.getContext(g,w,!0)),y=px(w,g,o.getContext(w,g,!1));o.updateRelation(g,w),o.setOriginalOperations(_,g),o.setOriginalOperations(y,w);for(const I of _)c.set(I,k+y.length);a.splice(f,1,..._),e.splice(k,1,...y)}if(i.padWithNoOps){const g=a.length-d.originalOperationsACount,k=e.length-d.originalOperationsBCount;mx(a,k-g),mx(e,g-k)}return gx(a,d.nextBaseVersionB),gx(e,d.nextBaseVersionA),{operationsA:a,operationsB:e,originalOperations:l}}class o6{constructor(e,i,o=!1){this.originalOperations=new Map,this._history=e.history,this._useRelations=i,this._forceWeakRemove=!!o,this._relations=new Map}setOriginalOperations(e,i=null){const o=i?this.originalOperations.get(i):null;for(const l of e)this.originalOperations.set(l,o||l)}updateRelation(e,i){if(e instanceof Qe)i instanceof Dt?e.targetPosition.isEqual(i.sourcePosition)||i.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,i,"insertAtSource"):e.targetPosition.isEqual(i.deletionPosition)?this._setRelation(e,i,"insertBetween"):e.targetPosition.isAfter(i.sourcePosition)&&this._setRelation(e,i,"moveTargetAfter"):i instanceof Qe&&(e.targetPosition.isEqual(i.sourcePosition)||e.targetPosition.isBefore(i.sourcePosition)?this._setRelation(e,i,"insertBefore"):this._setRelation(e,i,"insertAfter"));else if(e instanceof ht){if(i instanceof Dt)e.splitPosition.isBefore(i.sourcePosition)&&this._setRelation(e,i,"splitBefore");else if(i instanceof Qe)if(e.splitPosition.isEqual(i.sourcePosition)||e.splitPosition.isBefore(i.sourcePosition))this._setRelation(e,i,"splitBefore");else{const o=G._createFromPositionAndShift(i.sourcePosition,i.howMany);if(e.splitPosition.hasSameParentAs(i.sourcePosition)&&o.containsPosition(e.splitPosition)){const l=o.end.offset-e.splitPosition.offset,c=e.splitPosition.offset-o.start.offset;this._setRelation(e,i,{howMany:l,offset:c})}}}else if(e instanceof Dt)i instanceof Dt?(e.targetPosition.isEqual(i.sourcePosition)||this._setRelation(e,i,"mergeTargetNotMoved"),e.sourcePosition.isEqual(i.targetPosition)&&this._setRelation(e,i,"mergeSourceNotMoved"),e.sourcePosition.isEqual(i.sourcePosition)&&this._setRelation(e,i,"mergeSameElement")):i instanceof ht&&e.sourcePosition.isEqual(i.splitPosition)&&this._setRelation(e,i,"splitAtSource");else if(e instanceof $n){const o=e.newRange;if(!o)return;if(i instanceof Qe){const l=G._createFromPositionAndShift(i.sourcePosition,i.howMany),c=l.containsPosition(o.start)||l.start.isEqual(o.start),d=l.containsPosition(o.end)||l.end.isEqual(o.end);!c&&!d||l.containsRange(o)||this._setRelation(e,i,{side:c?"left":"right",path:c?o.start.path.slice():o.end.path.slice()})}else if(i instanceof Dt){const l=o.start.isEqual(i.targetPosition),c=o.start.isEqual(i.deletionPosition),d=o.end.isEqual(i.deletionPosition),f=o.end.isEqual(i.sourcePosition);(l||c||d||f)&&this._setRelation(e,i,{wasInLeftElement:l,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:d,wasInRightElement:f})}}}getContext(e,i,o){return{aIsStrong:o,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(i),abRelation:this._useRelations?this._getRelation(e,i):null,baRelation:this._useRelations?this._getRelation(i,e):null,forceWeakRemove:this._forceWeakRemove}}_wasUndone(e){const i=this.originalOperations.get(e);return i.wasUndone||this._history.isUndoneOperation(i)}_getRelation(e,i){const o=this.originalOperations.get(i),l=this._history.getUndoneOperation(o);if(!l)return null;const c=this.originalOperations.get(e),d=this._relations.get(c);return d&&d.get(l)||null}_setRelation(e,i,o){const l=this.originalOperations.get(e),c=this.originalOperations.get(i);let d=this._relations.get(l);d||(d=new Map,this._relations.set(l,d)),d.set(c,o)}}function gx(a,e){for(const i of a)i.baseVersion=e++}function mx(a,e){for(let i=0;i<e;i++)a.push(new Ut(0))}function kx(a,e,i){const o=a.nodes.getNode(0).getAttribute(e);if(o==i)return null;const l=new G(a.position,a.position.getShiftedBy(a.howMany));return new Bt(l,e,o,i,0)}function bx(a,e){return a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany)===null}function gl(a,e){const i=[];for(let o=0;o<a.length;o++){const l=a[o],c=new Qe(l.start,l.end.offset-l.start.offset,e,0);i.push(c);for(let d=o+1;d<a.length;d++)a[d]=a[d]._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)[0];e=e._getTransformedByMove(c.sourcePosition,c.targetPosition,c.howMany)}return i}He(Bt,Bt,(a,e,i)=>{if(a.key===e.key&&a.range.start.hasSameParentAs(e.range.start)){const o=a.range.getDifference(e.range).map(c=>new Bt(c,a.key,a.oldValue,a.newValue,0)),l=a.range.getIntersection(e.range);return l&&i.aIsStrong&&o.push(new Bt(l,e.key,e.newValue,a.newValue,0)),o.length==0?[new Ut(0)]:o}return[a]}),He(Bt,rn,(a,e)=>{if(a.range.start.hasSameParentAs(e.position)&&a.range.containsPosition(e.position)){const i=a.range._getTransformedByInsertion(e.position,e.howMany,!e.shouldReceiveAttributes).map(o=>new Bt(o,a.key,a.oldValue,a.newValue,a.baseVersion));if(e.shouldReceiveAttributes){const o=kx(e,a.key,a.oldValue);o&&i.unshift(o)}return i}return a.range=a.range._getTransformedByInsertion(e.position,e.howMany,!1)[0],[a]}),He(Bt,Dt,(a,e)=>{const i=[];a.range.start.hasSameParentAs(e.deletionPosition)&&(a.range.containsPosition(e.deletionPosition)||a.range.start.isEqual(e.deletionPosition))&&i.push(G._createFromPositionAndShift(e.graveyardPosition,1));const o=a.range._getTransformedByMergeOperation(e);return o.isCollapsed||i.push(o),i.map(l=>new Bt(l,a.key,a.oldValue,a.newValue,a.baseVersion))}),He(Bt,Qe,(a,e)=>function(o,l){const c=G._createFromPositionAndShift(l.sourcePosition,l.howMany);let d=null,f=[];c.containsRange(o,!0)?d=o:o.start.hasSameParentAs(c.start)?(f=o.getDifference(c),d=o.getIntersection(c)):f=[o];const g=[];for(let k of f){k=k._getTransformedByDeletion(l.sourcePosition,l.howMany);const w=l.getMovedRangeStart(),_=k.start.hasSameParentAs(w),y=k._getTransformedByInsertion(w,l.howMany,_);g.push(...y)}return d&&g.push(d._getTransformedByMove(l.sourcePosition,l.targetPosition,l.howMany,!1)[0]),g}(a.range,e).map(o=>new Bt(o,a.key,a.oldValue,a.newValue,a.baseVersion))),He(Bt,ht,(a,e)=>{if(a.range.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(e.splitPosition)&&a.range.containsPosition(e.splitPosition)){const i=a.clone();return i.range=new G(e.moveTargetPosition.clone(),a.range.end._getCombined(e.splitPosition,e.moveTargetPosition)),a.range.end=e.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,i]}return a.range=a.range._getTransformedBySplitOperation(e),[a]}),He(rn,Bt,(a,e)=>{const i=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(e.range.start)&&e.range.containsPosition(a.position)){const o=kx(a,e.key,e.newValue);o&&i.push(o)}return i}),He(rn,rn,(a,e,i)=>(a.position.isEqual(e.position)&&i.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(e)),[a])),He(rn,Qe,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),He(rn,ht,(a,e)=>(a.position=a.position._getTransformedBySplitOperation(e),[a])),He(rn,Dt,(a,e)=>(a.position=a.position._getTransformedByMergeOperation(e),[a])),He($n,rn,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(e)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(e)[0]),[a])),He($n,$n,(a,e,i)=>{if(a.name==e.name){if(!i.aIsStrong)return[new Ut(0)];a.oldRange=e.newRange?e.newRange.clone():null}return[a]}),He($n,Dt,(a,e)=>(a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(e)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(e)),[a])),He($n,Qe,(a,e,i)=>{if(a.oldRange&&(a.oldRange=G._createFromRanges(a.oldRange._getTransformedByMoveOperation(e))),a.newRange){if(i.abRelation){const o=G._createFromRanges(a.newRange._getTransformedByMoveOperation(e));if(i.abRelation.side=="left"&&e.targetPosition.isEqual(a.newRange.start))return a.newRange.end=o.end,a.newRange.start.path=i.abRelation.path,[a];if(i.abRelation.side=="right"&&e.targetPosition.isEqual(a.newRange.end))return a.newRange.start=o.start,a.newRange.end.path=i.abRelation.path,[a]}a.newRange=G._createFromRanges(a.newRange._getTransformedByMoveOperation(e))}return[a]}),He($n,ht,(a,e,i)=>{if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(e)),a.newRange){if(i.abRelation){const o=a.newRange._getTransformedBySplitOperation(e);return a.newRange.start.isEqual(e.splitPosition)&&i.abRelation.wasStartBeforeMergedElement?a.newRange.start=ee._createAt(e.insertionPosition):a.newRange.start.isEqual(e.splitPosition)&&!i.abRelation.wasInLeftElement&&(a.newRange.start=ee._createAt(e.moveTargetPosition)),a.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasInRightElement?a.newRange.end=ee._createAt(e.moveTargetPosition):a.newRange.end.isEqual(e.splitPosition)&&i.abRelation.wasEndBeforeMergedElement?a.newRange.end=ee._createAt(e.insertionPosition):a.newRange.end=o.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(e)}return[a]}),He(Dt,rn,(a,e)=>(a.sourcePosition.hasSameParentAs(e.position)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(e),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e),[a])),He(Dt,Dt,(a,e,i)=>{if(a.sourcePosition.isEqual(e.sourcePosition)&&a.targetPosition.isEqual(e.targetPosition)){if(i.bWasUndone){const o=e.graveyardPosition.path.slice();return o.push(0),a.sourcePosition=new ee(e.graveyardPosition.root,o),a.howMany=0,[a]}return[new Ut(0)]}if(a.sourcePosition.isEqual(e.sourcePosition)&&!a.targetPosition.isEqual(e.targetPosition)&&!i.bWasUndone&&i.abRelation!="splitAtSource"){const o=a.targetPosition.root.rootName=="$graveyard",l=e.targetPosition.root.rootName=="$graveyard";if(l&&!o||!(o&&!l)&&i.aIsStrong){const c=e.targetPosition._getTransformedByMergeOperation(e),d=a.targetPosition._getTransformedByMergeOperation(e);return[new Qe(c,a.howMany,d,0)]}return[new Ut(0)]}return a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(e),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),a.graveyardPosition.isEqual(e.graveyardPosition)&&i.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),He(Dt,Qe,(a,e,i)=>{const o=G._createFromPositionAndShift(e.sourcePosition,e.howMany);return e.type=="remove"&&!i.bWasUndone&&!i.forceWeakRemove&&a.deletionPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(a.sourcePosition)?[new Ut(0)]:(a.sourcePosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.sourcePosition.hasSameParentAs(e.sourcePosition)&&(a.howMany-=e.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(e),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(e),a.graveyardPosition.isEqual(e.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)),[a])}),He(Dt,ht,(a,e,i)=>{if(e.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(e.graveyardPosition,1),a.deletionPosition.isEqual(e.graveyardPosition)&&(a.howMany=e.howMany)),a.targetPosition.isEqual(e.splitPosition)){const o=e.howMany!=0,l=e.graveyardPosition&&a.deletionPosition.isEqual(e.graveyardPosition);if(o||l||i.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),[a]}if(a.sourcePosition.isEqual(e.splitPosition)){if(i.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a];if(i.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=e.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}return a.sourcePosition.hasSameParentAs(e.splitPosition)&&(a.howMany=e.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(e),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(e),[a]}),He(Qe,rn,(a,e)=>{const i=G._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(e,!1)[0];return a.sourcePosition=i.start,a.howMany=i.end.offset-i.start.offset,a.targetPosition.isEqual(e.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(e)),[a]}),He(Qe,Qe,(a,e,i)=>{const o=G._createFromPositionAndShift(a.sourcePosition,a.howMany),l=G._createFromPositionAndShift(e.sourcePosition,e.howMany);let c,d=i.aIsStrong,f=!i.aIsStrong;if(i.abRelation=="insertBefore"||i.baRelation=="insertAfter"?f=!0:i.abRelation!="insertAfter"&&i.baRelation!="insertBefore"||(f=!1),c=a.targetPosition.isEqual(e.targetPosition)&&f?a.targetPosition._getTransformedByDeletion(e.sourcePosition,e.howMany):a.targetPosition._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),bx(a,e)&&bx(e,a))return[e.getReversed()];if(o.containsPosition(e.targetPosition)&&o.containsRange(l,!0))return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),gl([o],c);if(l.containsPosition(a.targetPosition)&&l.containsRange(o,!0))return o.start=o.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),o.end=o.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),gl([o],c);const g=un(a.sourcePosition.getParentPath(),e.sourcePosition.getParentPath());if(g=="prefix"||g=="extension")return o.start=o.start._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),o.end=o.end._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany),gl([o],c);a.type!="remove"||e.type=="remove"||i.aWasUndone||i.forceWeakRemove?a.type=="remove"||e.type!="remove"||i.bWasUndone||i.forceWeakRemove||(d=!1):d=!0;const k=[],w=o.getDifference(l);for(const y of w){y.start=y.start._getTransformedByDeletion(e.sourcePosition,e.howMany),y.end=y.end._getTransformedByDeletion(e.sourcePosition,e.howMany);const I=un(y.start.getParentPath(),e.getMovedRangeStart().getParentPath())=="same",T=y._getTransformedByInsertion(e.getMovedRangeStart(),e.howMany,I);k.push(...T)}const _=o.getIntersection(l);return _!==null&&d&&(_.start=_.start._getCombined(e.sourcePosition,e.getMovedRangeStart()),_.end=_.end._getCombined(e.sourcePosition,e.getMovedRangeStart()),k.length===0?k.push(_):k.length==1?l.start.isBefore(o.start)||l.start.isEqual(o.start)?k.unshift(_):k.push(_):k.splice(1,0,_)),k.length===0?[new Ut(a.baseVersion)]:gl(k,c)}),He(Qe,ht,(a,e,i)=>{let o=a.targetPosition.clone();a.targetPosition.isEqual(e.insertionPosition)&&e.graveyardPosition&&i.abRelation!="moveTargetAfter"||(o=a.targetPosition._getTransformedBySplitOperation(e));const l=G._createFromPositionAndShift(a.sourcePosition,a.howMany);if(l.end.isEqual(e.insertionPosition))return e.graveyardPosition||a.howMany++,a.targetPosition=o,[a];if(l.start.hasSameParentAs(e.splitPosition)&&l.containsPosition(e.splitPosition)){let d=new G(e.splitPosition,l.end);return d=d._getTransformedBySplitOperation(e),gl([new G(l.start,e.splitPosition),d],o)}a.targetPosition.isEqual(e.splitPosition)&&i.abRelation=="insertAtSource"&&(o=e.moveTargetPosition),a.targetPosition.isEqual(e.insertionPosition)&&i.abRelation=="insertBetween"&&(o=a.targetPosition);const c=[l._getTransformedBySplitOperation(e)];if(e.graveyardPosition){const d=l.start.isEqual(e.graveyardPosition)||l.containsPosition(e.graveyardPosition);a.howMany>1&&d&&!i.aWasUndone&&c.push(G._createFromPositionAndShift(e.insertionPosition,1))}return gl(c,o)}),He(Qe,Dt,(a,e,i)=>{const o=G._createFromPositionAndShift(a.sourcePosition,a.howMany);if(e.deletionPosition.hasSameParentAs(a.sourcePosition)&&o.containsPosition(e.sourcePosition)){if(a.type!="remove"||i.forceWeakRemove){if(a.howMany==1)return i.bWasUndone?(a.sourcePosition=e.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]):[new Ut(0)]}else if(!i.aWasUndone){const c=[];let d=e.graveyardPosition.clone(),f=e.targetPosition._getTransformedByMergeOperation(e);a.howMany>1&&(c.push(new Qe(a.sourcePosition,a.howMany-1,a.targetPosition,0)),d=d._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),f=f._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));const g=e.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),k=new Qe(d,1,g,0),w=k.getMovedRangeStart().path.slice();w.push(0);const _=new ee(k.targetPosition.root,w);f=f._getTransformedByMove(d,g,1);const y=new Qe(f,e.howMany,_,0);return c.push(k),c.push(y),c}}const l=G._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(e);return a.sourcePosition=l.start,a.howMany=l.end.offset-l.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(e),[a]}),He(Gn,rn,(a,e)=>(a.position=a.position._getTransformedByInsertOperation(e),[a])),He(Gn,Dt,(a,e)=>a.position.isEqual(e.deletionPosition)?(a.position=e.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(e),[a])),He(Gn,Qe,(a,e)=>(a.position=a.position._getTransformedByMoveOperation(e),[a])),He(Gn,Gn,(a,e,i)=>{if(a.position.isEqual(e.position)){if(!i.aIsStrong)return[new Ut(0)];a.oldName=e.newName}return[a]}),He(Gn,ht,(a,e)=>{if(un(a.position.path,e.splitPosition.getParentPath())=="same"&&!e.graveyardPosition){const i=new Gn(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,i]}return a.position=a.position._getTransformedBySplitOperation(e),[a]}),He(Gr,Gr,(a,e,i)=>{if(a.root===e.root&&a.key===e.key){if(!i.aIsStrong||a.newValue===e.newValue)return[new Ut(0)];a.oldValue=e.newValue}return[a]}),He(Ar,Ar,(a,e)=>a.rootName===e.rootName&&a.isAdd===e.isAdd?[new Ut(0)]:[a]),He(ht,rn,(a,e)=>(a.splitPosition.hasSameParentAs(e.position)&&a.splitPosition.offset<e.position.offset&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(e),a.insertionPosition=a.insertionPosition._getTransformedByInsertOperation(e),[a])),He(ht,Dt,(a,e,i)=>{if(!a.graveyardPosition&&!i.bWasUndone&&a.splitPosition.hasSameParentAs(e.sourcePosition)){const o=e.graveyardPosition.path.slice();o.push(0);const l=new ee(e.graveyardPosition.root,o),c=ht.getInsertionPosition(new ee(e.graveyardPosition.root,o)),d=new ht(l,0,c,null,0);return a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=ht.getInsertionPosition(a.splitPosition),a.graveyardPosition=d.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[d,a]}return a.splitPosition.hasSameParentAs(e.deletionPosition)&&!a.splitPosition.isAfter(e.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(e.targetPosition)&&(a.howMany+=e.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(e),a.insertionPosition=ht.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(e)),[a]}),He(ht,Qe,(a,e,i)=>{const o=G._createFromPositionAndShift(e.sourcePosition,e.howMany);if(a.graveyardPosition){const c=o.start.isEqual(a.graveyardPosition)||o.containsPosition(a.graveyardPosition);if(!i.bWasUndone&&c){const d=a.splitPosition._getTransformedByMoveOperation(e),f=a.graveyardPosition._getTransformedByMoveOperation(e),g=f.path.slice();g.push(0);const k=new ee(f.root,g);return[new Qe(d,a.howMany,k,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(e)}const l=a.splitPosition.isEqual(e.targetPosition);if(l&&(i.baRelation=="insertAtSource"||i.abRelation=="splitBefore"))return a.howMany+=e.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(e.sourcePosition,e.howMany),a.insertionPosition=ht.getInsertionPosition(a.splitPosition),[a];if(l&&i.abRelation&&i.abRelation.howMany){const{howMany:c,offset:d}=i.abRelation;return a.howMany+=c,a.splitPosition=a.splitPosition.getShiftedBy(d),[a]}if(a.splitPosition.hasSameParentAs(e.sourcePosition)&&o.containsPosition(a.splitPosition)){const c=e.howMany-(a.splitPosition.offset-e.sourcePosition.offset);return a.howMany-=c,a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany),a.splitPosition=e.sourcePosition.clone(),a.insertionPosition=ht.getInsertionPosition(a.splitPosition),[a]}return e.sourcePosition.isEqual(e.targetPosition)||(a.splitPosition.hasSameParentAs(e.sourcePosition)&&a.splitPosition.offset<=e.sourcePosition.offset&&(a.howMany-=e.howMany),a.splitPosition.hasSameParentAs(e.targetPosition)&&a.splitPosition.offset<e.targetPosition.offset&&(a.howMany+=e.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(e),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(e):a.insertionPosition=ht.getInsertionPosition(a.splitPosition),[a]}),He(ht,ht,(a,e,i)=>{if(a.splitPosition.isEqual(e.splitPosition)){if(!a.graveyardPosition&&!e.graveyardPosition)return[new Ut(0)];if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition))return[new Ut(0)];if(i.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e),[a]}if(a.graveyardPosition&&e.graveyardPosition&&a.graveyardPosition.isEqual(e.graveyardPosition)){const o=a.splitPosition.root.rootName=="$graveyard",l=e.splitPosition.root.rootName=="$graveyard";if(l&&!o||!(o&&!l)&&i.aIsStrong){const c=[];return e.howMany&&c.push(new Qe(e.moveTargetPosition,e.howMany,e.splitPosition,0)),a.howMany&&c.push(new Qe(a.splitPosition,a.howMany,a.moveTargetPosition,0)),c}return[new Ut(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(e)),a.splitPosition.isEqual(e.insertionPosition)&&i.abRelation=="splitBefore")return a.howMany++,[a];if(e.splitPosition.isEqual(a.insertionPosition)&&i.baRelation=="splitBefore"){const o=e.insertionPosition.path.slice();o.push(0);const l=new ee(e.insertionPosition.root,o);return[a,new Qe(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(e.splitPosition)&&a.splitPosition.offset<e.splitPosition.offset&&(a.howMany-=e.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(e),a.insertionPosition=ht.getInsertionPosition(a.splitPosition),[a]});class hn extends ce(ee){constructor(e,i,o="toNone"){if(super(e,i,o),!this.root.is("rootElement"))throw new j("model-liveposition-root-not-rootelement",e);s6.call(this)}detach(){this.stopListening()}toPosition(){return new ee(this.root,this.path.slice(),this.stickiness)}static fromPosition(e,i){return new this(e.root,e.path.slice(),i||e.stickiness)}}function s6(){this.listenTo(this.root.document.model,"applyOperation",(a,e)=>{const i=e[0];i.isDocumentOperation&&a6.call(this,i)},{priority:"low"})}function a6(a){const e=this.getTransformedByOperation(a);if(!this.isEqual(e)){const i=this.toPosition();this.path=e.path,this.root=e.root,this.fire("change",i)}}hn.prototype.is=function(a){return a==="livePosition"||a==="model:livePosition"||a=="position"||a==="model:position"};class ml{constructor(e={}){typeof e=="string"&&(e=e==="transparent"?{isUndoable:!1}:{},q("batch-constructor-deprecated-string-type"));const{isUndoable:i=!0,isLocal:o=!0,isUndo:l=!1,isTyping:c=!1}=e;this.operations=[],this.isUndoable=i,this.isLocal=o,this.isUndo=l,this.isTyping=c}get type(){return q("batch-type-deprecated"),"default"}get baseVersion(){for(const e of this.operations)if(e.baseVersion!==null)return e.baseVersion;return null}addOperation(e){return e.batch=this,this.operations.push(e),e}}var l6=Object.defineProperty,c6=Object.defineProperties,u6=Object.getOwnPropertyDescriptors,wx=Object.getOwnPropertySymbols,d6=Object.prototype.hasOwnProperty,h6=Object.prototype.propertyIsEnumerable,_x=(a,e,i)=>e in a?l6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,Ax=(a,e)=>{for(var i in e||(e={}))d6.call(e,i)&&_x(a,i,e[i]);if(wx)for(var i of wx(e))h6.call(e,i)&&_x(a,i,e[i]);return a};class f6{constructor(e){this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changedRoots=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null,this._refreshedItems=new Set,this._markerCollection=e}get isEmpty(){return this._changesInElement.size==0&&this._changedMarkers.size==0&&this._changedRoots.size==0}bufferOperation(e){const i=e;switch(i.type){case"insert":if(this._isInInsertedElement(i.position.parent))return;this._markInsert(i.position.parent,i.position.offset,i.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":for(const o of i.range.getItems({shallow:!0}))this._isInInsertedElement(o.parent)||this._markAttribute(o);break;case"remove":case"move":case"reinsert":{if(i.sourcePosition.isEqual(i.targetPosition)||i.sourcePosition.getShiftedBy(i.howMany).isEqual(i.targetPosition))return;const o=this._isInInsertedElement(i.sourcePosition.parent),l=this._isInInsertedElement(i.targetPosition.parent);o||this._markRemove(i.sourcePosition.parent,i.sourcePosition.offset,i.howMany),l||this._markInsert(i.targetPosition.parent,i.getMovedRangeStart().offset,i.howMany);break}case"rename":{if(this._isInInsertedElement(i.position.parent))return;this._markRemove(i.position.parent,i.position.offset,1),this._markInsert(i.position.parent,i.position.offset,1);const o=G._createFromPositionAndShift(i.position,1);for(const l of this._markerCollection.getMarkersIntersectingRange(o)){const c=l.getData();this.bufferMarkerChange(l.name,c,c)}break}case"split":{const o=i.splitPosition.parent;this._isInInsertedElement(o)||this._markRemove(o,i.splitPosition.offset,i.howMany),this._isInInsertedElement(i.insertionPosition.parent)||this._markInsert(i.insertionPosition.parent,i.insertionPosition.offset,1),i.graveyardPosition&&this._markRemove(i.graveyardPosition.parent,i.graveyardPosition.offset,1);break}case"merge":{const o=i.sourcePosition.parent;this._isInInsertedElement(o.parent)||this._markRemove(o.parent,o.startOffset,1);const l=i.graveyardPosition.parent;this._markInsert(l,i.graveyardPosition.offset,1);const c=i.targetPosition.parent;this._isInInsertedElement(c)||this._markInsert(c,i.targetPosition.offset,o.maxOffset);break}case"detachRoot":case"addRoot":{const o=i.affectedSelectable;if(!o._isLoaded||o.isAttached()==i.isAdd)return;this._bufferRootStateChange(i.rootName,i.isAdd);break}case"addRootAttribute":case"removeRootAttribute":case"changeRootAttribute":{if(!i.root._isLoaded)return;const o=i.root.rootName;this._bufferRootAttributeChange(o,i.key,i.oldValue,i.newValue);break}}this._cachedChanges=null}bufferMarkerChange(e,i,o){i.range&&i.range.root.is("rootElement")&&!i.range.root._isLoaded&&(i.range=null),o.range&&o.range.root.is("rootElement")&&!o.range.root._isLoaded&&(o.range=null);let l=this._changedMarkers.get(e);l?l.newMarkerData=o:(l={newMarkerData:o,oldMarkerData:i},this._changedMarkers.set(e,l)),l.oldMarkerData.range==null&&o.range==null&&this._changedMarkers.delete(e)}getMarkersToRemove(){const e=[];for(const[i,o]of this._changedMarkers)o.oldMarkerData.range!=null&&e.push({name:i,range:o.oldMarkerData.range});return e}getMarkersToAdd(){const e=[];for(const[i,o]of this._changedMarkers)o.newMarkerData.range!=null&&e.push({name:i,range:o.newMarkerData.range});return e}getChangedMarkers(){return Array.from(this._changedMarkers).map(([e,i])=>({name:e,data:{oldRange:i.oldMarkerData.range,newRange:i.newMarkerData.range}}))}hasDataChanges(){if(this._changesInElement.size>0||this._changedRoots.size>0)return!0;for(const{newMarkerData:e,oldMarkerData:i}of this._changedMarkers.values()){if(e.affectsData!==i.affectsData)return!0;if(e.affectsData){const o=e.range&&!i.range,l=!e.range&&i.range,c=e.range&&i.range&&!e.range.isEqual(i.range);if(o||l||c)return!0}}return!1}getChanges(e={}){if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();let i=[];for(const o of this._changesInElement.keys()){const l=this._changesInElement.get(o).sort((w,_)=>w.offset===_.offset?w.type!=_.type?w.type=="remove"?-1:1:0:w.offset<_.offset?-1:1),c=this._elementSnapshots.get(o),d=vx(o.getChildren()),f=p6(c.length,l);let g=0,k=0;for(const w of f)if(w==="i")i.push(this._getInsertDiff(o,g,d[g])),g++;else if(w==="r")i.push(this._getRemoveDiff(o,g,c[k])),k++;else if(w==="a"){const _=d[g].attributes,y=c[k].attributes;let I;if(d[g].name=="$text")I=new G(ee._createAt(o,g),ee._createAt(o,g+1));else{const T=o.offsetToIndex(g);I=new G(ee._createAt(o,g),ee._createAt(o.getChild(T),0))}i.push(...this._getAttributesDiff(I,y,_)),g++,k++}else g++,k++}i.sort((o,l)=>o.position.root!=l.position.root?o.position.root.rootName<l.position.root.rootName?-1:1:o.position.isEqual(l.position)?o.changeCount-l.changeCount:o.position.isBefore(l.position)?-1:1);for(let o=1,l=0;o<i.length;o++){const c=i[l],d=i[o],f=c.type=="remove"&&d.type=="remove"&&c.name=="$text"&&d.name=="$text"&&c.position.isEqual(d.position),g=c.type=="insert"&&d.type=="insert"&&c.name=="$text"&&d.name=="$text"&&c.position.parent==d.position.parent&&c.position.offset+c.length==d.position.offset,k=c.type=="attribute"&&d.type=="attribute"&&c.position.parent==d.position.parent&&c.range.isFlat&&d.range.isFlat&&c.position.offset+c.length==d.position.offset&&c.attributeKey==d.attributeKey&&c.attributeOldValue==d.attributeOldValue&&c.attributeNewValue==d.attributeNewValue;f||g||k?(c.length++,k&&(c.range.end=c.range.end.getShiftedBy(1)),i[o]=null):l=o}i=i.filter(o=>o);for(const o of i)delete o.changeCount,o.type=="attribute"&&(delete o.position,delete o.length);return this._changeCount=0,this._cachedChangesWithGraveyard=i,this._cachedChanges=i.filter(g6),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice()}getChangedRoots(){return Array.from(this._changedRoots.values()).map(e=>{const i=Ax({},e);return i.state!==void 0&&delete i.attributes,i})}getRefreshedItems(){return new Set(this._refreshedItems)}reset(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._changedRoots.clear(),this._refreshedItems=new Set,this._cachedChanges=null}_bufferRootStateChange(e,i){if(!this._changedRoots.has(e))return void this._changedRoots.set(e,{name:e,state:i?"attached":"detached"});const o=this._changedRoots.get(e);o.state!==void 0?(delete o.state,o.attributes===void 0&&this._changedRoots.delete(e)):o.state=i?"attached":"detached"}_bufferRootAttributeChange(e,i,o,l){const c=this._changedRoots.get(e)||{name:e},d=c.attributes||{};if(d[i]){const f=d[i];l===f.oldValue?delete d[i]:f.newValue=l}else d[i]={oldValue:o,newValue:l};Object.entries(d).length===0?(delete c.attributes,c.state===void 0&&this._changedRoots.delete(e)):(c.attributes=d,this._changedRoots.set(e,c))}_refreshItem(e){if(this._isInInsertedElement(e.parent))return;this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize),this._refreshedItems.add(e);const i=G._createOn(e);for(const o of this._markerCollection.getMarkersIntersectingRange(i)){const l=o.getData();this.bufferMarkerChange(o.name,l,l)}this._cachedChanges=null}_bufferRootLoad(e){if(e.isAttached()){this._bufferRootStateChange(e.rootName,!0),this._markInsert(e,0,e.maxOffset);for(const o of e.getAttributeKeys())this._bufferRootAttributeChange(e.rootName,o,null,e.getAttribute(o));for(const o of this._markerCollection)if(o.getRange().root==e){const l=o.getData();this.bufferMarkerChange(o.name,(i=Ax({},l),c6(i,u6({range:null}))),l)}var i}}_markInsert(e,i,o){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"insert",offset:i,howMany:o,count:this._changeCount++};this._markChange(e,l)}_markRemove(e,i,o){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const l={type:"remove",offset:i,howMany:o,count:this._changeCount++};this._markChange(e,l),this._removeAllNestedChanges(e,i,o)}_markAttribute(e){if(e.root.is("rootElement")&&!e.root._isLoaded)return;const i={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,i)}_markChange(e,i){this._makeSnapshot(e);const o=this._getChangesForElement(e);this._handleChange(i,o),o.push(i);for(let l=0;l<o.length;l++)o[l].howMany<1&&(o.splice(l,1),l--)}_getChangesForElement(e){let i;return this._changesInElement.has(e)?i=this._changesInElement.get(e):(i=[],this._changesInElement.set(e,i)),i}_makeSnapshot(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,vx(e.getChildren()))}_handleChange(e,i){e.nodesToHandle=e.howMany;for(const o of i){const l=e.offset+e.howMany,c=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<c&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<c){const d=o.howMany;o.howMany=e.offset-o.offset,i.unshift({type:"attribute",offset:l,howMany:d-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(l<=o.offset)o.offset-=e.howMany;else if(l<=c)if(e.offset<o.offset){const d=l-o.offset;o.offset=e.offset,o.howMany-=d,e.nodesToHandle-=d}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<c){const d=c-e.offset;o.howMany-=d,e.nodesToHandle-=d}}if(o.type=="remove"&&(l<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(l<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){const d=l-o.offset;o.offset=e.offset,o.howMany-=d}else if(e.offset<c)if(l<=c){const d=o.howMany;o.howMany=e.offset-o.offset;const f=d-o.howMany-e.nodesToHandle;i.unshift({type:"attribute",offset:e.offset,howMany:f,count:this._changeCount++})}else o.howMany-=c-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&l>o.offset){if(l>c){const d={type:"attribute",offset:c,howMany:l-c,count:this._changeCount++};this._handleChange(d,i),i.push(d)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<c&&(l>c?(e.nodesToHandle=l-c,e.offset=c):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&l>o.offset){const d={type:"attribute",offset:o.offset,howMany:l-o.offset,count:this._changeCount++};this._handleChange(d,i),i.push(d),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&l<=c?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&l>=c&&(o.howMany=0))}}e.howMany=e.nodesToHandle,delete e.nodesToHandle}_getInsertDiff(e,i,o){return{type:"insert",position:ee._createAt(e,i),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getRemoveDiff(e,i,o){return{type:"remove",position:ee._createAt(e,i),name:o.name,attributes:new Map(o.attributes),length:1,changeCount:this._changeCount++}}_getAttributesDiff(e,i,o){const l=[];o=new Map(o);for(const[c,d]of i){const f=o.has(c)?o.get(c):null;f!==d&&l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:d,attributeNewValue:f,changeCount:this._changeCount++}),o.delete(c)}for(const[c,d]of o)l.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:c,attributeOldValue:null,attributeNewValue:d,changeCount:this._changeCount++});return l}_isInInsertedElement(e){const i=e.parent;if(!i)return!1;const o=this._changesInElement.get(i),l=e.startOffset;if(o){for(const c of o)if(c.type=="insert"&&l>=c.offset&&l<c.offset+c.howMany)return!0}return this._isInInsertedElement(i)}_removeAllNestedChanges(e,i,o){const l=new G(ee._createAt(e,i),ee._createAt(e,i+o));for(const c of l.getItems({shallow:!0}))c.is("element")&&(this._elementSnapshots.delete(c),this._changesInElement.delete(c),this._removeAllNestedChanges(c,0,c.maxOffset))}}function vx(a){const e=[];for(const i of a)if(i.is("$text"))for(let o=0;o<i.data.length;o++)e.push({name:"$text",attributes:new Map(i.getAttributes())});else e.push({name:i.name,attributes:new Map(i.getAttributes())});return e}function p6(a,e){const i=[];let o=0,l=0;for(const c of e){if(c.offset>o){for(let d=0;d<c.offset-o;d++)i.push("e");l+=c.offset-o}if(c.type=="insert"){for(let d=0;d<c.howMany;d++)i.push("i");o=c.offset+c.howMany}else if(c.type=="remove"){for(let d=0;d<c.howMany;d++)i.push("r");o=c.offset,l+=c.howMany}else i.push(..."a".repeat(c.howMany).split("")),o=c.offset+c.howMany,l+=c.howMany}if(l<a)for(let c=0;c<a-l-o;c++)i.push("e");return i}function g6(a){const e="position"in a&&a.position.root.rootName=="$graveyard",i="range"in a&&a.range.root.rootName=="$graveyard";return!e&&!i}class m6{constructor(){this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set,this._baseVersionToOperationIndex=new Map,this._version=0,this._gaps=new Map}get version(){return this._version}set version(e){this._operations.length&&e>this._version+1&&this._gaps.set(this._version,e),this._version=e}get lastOperation(){return this._operations[this._operations.length-1]}addOperation(e){if(e.baseVersion!==this.version)throw new j("model-document-history-addoperation-incorrect-version",this,{operation:e,historyVersion:this.version});this._operations.push(e),this._version++,this._baseVersionToOperationIndex.set(e.baseVersion,this._operations.length-1)}getOperations(e,i=this.version){if(!this._operations.length)return[];const o=this._operations[0];e===void 0&&(e=o.baseVersion);let l=i-1;for(const[f,g]of this._gaps)e>f&&e<g&&(e=g),l>f&&l<g&&(l=f-1);if(l<o.baseVersion||e>this.lastOperation.baseVersion)return[];let c=this._baseVersionToOperationIndex.get(e);c===void 0&&(c=0);let d=this._baseVersionToOperationIndex.get(l);return d===void 0&&(d=this._operations.length-1),this._operations.slice(c,d+1)}getOperation(e){const i=this._baseVersionToOperationIndex.get(e);if(i!==void 0)return this._operations[i]}setOperationAsUndone(e,i){this._undoPairs.set(i,e),this._undoneOperations.add(e)}isUndoingOperation(e){return this._undoPairs.has(e)}isUndoneOperation(e){return this._undoneOperations.has(e)}getUndoneOperation(e){return this._undoPairs.get(e)}reset(){this._version=0,this._undoPairs=new Map,this._operations=[],this._undoneOperations=new Set,this._gaps=new Map,this._baseVersionToOperationIndex=new Map}}class sp extends nt{constructor(e,i,o="main"){super(i),this._isAttached=!0,this._isLoaded=!0,this._document=e,this.rootName=o}get document(){return this._document}isAttached(){return this._isAttached}toJSON(){return this.rootName}}sp.prototype.is=function(a,e){return e?e===this.name&&(a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"):a==="rootElement"||a==="model:rootElement"||a==="element"||a==="model:element"||a==="node"||a==="model:node"};var k6=Object.defineProperty,b6=Object.defineProperties,w6=Object.getOwnPropertyDescriptors,yx=Object.getOwnPropertySymbols,_6=Object.prototype.hasOwnProperty,A6=Object.prototype.propertyIsEnumerable,Cx=(a,e,i)=>e in a?k6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,Ex=(a,e)=>{for(var i in e||(e={}))_6.call(e,i)&&Cx(a,i,e[i]);if(yx)for(var i of yx(e))A6.call(e,i)&&Cx(a,i,e[i]);return a},xx=(a,e)=>b6(a,w6(e));const Ix="$graveyard";class v6 extends ce(){constructor(e){super(),this.model=e,this.history=new m6,this.selection=new Hi(this),this.roots=new Li({idProperty:"rootName"}),this.differ=new f6(e.markers),this.isReadOnly=!1,this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root",Ix),this.listenTo(e,"applyOperation",(i,o)=>{const l=o[0];l.isDocumentOperation&&this.differ.bufferOperation(l)},{priority:"high"}),this.listenTo(e,"applyOperation",(i,o)=>{const l=o[0];l.isDocumentOperation&&this.history.addOperation(l)},{priority:"low"}),this.listenTo(this.selection,"change",()=>{this._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(e.markers,"update",(i,o,l,c,d)=>{const f=xx(Ex({},o.getData()),{range:c});this.differ.bufferMarkerChange(o.name,d,f),l===null&&o.on("change",(g,k)=>{const w=o.getData();this.differ.bufferMarkerChange(o.name,xx(Ex({},w),{range:k}),w)})}),this.registerPostFixer(i=>{let o=!1;for(const l of this.roots)l.isAttached()||l.isEmpty||(i.remove(i.createRangeIn(l)),o=!0);for(const l of this.model.markers)l.getRange().root.isAttached()||(i.removeMarker(l),o=!0);return o})}get version(){return this.history.version}set version(e){this.history.version=e}get graveyard(){return this.getRoot(Ix)}createRoot(e="$root",i="main"){if(this.roots.get(i))throw new j("model-document-createroot-name-exists",this,{name:i});const o=new sp(this,e,i);return this.roots.add(o),o}destroy(){this.selection.destroy(),this.stopListening()}getRoot(e="main"){return this.roots.get(e)}getRootNames(e=!1){return this.getRoots(e).map(i=>i.rootName)}getRoots(e=!1){return Array.from(this.roots).filter(i=>i!=this.graveyard&&(e||i.isAttached())&&i._isLoaded)}registerPostFixer(e){this._postFixers.add(e)}toJSON(){const e=F1(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}_handleChangeBlock(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}_hasDocumentChangedFromTheLastChangeBlock(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}_getDefaultRoot(){const e=this.getRoots();return e.length?e[0]:this.graveyard}_getDefaultRange(){const e=this._getDefaultRoot(),i=this.model,o=i.schema,l=i.createPositionFromPath(e,[0]);return o.getNearestSelectionRange(l)||i.createRange(l)}_validateSelectionRange(e){return Tx(e.start)&&Tx(e.end)}_callPostFixers(e){let i=!1;do for(const o of this._postFixers)if(this.selection.refresh(),i=o(e),i)break;while(i)}}function Tx(a){const e=a.textNode;if(e){const i=e.data,o=a.offset-e.startOffset;return!jb(i,o)&&!Vb(i,o)}return!0}var y6=Object.defineProperty,C6=Object.defineProperties,E6=Object.getOwnPropertyDescriptors,Sx=Object.getOwnPropertySymbols,x6=Object.prototype.hasOwnProperty,I6=Object.prototype.propertyIsEnumerable,Dx=(a,e,i)=>e in a?y6(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class T6 extends ce(){constructor(){super(...arguments),this._markers=new Map}[Symbol.iterator](){return this._markers.values()}has(e){const i=e instanceof kl?e.name:e;return this._markers.has(i)}get(e){return this._markers.get(e)||null}_set(e,i,o=!1,l=!1){const c=e instanceof kl?e.name:e;if(c.includes(","))throw new j("markercollection-incorrect-marker-name",this);const d=this._markers.get(c);if(d){const w=d.getData(),_=d.getRange();let y=!1;return _.isEqual(i)||(d._attachLiveRange(Ui.fromRange(i)),y=!0),o!=d.managedUsingOperations&&(d._managedUsingOperations=o,y=!0),typeof l=="boolean"&&l!=d.affectsData&&(d._affectsData=l,y=!0),y&&this.fire(`update:${c}`,d,_,i,w),d}const f=Ui.fromRange(i),g=new kl(c,f,o,l);var k;return this._markers.set(c,g),this.fire(`update:${c}`,g,null,i,(k=((w,_)=>{for(var y in _||(_={}))x6.call(_,y)&&Dx(w,y,_[y]);if(Sx)for(var y of Sx(_))I6.call(_,y)&&Dx(w,y,_[y]);return w})({},g.getData()),C6(k,E6({range:null})))),g}_remove(e){const i=e instanceof kl?e.name:e,o=this._markers.get(i);return!!o&&(this._markers.delete(i),this.fire(`update:${i}`,o,o.getRange(),null,o.getData()),this._destroyMarker(o),!0)}_refresh(e){const i=e instanceof kl?e.name:e,o=this._markers.get(i);if(!o)throw new j("markercollection-refresh-marker-not-exists",this);const l=o.getRange();this.fire(`update:${i}`,o,l,l,o.getData())}*getMarkersAtPosition(e){for(const i of this)i.getRange().containsPosition(e)&&(yield i)}*getMarkersIntersectingRange(e){for(const i of this)i.getRange().getIntersection(e)!==null&&(yield i)}destroy(){for(const e of this._markers.values())this._destroyMarker(e);this._markers=null,this.stopListening()}*getMarkersGroup(e){for(const i of this._markers.values())i.name.startsWith(e+":")&&(yield i)}_destroyMarker(e){e.stopListening(),e._detachLiveRange()}}class kl extends ce(jo){constructor(e,i,o,l){super(),this.name=e,this._liveRange=this._attachLiveRange(i),this._managedUsingOperations=o,this._affectsData=l}get managedUsingOperations(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._managedUsingOperations}get affectsData(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._affectsData}getData(){return{range:this.getRange(),affectsData:this.affectsData,managedUsingOperations:this.managedUsingOperations}}getStart(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.start.clone()}getEnd(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.end.clone()}getRange(){if(!this._liveRange)throw new j("marker-destroyed",this);return this._liveRange.toRange()}_attachLiveRange(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}_detachLiveRange(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}kl.prototype.is=function(a){return a==="marker"||a==="model:marker"};class S6 extends hi{constructor(e,i){super(null),this.sourcePosition=e.clone(),this.howMany=i}get type(){return"detach"}get affectedSelectable(){return null}toJSON(){const e=super.toJSON();return e.sourcePosition=this.sourcePosition.toJSON(),e}_validate(){if(this.sourcePosition.root.document)throw new j("detach-operation-on-document-node",this)}_execute(){ux(G._createFromPositionAndShift(this.sourcePosition,this.howMany))}static get className(){return"DetachOperation"}}class Kr extends jo{constructor(e){super(),this.markers=new Map,this._children=new xu,e&&this._insertChild(0,e)}[Symbol.iterator](){return this.getChildren()}get childCount(){return this._children.length}get maxOffset(){return this._children.maxOffset}get isEmpty(){return this.childCount===0}get nextSibling(){return null}get previousSibling(){return null}get root(){return this}get parent(){return null}get document(){return null}isAttached(){return!1}getAncestors(){return[]}getChild(e){return this._children.getNode(e)}getChildren(){return this._children[Symbol.iterator]()}getChildIndex(e){return this._children.getNodeIndex(e)}getChildStartOffset(e){return this._children.getNodeStartOffset(e)}getPath(){return[]}getNodeByPath(e){let i=this;for(const o of e)i=i.getChild(i.offsetToIndex(o));return i}offsetToIndex(e){return this._children.offsetToIndex(e)}toJSON(){const e=[];for(const i of this._children)e.push(i.toJSON());return e}static fromJSON(e){const i=[];for(const o of e)o.name?i.push(nt.fromJSON(o)):i.push(dt.fromJSON(o));return new Kr(i)}_appendChild(e){this._insertChild(this.childCount,e)}_insertChild(e,i){const o=function(l){return typeof l=="string"?[new dt(l)]:(An(l)||(l=[l]),Array.from(l).map(c=>typeof c=="string"?new dt(c):c instanceof Fi?new dt(c.data,c.getAttributes()):c))}(i);for(const l of o)l.parent!==null&&l._remove(),l.parent=this;this._children._insertNodes(e,o)}_removeChildren(e,i=1){const o=this._children._removeNodes(e,i);for(const l of o)l.parent=null;return o}}Kr.prototype.is=function(a){return a==="documentFragment"||a==="model:documentFragment"};class D6{constructor(e,i){this.model=e,this.batch=i}createText(e,i){return new dt(e,i)}createElement(e,i){return new nt(e,i)}createDocumentFragment(){return new Kr}cloneElement(e,i=!0){return e._clone(i)}insert(e,i,o=0){if(this._assertWriterUsedCorrectly(),e instanceof dt&&e.data=="")return;const l=ee._createAt(i,o);if(e.parent){if(Nx(e.root,l.root))return void this.move(G._createOn(e),l);if(e.root.document)throw new j("model-writer-insert-forbidden-move",this);this.remove(e)}const c=l.root.document?l.root.document.version:null,d=new rn(l,e,c);if(e instanceof dt&&(d.shouldReceiveAttributes=!0),this.batch.addOperation(d),this.model.applyOperation(d),e instanceof Kr)for(const[f,g]of e.markers){const k=ee._createAt(g.root,0),w={range:new G(g.start._getCombined(k,l),g.end._getCombined(k,l)),usingOperation:!0,affectsData:!0};this.model.markers.has(f)?this.updateMarker(f,w):this.addMarker(f,w)}}insertText(e,i,o,l){i instanceof Kr||i instanceof nt||i instanceof ee?this.insert(this.createText(e),i,o):this.insert(this.createText(e,i),o,l)}insertElement(e,i,o,l){i instanceof Kr||i instanceof nt||i instanceof ee?this.insert(this.createElement(e),i,o):this.insert(this.createElement(e,i),o,l)}append(e,i){this.insert(e,i,"end")}appendText(e,i,o){i instanceof Kr||i instanceof nt?this.insert(this.createText(e),i,"end"):this.insert(this.createText(e,i),o,"end")}appendElement(e,i,o){i instanceof Kr||i instanceof nt?this.insert(this.createElement(e),i,"end"):this.insert(this.createElement(e,i),o,"end")}setAttribute(e,i,o){if(this._assertWriterUsedCorrectly(),o instanceof G){const l=o.getMinimalFlatRanges();for(const c of l)Mx(this,e,i,c)}else Px(this,e,i,o)}setAttributes(e,i){for(const[o,l]of mr(e))this.setAttribute(o,l,i)}removeAttribute(e,i){if(this._assertWriterUsedCorrectly(),i instanceof G){const o=i.getMinimalFlatRanges();for(const l of o)Mx(this,e,null,l)}else Px(this,e,null,i)}clearAttributes(e){this._assertWriterUsedCorrectly();const i=o=>{for(const l of o.getAttributeKeys())this.removeAttribute(l,o)};if(e instanceof G)for(const o of e.getItems())i(o);else i(e)}move(e,i,o){if(this._assertWriterUsedCorrectly(),!(e instanceof G))throw new j("writer-move-invalid-range",this);if(!e.isFlat)throw new j("writer-move-range-not-flat",this);const l=ee._createAt(i,o);if(l.isEqual(e.start))return;if(this._addOperationForAffectedMarkers("move",e),!Nx(e.root,l.root))throw new j("writer-move-different-document",this);const c=e.root.document?e.root.document.version:null,d=new Qe(e.start,e.end.offset-e.start.offset,l,c);this.batch.addOperation(d),this.model.applyOperation(d)}remove(e){this._assertWriterUsedCorrectly();const i=(e instanceof G?e:G._createOn(e)).getMinimalFlatRanges().reverse();for(const o of i)this._addOperationForAffectedMarkers("move",o),M6(o.start,o.end.offset-o.start.offset,this.batch,this.model)}merge(e){this._assertWriterUsedCorrectly();const i=e.nodeBefore,o=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(i instanceof nt))throw new j("writer-merge-no-element-before",this);if(!(o instanceof nt))throw new j("writer-merge-no-element-after",this);e.root.document?this._merge(e):this._mergeDetached(e)}createPositionFromPath(e,i,o){return this.model.createPositionFromPath(e,i,o)}createPositionAt(e,i){return this.model.createPositionAt(e,i)}createPositionAfter(e){return this.model.createPositionAfter(e)}createPositionBefore(e){return this.model.createPositionBefore(e)}createRange(e,i){return this.model.createRange(e,i)}createRangeIn(e){return this.model.createRangeIn(e)}createRangeOn(e){return this.model.createRangeOn(e)}createSelection(...e){return this.model.createSelection(...e)}_mergeDetached(e){const i=e.nodeBefore,o=e.nodeAfter;this.move(G._createIn(o),ee._createAt(i,"end")),this.remove(o)}_merge(e){const i=ee._createAt(e.nodeBefore,"end"),o=ee._createAt(e.nodeAfter,0),l=e.root.document.graveyard,c=new ee(l,[0]),d=e.root.document.version,f=new Dt(o,e.nodeAfter.maxOffset,i,c,d);this.batch.addOperation(f),this.model.applyOperation(f)}rename(e,i){if(this._assertWriterUsedCorrectly(),!(e instanceof nt))throw new j("writer-rename-not-element-instance",this);const o=e.root.document?e.root.document.version:null,l=new Gn(ee._createBefore(e),e.name,i,o);this.batch.addOperation(l),this.model.applyOperation(l)}split(e,i){this._assertWriterUsedCorrectly();let o,l,c=e.parent;if(!c.parent)throw new j("writer-split-element-no-parent",this);if(i||(i=c.parent),!e.parent.getAncestors({includeSelf:!0}).includes(i))throw new j("writer-split-invalid-limit-element",this);do{const d=c.root.document?c.root.document.version:null,f=c.maxOffset-e.offset,g=ht.getInsertionPosition(e),k=new ht(e,f,g,null,d);this.batch.addOperation(k),this.model.applyOperation(k),o||l||(o=c,l=e.parent.nextSibling),c=(e=this.createPositionAfter(e.parent)).parent}while(c!==i);return{position:e,range:new G(ee._createAt(o,"end"),ee._createAt(l,0))}}wrap(e,i){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new j("writer-wrap-range-not-flat",this);const o=i instanceof nt?i:new nt(i);if(o.childCount>0)throw new j("writer-wrap-element-not-empty",this);if(o.parent!==null)throw new j("writer-wrap-element-attached",this);this.insert(o,e.start);const l=new G(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(l,ee._createAt(o,0))}unwrap(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new j("writer-unwrap-element-no-parent",this);this.move(G._createIn(e),this.createPositionAfter(e)),this.remove(e)}addMarker(e,i){if(this._assertWriterUsedCorrectly(),!i||typeof i.usingOperation!="boolean")throw new j("writer-addmarker-no-usingoperation",this);const o=i.usingOperation,l=i.range,c=i.affectsData!==void 0&&i.affectsData;if(this.model.markers.has(e))throw new j("writer-addmarker-marker-exists",this);if(!l)throw new j("writer-addmarker-no-range",this);return o?(Ru(this,e,null,l,c),this.model.markers.get(e)):this.model.markers._set(e,l,o,c)}updateMarker(e,i){this._assertWriterUsedCorrectly();const o=typeof e=="string"?e:e.name,l=this.model.markers.get(o);if(!l)throw new j("writer-updatemarker-marker-not-exists",this);if(!i)return q("writer-updatemarker-reconvert-using-editingcontroller",{markerName:o}),void this.model.markers._refresh(l);const c=typeof i.usingOperation=="boolean",d=typeof i.affectsData=="boolean",f=d?i.affectsData:l.affectsData;if(!c&&!i.range&&!d)throw new j("writer-updatemarker-wrong-options",this);const g=l.getRange(),k=i.range?i.range:g;c&&i.usingOperation!==l.managedUsingOperations?i.usingOperation?Ru(this,o,null,k,f):(Ru(this,o,g,null,f),this.model.markers._set(o,k,void 0,f)):l.managedUsingOperations?Ru(this,o,g,k,f):this.model.markers._set(o,k,void 0,f)}removeMarker(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?e:e.name;if(!this.model.markers.has(i))throw new j("writer-removemarker-no-marker",this);const o=this.model.markers.get(i);if(!o.managedUsingOperations)return void this.model.markers._remove(i);Ru(this,i,o.getRange(),null,o.affectsData)}addRoot(e,i="$root"){this._assertWriterUsedCorrectly();const o=this.model.document.getRoot(e);if(o&&o.isAttached())throw new j("writer-addroot-root-exists",this);const l=this.model.document,c=new Ar(e,i,!0,l,l.version);return this.batch.addOperation(c),this.model.applyOperation(c),this.model.document.getRoot(e)}detachRoot(e){this._assertWriterUsedCorrectly();const i=typeof e=="string"?this.model.document.getRoot(e):e;if(!i||!i.isAttached())throw new j("writer-detachroot-no-root",this);for(const c of this.model.markers)c.getRange().root===i&&this.removeMarker(c);for(const c of i.getAttributeKeys())this.removeAttribute(c,i);this.remove(this.createRangeIn(i));const o=this.model.document,l=new Ar(i.rootName,i.name,!1,o,o.version);this.batch.addOperation(l),this.model.applyOperation(l)}setSelection(...e){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(...e)}setSelectionFocus(e,i){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,i)}setSelectionAttribute(e,i){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,i);else for(const[o,l]of mr(e))this._setSelectionAttribute(o,l)}removeSelectionAttribute(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else for(const i of e)this._removeSelectionAttribute(i)}overrideSelectionGravity(){return this.model.document.selection._overrideGravity()}restoreSelectionGravity(e){this.model.document.selection._restoreGravity(e)}_setSelectionAttribute(e,i){const o=this.model.document.selection;if(o.isCollapsed&&o.anchor.parent.isEmpty){const l=Hi._getStoreAttributeKey(e);this.setAttribute(l,i,o.anchor.parent)}o._setAttribute(e,i)}_removeSelectionAttribute(e){const i=this.model.document.selection;if(i.isCollapsed&&i.anchor.parent.isEmpty){const o=Hi._getStoreAttributeKey(e);this.removeAttribute(o,i.anchor.parent)}i._removeAttribute(e)}_assertWriterUsedCorrectly(){if(this.model._currentWriter!==this)throw new j("writer-incorrect-use",this)}_addOperationForAffectedMarkers(e,i){for(const o of this.model.markers){if(!o.managedUsingOperations)continue;const l=o.getRange();let c=!1;if(e==="move"){const d=i;c=d.containsPosition(l.start)||d.start.isEqual(l.start)||d.containsPosition(l.end)||d.end.isEqual(l.end)}else{const d=i,f=d.nodeBefore,g=d.nodeAfter,k=l.start.parent==f&&l.start.isAtEnd,w=l.end.parent==g&&l.end.offset==0,_=l.end.nodeAfter==g,y=l.start.nodeAfter==g;c=k||w||_||y}c&&this.updateMarker(o.name,{range:l})}}}function Mx(a,e,i,o){const l=a.model,c=l.document;let d,f,g,k=o.start;for(const _ of o.getWalker({shallow:!0}))g=_.item.getAttribute(e),d&&f!=g&&(f!=i&&w(),k=d),d=_.nextPosition,f=g;function w(){const _=new G(k,d),y=_.root.document?c.version:null,I=new Bt(_,e,f,i,y);a.batch.addOperation(I),l.applyOperation(I)}d instanceof ee&&d!=k&&f!=i&&w()}function Px(a,e,i,o){const l=a.model,c=l.document,d=o.getAttribute(e);let f,g;if(d!=i){if(o.root===o){const k=o.document?c.version:null;g=new Gr(o,e,d,i,k)}else{f=new G(ee._createBefore(o),a.createPositionAfter(o));const k=f.root.document?c.version:null;g=new Bt(f,e,d,i,k)}a.batch.addOperation(g),l.applyOperation(g)}}function Ru(a,e,i,o,l){const c=a.model,d=c.document,f=new $n(e,i,o,c.markers,!!l,d.version);a.batch.addOperation(f),c.applyOperation(f)}function M6(a,e,i,o){let l;if(a.root.document){const c=o.document,d=new ee(c.graveyard,[0]);l=new Qe(a,e,d,c.version)}else l=new S6(a,e);i.addOperation(l),o.applyOperation(l)}function Nx(a,e){return a===e||a instanceof sp&&e instanceof sp}function P6(a,e,i={}){if(e.isCollapsed)return;const o=e.getFirstRange();if(o.root.rootName=="$graveyard")return;const l=a.schema;a.change(c=>{if(!i.doNotResetEntireContent&&function(k,w){const _=k.getLimitElement(w);if(!w.containsEntireContent(_))return!1;const y=w.getFirstRange();return y.start.parent==y.end.parent?!1:k.checkChild(_,"paragraph")}(l,e))return void function(k,w){const _=k.model.schema.getLimitElement(w);k.remove(k.createRangeIn(_)),Bx(k,k.createPositionAt(_,0),w)}(c,e);const d={};if(!i.doNotAutoparagraph){const k=e.getSelectedElement();k&&Object.assign(d,l.getAttributesWithProperty(k,"copyOnReplace",!0))}const[f,g]=function(k){const w=k.root.document.model,_=k.start;let y=k.end;if(w.hasContent(k,{ignoreMarkers:!0})){const I=function(T){const S=T.parent,B=S.root.document.model.schema,V=S.getAncestors({parentFirst:!0,includeSelf:!0});for(const H of V){if(B.isLimit(H))return null;if(B.isBlock(H))return H}}(y);if(I&&y.isTouching(w.createPositionAt(I,0))){const T=w.createSelection(k);w.modifySelection(T,{direction:"backward"});const S=T.getLastPosition(),B=w.createRange(S,y);w.hasContent(B,{ignoreMarkers:!0})||(y=S)}}return[hn.fromPosition(_,"toPrevious"),hn.fromPosition(y,"toNext")]}(o);f.isTouching(g)||c.remove(c.createRange(f,g)),i.leaveUnmerged||(function(k,w,_){const y=k.model;if(!Cw(k.model.schema,w,_))return;const[I,T]=function(S,B){const V=S.getAncestors(),H=B.getAncestors();let Q=0;for(;V[Q]&&V[Q]==H[Q];)Q++;return[V[Q],H[Q]]}(w,_);!I||!T||(!y.hasContent(I,{ignoreMarkers:!0})&&y.hasContent(T,{ignoreMarkers:!0})?Ox(k,w,_,I.parent):Rx(k,w,_,I.parent))}(c,f,g),l.removeDisallowedAttributes(f.parent.getChildren(),c)),Lx(c,e,f),!i.doNotAutoparagraph&&function(k,w){const _=k.checkChild(w,"$text"),y=k.checkChild(w,"paragraph");return!_&&y}(l,f)&&Bx(c,f,e,d),f.detach(),g.detach()})}function Rx(a,e,i,o){const l=e.parent,c=i.parent;if(l!=o&&c!=o){for(e=a.createPositionAfter(l),(i=a.createPositionBefore(c)).isEqual(e)||a.insert(c,e),a.merge(e);i.parent.isEmpty;){const d=i.parent;i=a.createPositionBefore(d),a.remove(d)}Cw(a.model.schema,e,i)&&Rx(a,e,i,o)}}function Ox(a,e,i,o){const l=e.parent,c=i.parent;if(l!=o&&c!=o){for(e=a.createPositionAfter(l),(i=a.createPositionBefore(c)).isEqual(e)||a.insert(l,i);e.parent.isEmpty;){const d=e.parent;e=a.createPositionBefore(d),a.remove(d)}i=a.createPositionBefore(c),function(d,f){const g=f.nodeBefore,k=f.nodeAfter;g.name!=k.name&&d.rename(g,k.name),d.clearAttributes(g),d.setAttributes(Object.fromEntries(k.getAttributes()),g),d.merge(f)}(a,i),Cw(a.model.schema,e,i)&&Ox(a,e,i,o)}}function Cw(a,e,i){const o=e.parent,l=i.parent;return o!=l&&!a.isLimit(o)&&!a.isLimit(l)&&function(c,d,f){const g=new G(c,d);for(const k of g.getWalker())if(f.isLimit(k.item))return!1;return!0}(e,i,a)}function Bx(a,e,i,o={}){const l=a.createElement("paragraph");a.model.schema.setAllowedAttributes(l,o,a),a.insert(l,e),Lx(a,i,a.createPositionAt(l,0))}function Lx(a,e,i){e instanceof Hi?a.setSelection(i):e.setTo(i)}function zx(a,e){const i=[];Array.from(a.getItems({direction:"backward"})).map(o=>e.createRangeOn(o)).filter(o=>(o.start.isAfter(a.start)||o.start.isEqual(a.start))&&(o.end.isBefore(a.end)||o.end.isEqual(a.end))).forEach(o=>{i.push(o.start.parent),e.remove(o)}),i.forEach(o=>{let l=o;for(;l.parent&&l.isEmpty;){const c=e.createRangeOn(l);l=l.parent,e.remove(c)}})}class N6{constructor(e,i,o){this._firstNode=null,this._lastNode=null,this._lastAutoParagraph=null,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null,this._nodeToSelect=null,this.model=e,this.writer=i,this.position=o,this.canMergeWith=new Set([this.position.parent]),this.schema=e.schema,this._documentFragment=i.createDocumentFragment(),this._documentFragmentPosition=i.createPositionAt(this._documentFragment,0)}handleNodes(e){for(const i of Array.from(e))this._handleNode(i);this._insertPartialFragment(),this._lastAutoParagraph&&this._updateLastNodeFromAutoParagraph(this._lastAutoParagraph),this._mergeOnRight(),this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}_updateLastNodeFromAutoParagraph(e){const i=this.writer.createPositionAfter(this._lastNode),o=this.writer.createPositionAfter(e);if(o.isAfter(i)){if(this._lastNode=e,this.position.parent!=e||!this.position.isAtEnd)throw new j("insertcontent-invalid-insertion-position",this);this.position=o,this._setAffectedBoundaries(this.position)}}getSelectionRange(){return this._nodeToSelect?G._createOn(this._nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}getAffectedRange(){return this._affectedStart?new G(this._affectedStart,this._affectedEnd):null}destroy(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}_handleNode(e){if(this.schema.isObject(e))return void this._handleObject(e);let i=this._checkAndAutoParagraphToAllowedPosition(e);i||(i=this._checkAndSplitToAllowedPosition(e),i)?(this._appendToFragment(e),this._firstNode||(this._firstNode=e),this._lastNode=e):this._handleDisallowedNode(e)}_insertPartialFragment(){if(this._documentFragment.isEmpty)return;const e=hn.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this._documentFragment.getChild(0)==this._firstNode&&(this.writer.insert(this._firstNode,this.position),this._mergeOnLeft(),this.position=e.toPosition()),this._documentFragment.isEmpty||this.writer.insert(this._documentFragment,this.position),this._documentFragmentPosition=this.writer.createPositionAt(this._documentFragment,0),this.position=e.toPosition(),e.detach()}_handleObject(e){this._checkAndSplitToAllowedPosition(e)?this._appendToFragment(e):this._tryAutoparagraphing(e)}_handleDisallowedNode(e){e.is("element")?this.handleNodes(e.getChildren()):this._tryAutoparagraphing(e)}_appendToFragment(e){if(!this.schema.checkChild(this.position,e))throw new j("insertcontent-wrong-position",this,{node:e,position:this.position});this.writer.insert(e,this._documentFragmentPosition),this._documentFragmentPosition=this._documentFragmentPosition.getShiftedBy(e.offsetSize),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this._nodeToSelect=e:this._nodeToSelect=null,this._filterAttributesOf.push(e)}_setAffectedBoundaries(e){this._affectedStart||(this._affectedStart=hn.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=hn.fromPosition(e,"toNext"))}_mergeOnLeft(){const e=this._firstNode;if(!(e instanceof nt)||!this._canMergeLeft(e))return;const i=hn._createBefore(e);i.stickiness="toNext";const o=hn.fromPosition(this.position,"toNext");this._affectedStart.isEqual(i)&&(this._affectedStart.detach(),this._affectedStart=hn._createAt(i.nodeBefore,"end","toPrevious")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.isEqual(this._affectedEnd)&&this._firstNode===this._lastNode&&(this._affectedEnd.detach(),this._affectedEnd=hn._createAt(i.nodeBefore,"end","toNext")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_mergeOnRight(){const e=this._lastNode;if(!(e instanceof nt)||!this._canMergeRight(e))return;const i=hn._createAfter(e);if(i.stickiness="toNext",!this.position.isEqual(i))throw new j("insertcontent-invalid-insertion-position",this);this.position=ee._createAt(i.nodeBefore,"end");const o=hn.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(i)&&(this._affectedEnd.detach(),this._affectedEnd=hn._createAt(i.nodeBefore,"end","toNext")),this._firstNode===this._lastNode&&(this._firstNode=i.nodeBefore,this._lastNode=i.nodeBefore),this.writer.merge(i),i.getShiftedBy(-1).isEqual(this._affectedStart)&&this._firstNode===this._lastNode&&(this._affectedStart.detach(),this._affectedStart=hn._createAt(i.nodeBefore,0,"toPrevious")),this.position=o.toPosition(),o.detach(),this._filterAttributesOf.push(this.position.parent),i.detach()}_canMergeLeft(e){const i=e.previousSibling;return i instanceof nt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(i,e)}_canMergeRight(e){const i=e.nextSibling;return i instanceof nt&&this.canMergeWith.has(i)&&this.model.schema.checkMerge(e,i)}_tryAutoparagraphing(e){const i=this.writer.createElement("paragraph");this._getAllowedIn(this.position.parent,i)&&this.schema.checkChild(i,e)&&(i._appendChild(e),this._handleNode(i))}_checkAndAutoParagraphToAllowedPosition(e){if(this.schema.checkChild(this.position.parent,e))return!0;if(!this.schema.checkChild(this.position.parent,"paragraph")||!this.schema.checkChild("paragraph",e))return!1;this._insertPartialFragment();const i=this.writer.createElement("paragraph");return this.writer.insert(i,this.position),this._setAffectedBoundaries(this.position),this._lastAutoParagraph=i,this.position=this.writer.createPositionAt(i,0),!0}_checkAndSplitToAllowedPosition(e){const i=this._getAllowedIn(this.position.parent,e);if(!i)return!1;for(i!=this.position.parent&&this._insertPartialFragment();i!=this.position.parent;)if(this.position.isAtStart){const o=this.position.parent;this.position=this.writer.createPositionBefore(o),o.isEmpty&&o.parent===i&&this.writer.remove(o)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{const o=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=o,this.canMergeWith.add(this.position.nodeAfter)}return!0}_getAllowedIn(e,i){return this.schema.checkChild(e,i)?e:this.schema.isLimit(e)?null:this._getAllowedIn(e.parent,i)}}function jx(a,e,i="auto"){const o=a.getSelectedElement();if(o&&e.schema.isObject(o)&&!e.schema.isInline(o))return i=="before"||i=="after"?e.createRange(e.createPositionAt(o,i)):e.createRangeOn(o);const l=Ft(a.getSelectedBlocks());if(!l)return e.createRange(a.focus);if(l.isEmpty)return e.createRange(e.createPositionAt(l,0));const c=e.createPositionAfter(l);return a.focus.isTouching(c)?e.createRange(c):e.createRange(e.createPositionBefore(l))}function R6(a,e,i,o={}){if(!a.schema.isObject(e))throw new j("insertobject-element-not-an-object",a,{object:e});const l=i||a.document.selection;let c=l;o.findOptimalPosition&&a.schema.isBlock(e)&&(c=a.createSelection(jx(l,a,o.findOptimalPosition)));const d=Ft(l.getSelectedBlocks()),f={};return d&&Object.assign(f,a.schema.getAttributesWithProperty(d,"copyOnReplace",!0)),a.change(g=>{c.isCollapsed||a.deleteContent(c,{doNotAutoparagraph:!0});let k=e;const w=c.anchor.parent;!a.schema.checkChild(w,e)&&a.schema.checkChild(w,"paragraph")&&a.schema.checkChild("paragraph",e)&&(k=g.createElement("paragraph"),g.insert(e,k)),a.schema.setAllowedAttributes(k,f,g);const _=a.insertContent(k,c);return _.isCollapsed||o.setSelection&&function(y,I,T,S){const B=y.model;if(T=="on")return void y.setSelection(I,"on");if(T!="after")throw new j("insertobject-invalid-place-parameter-value",B);let V=I.nextSibling;if(B.schema.isInline(I))return void y.setSelection(I,"after");!(V&&B.schema.checkChild(V,"$text"))&&B.schema.checkChild(I.parent,"paragraph")&&(V=y.createElement("paragraph"),B.schema.setAllowedAttributes(V,S,y),B.insertContent(V,y.createPositionAfter(I))),V&&y.setSelection(V,0)}(g,e,o.setSelection,f),_})}const O6=' ,.?!:;"-()';function B6(a,e){const{isForward:i,walker:o,unit:l,schema:c,treatEmojiAsSingleUnit:d}=a,{type:f,item:g,nextPosition:k}=e;if(f=="text")return a.unit==="word"?function(w,_){let y=w.position.textNode;for(y||(y=_?w.position.nodeAfter:w.position.nodeBefore);y&&y.is("$text");){const I=w.position.offset-y.startOffset;if(j6(y,I,_))y=_?w.position.nodeAfter:w.position.nodeBefore;else{if(z6(y.data,I,_))break;w.next()}}return w.position}(o,i):function(w,_,y){const I=w.position.textNode;if(I){const T=I.data;let S=w.position.offset-I.startOffset;for(;jb(T,S)||_=="character"&&Vb(T,S)||y&&l1(T,S);)w.next(),S=w.position.offset-I.startOffset}return w.position}(o,l,d);if(f==(i?"elementStart":"elementEnd")){if(c.isSelectable(g))return ee._createAt(g,i?"after":"before");if(c.checkChild(k,"$text"))return k}else{if(c.isLimit(g))return void o.skip(()=>!0);if(c.checkChild(k,"$text"))return k}}function L6(a,e){const i=a.root,o=ee._createAt(i,e?"end":0);return e?new G(a,o):new G(o,a)}function z6(a,e,i){const o=e+(i?0:-1);return O6.includes(a.charAt(o))}function j6(a,e,i){return e===(i?a.offsetSize:0)}class V6 extends Xe(){constructor(){super(),this.markers=new T6,this.document=new v6(this),this.schema=new Rj,this._pendingChanges=[],this._currentWriter=null,["deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(e=>this.decorate(e)),this.on("applyOperation",(e,i)=>{i[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$container",{allowIn:["$root","$container"]}),this.schema.register("$block",{allowIn:["$root","$container"],isBlock:!0}),this.schema.register("$blockObject",{allowWhere:"$block",isBlock:!0,isObject:!0}),this.schema.register("$inlineObject",{allowWhere:"$text",allowAttributesOf:"$text",isInline:!0,isObject:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0,isContent:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$documentFragment",{allowContentOf:"$root",allowChildren:"$text",isLimit:!0}),this.schema.register("$marker"),this.schema.addChildCheck((e,i)=>{if(i.name==="$marker")return!0}),Mj(this),this.document.registerPostFixer(KE),this.on("insertContent",(e,[i,o])=>{e.return=function(l,c,d){return l.change(f=>{const g=d||l.document.selection;g.isCollapsed||l.deleteContent(g,{doNotAutoparagraph:!0});const k=new N6(l,f,g.anchor),w=[];let _;if(c.is("documentFragment")){if(c.markers.size){const T=[];for(const[S,B]of c.markers){const{start:V,end:H}=B,Q=V.isEqual(H);T.push({position:V,name:S,isCollapsed:Q},{position:H,name:S,isCollapsed:Q})}T.sort(({position:S},{position:B})=>S.isBefore(B)?1:-1);for(const{position:S,name:B,isCollapsed:V}of T){let H=null,Q=null;const le=S.parent===c&&S.isAtStart,_e=S.parent===c&&S.isAtEnd;le||_e?V&&(Q=le?"start":"end"):(H=f.createElement("$marker"),f.insert(H,S)),w.push({name:B,element:H,collapsed:Q})}}_=c.getChildren()}else _=[c];k.handleNodes(_);let y=k.getSelectionRange();if(c.is("documentFragment")&&w.length){const T=y?Ui.fromRange(y):null,S={};for(let B=w.length-1;B>=0;B--){const{name:V,element:H,collapsed:Q}=w[B],le=!S[V];if(le&&(S[V]=[]),H){const _e=f.createPositionAt(H,"before");S[V].push(_e),f.remove(H)}else{const _e=k.getAffectedRange();if(!_e){Q&&S[V].push(k.position);continue}Q?S[V].push(_e[Q]):S[V].push(le?_e.start:_e.end)}}for(const[B,[V,H]]of Object.entries(S))V&&H&&V.root===H.root&&f.addMarker(B,{usingOperation:!0,affectsData:!0,range:new G(V,H)});T&&(y=T.toRange(),T.detach())}y&&(g instanceof Hi?f.setSelection(y):g.setTo(y));const I=k.getAffectedRange()||l.createRange(g.anchor);return k.destroy(),I})}(this,i,o)}),this.on("insertObject",(e,[i,o,l])=>{e.return=R6(this,i,o,l)}),this.on("canEditAt",e=>{const i=!this.document.isReadOnly;e.return=i,i||e.stop()})}change(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new ml,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(i){j.rethrowUnexpectedError(i,this)}}enqueueChange(e,i){try{e?typeof e=="function"?(i=e,e=new ml):e instanceof ml||(e=new ml(e)):e=new ml,this._pendingChanges.push({batch:e,callback:i}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(o){j.rethrowUnexpectedError(o,this)}}applyOperation(e){e._execute()}insertContent(e,i,o,...l){const c=Ew(i,o);return this.fire("insertContent",[e,c,o,...l])}insertObject(e,i,o,l,...c){const d=Ew(i,o);return this.fire("insertObject",[e,d,l,l,...c])}deleteContent(e,i){P6(this,e,i)}modifySelection(e,i){(function(o,l,c={}){const d=o.schema,f=c.direction!="backward",g=c.unit?c.unit:"character",k=!!c.treatEmojiAsSingleUnit,w=l.focus,_=new _r({boundaries:L6(w,f),singleCharacters:!0,direction:f?"forward":"backward"}),y={walker:_,schema:d,isForward:f,unit:g,treatEmojiAsSingleUnit:k};let I;for(;I=_.next();){if(I.done)return;const T=B6(y,I.value);if(T)return void(l instanceof Hi?o.change(S=>{S.setSelectionFocus(T)}):l.setFocus(T))}})(this,e,i)}getSelectedContent(e){return function(i,o){return i.change(l=>{const c=l.createDocumentFragment(),d=o.getFirstRange();if(!d||d.isCollapsed)return c;const f=d.start.root,g=d.start.getCommonPath(d.end),k=f.getNodeByPath(g);let w;w=d.start.parent==d.end.parent?d:l.createRange(l.createPositionAt(k,d.start.path[g.length]),l.createPositionAt(k,d.end.path[g.length]+1));const _=w.end.offset-w.start.offset;for(const y of w.getItems({shallow:!0}))y.is("$textProxy")?l.appendText(y.data,y.getAttributes(),c):l.append(l.cloneElement(y,!0),c);if(w!=d){const y=d._getTransformedByMove(w.start,l.createPositionAt(c,0),_)[0],I=l.createRange(l.createPositionAt(c,0),y.start);zx(l.createRange(y.end,l.createPositionAt(c,"end")),l),zx(I,l)}return c})}(this,e)}hasContent(e,i={}){const o=e instanceof G?e:G._createIn(e);if(o.isCollapsed)return!1;const{ignoreWhitespaces:l=!1,ignoreMarkers:c=!1}=i;if(!c){for(const d of this.markers.getMarkersIntersectingRange(o))if(d.affectsData)return!0}for(const d of o.getItems())if(this.schema.isContent(d)&&(!d.is("$textProxy")||!l||d.data.search(/\S/)!==-1))return!0;return!1}canEditAt(e){const i=Ew(e);return this.fire("canEditAt",[i])}createPositionFromPath(e,i,o){return new ee(e,i,o)}createPositionAt(e,i){return ee._createAt(e,i)}createPositionAfter(e){return ee._createAfter(e)}createPositionBefore(e){return ee._createBefore(e)}createRange(e,i){return new G(e,i)}createRangeIn(e){return G._createIn(e)}createRangeOn(e){return G._createOn(e)}createSelection(...e){return new di(...e)}createBatch(e){return new ml(e)}createOperationFromJSON(e){return n6.fromJSON(e,this.document)}destroy(){this.document.destroy(),this.stopListening()}_runPendingChanges(){const e=[];this.fire("_beforeChanges");try{for(;this._pendingChanges.length;){const i=this._pendingChanges[0].batch;this._currentWriter=new D6(this,i);const o=this._pendingChanges[0].callback(this._currentWriter);e.push(o),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}}finally{this._pendingChanges.length=0,this._currentWriter=null,this.fire("_afterChanges")}return e}}function Ew(a,e){if(a)return a instanceof di||a instanceof Hi?a:a instanceof ta?e||e===0?new di(a,e):a.is("rootElement")?new di(a,"in"):new di(a,"on"):new di(a)}class F6 extends Lo{constructor(){super(...arguments),this.domEventType="click"}onDomEvent(e){this.fire(e.type,e)}}class xw extends Lo{constructor(){super(...arguments),this.domEventType=["mousedown","mouseup","mouseover","mouseout"]}onDomEvent(e){this.fire(e.type,e)}}class Vo{constructor(e){this.document=e}createDocumentFragment(e){return new ea(this.document,e)}createElement(e,i,o){return new ci(this.document,e,i,o)}createText(e){return new ut(this.document,e)}clone(e,i=!1){return e._clone(i)}appendChild(e,i){return i._appendChild(e)}insertChild(e,i,o){return o._insertChild(e,i)}removeChildren(e,i,o){return o._removeChildren(e,i)}remove(e){const i=e.parent;return i?this.removeChildren(i.getChildIndex(e),1,i):[]}replace(e,i){const o=e.parent;if(o){const l=o.getChildIndex(e);return this.removeChildren(l,1,o),this.insertChild(l,i,o),!0}return!1}unwrapElement(e){const i=e.parent;if(i){const o=i.getChildIndex(e);this.remove(e),this.insertChild(o,e.getChildren(),i)}}rename(e,i){const o=new ci(this.document,e,i.getAttributes(),i.getChildren());return this.replace(i,o)?o:null}setAttribute(e,i,o){o._setAttribute(e,i)}removeAttribute(e,i){i._removeAttribute(e)}addClass(e,i){i._addClass(e)}removeClass(e,i){i._removeClass(e)}setStyle(e,i,o){vn(e)&&o===void 0?i._setStyle(e):o._setStyle(e,i)}removeStyle(e,i){i._removeStyle(e)}setCustomProperty(e,i,o){o._setCustomProperty(e,i)}removeCustomProperty(e,i){return i._removeCustomProperty(e)}createPositionAt(e,i){return ae._createAt(e,i)}createPositionAfter(e){return ae._createAfter(e)}createPositionBefore(e){return ae._createBefore(e)}createRange(e,i){return new ve(e,i)}createRangeOn(e){return ve._createOn(e)}createRangeIn(e){return ve._createIn(e)}createSelection(...e){return new br(...e)}}class U6{constructor(){this._commands=new Map}add(e,i){this._commands.set(e,i)}get(e){return this._commands.get(e)}execute(e,...i){const o=this.get(e);if(!o)throw new j("commandcollection-command-not-found",this,{commandName:e});return o.execute(...i)}*names(){yield*this._commands.keys()}*commands(){yield*this._commands.values()}[Symbol.iterator](){return this._commands[Symbol.iterator]()}destroy(){for(const e of this.commands())e.destroy()}}class H6 extends Xe(){constructor(e={}){super();const i=this.constructor,o=e.language||i.defaultConfig&&i.defaultConfig.language;this._context=e.context||new L1({language:o}),this._context._addEditor(this,!e.context);const l=Array.from(i.builtinPlugins||[]);this.config=new FC(e,i.defaultConfig),this.config.define("plugins",l),this.config.define(this._context._getEditorConfig()),this.plugins=new B1(this,l,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this._readOnlyLocks=new Set,this.commands=new U6,this.set("state","initializing"),this.once("ready",()=>this.state="ready",{priority:"high"}),this.once("destroy",()=>this.state="destroyed",{priority:"high"}),this.model=new V6,this.on("change:isReadOnly",()=>{this.model.document.isReadOnly=this.isReadOnly});const c=new pz;this.data=new e6(this.model,c),this.editing=new Pj(this.model,c),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new t6([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new NL(this),this.keystrokes.listenTo(this.editing.view.document)}get isReadOnly(){return this._readOnlyLocks.size>0}set isReadOnly(e){throw new j("editor-isreadonly-has-no-setter")}enableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new j("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)||(this._readOnlyLocks.add(e),this._readOnlyLocks.size===1&&this.fire("change:isReadOnly","isReadOnly",!0,!1))}disableReadOnlyMode(e){if(typeof e!="string"&&typeof e!="symbol")throw new j("editor-read-only-lock-id-invalid",null,{lockId:e});this._readOnlyLocks.has(e)&&(this._readOnlyLocks.delete(e),this._readOnlyLocks.size===0&&this.fire("change:isReadOnly","isReadOnly",!1,!0))}initPlugins(){const e=this.config,i=e.get("plugins"),o=e.get("removePlugins")||[],l=e.get("extraPlugins")||[],c=e.get("substitutePlugins")||[];return this.plugins.init(i.concat(l),o,c)}destroy(){let e=Promise.resolve();return this.state=="initializing"&&(e=new Promise(i=>this.once("ready",i))),e.then(()=>{this.fire("destroy"),this.stopListening(),this.commands.destroy()}).then(()=>this.plugins.destroy()).then(()=>{this.model.destroy(),this.data.destroy(),this.editing.destroy(),this.keystrokes.destroy()}).then(()=>this._context._removeEditor(this))}execute(e,...i){try{return this.commands.execute(e,...i)}catch(o){j.rethrowUnexpectedError(o,this)}}focus(){this.editing.view.focus()}static create(...e){throw new Error("This is an abstract method.")}}function ap(a){return class extends a{setData(e){this.data.set(e)}getData(e){return this.data.get(e)}}}{const a=ap(Object);ap.setData=a.prototype.setData,ap.getData=a.prototype.getData}function Iw(a){return class extends a{updateSourceElement(e=this.data.get()){if(!this.sourceElement)throw new j("editor-missing-sourceelement",this);const i=this.config.get("updateSourceElementOnDestroy"),o=this.sourceElement instanceof HTMLTextAreaElement;nL(this.sourceElement,i||o?e:"")}}}Iw.updateSourceElement=Iw(Object).prototype.updateSourceElement;class Vx extends Wf{static get pluginName(){return"PendingActions"}init(){this.set("hasAny",!1),this._actions=new Li({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}add(e){if(typeof e!="string")throw new j("pendingactions-add-invalid-message",this);const i=new(Xe());return i.set("message",e),this._actions.add(i),this.hasAny=!0,i}remove(e){this._actions.remove(e),this.hasAny=!!this._actions.length}get first(){return this._actions.get(0)}[Symbol.iterator](){return this._actions[Symbol.iterator]()}}const Lt={bold:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',cancel:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.591 10.177 4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>',caption:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 16h9a1 1 0 0 1 0 2H2a1 1 0 0 1 0-2z"/><path d="M17 1a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V3a2 2 0 0 1 2-2h14zm0 1.5H3a.5.5 0 0 0-.492.41L2.5 3v9a.5.5 0 0 0 .41.492L3 12.5h14a.5.5 0 0 0 .492-.41L17.5 12V3a.5.5 0 0 0-.41-.492L17 2.5z" fill-opacity=".6"/></svg>',check:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',cog:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.333 2 .19 2.263a5.899 5.899 0 0 1 1.458.604L14.714 3.4 16.6 5.286l-1.467 1.733c.263.452.468.942.605 1.46L18 8.666v2.666l-2.263.19a5.899 5.899 0 0 1-.604 1.458l1.467 1.733-1.886 1.886-1.733-1.467a5.899 5.899 0 0 1-1.46.605L11.334 18H8.667l-.19-2.263a5.899 5.899 0 0 1-1.458-.604L5.286 16.6 3.4 14.714l1.467-1.733a5.899 5.899 0 0 1-.604-1.458L2 11.333V8.667l2.262-.189a5.899 5.899 0 0 1 .605-1.459L3.4 5.286 5.286 3.4l1.733 1.467a5.899 5.899 0 0 1 1.46-.605L8.666 2h2.666zM10 6.267a3.733 3.733 0 1 0 0 7.466 3.733 3.733 0 0 0 0-7.466z"/></svg>',eraser:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m8.636 9.531-2.758 3.94a.5.5 0 0 0 .122.696l3.224 2.284h1.314l2.636-3.736L8.636 9.53zm.288 8.451L5.14 15.396a2 2 0 0 1-.491-2.786l6.673-9.53a2 2 0 0 1 2.785-.49l3.742 2.62a2 2 0 0 1 .491 2.785l-7.269 10.053-2.147-.066z"/><path d="M4 18h5.523v-1H4zm-2 0h1v-1H2z"/></svg>',image:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',lowVision:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22 2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',importExport:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M19 4.5 14 0H3v12.673l.868-1.041c.185-.222.4-.402.632-.54V1.5h8v5h5v7.626a2.24 2.24 0 0 1 1.5.822V4.5ZM14 5V2l3.3 3H14Zm-3.692 12.5c.062.105.133.206.213.303L11.52 19H8v-.876a2.243 2.243 0 0 0 1.82-.624h.488Zm7.518-.657a.75.75 0 0 0-1.152-.96L15.5 17.29V12H14v5.29l-1.174-1.408a.75.75 0 0 0-1.152.96l2.346 2.816a.95.95 0 0 0 1.46 0l2.346-2.815Zm-15.056-.38a.75.75 0 0 1-.096-1.056l2.346-2.815a.95.95 0 0 1 1.46 0l2.346 2.815a.75.75 0 1 1-1.152.96L6.5 14.96V20H5v-5.04l-1.174 1.408a.75.75 0 0 1-1.056.096Z"/></svg>',paragraph:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 5.5H7v5h3.5a2.5 2.5 0 1 0 0-5zM5 3h6.5v.025a5 5 0 0 1 0 9.95V13H7v4a1 1 0 0 1-1 1H5a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1z"/></svg>',plus:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10 2a1 1 0 0 0-1 1v6H3a1 1 0 1 0 0 2h6v6a1 1 0 1 0 2 0v-6h6a1 1 0 1 0 0-2h-6V3a1 1 0 0 0-1-1Z"/></svg>',text:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.816 11.5 7.038 4.785 4.261 11.5h5.555Zm.62 1.5H3.641l-1.666 4.028H.312l5.789-14h1.875l5.789 14h-1.663L10.436 13Z"/><path d="m12.09 17-.534-1.292.848-1.971.545 1.319L12.113 17h-.023Zm1.142-5.187.545 1.319L15.5 9.13l1.858 4.316h-3.45l.398.965h3.467L18.887 17H20l-3.873-9h-1.254l-1.641 3.813Z"/></svg>',alignBottom:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.239 13.938-2.88-1.663a.75.75 0 0 1 .75-1.3L9 12.067V4.75a.75.75 0 1 1 1.5 0v7.318l1.89-1.093a.75.75 0 0 1 .75 1.3l-2.879 1.663a.752.752 0 0 1-.511.187.752.752 0 0 1-.511-.187zM4.25 17a.75.75 0 1 1 0-1.5h10.5a.75.75 0 0 1 0 1.5H4.25z"/></svg>',alignMiddle:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.75 11.875a.752.752 0 0 1 .508.184l2.883 1.666a.75.75 0 0 1-.659 1.344l-.091-.044-1.892-1.093.001 4.318a.75.75 0 1 1-1.5 0v-4.317l-1.89 1.092a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .51-.187zM15.25 9a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM9.75.375a.75.75 0 0 1 .75.75v4.318l1.89-1.093.092-.045a.75.75 0 0 1 .659 1.344l-2.883 1.667a.752.752 0 0 1-.508.184.752.752 0 0 1-.511-.187L6.359 5.65a.75.75 0 0 1 .75-1.299L9 5.442V1.125a.75.75 0 0 1 .75-.75z"/></svg>',alignTop:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m10.261 7.062 2.88 1.663a.75.75 0 0 1-.75 1.3L10.5 8.933v7.317a.75.75 0 1 1-1.5 0V8.932l-1.89 1.093a.75.75 0 0 1-.75-1.3l2.879-1.663a.752.752 0 0 1 .511-.187.752.752 0 0 1 .511.187zM15.25 4a.75.75 0 1 1 0 1.5H4.75a.75.75 0 0 1 0-1.5h10.5z"/></svg>',alignLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',alignCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm2.286 4c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h9.928a.75.75 0 1 0 0-1.5H5.036a.75.75 0 0 0-.75.75z"/></svg>',alignRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M18 3.75a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 8a.75.75 0 0 1-.75.75H2.75a.75.75 0 1 1 0-1.5h14.5a.75.75 0 0 1 .75.75zm0 4a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75zm0-8a.75.75 0 0 1-.75.75H7.321a.75.75 0 1 1 0-1.5h9.929a.75.75 0 0 1 .75.75z"/></svg>',alignJustify:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0 4c0 .414.336.75.75.75h9.929a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm0-8c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75z"/></svg>',objectLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zm0-3H18v1.5h-4.5zm0-3H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectCenter:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M15.003 7v5.5a1 1 0 0 1-1 1H5.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H6.5V12h6.997V7.5z"/></svg>',objectRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2zm0-9h5v1.5H2zm0 3h5v1.5H2zm0 3h5v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectFullWidth:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18 7v5.5a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h14a1 1 0 0 1 1 1zm-1.505.5H3.504V12h12.991V7.5z"/></svg>',objectInline:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm11.5 9H18v1.5h-4.5zM2 15h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockLeft:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M12.003 7v5.5a1 1 0 0 1-1 1H2.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H3.5V12h6.997V7.5z"/></svg>',objectBlockRight:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path opacity=".5" d="M2 3h16v1.5H2zm0 12h16v1.5H2z"/><path d="M18.003 7v5.5a1 1 0 0 1-1 1H8.996a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1h8.007a1 1 0 0 1 1 1zm-1.506.5H9.5V12h6.997V7.5z"/></svg>',objectSizeFull:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M18.095 2H1.905C.853 2 0 2.895 0 4v12c0 1.105.853 2 1.905 2h16.19C19.147 18 20 17.105 20 16V4c0-1.105-.853-2-1.905-2zm0 1.5c.263 0 .476.224.476.5v12c0 .276-.213.5-.476.5H1.905a.489.489 0 0 1-.476-.5V4c0-.276.213-.5.476-.5h16.19z"/></svg>',objectSizeLarge:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M13 6H2a2 2 0 0 0-2 2v8a2 2 0 0 0 2 2h11a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v8a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5V8a.5.5 0 0 1 .5-.5h11z"/></svg>',objectSizeSmall:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M7 10H2a2 2 0 0 0-2 2v4a2 2 0 0 0 2 2h5a2 2 0 0 0 2-2v-4a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v4a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-4a.5.5 0 0 1 .5-.5h5z"/></svg>',objectSizeMedium:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M2.5 17v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zm2 0v1h-1v-1h1zM1 15.5v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm-19-2v1H0v-1h1zm19 0v1h-1v-1h1zm0-2v1h-1v-1h1zm-19 0v1H0v-1h1zM14.5 2v1h-1V2h1zm2 0v1h-1V2h1zm2 0v1h-1V2h1zm-8 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm-2 0v1h-1V2h1zm8 0v1h-1V2h1zm-10 0v1h-1V2h1z"/><path d="M10 8H2a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2v-6a2 2 0 0 0-2-2zm0 1.5a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-.5.5H2a.5.5 0 0 1-.5-.5v-6a.5.5 0 0 1 .5-.5h8z"/></svg>',pencil:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m7.3 17.37-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506 13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5 9.375 17H19v1.5H8z"/></svg>',pilcrow:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.999 2H15a1 1 0 0 1 0 2h-1.004v13a1 1 0 1 1-2 0V4H8.999v13a1 1 0 1 1-2 0v-7A4 4 0 0 1 3 6a4 4 0 0 1 3.999-4z"/></svg>',quote:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',threeVerticalDots:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'};var Fx=u(5542),W6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Fx.Z,W6),Fx.Z.locals;const{threeVerticalDots:Ux}=Lt,q6={alignLeft:Lt.alignLeft,bold:Lt.bold,importExport:Lt.importExport,paragraph:Lt.paragraph,plus:Lt.plus,text:Lt.text,threeVerticalDots:Lt.threeVerticalDots};class Tw extends ze{constructor(e,i){super(e);const o=this.bindTemplate,l=this.t;this.options=i||{},this.set("ariaLabel",l("Editor toolbar")),this.set("maxWidth","auto"),this.items=this.createCollection(),this.focusTracker=new vi,this.keystrokes=new gr,this.set("class",void 0),this.set("isCompact",!1),this.itemsView=new $6(e),this.children=this.createCollection(),this.children.add(this.itemsView),this.focusables=this.createCollection();const c=e.uiLanguageDirection==="rtl";this._focusCycler=new dl({focusables:this.focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:[c?"arrowright":"arrowleft","arrowup"],focusNext:[c?"arrowleft":"arrowright","arrowdown"]}});const d=["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")];var f;this.options.shouldGroupWhenFull&&this.options.isFloating&&d.push("ck-toolbar_floating"),this.setTemplate({tag:"div",attributes:{class:d,role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")},tabindex:-1},children:this.children,on:{mousedown:(f=this,f.bindTemplate.to(g=>{g.target===f.element&&g.preventDefault()}))}}),this._behavior=this.options.shouldGroupWhenFull?new K6(this):new G6(this)}render(){super.render(),this.focusTracker.add(this.element);for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}destroy(){return this._behavior.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy(),super.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}fillFromConfig(e,i,o){this.items.addMany(this._buildItemsFromConfig(e,i,o))}_buildItemsFromConfig(e,i,o){const l=P1(e),c=o||l.removeItems;return this._cleanItemsConfiguration(l.items,i,c).map(d=>Ze(d)?this._createNestedToolbarDropdown(d,i,c):d==="|"?new M1:d==="-"?new PL:i.create(d)).filter(d=>!!d)}_cleanItemsConfiguration(e,i,o){const l=e.filter((c,d,f)=>c==="|"||o.indexOf(c)===-1&&(c==="-"?!this.options.shouldGroupWhenFull||(q("toolbarview-line-break-ignored-when-grouping-items",f),!1):!(!Ze(c)&&!i.has(c))||(q("toolbarview-item-unavailable",{item:c}),!1)));return this._cleanSeparatorsAndLineBreaks(l)}_cleanSeparatorsAndLineBreaks(e){const i=d=>d!=="-"&&d!=="|",o=e.length,l=e.findIndex(i);if(l===-1)return[];const c=o-e.slice().reverse().findIndex(i);return e.slice(l,c).filter((d,f,g)=>i(d)?!0:!(f>0&&g[f-1]===d))}_createNestedToolbarDropdown(e,i,o){let{label:l,icon:c,items:d,tooltip:f=!0,withText:g=!1}=e;if(d=this._cleanItemsConfiguration(d,i,o),!d.length)return null;const k=Fo(this.locale);return l||q("toolbarview-nested-toolbar-dropdown-missing-label",e),k.class="ck-toolbar__nested-toolbar-dropdown",k.buttonView.set({label:l,tooltip:f,withText:!!g}),c!==!1?k.buttonView.icon=q6[c]||c||Ux:k.buttonView.withText=!0,Dw(k,()=>k.toolbarView._buildItemsFromConfig(d,i,o)),k}}class $6 extends ze{constructor(e){super(e),this.children=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:this.children})}}class G6{constructor(e){const i=e.bindTemplate;e.set("isVertical",!1),e.itemsView.children.bindTo(e.items).using(o=>o),e.focusables.bindTo(e.items).using(o=>o),e.extendTemplate({attributes:{class:[i.if("isVertical","ck-toolbar_vertical")]}})}render(){}destroy(){}}class K6{constructor(e){this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,this.view=e,this.viewChildren=e.children,this.viewFocusables=e.focusables,this.viewItemsView=e.itemsView,this.viewFocusTracker=e.focusTracker,this.viewLocale=e.locale,this.ungroupedItems=e.createCollection(),this.groupedItems=e.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),e.itemsView.children.bindTo(this.ungroupedItems).using(i=>i),this.ungroupedItems.on("change",this._updateFocusCycleableItems.bind(this)),e.children.on("change",this._updateFocusCycleableItems.bind(this)),e.items.on("change",(i,o)=>{const l=o.index,c=Array.from(o.added);for(const d of o.removed)l>=this.ungroupedItems.length?this.groupedItems.remove(d):this.ungroupedItems.remove(d);for(let d=l;d<l+c.length;d++){const f=c[d-l];d>this.ungroupedItems.length?this.groupedItems.add(f,d-this.ungroupedItems.length):this.ungroupedItems.add(f,d)}this._updateGrouping()}),e.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}render(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}destroy(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}_updateGrouping(){if(!this.viewElement.ownerDocument.body.contains(this.viewElement))return;if(!Ks(this.viewElement))return void(this.shouldUpdateGroupingOnNextResize=!0);const e=this.groupedItems.length;let i;for(;this._areItemsOverflowing;)this._groupLastItem(),i=!0;if(!i&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}this.groupedItems.length!==e&&this.view.fire("groupedItemsUpdate")}get _areItemsOverflowing(){if(!this.ungroupedItems.length)return!1;const e=this.viewElement,i=this.viewLocale.uiLanguageDirection,o=new ct(e.lastChild),l=new ct(e);if(!this.cachedPadding){const c=Ne.window.getComputedStyle(e),d=i==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(c[d])}return i==="ltr"?o.right>l.right-this.cachedPadding:o.left<l.left+this.cachedPadding}_enableGroupingOnResize(){let e;this.resizeObserver=new zf(this.viewElement,i=>{e&&e===i.contentRect.width&&!this.shouldUpdateGroupingOnNextResize||(this.shouldUpdateGroupingOnNextResize=!1,this._updateGrouping(),e=i.contentRect.width)}),this._updateGrouping()}_enableGroupingOnMaxWidthChange(e){e.on("change:maxWidth",()=>{this._updateGrouping()})}_groupLastItem(){this.groupedItems.length||(this.viewChildren.add(new M1),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}_ungroupFirstItem(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}_createGroupedItemsDropdown(){const e=this.viewLocale,i=e.t,o=Fo(e);return o.class="ck-toolbar__grouped-dropdown",o.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",Dw(o,this.groupedItems),o.buttonView.set({label:i("Show more items"),tooltip:!0,tooltipPosition:e.uiLanguageDirection==="rtl"?"se":"sw",icon:Ux}),o}_updateFocusCycleableItems(){this.viewFocusables.clear(),this.ungroupedItems.map(e=>{this.viewFocusables.add(e)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}var Hx=u(1046),Q6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Hx.Z,Q6),Hx.Z.locals;class Y6 extends ze{constructor(e){super(e);const i=this.bindTemplate;this.items=this.createCollection(),this.focusTracker=new vi,this.keystrokes=new gr,this._focusCycler=new dl({focusables:this.items,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),this.set("ariaLabel",void 0),this.set("role",void 0),this.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"],role:i.to("role"),"aria-label":i.to("ariaLabel")},children:this.items})}render(){super.render();for(const e of this.items)this.focusTracker.add(e.element);this.items.on("add",(e,i)=>{this.focusTracker.add(i.element)}),this.items.on("remove",(e,i)=>{this.focusTracker.remove(i.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}focusLast(){this._focusCycler.focusLast()}}class Wx extends ze{constructor(e){super(e);const i=this.bindTemplate;this.set("isVisible",!0),this.children=this.createCollection(),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item",i.if("isVisible","ck-hidden",o=>!o)],role:"presentation"},children:this.children})}focus(){this.children.first.focus()}}class Z6 extends ze{constructor(e){super(e),this.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}})}}var qx=u(7686),J6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(qx.Z,J6),qx.Z.locals;class Sw extends ze{constructor(e){super(e);const i=this.bindTemplate;this.set("class",void 0),this.set("labelStyle",void 0),this.set("icon",void 0),this.set("isEnabled",!0),this.set("isOn",!1),this.set("isToggleable",!1),this.set("isVisible",!0),this.set("keystroke",void 0),this.set("withKeystroke",!1),this.set("label",void 0),this.set("tabindex",-1),this.set("tooltip",!1),this.set("tooltipPosition","s"),this.set("type","button"),this.set("withText",!1),this.children=this.createCollection(),this.actionView=this._createActionView(),this.arrowView=this._createArrowView(),this.keystrokes=new gr,this.focusTracker=new vi,this.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.to("class"),i.if("isVisible","ck-hidden",o=>!o),this.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:this.children})}render(){super.render(),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",(e,i)=>{this.focusTracker.focusedElement===this.actionView.element&&(this.arrowView.focus(),i())}),this.keystrokes.set("arrowleft",(e,i)=>{this.focusTracker.focusedElement===this.arrowView.element&&(this.actionView.focus(),i())})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this.actionView.focus()}_createActionView(){const e=new gt;return e.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),e.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),e.delegate("execute").to(this),e}_createArrowView(){const e=new gt,i=e.bindTemplate;return e.icon=D1,e.extendTemplate({attributes:{class:["ck-splitbutton__arrow"],"data-cke-tooltip-disabled":i.to("isOn"),"aria-haspopup":!0,"aria-expanded":i.to("isOn",o=>String(o))}}),e.bind("isEnabled").to(this),e.bind("label").to(this),e.bind("tooltip").to(this),e.delegate("execute").to(this,"open"),e}}var $x=u(7339),X6={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()($x.Z,X6),$x.Z.locals;var Gx=u(3949),eV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(Gx.Z,eV),Gx.Z.locals;function Fo(a,e=ML){const i=new e(a),o=new SL(a),l=new qb(a,i,o);return i.bind("isEnabled").to(l),i instanceof Sw?i.arrowView.bind("isOn").to(l,"isOpen"):i.bind("isOn").to(l,"isOpen"),function(c){(function(d){d.on("render",()=>{p({emitter:d,activator:()=>d.isOpen,callback:()=>{d.isOpen=!1},contextElements:()=>[d.element,...d.focusTracker._elements]})})})(c),function(d){d.on("execute",f=>{f.source instanceof Hf||(d.isOpen=!1)})}(c),function(d){d.focusTracker.on("change:isFocused",(f,g,k)=>{d.isOpen&&!k&&(d.isOpen=!1)})}(c),function(d){d.keystrokes.set("arrowdown",(f,g)=>{d.isOpen&&(d.panelView.focus(),g())}),d.keystrokes.set("arrowup",(f,g)=>{d.isOpen&&(d.panelView.focusLast(),g())})}(c),function(d){d.on("change:isOpen",(f,g,k)=>{if(k)return;const w=d.panelView.element;w&&w.contains(Ne.document.activeElement)&&d.buttonView.focus()})}(c),function(d){d.on("change:isOpen",(f,g,k)=>{k&&d.panelView.focus()},{priority:"low"})}(c)}(l),l}function Dw(a,e,i={}){a.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),a.isOpen?Kx(a,e,i):a.once("change:isOpen",()=>Kx(a,e,i),{priority:"highest"}),i.enableActiveItemFocusOnDropdownOpen&&Zx(a,()=>a.toolbarView.items.find(o=>o.isOn))}function Kx(a,e,i){const o=a.locale,l=o.t,c=a.toolbarView=new Tw(o),d=typeof e=="function"?e():e;c.ariaLabel=i.ariaLabel||l("Dropdown toolbar"),i.maxWidth&&(c.maxWidth=i.maxWidth),i.class&&(c.class=i.class),i.isCompact&&(c.isCompact=i.isCompact),i.isVertical&&(c.isVertical=!0),d instanceof Bo?c.items.bindTo(d).using(f=>f):c.items.addMany(d),a.panelView.children.add(c),c.items.delegate("execute").to(a)}function Qx(a,e,i={}){a.isOpen?Yx(a,e,i):a.once("change:isOpen",()=>Yx(a,e,i),{priority:"highest"}),Zx(a,()=>a.listView.items.find(o=>o instanceof Wx&&o.children.first.isOn))}function Yx(a,e,i){const o=a.locale,l=a.listView=new Y6(o),c=typeof e=="function"?e():e;l.ariaLabel=i.ariaLabel,l.role=i.role,l.items.bindTo(c).using(d=>{if(d.type==="separator")return new Z6(o);if(d.type==="button"||d.type==="switchbutton"){const f=new Wx(o);let g;return g=d.type==="button"?new gt(o):new Hf(o),g.bind(...Object.keys(d.model)).to(d.model),g.delegate("execute").to(f),f.children.add(g),f}return null}),a.panelView.children.add(l),l.items.delegate("execute").to(a)}function Zx(a,e){a.on("change:isOpen",()=>{if(!a.isOpen)return;const i=e();i&&(typeof i.focus=="function"?i.focus():q("ui-dropdown-focus-child-on-open-child-missing-focus",{view:i}))},{priority:$.low-10})}function Mw(a,e,i){const o=new TL(a.locale);return o.set({id:e,ariaDescribedById:i}),o.bind("isReadOnly").to(a,"isEnabled",l=>!l),o.bind("hasError").to(a,"errorText",l=>!!l),o.on("input",()=>{a.errorText=null}),a.bind("isEmpty","isFocused","placeholder").to(o),o}const Ou=(a,e=0,i=1)=>a>i?i:a<e?e:a,fn=(a,e=0,i=Math.pow(10,e))=>Math.round(i*a)/i,Pw=a=>(a[0]==="#"&&(a=a.substring(1)),a.length<6?{r:parseInt(a[0]+a[0],16),g:parseInt(a[1]+a[1],16),b:parseInt(a[2]+a[2],16),a:a.length===4?fn(parseInt(a[3]+a[3],16)/255,2):1}:{r:parseInt(a.substring(0,2),16),g:parseInt(a.substring(2,4),16),b:parseInt(a.substring(4,6),16),a:a.length===8?fn(parseInt(a.substring(6,8),16)/255,2):1}),tV=({h:a,s:e,v:i,a:o})=>{const l=(200-e)*i/100;return{h:fn(a),s:fn(l>0&&l<200?e*i/100/(l<=100?l:200-l)*100:0),l:fn(l/2),a:fn(o,2)}},Nw=a=>{const{h:e,s:i,l:o}=tV(a);return`hsl(${e}, ${i}%, ${o}%)`},nV=({h:a,s:e,v:i,a:o})=>{a=a/360*6,e/=100,i/=100;const l=Math.floor(a),c=i*(1-e),d=i*(1-(a-l)*e),f=i*(1-(1-a+l)*e),g=l%6;return{r:fn(255*[i,d,c,c,f,i][g]),g:fn(255*[f,i,i,d,c,c][g]),b:fn(255*[c,c,f,i,i,d][g]),a:fn(o,2)}},lp=a=>{const e=a.toString(16);return e.length<2?"0"+e:e},iV=({r:a,g:e,b:i,a:o})=>{const l=o<1?lp(fn(255*o)):"";return"#"+lp(a)+lp(e)+lp(i)+l},rV=({r:a,g:e,b:i,a:o})=>{const l=Math.max(a,e,i),c=l-Math.min(a,e,i),d=c?l===a?(e-i)/c:l===e?2+(i-a)/c:4+(a-e)/c:0;return{h:fn(60*(d<0?d+6:d)),s:fn(l?c/l*100:0),v:fn(l/255*100),a:o}},Jx=(a,e)=>{if(a===e)return!0;for(const i in a)if(a[i]!==e[i])return!1;return!0},Xx={},eI=a=>{let e=Xx[a];return e||(e=document.createElement("template"),e.innerHTML=a,Xx[a]=e),e},Rw=(a,e,i)=>{a.dispatchEvent(new CustomEvent(e,{bubbles:!0,detail:i}))};let bl=!1;const Ow=a=>"touches"in a,tI=(a,e)=>{const i=Ow(e)?e.touches[0]:e,o=a.el.getBoundingClientRect();Rw(a.el,"move",a.getMove({x:Ou((i.pageX-(o.left+window.pageXOffset))/o.width),y:Ou((i.pageY-(o.top+window.pageYOffset))/o.height)}))};class nI{constructor(e,i,o,l){const c=eI(`<div role="slider" tabindex="0" part="${i}" ${o}><div part="${i}-pointer"></div></div>`);e.appendChild(c.content.cloneNode(!0));const d=e.querySelector(`[part=${i}]`);d.addEventListener("mousedown",this),d.addEventListener("touchstart",this),d.addEventListener("keydown",this),this.el=d,this.xy=l,this.nodes=[d.firstChild,d]}set dragging(e){const i=e?document.addEventListener:document.removeEventListener;i(bl?"touchmove":"mousemove",this),i(bl?"touchend":"mouseup",this)}handleEvent(e){switch(e.type){case"mousedown":case"touchstart":if(e.preventDefault(),!(i=>!(bl&&!Ow(i)||(bl||(bl=Ow(i)),0)))(e)||!bl&&e.button!=0)return;this.el.focus(),tI(this,e),this.dragging=!0;break;case"mousemove":case"touchmove":e.preventDefault(),tI(this,e);break;case"mouseup":case"touchend":this.dragging=!1;break;case"keydown":((i,o)=>{const l=o.keyCode;l>40||i.xy&&l<37||l<33||(o.preventDefault(),Rw(i.el,"move",i.getMove({x:l===39?.01:l===37?-.01:l===34?.05:l===33?-.05:l===35?1:l===36?-1:0,y:l===40?.01:l===38?-.01:0},!0)))})(this,e)}}style(e){e.forEach((i,o)=>{for(const l in i)this.nodes[o].style.setProperty(l,i[l])})}}class oV extends nI{constructor(e){super(e,"hue",'aria-label="Hue" aria-valuemin="0" aria-valuemax="360"',!1)}update({h:e}){this.h=e,this.style([{left:e/360*100+"%",color:Nw({h:e,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuenow",`${fn(e)}`)}getMove(e,i){return{h:i?Ou(this.h+360*e.x,0,360):360*e.x}}}class sV extends nI{constructor(e){super(e,"saturation",'aria-label="Color"',!0)}update(e){this.hsva=e,this.style([{top:100-e.v+"%",left:`${e.s}%`,color:Nw(e)},{"background-color":Nw({h:e.h,s:100,v:100,a:1})}]),this.el.setAttribute("aria-valuetext",`Saturation ${fn(e.s)}%, Brightness ${fn(e.v)}%`)}getMove(e,i){return{s:i?Ou(this.hsva.s+100*e.x,0,100):100*e.x,v:i?Ou(this.hsva.v-100*e.y,0,100):Math.round(100-100*e.y)}}}const cp=Symbol("same"),Bw=Symbol("color"),iI=Symbol("hsva"),Lw=Symbol("update"),rI=Symbol("parts"),oI=Symbol("css"),sI=Symbol("sliders");class aV extends HTMLElement{static get observedAttributes(){return["color"]}get[oI](){return[':host{display:flex;flex-direction:column;position:relative;width:200px;height:200px;user-select:none;-webkit-user-select:none;cursor:default}:host([hidden]){display:none!important}[role=slider]{position:relative;touch-action:none;user-select:none;-webkit-user-select:none;outline:0}[role=slider]:last-child{border-radius:0 0 8px 8px}[part$=pointer]{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;display:flex;place-content:center center;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}[part$=pointer]::after{content:"";width:100%;height:100%;border-radius:inherit;background-color:currentColor}[role=slider]:focus [part$=pointer]{transform:translate(-50%,-50%) scale(1.1)}',"[part=hue]{flex:0 0 24px;background:linear-gradient(to right,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red 100%)}[part=hue-pointer]{top:50%;z-index:2}","[part=saturation]{flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(to top,#000,transparent),linear-gradient(to right,#fff,rgba(255,255,255,0));box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}[part=saturation-pointer]{z-index:3}"]}get[sI](){return[sV,oV]}get color(){return this[Bw]}set color(e){if(!this[cp](e)){const i=this.colorModel.toHsva(e);this[Lw](i),this[Bw]=e}}constructor(){super();const e=eI(`<style>${this[oI].join("")}</style>`),i=this.attachShadow({mode:"open"});i.appendChild(e.content.cloneNode(!0)),i.addEventListener("move",this),this[rI]=this[sI].map(o=>new o(i))}connectedCallback(){if(this.hasOwnProperty("color")){const e=this.color;delete this.color,this.color=e}else this.color||(this.color=this.colorModel.defaultColor)}attributeChangedCallback(e,i,o){const l=this.colorModel.fromAttr(o);this[cp](l)||(this.color=l)}handleEvent(e){const i=this[iI],o={...i,...e.detail};let l;this[Lw](o),Jx(o,i)||this[cp](l=this.colorModel.fromHsva(o))||(this[Bw]=l,Rw(this,"color-changed",{value:l}))}[cp](e){return this.color&&this.colorModel.equal(e,this.color)}[Lw](e){this[iI]=e,this[rI].forEach(i=>i.update(e))}}const lV={defaultColor:"#000",toHsva:a=>rV(Pw(a)),fromHsva:({h:a,s:e,v:i})=>iV(nV({h:a,s:e,v:i,a:1})),equal:(a,e)=>a.toLowerCase()===e.toLowerCase()||Jx(Pw(a),Pw(e)),fromAttr:a=>a};class cV extends aV{get colorModel(){return lV}}customElements.define("hex-color-picker",class extends cV{});var aI=u(3398),uV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(aI.Z,uV),aI.Z.locals;var lI=u(4157),dV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(lI.Z,dV),lI.Z.locals;class hV{constructor(e){this._components=new Map,this.editor=e}*names(){for(const e of this._components.values())yield e.originalName}add(e,i){this._components.set(zw(e),{callback:i,originalName:e})}create(e){if(!this.has(e))throw new j("componentfactory-item-missing",this,{name:e});return this._components.get(zw(e)).callback(this.editor.locale)}has(e){return this._components.has(zw(e))}}function zw(a){return String(a).toLowerCase()}var cI=u(8793),fV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(cI.Z,fV),cI.Z.locals;var pV=Object.defineProperty,uI=Object.getOwnPropertySymbols,gV=Object.prototype.hasOwnProperty,mV=Object.prototype.propertyIsEnumerable,dI=(a,e,i)=>e in a?pV(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,qe=(a,e)=>{for(var i in e||(e={}))gV.call(e,i)&&dI(a,i,e[i]);if(uI)for(var i of uI(e))mV.call(e,i)&&dI(a,i,e[i]);return a};const hI=Rb("px"),fI=Ne.document.body,jw=class extends ze{constructor(a){super(a);const e=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("position","arrow_nw"),this.set("isVisible",!1),this.set("withArrow",!0),this.set("class",void 0),this._pinWhenIsVisibleCallback=null,this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",e.to("position",i=>`ck-balloon-panel_${i}`),e.if("isVisible","ck-balloon-panel_visible"),e.if("withArrow","ck-balloon-panel_with-arrow"),e.to("class")],style:{top:e.to("top",hI),left:e.to("left",hI)}},children:this.content})}show(){this.isVisible=!0}hide(){this.isVisible=!1}attachTo(a){this.show();const e=jw.defaultPositions,i=Object.assign({},{element:this.element,positions:[e.southArrowNorth,e.southArrowNorthMiddleWest,e.southArrowNorthMiddleEast,e.southArrowNorthWest,e.southArrowNorthEast,e.northArrowSouth,e.northArrowSouthMiddleWest,e.northArrowSouthMiddleEast,e.northArrowSouthWest,e.northArrowSouthEast,e.viewportStickyNorth],limiter:fI,fitInViewport:!0},a),o=jw._getOptimalPosition(i),l=parseInt(o.left),c=parseInt(o.top),d=o.name,f=o.config||{},{withArrow:g=!0}=f;this.top=c,this.left=l,this.position=d,this.withArrow=g}pin(a){this.unpin(),this._pinWhenIsVisibleCallback=()=>{this.isVisible?this._startPinning(a):this._stopPinning()},this._startPinning(a),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}unpin(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}_startPinning(a){this.attachTo(a);const e=Vw(a.target),i=a.limiter?Vw(a.limiter):fI;this.listenTo(Ne.document,"scroll",(o,l)=>{const c=l.target,d=e&&c.contains(e),f=i&&c.contains(i);!d&&!f&&e&&i||this.attachTo(a)},{useCapture:!0}),this.listenTo(Ne.window,"resize",()=>{this.attachTo(a)})}_stopPinning(){this.stopListening(Ne.document,"scroll"),this.stopListening(Ne.window,"resize")}};let Kn=jw;function Vw(a){return Ln(a)?a:Bf(a)?a.commonAncestorContainer:typeof a=="function"?Vw(a()):null}function pI(a={}){const{sideOffset:e=Kn.arrowSideOffset,heightOffset:i=Kn.arrowHeightOffset,stickyVerticalOffset:o=Kn.stickyVerticalOffset,config:l}=a;return{northWestArrowSouthWest:(f,g)=>qe({top:c(f,g),left:f.left-e,name:"arrow_sw"},l&&{config:l}),northWestArrowSouthMiddleWest:(f,g)=>qe({top:c(f,g),left:f.left-.25*g.width-e,name:"arrow_smw"},l&&{config:l}),northWestArrowSouth:(f,g)=>qe({top:c(f,g),left:f.left-g.width/2,name:"arrow_s"},l&&{config:l}),northWestArrowSouthMiddleEast:(f,g)=>qe({top:c(f,g),left:f.left-.75*g.width+e,name:"arrow_sme"},l&&{config:l}),northWestArrowSouthEast:(f,g)=>qe({top:c(f,g),left:f.left-g.width+e,name:"arrow_se"},l&&{config:l}),northArrowSouthWest:(f,g)=>qe({top:c(f,g),left:f.left+f.width/2-e,name:"arrow_sw"},l&&{config:l}),northArrowSouthMiddleWest:(f,g)=>qe({top:c(f,g),left:f.left+f.width/2-.25*g.width-e,name:"arrow_smw"},l&&{config:l}),northArrowSouth:(f,g)=>qe({top:c(f,g),left:f.left+f.width/2-g.width/2,name:"arrow_s"},l&&{config:l}),northArrowSouthMiddleEast:(f,g)=>qe({top:c(f,g),left:f.left+f.width/2-.75*g.width+e,name:"arrow_sme"},l&&{config:l}),northArrowSouthEast:(f,g)=>qe({top:c(f,g),left:f.left+f.width/2-g.width+e,name:"arrow_se"},l&&{config:l}),northEastArrowSouthWest:(f,g)=>qe({top:c(f,g),left:f.right-e,name:"arrow_sw"},l&&{config:l}),northEastArrowSouthMiddleWest:(f,g)=>qe({top:c(f,g),left:f.right-.25*g.width-e,name:"arrow_smw"},l&&{config:l}),northEastArrowSouth:(f,g)=>qe({top:c(f,g),left:f.right-g.width/2,name:"arrow_s"},l&&{config:l}),northEastArrowSouthMiddleEast:(f,g)=>qe({top:c(f,g),left:f.right-.75*g.width+e,name:"arrow_sme"},l&&{config:l}),northEastArrowSouthEast:(f,g)=>qe({top:c(f,g),left:f.right-g.width+e,name:"arrow_se"},l&&{config:l}),southWestArrowNorthWest:f=>qe({top:d(f),left:f.left-e,name:"arrow_nw"},l&&{config:l}),southWestArrowNorthMiddleWest:(f,g)=>qe({top:d(f),left:f.left-.25*g.width-e,name:"arrow_nmw"},l&&{config:l}),southWestArrowNorth:(f,g)=>qe({top:d(f),left:f.left-g.width/2,name:"arrow_n"},l&&{config:l}),southWestArrowNorthMiddleEast:(f,g)=>qe({top:d(f),left:f.left-.75*g.width+e,name:"arrow_nme"},l&&{config:l}),southWestArrowNorthEast:(f,g)=>qe({top:d(f),left:f.left-g.width+e,name:"arrow_ne"},l&&{config:l}),southArrowNorthWest:f=>qe({top:d(f),left:f.left+f.width/2-e,name:"arrow_nw"},l&&{config:l}),southArrowNorthMiddleWest:(f,g)=>qe({top:d(f),left:f.left+f.width/2-.25*g.width-e,name:"arrow_nmw"},l&&{config:l}),southArrowNorth:(f,g)=>qe({top:d(f),left:f.left+f.width/2-g.width/2,name:"arrow_n"},l&&{config:l}),southArrowNorthMiddleEast:(f,g)=>qe({top:d(f),left:f.left+f.width/2-.75*g.width+e,name:"arrow_nme"},l&&{config:l}),southArrowNorthEast:(f,g)=>qe({top:d(f),left:f.left+f.width/2-g.width+e,name:"arrow_ne"},l&&{config:l}),southEastArrowNorthWest:f=>qe({top:d(f),left:f.right-e,name:"arrow_nw"},l&&{config:l}),southEastArrowNorthMiddleWest:(f,g)=>qe({top:d(f),left:f.right-.25*g.width-e,name:"arrow_nmw"},l&&{config:l}),southEastArrowNorth:(f,g)=>qe({top:d(f),left:f.right-g.width/2,name:"arrow_n"},l&&{config:l}),southEastArrowNorthMiddleEast:(f,g)=>qe({top:d(f),left:f.right-.75*g.width+e,name:"arrow_nme"},l&&{config:l}),southEastArrowNorthEast:(f,g)=>qe({top:d(f),left:f.right-g.width+e,name:"arrow_ne"},l&&{config:l}),westArrowEast:(f,g)=>qe({top:f.top+f.height/2-g.height/2,left:f.left-g.width-i,name:"arrow_e"},l&&{config:l}),eastArrowWest:(f,g)=>qe({top:f.top+f.height/2-g.height/2,left:f.right+i,name:"arrow_w"},l&&{config:l}),viewportStickyNorth:(f,g,k)=>f.getIntersection(k)?{top:k.top+o,left:f.left+f.width/2-g.width/2,name:"arrowless",config:qe({withArrow:!1},l)}:null};function c(f,g){return f.top-g.height-i}function d(f){return f.bottom+i}}Kn.arrowSideOffset=25,Kn.arrowHeightOffset=10,Kn.stickyVerticalOffset=20,Kn._getOptimalPosition=JC,Kn.defaultPositions=pI();var gI=u(3332),kV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(gI.Z,kV),gI.Z.locals;const mI="ck-tooltip",Qn=class extends Oo(){constructor(a){if(super(),this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver=null,Qn._editors.add(a),Qn._instance)return Qn._instance;Qn._instance=this,this.tooltipTextView=new ze(a.locale),this.tooltipTextView.set("text",""),this.tooltipTextView.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:this.tooltipTextView.bindTemplate.to("text")}]}),this.balloonPanelView=new Kn(a.locale),this.balloonPanelView.class=mI,this.balloonPanelView.content.add(this.tooltipTextView),this._pinTooltipDebounced=Eu(this._pinTooltip,600),this.listenTo(Ne.document,"mouseenter",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ne.document,"mouseleave",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ne.document,"focus",this._onEnterOrFocus.bind(this),{useCapture:!0}),this.listenTo(Ne.document,"blur",this._onLeaveOrBlur.bind(this),{useCapture:!0}),this.listenTo(Ne.document,"scroll",this._onScroll.bind(this),{useCapture:!0}),this._watchdogExcluded=!0}destroy(a){const e=a.ui.view&&a.ui.view.body;Qn._editors.delete(a),this.stopListening(a.ui),e&&e.has(this.balloonPanelView)&&e.remove(this.balloonPanelView),Qn._editors.size||(this._unpinTooltip(),this.balloonPanelView.destroy(),this.stopListening(),Qn._instance=null)}static getPositioningFunctions(a){const e=Qn.defaultBalloonPositions;return{s:[e.southArrowNorth,e.southArrowNorthEast,e.southArrowNorthWest],n:[e.northArrowSouth],e:[e.eastArrowWest],w:[e.westArrowEast],sw:[e.southArrowNorthEast],se:[e.southArrowNorthWest]}[a]}_onEnterOrFocus(a,{target:e}){const i=Fw(e);var o;i&&i!==this._currentElementWithTooltip&&(this._unpinTooltip(),this._pinTooltipDebounced(i,{text:(o=i).dataset.ckeTooltipText,position:o.dataset.ckeTooltipPosition||"s",cssClass:o.dataset.ckeTooltipClass||""}))}_onLeaveOrBlur(a,{target:e,relatedTarget:i}){if(a.name==="mouseleave"){if(!Ln(e)||this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;const o=Fw(e),l=Fw(i);o&&o!==l&&this._unpinTooltip()}else{if(this._currentElementWithTooltip&&e!==this._currentElementWithTooltip)return;this._unpinTooltip()}}_onScroll(a,{target:e}){this._currentElementWithTooltip&&(e.contains(this.balloonPanelView.element)&&e.contains(this._currentElementWithTooltip)||this._unpinTooltip())}_pinTooltip(a,{text:e,position:i,cssClass:o}){const l=Ft(Qn._editors.values()).ui.view.body;l.has(this.balloonPanelView)||l.add(this.balloonPanelView),this.tooltipTextView.text=e,this.balloonPanelView.pin({target:a,positions:Qn.getPositioningFunctions(i)}),this._resizeObserver=new zf(a,()=>{Ks(a)||this._unpinTooltip()}),this.balloonPanelView.class=[mI,o].filter(c=>c).join(" ");for(const c of Qn._editors)this.listenTo(c.ui,"update",this._updateTooltipPosition.bind(this),{priority:"low"});this._currentElementWithTooltip=a,this._currentTooltipPosition=i}_unpinTooltip(){this._pinTooltipDebounced.cancel(),this.balloonPanelView.unpin();for(const a of Qn._editors)this.stopListening(a.ui,"update");this._currentElementWithTooltip=null,this._currentTooltipPosition=null,this._resizeObserver&&this._resizeObserver.destroy()}_updateTooltipPosition(){Ks(this._currentElementWithTooltip)?this.balloonPanelView.pin({target:this._currentElementWithTooltip,positions:Qn.getPositioningFunctions(this._currentTooltipPosition)}):this._unpinTooltip()}};let up=Qn;function Fw(a){return Ln(a)?a.closest("[data-cke-tooltip-text]:not([data-cke-tooltip-disabled])"):null}up.defaultBalloonPositions=pI({heightOffset:5,sideOffset:13}),up._editors=new Set,up._instance=null;const Uw=function(a,e,i){var o=!0,l=!0;if(typeof a!="function")throw new TypeError("Expected a function");return Ze(i)&&(o="leading"in i?!!i.leading:o,l="trailing"in i?!!i.trailing:l),Eu(a,e,{leading:o,maxWait:e,trailing:l})};var bV=Object.defineProperty,kI=Object.getOwnPropertySymbols,wV=Object.prototype.hasOwnProperty,_V=Object.prototype.propertyIsEnumerable,bI=(a,e,i)=>e in a?bV(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,AV=(a,e)=>{for(var i in e||(e={}))wV.call(e,i)&&bI(a,i,e[i]);if(kI)for(var i of kI(e))_V.call(e,i)&&bI(a,i,e[i]);return a};const vV=50,yV=350,CV="Powered by",dp={top:-99999,left:-99999,name:"invalid",config:{withArrow:!1}};class EV extends Oo(){constructor(e){super(),this.editor=e,this._balloonView=null,this._lastFocusedEditableElement=null,this._showBalloonThrottled=Uw(this._showBalloon.bind(this),50,{leading:!0}),e.on("ready",this._handleEditorReady.bind(this))}destroy(){const e=this._balloonView;e&&(e.unpin(),this._balloonView=null),this._showBalloonThrottled.cancel(),this.stopListening()}_handleEditorReady(){const e=this.editor;(e.config.get("ui.poweredBy.forceVisible")||function(i){function o(I){return I.length>=40&&I.length<=255?"VALID":"INVALID"}if(!i)return"INVALID";let l="";try{l=atob(i)}catch{return"INVALID"}const c=l.split("-"),d=c[0],f=c[1];if(!f)return o(i);try{atob(f)}catch{try{if(atob(d),!atob(d).length)return o(i)}catch{return o(i)}}if(d.length<40||d.length>255)return"INVALID";let g="";try{atob(d),g=atob(f)}catch{return"INVALID"}if(g.length!==8)return"INVALID";const k=Number(g.substring(0,4)),w=Number(g.substring(4,6))-1,_=Number(g.substring(6,8)),y=new Date(k,w,_);return y<be||isNaN(Number(y))?"INVALID":"VALID"}(e.config.get("licenseKey"))!=="VALID")&&e.ui.view&&(e.ui.focusTracker.on("change:isFocused",(i,o,l)=>{this._updateLastFocusedEditableElement(),l?this._showBalloon():this._hideBalloon()}),e.ui.focusTracker.on("change:focusedElement",(i,o,l)=>{this._updateLastFocusedEditableElement(),l&&this._showBalloon()}),e.ui.on("update",()=>{this._showBalloonThrottled()}))}_createBalloonView(){const e=this.editor,i=this._balloonView=new Kn,o=_I(e),l=new xV(e.locale,o.label);i.content.add(l),i.set({class:"ck-powered-by-balloon"}),e.ui.view.body.add(i),e.ui.focusTracker.add(i.element),this._balloonView=i}_showBalloon(){if(!this._lastFocusedEditableElement)return;const e=function(i,o){const l=_I(i),c=l.side==="right"?function(d,f){return wI(d,f,(g,k)=>g.left+g.width-k.width-f.horizontalOffset)}(o,l):function(d,f){return wI(d,f,g=>g.left+f.horizontalOffset)}(o,l);return{target:o,positions:[c]}}(this.editor,this._lastFocusedEditableElement);e&&(this._balloonView||this._createBalloonView(),this._balloonView.pin(e))}_hideBalloon(){this._balloonView&&this._balloonView.unpin()}_updateLastFocusedEditableElement(){const e=this.editor,i=e.ui.focusTracker.isFocused,o=e.ui.focusTracker.focusedElement;if(!i||!o)return void(this._lastFocusedEditableElement=null);const l=Array.from(e.ui.getEditableElementsNames()).map(c=>e.ui.getEditableElement(c));l.includes(o)?this._lastFocusedEditableElement=o:this._lastFocusedEditableElement=l[0]}}class xV extends ze{constructor(e,i){super(e);const o=new ul,l=this.bindTemplate;o.set({content:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 53 10"><path d="M31.724 1.492a15.139 15.139 0 0 0 .045 1.16 2.434 2.434 0 0 0-.687-.34 3.68 3.68 0 0 0-1.103-.166 2.332 2.332 0 0 0-1.14.255 1.549 1.549 0 0 0-.686.87c-.15.41-.225.98-.225 1.712 0 .939.148 1.659.444 2.161.297.503.792.754 1.487.754.452.015.9-.094 1.294-.316.296-.174.557-.4.771-.669l.14.852h1.282V.007h-1.623v1.485ZM31 6.496a1.77 1.77 0 0 1-.494.061.964.964 0 0 1-.521-.127.758.758 0 0 1-.296-.466 3.984 3.984 0 0 1-.093-.992 4.208 4.208 0 0 1 .098-1.052.753.753 0 0 1 .307-.477 1.08 1.08 0 0 1 .55-.122 2.4 2.4 0 0 1 .69.089l.483.144v2.553c-.11.076-.213.143-.307.2a1.73 1.73 0 0 1-.417.189ZM35.68 0l-.702.004c-.322.002-.482.168-.48.497l.004.581c.002.33.164.493.486.49l.702-.004c.322-.002.481-.167.48-.496L36.165.49c-.002-.33-.164-.493-.486-.491Zm.465 2.313-1.612.01.034 5.482 1.613-.01-.035-5.482ZM39.623.79 37.989.8 38 2.306l-.946.056.006 1.009.949-.006.024 2.983c.003.476.143.844.419 1.106.275.26.658.39 1.148.387.132 0 .293-.01.483-.03.19-.02.38-.046.57-.08.163-.028.324-.068.482-.119l-.183-1.095-.702.004a.664.664 0 0 1-.456-.123.553.553 0 0 1-.14-.422l-.016-2.621 1.513-.01-.006-1.064-1.514.01-.01-1.503Zm6.603 1.598c-.41-.184-.956-.274-1.636-.27-.673.004-1.215.101-1.627.29-.402.179-.72.505-.888.91-.18.419-.268.979-.264 1.68.004.688.1 1.24.285 1.655.172.404.495.724.9.894.414.18.957.268 1.63.264.68-.004 1.224-.099 1.632-.284.4-.176.714-.501.878-.905.176-.418.263-.971.258-1.658-.004-.702-.097-1.261-.28-1.677a1.696 1.696 0 0 0-.888-.9Zm-.613 3.607a.77.77 0 0 1-.337.501 1.649 1.649 0 0 1-1.317.009.776.776 0 0 1-.343-.497 4.066 4.066 0 0 1-.105-1.02 4.136 4.136 0 0 1 .092-1.03.786.786 0 0 1 .337-.507 1.59 1.59 0 0 1 1.316-.008.79.79 0 0 1 .344.502c.078.337.113.683.105 1.03.012.343-.019.685-.092 1.02Zm6.501-3.925a2.67 2.67 0 0 0-1.128.278c-.39.191-.752.437-1.072.73l-.157-.846-1.273.008.036 5.572 1.623-.01-.024-3.78c.35-.124.646-.22.887-.286.26-.075.53-.114.8-.118l.45-.003.144-1.546-.286.001ZM22.083 7.426l-1.576-2.532a2.137 2.137 0 0 0-.172-.253 1.95 1.95 0 0 0-.304-.29.138.138 0 0 1 .042-.04 1.7 1.7 0 0 0 .328-.374l1.75-2.71c.01-.015.025-.028.024-.048-.01-.01-.021-.007-.031-.007L20.49 1.17a.078.078 0 0 0-.075.045l-.868 1.384c-.23.366-.46.732-.688 1.099a.108.108 0 0 1-.112.06c-.098-.005-.196-.001-.294-.002-.018 0-.038.006-.055-.007.002-.02.002-.039.005-.058a4.6 4.6 0 0 0 .046-.701V1.203c0-.02-.009-.032-.03-.03h-.033L16.93 1.17c-.084 0-.073-.01-.073.076v6.491c-.001.018.006.028.025.027h1.494c.083 0 .072.007.072-.071v-2.19c0-.055-.003-.11-.004-.166a3.366 3.366 0 0 0-.05-.417h.06c.104 0 .209.002.313-.002a.082.082 0 0 1 .084.05c.535.913 1.07 1.824 1.607 2.736a.104.104 0 0 0 .103.062c.554-.003 1.107-.002 1.66-.002l.069-.003-.019-.032-.188-.304Zm5.029-.871c-.005-.08-.004-.08-.082-.08h-2.414c-.053 0-.106-.003-.159-.011a.279.279 0 0 1-.246-.209.558.558 0 0 1-.022-.15c0-.382 0-.762-.002-1.143 0-.032.007-.049.042-.044h2.504c.029.003.037-.012.034-.038V3.814c0-.089.013-.078-.076-.078h-2.44c-.07 0-.062.003-.062-.06v-.837c0-.047.004-.093.013-.14a.283.283 0 0 1 .241-.246.717.717 0 0 1 .146-.011h2.484c.024.002.035-.009.036-.033l.003-.038.03-.496c.01-.183.024-.365.034-.548.005-.085.003-.087-.082-.094-.218-.018-.437-.038-.655-.05a17.845 17.845 0 0 0-.657-.026 72.994 72.994 0 0 0-1.756-.016 1.7 1.7 0 0 0-.471.064 1.286 1.286 0 0 0-.817.655 1.349 1.349 0 0 0-.145.633v3.875c0 .072.003.144.011.216a1.27 1.27 0 0 0 .711 1.029c.228.113.48.167.734.158.757-.005 1.515.002 2.272-.042.274-.016.548-.034.82-.053.03-.002.043-.008.04-.041-.008-.104-.012-.208-.019-.312a69.964 69.964 0 0 1-.05-.768Zm-10.972.86-.127-1.075c-.004-.03-.014-.04-.044-.037a13.125 13.125 0 0 1-.998.073c-.336.01-.672.02-1.008.016a1.693 1.693 0 0 1-.347-.039.746.746 0 0 1-.45-.262 1.038 1.038 0 0 1-.167-.33 3.324 3.324 0 0 1-.126-.773 9.113 9.113 0 0 1-.015-.749c0-.285.022-.57.065-.852a1.94 1.94 0 0 1 .127-.46.728.728 0 0 1 .518-.443 1.64 1.64 0 0 1 .397-.048c.628-.001 1.255.003 1.882.05.022.001.033-.006.036-.026l.003-.031.06-.55c.019-.177.036-.355.057-.532.004-.034-.005-.046-.04-.056a5.595 5.595 0 0 0-1.213-.21 10.783 10.783 0 0 0-.708-.02 5.09 5.09 0 0 0-.719.041 3.477 3.477 0 0 0-.625.14 1.912 1.912 0 0 0-.807.497c-.185.2-.33.433-.424.688a4.311 4.311 0 0 0-.24 1.096 7.262 7.262 0 0 0-.042.86c-.006.43.024.86.091 1.286.04.25.104.497.193.734.098.279.26.53.473.734.214.205.473.358.756.446.344.11.702.17 1.063.177a8.505 8.505 0 0 0 1.578-.083 6.11 6.11 0 0 0 .766-.18c.03-.008.047-.023.037-.057a.157.157 0 0 1-.003-.025Z"/><path d="M6.016 6.69a1.592 1.592 0 0 0-.614.21c-.23.132-.422.32-.56.546-.044.072-.287.539-.287.539l-.836 1.528.009.006c.038.025.08.046.123.063.127.046.26.07.395.073.505.023 1.011-.007 1.517-.003.29.009.58.002.869-.022a.886.886 0 0 0 .395-.116.962.962 0 0 0 .312-.286c.056-.083.114-.163.164-.249.24-.408.48-.816.718-1.226.075-.128.148-.257.222-.386l.112-.192a1.07 1.07 0 0 0 .153-.518l-1.304.023s-1.258-.005-1.388.01Z"/><path d="m2.848 9.044.76-1.39.184-.352c-.124-.067-.245-.14-.367-.21-.346-.204-.706-.384-1.045-.6a.984.984 0 0 1-.244-.207c-.108-.134-.136-.294-.144-.46-.021-.409-.002-.818-.009-1.227-.003-.195 0-.39.003-.585.004-.322.153-.553.427-.713l.833-.488c.22-.13.44-.257.662-.385.05-.029.105-.052.158-.077.272-.128.519-.047.76.085l.044.028c.123.06.242.125.358.196.318.178.635.357.952.537.095.056.187.117.275.184.194.144.254.35.266.578.016.284.007.569.006.853-.001.28.004.558 0 .838.592-.003 1.259 0 1.259 0l.723-.013c-.003-.292-.007-.584-.007-.876 0-.524.015-1.048-.016-1.571-.024-.42-.135-.8-.492-1.067a5.02 5.02 0 0 0-.506-.339A400.52 400.52 0 0 0 5.94.787C5.722.664 5.513.524 5.282.423 5.255.406 5.228.388 5.2.373 4.758.126 4.305-.026 3.807.21c-.097.046-.197.087-.29.14A699.896 699.896 0 0 0 .783 1.948c-.501.294-.773.717-.778 1.31-.004.36-.009.718-.001 1.077.016.754-.017 1.508.024 2.261.016.304.07.6.269.848.127.15.279.28.448.382.622.4 1.283.734 1.92 1.11l.183.109Z"/></svg>',isColorInherited:!1}),o.extendTemplate({attributes:{style:{width:"53px",height:"10px"}}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-powered-by"],"aria-hidden":!0},children:[{tag:"a",attributes:{href:"https://ckeditor.com/?utm_source=ckeditor&utm_medium=referral&utm_campaign=701Dn000000hVgmIAE_powered_by_ckeditor_logo",target:"_blank",tabindex:"-1"},children:[...i?[{tag:"span",attributes:{class:["ck","ck-powered-by__label"]},children:[i]}]:[],o],on:{dragstart:l.to(c=>c.preventDefault())}}]})}}function wI(a,e,i){return(o,l)=>{const c=o.getVisible();if(!c||o.width<yV||o.height<vV)return dp;let d;d=e.position==="inside"?o.bottom-l.height:o.bottom-l.height/2,d-=e.verticalOffset;const f=i(o,l);if(e.position==="inside"){const g=l.clone().moveTo(f,d);if(g.getIntersectionArea(c)<g.getArea())return dp}else{const g=Nb(a);if(g){const k=new ct(g),w=c.bottom+l.height/2>k.bottom,_=e.side==="left"?o.left<k.left:o.right>k.right;if(w||_)return dp}}return{top:d,left:f,name:`position_${e.position}-side_${e.side}`,config:{withArrow:!1}}}}function _I(a){const e=a.config.get("ui.poweredBy"),i=e&&e.position||"border";return AV({position:i,label:CV,verticalOffset:i==="inside"?5:0,horizontalOffset:5,side:a.locale.contentLanguageDirection==="ltr"?"right":"left"},e)}var IV=Object.defineProperty,AI=Object.getOwnPropertySymbols,TV=Object.prototype.hasOwnProperty,SV=Object.prototype.propertyIsEnumerable,vI=(a,e,i)=>e in a?IV(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class DV extends Xe(){constructor(e){super(),this.isReady=!1,this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[];const i=e.editing.view;this.editor=e,this.componentFactory=new hV(e),this.focusTracker=new vi,this.tooltipManager=new up(e),this.poweredBy=new EV(e),this.set("viewportOffset",this._readViewportOffsetFromConfig()),this.once("ready",()=>{this.isReady=!0}),this.listenTo(i.document,"layoutChanged",this.update.bind(this)),this.listenTo(i,"scrollToTheSelection",this._handleScrollToTheSelection.bind(this)),this._initFocusTracking()}get element(){return null}update(){this.fire("update")}destroy(){this.stopListening(),this.focusTracker.destroy(),this.tooltipManager.destroy(this.editor),this.poweredBy.destroy();for(const e of this._editableElementsMap.values())e.ckeditorInstance=null,this.editor.keystrokes.stopListening(e);this._editableElementsMap=new Map,this._focusableToolbarDefinitions=[]}setEditableElement(e,i){this._editableElementsMap.set(e,i),i.ckeditorInstance||(i.ckeditorInstance=this.editor),this.focusTracker.add(i);const o=()=>{this.editor.editing.view.getDomRoot(e)||this.editor.keystrokes.listenTo(i)};this.isReady?o():this.once("ready",o)}removeEditableElement(e){const i=this._editableElementsMap.get(e);i&&(this._editableElementsMap.delete(e),this.editor.keystrokes.stopListening(i),this.focusTracker.remove(i),i.ckeditorInstance=null)}getEditableElement(e="main"){return this._editableElementsMap.get(e)}getEditableElementsNames(){return this._editableElementsMap.keys()}addToolbar(e,i={}){e.isRendered?(this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)):e.once("render",()=>{this.focusTracker.add(e.element),this.editor.keystrokes.listenTo(e.element)}),this._focusableToolbarDefinitions.push({toolbarView:e,options:i})}get _editableElements(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}_readViewportOffsetFromConfig(){const e=this.editor,i=e.config.get("ui.viewportOffset");if(i)return i;const o=e.config.get("toolbar.viewportTopOffset");return o?(console.warn("editor-ui-deprecated-viewport-offset-config: The `toolbar.vieportTopOffset` configuration option is deprecated. It will be removed from future CKEditor versions. Use `ui.viewportOffset.top` instead."),{top:o}):{top:0}}_initFocusTracking(){const e=this.editor,i=e.editing.view;let o,l;e.keystrokes.set("Alt+F10",(c,d)=>{const f=this.focusTracker.focusedElement;Array.from(this._editableElementsMap.values()).includes(f)&&!Array.from(i.domRoots.values()).includes(f)&&(o=f);const g=this._getCurrentFocusedToolbarDefinition();g&&l||(l=this._getFocusableCandidateToolbarDefinitions());for(let k=0;k<l.length;k++){const w=l.shift();if(l.push(w),w!==g&&this._focusFocusableCandidateToolbar(w)){g&&g.options.afterBlur&&g.options.afterBlur();break}}d()}),e.keystrokes.set("Esc",(c,d)=>{const f=this._getCurrentFocusedToolbarDefinition();f&&(o?(o.focus(),o=null):e.editing.view.focus(),f.options.afterBlur&&f.options.afterBlur(),d())})}_getFocusableCandidateToolbarDefinitions(){const e=[];for(const i of this._focusableToolbarDefinitions){const{toolbarView:o,options:l}=i;(Ks(o.element)||l.beforeFocus)&&e.push(i)}return e.sort((i,o)=>yI(i)-yI(o)),e}_getCurrentFocusedToolbarDefinition(){for(const e of this._focusableToolbarDefinitions)if(e.toolbarView.element&&e.toolbarView.element.contains(this.focusTracker.focusedElement))return e;return null}_focusFocusableCandidateToolbar(e){const{toolbarView:i,options:{beforeFocus:o}}=e;return o&&o(),!!Ks(i.element)&&(i.focus(),!0)}_handleScrollToTheSelection(e,i){const o=((l,c)=>{for(var d in c||(c={}))TV.call(c,d)&&vI(l,d,c[d]);if(AI)for(var d of AI(c))SV.call(c,d)&&vI(l,d,c[d]);return l})({top:0,bottom:0,left:0,right:0},this.viewportOffset);i.viewportOffset.top+=o.top,i.viewportOffset.bottom+=o.bottom,i.viewportOffset.left+=o.left,i.viewportOffset.right+=o.right}}function yI(a){const{toolbarView:e,options:i}=a;let o=10;return Ks(e.element)&&o--,i.isContextual&&o--,o}var CI=u(9688),MV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(CI.Z,MV),CI.Z.locals;class PV extends ze{constructor(e){super(e),this.body=new wL(e)}render(){super.render(),this.body.attachToDom()}destroy(){return this.body.detachFromDom(),super.destroy()}}class NV extends PV{constructor(e){super(e),this.top=this.createCollection(),this.main=this.createCollection(),this._voiceLabelView=this._createVoiceLabel(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:e.uiLanguageDirection,lang:e.uiLanguage,"aria-labelledby":this._voiceLabelView.id},children:[this._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:this.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:this.main}]})}_createVoiceLabel(){const e=this.t,i=new x1;return i.text=e("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}class RV extends ze{constructor(e,i,o){super(e),this.name=null,this.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:e.contentLanguage,dir:e.contentLanguageDirection}}),this.set("isFocused",!1),this._editableElement=o,this._hasExternalElement=!!this._editableElement,this._editingView=i}render(){super.render(),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",()=>this._updateIsFocusedClasses()),this._updateIsFocusedClasses()}destroy(){this._hasExternalElement&&this.template.revert(this._editableElement),super.destroy()}get hasExternalElement(){return this._hasExternalElement}_updateIsFocusedClasses(){const e=this._editingView;function i(o){e.change(l=>{const c=e.document.getRoot(o.name);l.addClass(o.isFocused?"ck-focused":"ck-blurred",c),l.removeClass(o.isFocused?"ck-blurred":"ck-focused",c)})}e.isRenderingInProgress?function o(l){e.once("change:isRenderingInProgress",(c,d,f)=>{f?o(l):i(l)})}(this):i(this)}}class OV extends RV{constructor(e,i,o,l={}){super(e,i,o);const c=e.t;this.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),this._generateLabel=l.label||(()=>c("Editor editing area: %0",this.name))}render(){super.render();const e=this._editingView;e.change(i=>{const o=e.document.getRoot(this.name);i.setAttribute("aria-label",this._generateLabel(this),o)})}}var EI=u(8847),BV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(EI.Z,BV),EI.Z.locals;class Hw extends Wf{static get pluginName(){return"Notification"}init(){this.on("show:warning",(e,i)=>{window.alert(i.message)},{priority:"lowest"})}showSuccess(e,i={}){this._showNotification({message:e,type:"success",namespace:i.namespace,title:i.title})}showInfo(e,i={}){this._showNotification({message:e,type:"info",namespace:i.namespace,title:i.title})}showWarning(e,i={}){this._showNotification({message:e,type:"warning",namespace:i.namespace,title:i.title})}_showNotification(e){const i=e.namespace?`show:${e.type}:${e.namespace}`:`show:${e.type}`;this.fire(i,{message:e.message,type:e.type,title:e.title||""})}}class xI extends Xe(){constructor(e,i){super(),i&&kE(this,i),e&&this.set(e)}}var II=u(4650),LV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(II.Z,LV),II.Z.locals;var TI=u(7676),zV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(TI.Z,zV),TI.Z.locals;const hp=Rb("px");class fp extends ie{constructor(e){super(e),this._viewToStack=new Map,this._idToStack=new Map,this._view=null,this._rotatorView=null,this._fakePanelsView=null,this.positionLimiter=()=>{const i=this.editor.editing.view,o=i.document.selection.editableElement;return o?i.domConverter.mapViewToDom(o.root):null},this.set("visibleView",null),this.set("_numberOfStacks",0),this.set("_singleViewMode",!1)}static get pluginName(){return"ContextualBalloon"}destroy(){super.destroy(),this._view&&this._view.destroy(),this._rotatorView&&this._rotatorView.destroy(),this._fakePanelsView&&this._fakePanelsView.destroy()}get view(){return this._view||this._createPanelView(),this._view}hasView(e){return Array.from(this._viewToStack.keys()).includes(e)}add(e){if(this._view||this._createPanelView(),this.hasView(e.view))throw new j("contextualballoon-add-view-exist",[this,e]);const i=e.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[e.view,e]])),this._viewToStack.set(e.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!e.singleViewMode||this.showStack(i));const o=this._idToStack.get(i);e.singleViewMode&&this.showStack(i),o.set(e.view,e),this._viewToStack.set(e.view,o),o===this._visibleStack&&this._showView(e)}remove(e){if(!this.hasView(e))throw new j("contextualballoon-remove-view-not-exist",[this,e]);const i=this._viewToStack.get(e);this._singleViewMode&&this.visibleView===e&&(this._singleViewMode=!1),this.visibleView===e&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(e),this._viewToStack.delete(e)}updatePosition(e){e&&(this._visibleStack.get(this.visibleView).position=e),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}showStack(e){this.visibleStack=e;const i=this._idToStack.get(e);if(!i)throw new j("contextualballoon-showstack-stack-not-exist",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}_createPanelView(){this._view=new Kn(this.editor.locale),this.editor.ui.view.body.add(this._view),this.editor.ui.focusTracker.add(this._view.element),this._rotatorView=this._createRotatorView(),this._fakePanelsView=this._createFakePanelsView()}get _visibleStack(){return this._viewToStack.get(this.visibleView)}_getStackId(e){return Array.from(this._idToStack.entries()).find(i=>i[1]===e)[0]}_showNextStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)+1;e[i]||(i=0),this.showStack(this._getStackId(e[i]))}_showPrevStack(){const e=Array.from(this._idToStack.values());let i=e.indexOf(this._visibleStack)-1;e[i]||(i=e.length-1),this.showStack(this._getStackId(e[i]))}_createRotatorView(){const e=new jV(this.editor.locale),i=this.editor.locale.t;return this.view.content.add(e),e.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",(o,l)=>!l&&o>1),e.on("change:isNavigationVisible",()=>this.updatePosition(),{priority:"low"}),e.bind("counter").to(this,"visibleView",this,"_numberOfStacks",(o,l)=>{if(l<2)return"";const c=Array.from(this._idToStack.values()).indexOf(this._visibleStack)+1;return i("%0 of %1",[c,l])}),e.buttonNextView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showNextStack()}),e.buttonPrevView.on("execute",()=>{e.focusTracker.isFocused&&this.editor.editing.view.focus(),this._showPrevStack()}),e}_createFakePanelsView(){const e=new VV(this.editor.locale,this.view);return e.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",(i,o)=>!o&&i>=2?Math.min(i-1,2):0),e.listenTo(this.view,"change:top",()=>e.updatePosition()),e.listenTo(this.view,"change:left",()=>e.updatePosition()),this.editor.ui.view.body.add(e),e}_showView({view:e,balloonClassName:i="",withArrow:o=!0,singleViewMode:l=!1}){this.view.class=i,this.view.withArrow=o,this._rotatorView.showView(e),this.visibleView=e,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),l&&(this._singleViewMode=!0)}_getBalloonPosition(){let e=Array.from(this._visibleStack.values()).pop().position;return e&&(e.limiter||(e=Object.assign({},e,{limiter:this.positionLimiter})),e=Object.assign({},e,{viewportOffsetConfig:this.editor.ui.viewportOffset})),e}}class jV extends ze{constructor(e){super(e);const i=e.t,o=this.bindTemplate;this.set("isNavigationVisible",!0),this.focusTracker=new vi,this.buttonPrevView=this._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),this.buttonNextView=this._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),this.content=this.createCollection(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",l=>l?"":"ck-hidden")]},children:[this.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},this.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:this.content}]})}render(){super.render(),this.focusTracker.add(this.element)}destroy(){super.destroy(),this.focusTracker.destroy()}showView(e){this.hideView(),this.content.add(e)}hideView(){this.content.clear()}_createButtonView(e,i){const o=new gt(this.locale);return o.set({label:e,icon:i,tooltip:!0}),o}}class VV extends ze{constructor(e,i){super(e);const o=this.bindTemplate;this.set("top",0),this.set("left",0),this.set("height",0),this.set("width",0),this.set("numberOfPanels",0),this.content=this.createCollection(),this._balloonPanelView=i,this.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",l=>l?"":"ck-hidden")],style:{top:o.to("top",hp),left:o.to("left",hp),width:o.to("width",hp),height:o.to("height",hp)}},children:this.content}),this.on("change:numberOfPanels",(l,c,d,f)=>{d>f?this._addPanels(d-f):this._removePanels(f-d),this.updatePosition()})}_addPanels(e){for(;e--;){const i=new ze;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}_removePanels(e){for(;e--;){const i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}updatePosition(){if(this.numberOfPanels){const{top:e,left:i}=this._balloonPanelView,{width:o,height:l}=new ct(this._balloonPanelView.element);Object.assign(this,{top:e,left:i,width:o,height:l})}}}var SI=u(5868),FV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(SI.Z,FV),SI.Z.locals;const wl=Rb("px");class UV extends ze{constructor(e){super(e);const i=this.bindTemplate;this.set("isActive",!1),this.set("isSticky",!1),this.set("limiterElement",null),this.set("limiterBottomOffset",50),this.set("viewportTopOffset",0),this.set("_marginLeft",null),this.set("_isStickyToTheBottomOfLimiter",!1),this.set("_stickyTopOffset",null),this.set("_stickyBottomOffset",null),this.content=this.createCollection(),this._contentPanelPlaceholder=new zi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",o=>o?"block":"none"),height:i.to("isSticky",o=>o?wl(this._contentPanelRect.height):null)}}}).render(),this._contentPanel=new zi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheBottomOfLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",o=>o?wl(this._contentPanelPlaceholder.getBoundingClientRect().width):null),top:i.to("_stickyTopOffset",o=>o&&wl(o)),bottom:i.to("_stickyBottomOffset",o=>o&&wl(o)),marginLeft:i.to("_marginLeft")}},children:this.content}).render(),this.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[this._contentPanelPlaceholder,this._contentPanel]})}render(){super.render(),this.checkIfShouldBeSticky(),this.listenTo(Ne.document,"scroll",(e,i)=>{this.checkIfShouldBeSticky(i.target)},{useCapture:!0}),this.listenTo(this,"change:isActive",()=>{this.checkIfShouldBeSticky()})}checkIfShouldBeSticky(e){if(!this.limiterElement||!this.isActive)return void this._unstick();const i=function(c){const d=[];let f=Nb(c);for(;f&&f!==Ne.document.body;)d.push(f),f=Nb(f);return d.push(Ne.document),d}(this.limiterElement);if(e&&!i.includes(e))return;const o=function(c,d=0){const f=c.map(k=>{if(k instanceof Document){const w=new ct(u.g.window);return w.top+=d,w.height-=d,w}return new ct(k)});let g=f[0];for(const k of f.slice(1))g&&(g=g.getIntersection(k));return g}(i,this.viewportTopOffset),l=new ct(this.limiterElement);if(o&&l.top<o.top){const c=l.getIntersection(o);if(c){const d=o.top;if(d+this._contentPanelRect.height+this.limiterBottomOffset>c.bottom){const f=Math.max(l.bottom-o.bottom,0)+this.limiterBottomOffset;l.bottom-f>l.top+this._contentPanelRect.height?this._stickToBottomOfLimiter(f):this._unstick()}else this._contentPanelRect.height+this.limiterBottomOffset<l.height?this._stickToTopOfAncestors(d):this._unstick()}else this._unstick()}else this._unstick()}_stickToTopOfAncestors(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=e,this._stickyBottomOffset=null,this._marginLeft=wl(-Ne.window.scrollX)}_stickToBottomOfLimiter(e){this.isSticky=!0,this._isStickyToTheBottomOfLimiter=!0,this._stickyTopOffset=null,this._stickyBottomOffset=e,this._marginLeft=wl(-Ne.window.scrollX)}_unstick(){this.isSticky=!1,this._isStickyToTheBottomOfLimiter=!1,this._stickyTopOffset=null,this._stickyBottomOffset=null,this._marginLeft=null}get _contentPanelRect(){return new ct(this._contentPanel)}}var DI=u(9695),HV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(DI.Z,HV),DI.Z.locals;class WV extends DV{constructor(e,i){super(e),this.view=i,this._toolbarConfig=P1(e.config.get("toolbar")),this._elementReplacer=new jk,this.listenTo(e.editing.view,"scrollToTheSelection",this._handleScrollToTheSelectionWithStickyPanel.bind(this))}get element(){return this.view.element}init(e){const i=this.editor,o=this.view,l=i.editing.view,c=o.editable,d=l.document.getRoot();c.name=d.rootName,o.render();const f=c.element;this.setEditableElement(c.name,f),o.editable.bind("isFocused").to(this.focusTracker),l.attachDomRoot(f),e&&this._elementReplacer.replace(e,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}destroy(){super.destroy();const e=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(e.editable.name),e.destroy()}_initToolbar(){const e=this.view;e.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),e.stickyPanel.limiterElement=e.element,e.stickyPanel.bind("viewportTopOffset").to(this,"viewportOffset",({top:i})=>i||0),e.toolbar.fillFromConfig(this._toolbarConfig,this.componentFactory),this.addToolbar(e.toolbar)}_initPlaceholder(){const e=this.editor,i=e.editing.view,o=i.document.getRoot(),l=e.sourceElement;let c;const d=e.config.get("placeholder");d&&(c=typeof d=="string"?d:d[this.view.editable.name]),!c&&l&&l.tagName.toLowerCase()==="textarea"&&(c=l.getAttribute("placeholder")),c&&(o.placeholder=c),j1({view:i,element:o,isDirectHost:!1,keepOnFocus:!0})}_handleScrollToTheSelectionWithStickyPanel(e,i,o){const l=this.view.stickyPanel;if(l.isSticky){const c=new ct(l.element).height;i.viewportOffset.top+=c}else{const c=()=>{this.editor.editing.view.scrollToTheSelection(o)};this.listenTo(l,"change:isSticky",c),setTimeout(()=>{this.stopListening(l,"change:isSticky",c)},20)}}}var MI=u(3143),qV={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(MI.Z,qV),MI.Z.locals;class $V extends NV{constructor(e,i,o={}){super(e),this.stickyPanel=new UV(e),this.toolbar=new Tw(e,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),this.editable=new OV(e,i)}render(){super.render(),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}class PI{constructor(e){if(this.crashes=[],this.state="initializing",this._now=Date.now,this.crashes=[],this._crashNumberLimit=typeof e.crashNumberLimit=="number"?e.crashNumberLimit:3,this._minimumNonErrorTimePeriod=typeof e.minimumNonErrorTimePeriod=="number"?e.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=i=>{const o="error"in i?i.error:i.reason;o instanceof Error&&this._handleError(o,i)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}destroy(){this._stopErrorHandling(),this._listeners={}}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){this._listeners[e]=this._listeners[e].filter(o=>o!==i)}_fire(e,...i){const o=this._listeners[e]||[];for(const l of o)l.apply(this,[null,...i])}_startErrorHandling(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}_stopErrorHandling(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}_handleError(e,i){if(this._shouldReactToError(e)){this.crashes.push({message:e.message,stack:e.stack,filename:i instanceof ErrorEvent?i.filename:void 0,lineno:i instanceof ErrorEvent?i.lineno:void 0,colno:i instanceof ErrorEvent?i.colno:void 0,date:this._now()});const o=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:e,causesRestart:o}),o?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}_shouldReactToError(e){return e.is&&e.is("CKEditorError")&&e.context!==void 0&&e.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(e)}_shouldRestart(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}function Ww(a,e=new Set){const i=[a],o=new Set;let l=0;for(;i.length>l;){const c=i[l++];if(!o.has(c)&&GV(c)&&!e.has(c))if(o.add(c),Symbol.iterator in c)try{for(const d of c)i.push(d)}catch{}else for(const d in c)d!=="defaultValue"&&i.push(c[d])}return o}function GV(a){const e=Object.prototype.toString.call(a),i=typeof a;return!(i==="number"||i==="boolean"||i==="string"||i==="symbol"||i==="function"||e==="[object Date]"||e==="[object RegExp]"||e==="[object Module]"||a==null||a._watchdogExcluded||a instanceof EventTarget||a instanceof Event)}function NI(a,e,i=new Set){if(a===e&&typeof(o=a)=="object"&&o!==null)return!0;var o;const l=Ww(a,i),c=Ww(e,i);for(const d of l)if(c.has(d))return!0;return!1}var KV=Object.defineProperty,QV=Object.defineProperties,YV=Object.getOwnPropertyDescriptors,pp=Object.getOwnPropertySymbols,RI=Object.prototype.hasOwnProperty,OI=Object.prototype.propertyIsEnumerable,BI=(a,e,i)=>e in a?KV(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,qw=(a,e)=>{for(var i in e||(e={}))RI.call(e,i)&&BI(a,i,e[i]);if(pp)for(var i of pp(e))OI.call(e,i)&&BI(a,i,e[i]);return a};class LI extends PI{constructor(e,i={}){super(i),this._editor=null,this._initUsingData=!0,this._editables={},this._throttledSave=Uw(this._save.bind(this),typeof i.saveInterval=="number"?i.saveInterval:5e3),e&&(this._creator=(o,l)=>e.create(o,l)),this._destructor=o=>o.destroy()}get editor(){return this._editor}get _item(){return this._editor}setCreator(e){this._creator=e}setDestructor(e){this._destructor=e}_restart(){return Promise.resolve().then(()=>(this.state="initializing",this._fire("stateChange"),this._destroy())).catch(e=>{console.error("An error happened during the editor destroying.",e)}).then(()=>{const e={},i=[],o=this._config.rootsAttributes||{},l={};for(const[g,k]of Object.entries(this._data.roots))k.isLoaded?(e[g]="",l[g]=o[g]||{}):i.push(g);const c=(d=qw({},this._config),f={extraPlugins:this._config.extraPlugins||[],lazyRoots:i,rootsAttributes:l,_watchdogInitialData:this._data},QV(d,YV(f)));var d,f;return delete c.initialData,c.extraPlugins.push(ZV),this._initUsingData?this.create(e,c,c.context):Ln(this._elementOrData)?this.create(this._elementOrData,c,c.context):this.create(this._editables,c,c.context)}).then(()=>{this._fire("restart")})}create(e=this._elementOrData,i=this._config,o){return Promise.resolve().then(()=>(super._startErrorHandling(),this._elementOrData=e,this._initUsingData=typeof e=="string"||Object.keys(e).length>0&&typeof Object.values(e)[0]=="string",this._config=this._cloneEditorConfiguration(i)||{},this._config.context=o,this._creator(e,this._config))).then(l=>{this._editor=l,l.model.document.on("change:data",this._throttledSave),this._lastDocumentVersion=l.model.document.version,this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this.state="ready",this._fire("stateChange")})}destroy(){return Promise.resolve().then(()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling(),this._throttledSave.cancel();const e=this._editor;return this._editor=null,e.model.document.off("change:data",this._throttledSave),this._destructor(e)})}_save(){const e=this._editor.model.document.version;try{this._data=this._getData(),this._initUsingData||(this._editables=this._getEditables()),this._lastDocumentVersion=e}catch(i){console.error(i,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}_setExcludedProperties(e){this._excludedProps=e}_getData(){const e=this._editor,i=e.model.document.roots.filter(f=>f.isAttached()&&f.rootName!="$graveyard"),{plugins:o}=e,l=o.has("CommentsRepository")&&o.get("CommentsRepository"),c=o.has("TrackChanges")&&o.get("TrackChanges"),d={roots:{},markers:{},commentThreads:JSON.stringify([]),suggestions:JSON.stringify([])};i.forEach(f=>{d.roots[f.rootName]={content:JSON.stringify(Array.from(f.getChildren())),attributes:JSON.stringify(Array.from(f.getAttributes())),isLoaded:f._isLoaded}});for(const f of e.model.markers)f._affectsData&&(d.markers[f.name]={rangeJSON:f.getRange().toJSON(),usingOperation:f._managedUsingOperations,affectsData:f._affectsData});return l&&(d.commentThreads=JSON.stringify(l.getCommentThreads({toJSON:!0,skipNotAttached:!0}))),c&&(d.suggestions=JSON.stringify(c.getSuggestions({toJSON:!0,skipNotAttached:!0}))),d}_getEditables(){const e={};for(const i of this.editor.model.document.getRootNames()){const o=this.editor.ui.getEditableElement(i);o&&(e[i]=o)}return e}_isErrorComingFromThisItem(e){return NI(this._editor,e.context,this._excludedProps)}_cloneEditorConfiguration(e){return li(e,(i,o)=>Ln(i)||o==="context"?i:void 0)}}class ZV{constructor(e){this.editor=e,this._data=e.config.get("_watchdogInitialData")}init(){this.editor.data.on("init",e=>{e.stop(),this.editor.model.enqueueChange({isUndoable:!1},i=>{this._restoreCollaborationData(),this._restoreEditorData(i)}),this.editor.data.fire("ready")},{priority:999})}_createNode(e,i){if("name"in i){const o=e.createElement(i.name,i.attributes);if(i.children)for(const l of i.children)o._appendChild(this._createNode(e,l));return o}return e.createText(i.data,i.attributes)}_restoreEditorData(e){const i=this.editor;Object.entries(this._data.roots).forEach(([o,{content:l,attributes:c}])=>{const d=JSON.parse(l),f=JSON.parse(c),g=i.model.document.getRoot(o);for(const[k,w]of f)e.setAttribute(k,w,g);for(const k of d){const w=this._createNode(e,k);e.insert(w,g,"end")}}),Object.entries(this._data.markers).forEach(([o,l])=>{const{document:c}=i.model,d=l,{rangeJSON:{start:f,end:g}}=d,k=((T,S)=>{var B={};for(var V in T)RI.call(T,V)&&S.indexOf(V)<0&&(B[V]=T[V]);if(T!=null&&pp)for(var V of pp(T))S.indexOf(V)<0&&OI.call(T,V)&&(B[V]=T[V]);return B})(d,["rangeJSON"]),w=c.getRoot(f.root),_=e.createPositionFromPath(w,f.path,f.stickiness),y=e.createPositionFromPath(w,g.path,g.stickiness),I=e.createRange(_,y);e.addMarker(o,qw({range:I},k))})}_restoreCollaborationData(){const e=JSON.parse(this._data.commentThreads),i=JSON.parse(this._data.suggestions);e.forEach(o=>{const l=this.editor.config.get("collaboration.channelId"),c=this.editor.plugins.get("CommentsRepository");c.hasCommentThread(o.threadId)&&c.getCommentThread(o.threadId).remove(),c.addCommentThread(qw({channelId:l},o))}),i.forEach(o=>{const l=this.editor.plugins.get("TrackChangesEditing");l.hasSuggestion(o.id)?l.getSuggestion(o.id).attributes=o.attributes:l.addSuggestionData(o)})}}const Bu=Symbol("MainQueueId");class JV{constructor(){this._onEmptyCallbacks=[],this._queues=new Map,this._activeActions=0}onEmpty(e){this._onEmptyCallbacks.push(e)}enqueue(e,i){const o=e===Bu;this._activeActions++,this._queues.get(e)||this._queues.set(e,Promise.resolve());const l=(o?Promise.all(this._queues.values()):Promise.all([this._queues.get(Bu),this._queues.get(e)])).then(i),c=l.catch(()=>{});return this._queues.set(e,c),l.finally(()=>{this._activeActions--,this._queues.get(e)===c&&this._activeActions===0&&this._onEmptyCallbacks.forEach(d=>d())})}}function zI(a){return Array.isArray(a)?a:[a]}class gp extends ap(Iw(H6)){constructor(e,i={}){if(!mp(e)&&i.initialData!==void 0)throw new j("editor-create-initial-data",null);super(i),this.config.get("initialData")===void 0&&this.config.set("initialData",function(c){return mp(c)?(d=c,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):c;var d}(e)),mp(e)&&(this.sourceElement=e),this.model.document.createRoot();const o=!this.config.get("toolbar.shouldNotGroupWhenFull"),l=new $V(this.locale,this.editing.view,{shouldToolbarGroupWhenFull:o});this.ui=new WV(this,l),function(c){if(!cr(c.updateSourceElement))throw new j("attachtoform-missing-elementapi-interface",c);const d=c.sourceElement;if(function(f){return!!f&&f.tagName.toLowerCase()==="textarea"}(d)&&d.form){let f;const g=d.form,k=()=>c.updateSourceElement();cr(g.submit)&&(f=g.submit,g.submit=()=>{k(),f.apply(g)}),g.addEventListener("submit",k),c.on("destroy",()=>{g.removeEventListener("submit",k),f&&(g.submit=f)})}}(this)}destroy(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),super.destroy()}static create(e,i={}){return new Promise(o=>{const l=new this(e,i);o(l.initPlugins().then(()=>l.ui.init(mp(e)?e:null)).then(()=>l.data.init(l.config.get("initialData"))).then(()=>l.fire("ready")).then(()=>l))})}}function mp(a){return Ln(a)}gp.Context=L1,gp.EditorWatchdog=LI,gp.ContextWatchdog=class extends PI{constructor(a,e={}){super(e),this._watchdogs=new Map,this._context=null,this._contextProps=new Set,this._actionQueues=new JV,this._watchdogConfig=e,this._creator=i=>a.create(i),this._destructor=i=>i.destroy(),this._actionQueues.onEmpty(()=>{this.state==="initializing"&&(this.state="ready",this._fire("stateChange"))})}setCreator(a){this._creator=a}setDestructor(a){this._destructor=a}get context(){return this._context}create(a={}){return this._actionQueues.enqueue(Bu,()=>(this._contextConfig=a,this._create()))}getItem(a){return this._getWatchdog(a)._item}getItemState(a){return this._getWatchdog(a).state}add(a){const e=zI(a);return Promise.all(e.map(i=>this._actionQueues.enqueue(i.id,()=>{if(this.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!this._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");let o;if(this._watchdogs.has(i.id))throw new Error(`Item with the given id is already added: '${i.id}'.`);if(i.type==="editor")return o=new LI(null,this._watchdogConfig),o.setCreator(i.creator),o._setExcludedProperties(this._contextProps),i.destructor&&o.setDestructor(i.destructor),this._watchdogs.set(i.id,o),o.on("error",(l,{error:c,causesRestart:d})=>{this._fire("itemError",{itemId:i.id,error:c}),d&&this._actionQueues.enqueue(i.id,()=>new Promise(f=>{const g=()=>{o.off("restart",g),this._fire("itemRestart",{itemId:i.id}),f()};o.on("restart",g)}))}),o.create(i.sourceElementOrData,i.config,this._context);throw new Error(`Not supported item type: '${i.type}'.`)})))}remove(a){const e=zI(a);return Promise.all(e.map(i=>this._actionQueues.enqueue(i,()=>{const o=this._getWatchdog(i);return this._watchdogs.delete(i),o.destroy()})))}destroy(){return this._actionQueues.enqueue(Bu,()=>(this.state="destroyed",this._fire("stateChange"),super.destroy(),this._destroy()))}_restart(){return this._actionQueues.enqueue(Bu,()=>(this.state="initializing",this._fire("stateChange"),this._destroy().catch(a=>{console.error("An error happened during destroying the context or items.",a)}).then(()=>this._create()).then(()=>this._fire("restart"))))}_create(){return Promise.resolve().then(()=>(this._startErrorHandling(),this._creator(this._contextConfig))).then(a=>(this._context=a,this._contextProps=Ww(this._context),Promise.all(Array.from(this._watchdogs.values()).map(e=>(e._setExcludedProperties(this._contextProps),e.create(void 0,void 0,this._context))))))}_destroy(){return Promise.resolve().then(()=>{this._stopErrorHandling();const a=this._context;return this._context=null,this._contextProps=new Set,Promise.all(Array.from(this._watchdogs.values()).map(e=>e.destroy())).then(()=>this._destructor(a))})}_getWatchdog(a){const e=this._watchdogs.get(a);if(!e)throw new Error(`Item with the given id was not registered: ${a}.`);return e}_isErrorComingFromThisItem(a){for(const e of this._watchdogs.values())if(e._isErrorComingFromThisItem(a))return!1;return NI(this._context,a.context)}};class $w extends Lo{constructor(e){super(e),this.domEventType=["paste","copy","cut","drop","dragover","dragstart","dragend","dragenter","dragleave"];const i=this.document;function o(l){return(c,d)=>{d.preventDefault();const f=d.dropRange?[d.dropRange]:null,g=new O(i,l);i.fire(g,{dataTransfer:d.dataTransfer,method:c.name,targetRanges:f,target:d.target,domEvent:d.domEvent}),g.stop.called&&d.stopPropagation()}}this.listenTo(i,"paste",o("clipboardInput"),{priority:"low"}),this.listenTo(i,"drop",o("clipboardInput"),{priority:"low"}),this.listenTo(i,"dragover",o("dragging"),{priority:"low"})}onDomEvent(e){const i="clipboardData"in e?e.clipboardData:e.dataTransfer,o=e.type=="drop"||e.type=="paste",l={dataTransfer:new xE(i,{cacheFiles:o})};e.type!="drop"&&e.type!="dragover"||(l.dropRange=function(c,d){const f=d.target.ownerDocument,g=d.clientX,k=d.clientY;let w;return f.caretRangeFromPoint&&f.caretRangeFromPoint(g,k)?w=f.caretRangeFromPoint(g,k):d.rangeParent&&(w=f.createRange(),w.setStart(d.rangeParent,d.rangeOffset),w.collapse(!0)),w?c.domConverter.domRangeToView(w):null}(this.view,e)),this.fire(e.type,e,l)}}const jI=["figcaption","li"];function VI(a){let e="";if(a.is("$text")||a.is("$textProxy"))e=a.data;else if(a.is("element","img")&&a.hasAttribute("alt"))e=a.getAttribute("alt");else if(a.is("element","br"))e=`
`;else{let i=null;for(const o of a.getChildren()){const l=VI(o);i&&(i.is("containerElement")||o.is("containerElement"))&&(jI.includes(i.name)||jI.includes(o.name)?e+=`
`:e+=`

`),e+=l,i=o}}return e}class vr extends ie{static get pluginName(){return"ClipboardPipeline"}init(){this.editor.editing.view.addObserver($w),this._setupPasteDrop(),this._setupCopyCut()}_setupPasteDrop(){const e=this.editor,i=e.model,o=e.editing.view,l=o.document;this.listenTo(l,"clipboardInput",(c,d)=>{d.method!="paste"||e.model.canEditAt(e.model.document.selection)||c.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",(c,d)=>{const f=d.dataTransfer;let g;if(d.content)g=d.content;else{let _="";f.getData("text/html")?_=function(y){return y.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(I,T)=>T.length==1?" ":T).replace(/<!--[\s\S]*?-->/g,"")}(f.getData("text/html")):f.getData("text/plain")&&(((k=(k=f.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\r?\n\r?\n/g,"</p><p>").replace(/\r?\n/g,"<br>").replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).includes("</p><p>")||k.includes("<br>"))&&(k=`<p>${k}</p>`),_=k),g=this.editor.data.htmlProcessor.toView(_)}var k;const w=new O(this,"inputTransformation");this.fire(w,{content:g,dataTransfer:f,targetRanges:d.targetRanges,method:d.method}),w.stop.called&&c.stop(),o.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",(c,d)=>{if(d.content.isEmpty)return;const f=this.editor.data.toModel(d.content,"$clipboardHolder");f.childCount!=0&&(c.stop(),i.change(()=>{this.fire("contentInsertion",{content:f,method:d.method,dataTransfer:d.dataTransfer,targetRanges:d.targetRanges})}))},{priority:"low"}),this.listenTo(this,"contentInsertion",(c,d)=>{d.resultRange=i.insertContent(d.content)},{priority:"low"})}_setupCopyCut(){const e=this.editor,i=e.model.document,o=e.editing.view.document,l=(c,d)=>{const f=d.dataTransfer;d.preventDefault();const g=e.data.toView(e.model.getSelectedContent(i.selection));o.fire("clipboardOutput",{dataTransfer:f,content:g,method:c.name})};this.listenTo(o,"copy",l,{priority:"low"}),this.listenTo(o,"cut",(c,d)=>{e.model.canEditAt(e.model.document.selection)?l(c,d):d.preventDefault()},{priority:"low"}),this.listenTo(o,"clipboardOutput",(c,d)=>{d.content.isEmpty||(d.dataTransfer.setData("text/html",this.editor.data.htmlProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",VI(d.content))),d.method=="cut"&&e.model.deleteContent(i.selection)},{priority:"low"})}}class FI{constructor(e,i=20){this._batch=null,this.model=e,this._size=0,this.limit=i,this._isLocked=!1,this._changeCallback=(o,l)=>{l.isLocal&&l.isUndoable&&l!==this._batch&&this._reset(!0)},this._selectionChangeCallback=()=>{this._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}get batch(){return this._batch||(this._batch=this.model.createBatch({isTyping:!0})),this._batch}get size(){return this._size}input(e){this._size+=e,this._size>=this.limit&&this._reset(!0)}get isLocked(){return this._isLocked}lock(){this._isLocked=!0}unlock(){this._isLocked=!1}destroy(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}_reset(e=!1){this.isLocked&&!e||(this._batch=null,this._size=0)}}class XV extends Be{constructor(e,i){super(e),this._buffer=new FI(e.model,i),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}destroy(){super.destroy(),this._buffer.destroy()}execute(e={}){const i=this.editor.model,o=i.document,l=e.text||"",c=l.length;let d=o.selection;if(e.selection?d=e.selection:e.range&&(d=i.createSelection(e.range)),!i.canEditAt(d))return;const f=e.resultRange;i.enqueueChange(this._buffer.batch,g=>{this._buffer.lock(),i.deleteContent(d),l&&i.insertContent(g.createText(l,o.selection.getAttributes()),d),f?g.setSelection(f):d.is("documentSelection")||g.setSelection(d),this._buffer.unlock(),this._buffer.input(c)})}}const UI=["insertText","insertReplacementText"];class e9 extends wr{constructor(e){super(e),this.focusObserver=e.getObserver(np),C.isAndroid&&UI.push("insertCompositionText");const i=e.document;i.on("beforeinput",(o,l)=>{if(!this.isEnabled)return;const{data:c,targetRanges:d,inputType:f,domEvent:g}=l;if(!UI.includes(f))return;this.focusObserver.flush();const k=new O(i,"insertText");i.fire(k,new pl(e,g,{text:c,selection:e.createSelection(d)})),k.stop.called&&o.stop()}),i.on("compositionend",(o,{data:l,domEvent:c})=>{this.isEnabled&&!C.isAndroid&&l&&i.fire("insertText",new pl(e,c,{text:l,selection:i.selection}))},{priority:"lowest"})}observe(){}stopObserving(){}}class HI extends ie{static get pluginName(){return"Input"}init(){const e=this.editor,i=e.model,o=e.editing.view,l=i.document.selection;o.addObserver(e9);const c=new XV(e,e.config.get("typing.undoStep")||20);e.commands.add("insertText",c),e.commands.add("input",c),this.listenTo(o.document,"insertText",(d,f)=>{o.document.isComposing||f.preventDefault();const{text:g,selection:k,resultRange:w}=f,_=Array.from(k.getRanges()).map(T=>e.editing.mapper.toModelRange(T));let y=g;if(C.isAndroid){const T=Array.from(_[0].getItems()).reduce((S,B)=>S+(B.is("$textProxy")?B.data:""),"");T&&(T.length<=y.length?y.startsWith(T)&&(y=y.substring(T.length),_[0].start=_[0].start.getShiftedBy(T.length)):T.startsWith(y)&&(_[0].start=_[0].start.getShiftedBy(y.length),y=""))}const I={text:y,selection:i.createSelection(_)};w&&(I.resultRange=e.editing.mapper.toModelRange(w)),e.execute("insertText",I),o.scrollToTheSelection()}),C.isAndroid?this.listenTo(o.document,"keydown",(d,f)=>{!l.isCollapsed&&f.keyCode==229&&o.document.isComposing&&WI(i,c)}):this.listenTo(o.document,"compositionstart",()=>{l.isCollapsed||WI(i,c)})}}function WI(a,e){if(!e.isEnabled)return;const i=e.buffer;i.lock(),a.enqueueChange(i.batch,()=>{a.deleteContent(a.document.selection)}),i.unlock()}class qI extends Be{constructor(e,i){super(e),this.direction=i,this._buffer=new FI(e.model,e.config.get("typing.undoStep")),this._isEnabledBasedOnSelection=!1}get buffer(){return this._buffer}execute(e={}){const i=this.editor.model,o=i.document;i.enqueueChange(this._buffer.batch,l=>{this._buffer.lock();const c=l.createSelection(e.selection||o.selection);if(!i.canEditAt(c))return;const d=e.sequence||1,f=c.isCollapsed;if(c.isCollapsed&&i.modifySelection(c,{direction:this.direction,unit:e.unit,treatEmojiAsSingleUnit:!0}),this._shouldEntireContentBeReplacedWithParagraph(d))return void this._replaceEntireContentWithParagraph(l);if(this._shouldReplaceFirstBlockWithParagraph(c,d))return void this.editor.execute("paragraph",{selection:c});if(c.isCollapsed)return;let g=0;c.getFirstRange().getMinimalFlatRanges().forEach(k=>{g+=Qc(k.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),i.deleteContent(c,{doNotResetEntireContent:f,direction:this.direction}),this._buffer.input(g),l.setSelection(c),this._buffer.unlock()})}_shouldEntireContentBeReplacedWithParagraph(e){if(e>1)return!1;const i=this.editor.model,o=i.document.selection,l=i.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(l))||!i.schema.checkChild(l,"paragraph"))return!1;const c=l.getChild(0);return!c||!c.is("element","paragraph")}_replaceEntireContentWithParagraph(e){const i=this.editor.model,o=i.document.selection,l=i.schema.getLimitElement(o),c=e.createElement("paragraph");e.remove(e.createRangeIn(l)),e.insert(c,l),e.setSelection(c,0)}_shouldReplaceFirstBlockWithParagraph(e,i){const o=this.editor.model;if(i>1||this.direction!="backward"||!e.isCollapsed)return!1;const l=e.getFirstPosition(),c=o.schema.getLimitElement(l),d=c.getChild(0);return l.parent==d&&!!e.containsEntireContent(d)&&!!o.schema.checkChild(c,"paragraph")&&d.name!="paragraph"}}const $I="word",Uo="selection",_l="backward",Lu="forward",GI={deleteContent:{unit:Uo,direction:_l},deleteContentBackward:{unit:"codePoint",direction:_l},deleteWordBackward:{unit:$I,direction:_l},deleteHardLineBackward:{unit:Uo,direction:_l},deleteSoftLineBackward:{unit:Uo,direction:_l},deleteContentForward:{unit:"character",direction:Lu},deleteWordForward:{unit:$I,direction:Lu},deleteHardLineForward:{unit:Uo,direction:Lu},deleteSoftLineForward:{unit:Uo,direction:Lu}};class t9 extends wr{constructor(e){super(e);const i=e.document;let o=0;i.on("keydown",()=>{o++}),i.on("keyup",()=>{o=0}),i.on("beforeinput",(l,c)=>{if(!this.isEnabled)return;const{targetRanges:d,domEvent:f,inputType:g}=c,k=GI[g];if(!k)return;const w={direction:k.direction,unit:k.unit,sequence:o};w.unit==Uo&&(w.selectionToRemove=e.createSelection(d[0])),g==="deleteContentBackward"&&(C.isAndroid&&(w.sequence=1),function(y){if(y.length!=1||y[0].isCollapsed)return!1;const I=y[0].getWalker({direction:"backward",singleCharacters:!0,ignoreElementEnd:!0});let T=0;for(const{nextPosition:S}of I){if(S.parent.is("$text")){const B=S.parent.data,V=S.offset;if(jb(B,V)||Vb(B,V)||l1(B,V))continue;T++}else T++;if(T>1)return!0}return!1}(d)&&(w.unit=Uo,w.selectionToRemove=e.createSelection(d)));const _=new hl(i,"delete",d[0]);i.fire(_,new pl(e,f,w)),_.stop.called&&l.stop()}),C.isBlink&&function(l){const c=l.view,d=c.document;let f=null,g=!1;function k(_){return _==Ue.backspace||_==Ue.delete}function w(_){return _==Ue.backspace?_l:Lu}d.on("keydown",(_,{keyCode:y})=>{f=y,g=!1}),d.on("keyup",(_,{keyCode:y,domEvent:I})=>{const T=d.selection,S=l.isEnabled&&y==f&&k(y)&&!T.isCollapsed&&!g;if(f=null,S){const B=T.getFirstRange(),V=new hl(d,"delete",B),H={unit:Uo,direction:w(y),selectionToRemove:T};d.fire(V,new pl(c,I,H))}}),d.on("beforeinput",(_,{inputType:y})=>{const I=GI[y];k(f)&&I&&I.direction==w(f)&&(g=!0)},{priority:"high"}),d.on("beforeinput",(_,{inputType:y,data:I})=>{f==Ue.delete&&y=="insertText"&&I==""&&_.stop()},{priority:"high"})}(this)}observe(){}stopObserving(){}}class Qr extends ie{static get pluginName(){return"Delete"}init(){const e=this.editor,i=e.editing.view,o=i.document,l=e.model.document;i.addObserver(t9),this._undoOnBackspace=!1;const c=new qI(e,"forward");e.commands.add("deleteForward",c),e.commands.add("forwardDelete",c),e.commands.add("delete",new qI(e,"backward")),this.listenTo(o,"delete",(d,f)=>{o.isComposing||f.preventDefault();const{direction:g,sequence:k,selectionToRemove:w,unit:_}=f,y=g==="forward"?"deleteForward":"delete",I={sequence:k};if(_=="selection"){const T=Array.from(w.getRanges()).map(S=>e.editing.mapper.toModelRange(S));I.selection=e.model.createSelection(T)}else I.unit=_;e.execute(y,I),i.scrollToTheSelection()},{priority:"low"}),this.editor.plugins.has("UndoEditing")&&(this.listenTo(o,"delete",(d,f)=>{this._undoOnBackspace&&f.direction=="backward"&&f.sequence==1&&f.unit=="codePoint"&&(this._undoOnBackspace=!1,e.execute("undo"),f.preventDefault(),d.stop())},{context:"$capture"}),this.listenTo(l,"change",()=>{this._undoOnBackspace=!1}))}requestUndoOnBackspace(){this.editor.plugins.has("UndoEditing")&&(this._undoOnBackspace=!0)}}class n9 extends ie{static get requires(){return[HI,Qr]}static get pluginName(){return"Typing"}}function KI(a,e){let i=a.start;return{text:Array.from(a.getWalker({ignoreElementEnd:!1})).reduce((o,{item:l})=>l.is("$text")||l.is("$textProxy")?o+l.data:(i=e.createPositionAfter(l),""),""),range:e.createRange(i,a.end)}}class QI extends Xe(){constructor(e,i){super(),this.model=e,this.testCallback=i,this._hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",()=>{this.isEnabled?this._startListening():(this.stopListening(e.document.selection),this.stopListening(e.document))}),this._startListening()}get hasMatch(){return this._hasMatch}_startListening(){const e=this.model.document;this.listenTo(e.selection,"change:range",(i,{directChange:o})=>{o&&(e.selection.isCollapsed?this._evaluateTextBeforeSelection("selection"):this.hasMatch&&(this.fire("unmatched"),this._hasMatch=!1))}),this.listenTo(e,"change:data",(i,o)=>{!o.isUndo&&o.isLocal&&this._evaluateTextBeforeSelection("data",{batch:o})})}_evaluateTextBeforeSelection(e,i={}){const o=this.model,l=o.document.selection,c=o.createRange(o.createPositionAt(l.focus.parent,0),l.focus),{text:d,range:f}=KI(c,o),g=this.testCallback(d);if(!g&&this.hasMatch&&this.fire("unmatched"),this._hasMatch=!!g,g){const k=Object.assign(i,{text:d,range:f});typeof g=="object"&&Object.assign(k,g),this.fire(`matched:${e}`,k)}}}class YI extends ie{constructor(e){super(e),this.attributes=new Set,this._overrideUid=null}static get pluginName(){return"TwoStepCaretMovement"}init(){const e=this.editor,i=e.model,o=e.editing.view,l=e.locale,c=i.document.selection;this.listenTo(o.document,"arrowKey",(d,f)=>{if(!c.isCollapsed||f.shiftKey||f.altKey||f.ctrlKey)return;const g=f.keyCode==Ue.arrowright,k=f.keyCode==Ue.arrowleft;if(!g&&!k)return;const w=l.contentLanguageDirection;let _=!1;_=w==="ltr"&&g||w==="rtl"&&k?this._handleForwardMovement(f):this._handleBackwardMovement(f),_===!0&&d.stop()},{context:"$text",priority:"highest"}),this._isNextGravityRestorationSkipped=!1,this.listenTo(c,"change:range",(d,f)=>{this._isNextGravityRestorationSkipped?this._isNextGravityRestorationSkipped=!1:this._isGravityOverridden&&(!f.directChange&&bp(c.getFirstPosition(),this.attributes)||this._restoreGravity())})}registerAttribute(e){this.attributes.add(e)}_handleForwardMovement(e){const i=this.attributes,o=this.editor.model.document.selection,l=o.getFirstPosition();return!this._isGravityOverridden&&(!l.isAtStart||!Gw(o,i))&&!!bp(l,i)&&(kp(e),this._overrideGravity(),!0)}_handleBackwardMovement(e){const i=this.attributes,o=this.editor.model,l=o.document.selection,c=l.getFirstPosition();return this._isGravityOverridden?(kp(e),this._restoreGravity(),Kw(o,i,c),!0):c.isAtStart?!!Gw(l,i)&&(kp(e),Kw(o,i,c),!0):!!function(d,f){const g=d.getShiftedBy(-1);return bp(g,f)}(c,i)&&(c.isAtEnd&&!Gw(l,i)&&bp(c,i)?(kp(e),Kw(o,i,c),!0):(this._isNextGravityRestorationSkipped=!0,this._overrideGravity(),!1))}get _isGravityOverridden(){return!!this._overrideUid}_overrideGravity(){this._overrideUid=this.editor.model.change(e=>e.overrideSelectionGravity())}_restoreGravity(){this.editor.model.change(e=>{e.restoreSelectionGravity(this._overrideUid),this._overrideUid=null})}}function Gw(a,e){for(const i of e)if(a.hasAttribute(i))return!0;return!1}function Kw(a,e,i){const o=i.nodeBefore;a.change(l=>{if(o){const c=[],d=a.schema.isObject(o)&&a.schema.isInline(o);for(const[f,g]of o.getAttributes())!a.schema.checkAttribute("$text",f)||d&&a.schema.getAttributeProperties(f).copyFromObject===!1||c.push([f,g]);l.setSelectionAttribute(c)}else l.removeSelectionAttribute(e)})}function kp(a){a.preventDefault()}function bp(a,e){const{nodeBefore:i,nodeAfter:o}=a;for(const l of e){const c=i?i.getAttribute(l):void 0;if((o?o.getAttribute(l):void 0)!==c)return!0}return!1}var ZI=/[\\^$.*+?()[\]{}|]/g,i9=RegExp(ZI.source);const r9=function(a){return(a=Yb(a))&&i9.test(a)?a.replace(ZI,"\\$&"):a},JI={copyright:{from:"(c)",to:""},registeredTrademark:{from:"(r)",to:""},trademark:{from:"(tm)",to:""},oneHalf:{from:/(^|[^/a-z0-9])(1\/2)([^/a-z0-9])$/i,to:[null,"",null]},oneThird:{from:/(^|[^/a-z0-9])(1\/3)([^/a-z0-9])$/i,to:[null,"",null]},twoThirds:{from:/(^|[^/a-z0-9])(2\/3)([^/a-z0-9])$/i,to:[null,"",null]},oneForth:{from:/(^|[^/a-z0-9])(1\/4)([^/a-z0-9])$/i,to:[null,"",null]},threeQuarters:{from:/(^|[^/a-z0-9])(3\/4)([^/a-z0-9])$/i,to:[null,"",null]},lessThanOrEqual:{from:"<=",to:""},greaterThanOrEqual:{from:">=",to:""},notEqual:{from:"!=",to:""},arrowLeft:{from:"<-",to:""},arrowRight:{from:"->",to:""},horizontalEllipsis:{from:"...",to:""},enDash:{from:/(^| )(--)( )$/,to:[null,"",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"",null]},quotesPrimary:{from:Al('"'),to:[null,"",null,""]},quotesSecondary:{from:Al("'"),to:[null,"",null,""]},quotesPrimaryEnGb:{from:Al("'"),to:[null,"",null,""]},quotesSecondaryEnGb:{from:Al('"'),to:[null,"",null,""]},quotesPrimaryPl:{from:Al('"'),to:[null,"",null,""]},quotesSecondaryPl:{from:Al("'"),to:[null,"",null,""]}},XI={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},o9=["symbols","mathematical","typography","quotes"];function s9(a){return typeof a=="string"?new RegExp(`(${r9(a)})$`):a}function a9(a){return typeof a=="string"?()=>[a]:a instanceof Array?()=>a:a}function l9(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Al(a){return new RegExp(`(^|\\s)(${a})([^${a}]*)(${a})$`)}function vl(a,e,i,o){return o.createRange(eT(a,e,i,!0,o),eT(a,e,i,!1,o))}function eT(a,e,i,o,l){let c=a.textNode||(o?a.nodeBefore:a.nodeAfter),d=null;for(;c&&c.getAttribute(e)==i;)d=c,c=o?c.previousSibling:c.nextSibling;return d?l.createPositionAt(d,o?"before":"after"):a}function*tT(a,e){for(const i of e)i&&a.getAttributeProperties(i[0]).copyOnEnter&&(yield i)}class c9 extends Be{execute(){this.editor.model.change(e=>{this.enterBlock(e),this.fire("afterExecute",{writer:e})})}enterBlock(e){const i=this.editor.model,o=i.document.selection,l=i.schema,c=o.isCollapsed,d=o.getFirstRange(),f=d.start.parent,g=d.end.parent;if(l.isLimit(f)||l.isLimit(g))return c||f!=g||i.deleteContent(o),!1;if(c){const k=tT(e.model.schema,o.getAttributes());return nT(e,d.start),e.setSelectionAttribute(k),!0}{const k=!(d.start.isAtStart&&d.end.isAtEnd),w=f==g;if(i.deleteContent(o,{leaveUnmerged:k}),k){if(w)return nT(e,o.focus),!0;e.setSelection(g,0)}}return!1}}function nT(a,e){a.split(e),a.setSelection(e.parent.nextSibling,0)}const u9={insertParagraph:{isSoft:!1},insertLineBreak:{isSoft:!0}};class iT extends wr{constructor(e){super(e);const i=this.document;let o=!1;i.on("keydown",(l,c)=>{o=c.shiftKey}),i.on("beforeinput",(l,c)=>{if(!this.isEnabled)return;let d=c.inputType;C.isSafari&&o&&d=="insertParagraph"&&(d="insertLineBreak");const f=c.domEvent,g=u9[d];if(!g)return;const k=new hl(i,"enter",c.targetRanges[0]);i.fire(k,new pl(e,f,{isSoft:g.isSoft})),k.stop.called&&l.stop()})}observe(){}stopObserving(){}}class wp extends ie{static get pluginName(){return"Enter"}init(){const e=this.editor,i=e.editing.view,o=i.document;i.addObserver(iT),e.commands.add("enter",new c9(e)),this.listenTo(o,"enter",(l,c)=>{o.isComposing||c.preventDefault(),c.isSoft||(e.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}class d9 extends Be{execute(){const e=this.editor.model,i=e.document;e.change(o=>{(function(l,c,d){const f=d.isCollapsed,g=d.getFirstRange(),k=g.start.parent,w=g.end.parent,_=k==w;if(f){const y=tT(l.schema,d.getAttributes());rT(l,c,g.end),c.removeSelectionAttribute(d.getAttributeKeys()),c.setSelectionAttribute(y)}else{const y=!(g.start.isAtStart&&g.end.isAtEnd);l.deleteContent(d,{leaveUnmerged:y}),_?rT(l,c,d.focus):y&&c.setSelection(w,0)}})(e,o,i.selection),this.fire("afterExecute",{writer:o})})}refresh(){const e=this.editor.model,i=e.document;this.isEnabled=function(o,l){if(l.rangeCount>1)return!1;const c=l.anchor;if(!c||!o.checkChild(c,"softBreak"))return!1;const d=l.getFirstRange(),f=d.start.parent,g=d.end.parent;return!((Qw(f,o)||Qw(g,o))&&f!==g)}(e.schema,i.selection)}}function rT(a,e,i){const o=e.createElement("softBreak");a.insertContent(o,i),e.setSelection(o,"after")}function Qw(a,e){return!a.is("rootElement")&&(e.isLimit(a)||Qw(a.parent,e))}class h9 extends ie{static get pluginName(){return"ShiftEnter"}init(){const e=this.editor,i=e.model.schema,o=e.conversion,l=e.editing.view,c=l.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:(d,{writer:f})=>f.createEmptyElement("br")}),l.addObserver(iT),e.commands.add("shiftEnter",new d9(e)),this.listenTo(c,"enter",(d,f)=>{c.isComposing||f.preventDefault(),f.isSoft&&(e.execute("shiftEnter"),l.scrollToTheSelection())},{priority:"low"})}}class f9 extends ce(){constructor(){super(...arguments),this._stack=[]}add(e,i){const o=this._stack,l=o[0];this._insertDescriptor(e);const c=o[0];l===c||Yw(l,c)||this.fire("change:top",{oldDescriptor:l,newDescriptor:c,writer:i})}remove(e,i){const o=this._stack,l=o[0];this._removeDescriptor(e);const c=o[0];l===c||Yw(l,c)||this.fire("change:top",{oldDescriptor:l,newDescriptor:c,writer:i})}_insertDescriptor(e){const i=this._stack,o=i.findIndex(c=>c.id===e.id);if(Yw(e,i[o]))return;o>-1&&i.splice(o,1);let l=0;for(;i[l]&&p9(i[l],e);)l++;i.splice(l,0,e)}_removeDescriptor(e){const i=this._stack,o=i.findIndex(l=>l.id===e);o>-1&&i.splice(o,1)}}function Yw(a,e){return a&&e&&a.priority==e.priority&&_p(a.classes)==_p(e.classes)}function p9(a,e){return a.priority>e.priority||!(a.priority<e.priority)&&_p(a.classes)>_p(e.classes)}function _p(a){return Array.isArray(a)?a.sort().join(","):a}const g9='<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>',m9="ck-widget",oT="ck-widget_selected";function Et(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Zw(a,e,i={}){if(!a.is("containerElement"))throw new j("widget-to-widget-wrong-element-type",null,{element:a});return e.setAttribute("contenteditable","false",a),e.addClass(m9,a),e.setCustomProperty("widget",!0,a),a.getFillerOffset=w9,e.setCustomProperty("widgetLabel",[],a),i.label&&function(o,l){o.getCustomProperty("widgetLabel").push(l)}(a,i.label),i.hasSelectionHandle&&function(o,l){const c=l.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(d){const f=this.toDomElement(d),g=new ul;return g.set("content",g9),g.render(),f.appendChild(g.element),f});l.insert(l.createPositionAt(o,0),c),l.addClass(["ck-widget_with-selection-handle"],o)}(a,e),sT(a,e),a}function k9(a,e,i){if(e.classes&&i.addClass(nn(e.classes),a),e.attributes)for(const o in e.attributes)i.setAttribute(o,e.attributes[o],a)}function b9(a,e,i){if(e.classes&&i.removeClass(nn(e.classes),a),e.attributes)for(const o in e.attributes)i.removeAttribute(o,a)}function sT(a,e,i=k9,o=b9){const l=new f9;l.on("change:top",(c,d)=>{d.oldDescriptor&&o(a,d.oldDescriptor,d.writer),d.newDescriptor&&i(a,d.newDescriptor,d.writer)}),e.setCustomProperty("addHighlight",(c,d,f)=>l.add(d,f),a),e.setCustomProperty("removeHighlight",(c,d,f)=>l.remove(d,f),a)}function aT(a,e,i={}){return e.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),e.setAttribute("role","textbox",a),i.label&&e.setAttribute("aria-label",i.label,a),e.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",(o,l,c)=>{e.setAttribute("contenteditable",c?"false":"true",a)}),a.on("change:isFocused",(o,l,c)=>{c?e.addClass("ck-editor__nested-editable_focused",a):e.removeClass("ck-editor__nested-editable_focused",a)}),sT(a,e),a}function lT(a,e){const i=a.getSelectedElement();if(i){const o=Ho(a);if(o)return e.createRange(e.createPositionAt(i,o))}return jx(a,e)}function w9(){return null}const Yr="widget-type-around";function oa(a,e,i){return!!a&&Et(a)&&!i.isInline(e)}function Ho(a){return a.getAttribute(Yr)}var cT=u(4921),_9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(cT.Z,_9),cT.Z.locals;const uT=["before","after"],A9=new DOMParser().parseFromString('<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><path d="M9.055.263v3.972h-6.77M1 4.216l2-2.038m-2 2 2 2.038"/></svg>',"image/svg+xml").firstChild,dT="ck-widget__type-around_disabled";class v9 extends ie{constructor(){super(...arguments),this._currentFakeCaretModelElement=null}static get pluginName(){return"WidgetTypeAround"}static get requires(){return[wp,Qr]}init(){const e=this.editor,i=e.editing.view;this.on("change:isEnabled",(o,l,c)=>{i.change(d=>{for(const f of i.document.roots)c?d.removeClass(dT,f):d.addClass(dT,f)}),c||e.model.change(d=>{d.removeSelectionAttribute(Yr)})}),this._enableTypeAroundUIInjection(),this._enableInsertingParagraphsOnButtonClick(),this._enableInsertingParagraphsOnEnterKeypress(),this._enableInsertingParagraphsOnTypingKeystroke(),this._enableTypeAroundFakeCaretActivationUsingKeyboardArrows(),this._enableDeleteIntegration(),this._enableInsertContentIntegration(),this._enableInsertObjectIntegration(),this._enableDeleteContentIntegration()}destroy(){super.destroy(),this._currentFakeCaretModelElement=null}_insertParagraph(e,i){const o=this.editor,l=o.editing.view,c=o.model.schema.getAttributesWithProperty(e,"copyOnReplace",!0);o.execute("insertParagraph",{position:o.model.createPositionAt(e,i),attributes:c}),l.focus(),l.scrollToTheSelection()}_listenToIfEnabled(e,i,o,l){this.listenTo(e,i,(...c)=>{this.isEnabled&&o(...c)},l)}_insertParagraphAccordingToFakeCaretPosition(){const e=this.editor.model.document.selection,i=Ho(e);if(!i)return!1;const o=e.getSelectedElement();return this._insertParagraph(o,i),!0}_enableTypeAroundUIInjection(){const e=this.editor,i=e.model.schema,o=e.locale.t,l={before:o("Insert paragraph before block"),after:o("Insert paragraph after block")};e.editing.downcastDispatcher.on("insert",(c,d,f)=>{const g=f.mapper.toViewElement(d.item);g&&oa(g,d.item,i)&&(function(k,w,_){const y=k.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(I){const T=this.toDomElement(I);return function(S,B){for(const V of uT){const H=new zi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button",`ck-widget__type-around__button_${V}`],title:B[V],"aria-hidden":"true"},children:[S.ownerDocument.importNode(A9,!0)]});S.appendChild(H.render())}}(T,w),function(S){const B=new zi({tag:"div",attributes:{class:["ck","ck-widget__type-around__fake-caret"]}});S.appendChild(B.render())}(T),T});k.insert(k.createPositionAt(_,"end"),y)}(f.writer,l,g),g.getCustomProperty("widgetLabel").push(()=>this.isEnabled?o("Press Enter to type after or press Shift + Enter to type before the widget"):""))},{priority:"low"})}_enableTypeAroundFakeCaretActivationUsingKeyboardArrows(){const e=this.editor,i=e.model,o=i.document.selection,l=i.schema,c=e.editing.view;function d(f){return`ck-widget_type-around_show-fake-caret_${f}`}this._listenToIfEnabled(c.document,"arrowKey",(f,g)=>{this._handleArrowKeyPress(f,g)},{context:[Et,"$text"],priority:"high"}),this._listenToIfEnabled(o,"change:range",(f,g)=>{g.directChange&&e.model.change(k=>{k.removeSelectionAttribute(Yr)})}),this._listenToIfEnabled(i.document,"change:data",()=>{const f=o.getSelectedElement();f&&oa(e.editing.mapper.toViewElement(f),f,l)||e.model.change(g=>{g.removeSelectionAttribute(Yr)})}),this._listenToIfEnabled(e.editing.downcastDispatcher,"selection",(f,g,k)=>{const w=k.writer;if(this._currentFakeCaretModelElement){const T=k.mapper.toViewElement(this._currentFakeCaretModelElement);T&&(w.removeClass(uT.map(d),T),this._currentFakeCaretModelElement=null)}const _=g.selection.getSelectedElement();if(!_)return;const y=k.mapper.toViewElement(_);if(!oa(y,_,l))return;const I=Ho(g.selection);I&&(w.addClass(d(I),y),this._currentFakeCaretModelElement=_)}),this._listenToIfEnabled(e.ui.focusTracker,"change:isFocused",(f,g,k)=>{k||e.model.change(w=>{w.removeSelectionAttribute(Yr)})})}_handleArrowKeyPress(e,i){const o=this.editor,l=o.model,c=l.document.selection,d=l.schema,f=o.editing.view,g=function(_,y){const I=Lb(_,y);return I==="down"||I==="right"}(i.keyCode,o.locale.contentLanguageDirection),k=f.document.selection.getSelectedElement();let w;oa(k,o.editing.mapper.toModelElement(k),d)?w=this._handleArrowKeyPressOnSelectedWidget(g):c.isCollapsed?w=this._handleArrowKeyPressWhenSelectionNextToAWidget(g):i.shiftKey||(w=this._handleArrowKeyPressWhenNonCollapsedSelection(g)),w&&(i.preventDefault(),e.stop())}_handleArrowKeyPressOnSelectedWidget(e){const i=this.editor.model,o=Ho(i.document.selection);return i.change(l=>o?o!==(e?"after":"before")?(l.removeSelectionAttribute(Yr),!0):!1:(l.setSelectionAttribute(Yr,e?"after":"before"),!0))}_handleArrowKeyPressWhenSelectionNextToAWidget(e){const i=this.editor,o=i.model,l=o.schema,c=i.plugins.get("Widget"),d=c._getObjectElementNextToSelection(e);return!!oa(i.editing.mapper.toViewElement(d),d,l)&&(o.change(f=>{c._setSelectionOverElement(d),f.setSelectionAttribute(Yr,e?"before":"after")}),!0)}_handleArrowKeyPressWhenNonCollapsedSelection(e){const i=this.editor,o=i.model,l=o.schema,c=i.editing.mapper,d=o.document.selection,f=e?d.getLastPosition().nodeBefore:d.getFirstPosition().nodeAfter;return!!oa(c.toViewElement(f),f,l)&&(o.change(g=>{g.setSelection(f,"on"),g.setSelectionAttribute(Yr,e?"after":"before")}),!0)}_enableInsertingParagraphsOnButtonClick(){const e=this.editor,i=e.editing.view;this._listenToIfEnabled(i.document,"mousedown",(o,l)=>{const c=l.domTarget.closest(".ck-widget__type-around__button");if(!c)return;const d=function(k){return k.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(c),f=function(k,w){const _=k.closest(".ck-widget");return w.mapDomToView(_)}(c,i.domConverter),g=e.editing.mapper.toModelElement(f);this._insertParagraph(g,d),l.preventDefault(),o.stop()})}_enableInsertingParagraphsOnEnterKeypress(){const e=this.editor,i=e.model.document.selection,o=e.editing.view;this._listenToIfEnabled(o.document,"enter",(l,c)=>{if(l.eventPhase!="atTarget")return;const d=i.getSelectedElement(),f=e.editing.mapper.toViewElement(d),g=e.model.schema;let k;this._insertParagraphAccordingToFakeCaretPosition()?k=!0:oa(f,d,g)&&(this._insertParagraph(d,c.isSoft?"before":"after"),k=!0),k&&(c.preventDefault(),l.stop())},{context:Et})}_enableInsertingParagraphsOnTypingKeystroke(){const e=this.editor.editing.view.document;this._listenToIfEnabled(e,"insertText",(i,o)=>{this._insertParagraphAccordingToFakeCaretPosition()&&(o.selection=e.selection)},{priority:"high"}),C.isAndroid?this._listenToIfEnabled(e,"keydown",(i,o)=>{o.keyCode==229&&this._insertParagraphAccordingToFakeCaretPosition()}):this._listenToIfEnabled(e,"compositionstart",()=>{this._insertParagraphAccordingToFakeCaretPosition()},{priority:"high"})}_enableDeleteIntegration(){const e=this.editor,i=e.editing.view,o=e.model,l=o.schema;this._listenToIfEnabled(i.document,"delete",(c,d)=>{if(c.eventPhase!="atTarget")return;const f=Ho(o.document.selection);if(!f)return;const g=d.direction,k=o.document.selection.getSelectedElement(),w=g=="forward";if(f==="before"===w)e.execute("delete",{selection:o.createSelection(k,"on")});else{const _=l.getNearestSelectionRange(o.createPositionAt(k,f),g);if(_)if(_.isCollapsed){const y=o.createSelection(_.start);if(o.modifySelection(y,{direction:g}),y.focus.isEqual(_.start)){const I=function(T,S){let B=S;for(const V of S.getAncestors({parentFirst:!0})){if(V.childCount>1||T.isLimit(V))break;B=V}return B}(l,_.start.parent);o.deleteContent(o.createSelection(I,"on"),{doNotAutoparagraph:!0})}else o.change(I=>{I.setSelection(_),e.execute(w?"deleteForward":"delete")})}else o.change(y=>{y.setSelection(_),e.execute(w?"deleteForward":"delete")})}d.preventDefault(),c.stop()},{context:Et})}_enableInsertContentIntegration(){const e=this.editor,i=this.editor.model,o=i.document.selection;this._listenToIfEnabled(e.model,"insertContent",(l,[c,d])=>{if(d&&!d.is("documentSelection"))return;const f=Ho(o);return f?(l.stop(),i.change(g=>{const k=o.getSelectedElement(),w=i.createPositionAt(k,f),_=g.createSelection(w),y=i.insertContent(c,_);return g.setSelection(_),y})):void 0},{priority:"high"})}_enableInsertObjectIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"insertObject",(o,l)=>{const[,c,d={}]=l;if(c&&!c.is("documentSelection"))return;const f=Ho(i);f&&(d.findOptimalPosition=f,l[3]=d)},{priority:"high"})}_enableDeleteContentIntegration(){const e=this.editor,i=this.editor.model.document.selection;this._listenToIfEnabled(e.model,"deleteContent",(o,[l])=>{l&&!l.is("documentSelection")||Ho(i)&&o.stop()},{priority:"high"})}}function y9(a){const e=a.model;return(i,o)=>{const l=o.keyCode==Ue.arrowup,c=o.keyCode==Ue.arrowdown,d=o.shiftKey,f=e.document.selection;if(!l&&!c)return;const g=c;if(d&&function(w,_){return!w.isCollapsed&&w.isBackward==_}(f,g))return;const k=function(w,_,y){const I=w.model;if(y){const T=_.isCollapsed?_.focus:_.getLastPosition(),S=hT(I,T,"forward");if(!S)return null;const B=I.createRange(T,S),V=fT(I.schema,B,"backward");return V?I.createRange(T,V):null}{const T=_.isCollapsed?_.focus:_.getFirstPosition(),S=hT(I,T,"backward");if(!S)return null;const B=I.createRange(S,T),V=fT(I.schema,B,"forward");return V?I.createRange(V,T):null}}(a,f,g);if(k){if(k.isCollapsed&&(f.isCollapsed||d))return;(k.isCollapsed||function(w,_,y){const I=w.model,T=w.view.domConverter;if(y){const Q=I.createSelection(_.start);I.modifySelection(Q),Q.focus.isAtEnd||_.start.isEqual(Q.focus)||(_=I.createRange(Q.focus,_.end))}const S=w.mapper.toViewRange(_),B=T.viewRangeToDom(S),V=ct.getDomRangeRects(B);let H;for(const Q of V)if(H!==void 0){if(Math.round(Q.top)>=H)return!1;H=Math.max(H,Math.round(Q.bottom))}else H=Math.round(Q.bottom);return!0}(a,k,g))&&(e.change(w=>{const _=g?k.end:k.start;if(d){const y=e.createSelection(f.anchor);y.setFocus(_),w.setSelection(y)}else w.setSelection(_)}),i.stop(),o.preventDefault(),o.stopPropagation())}}}function hT(a,e,i){const o=a.schema,l=a.createRangeIn(e.root),c=i=="forward"?"elementStart":"elementEnd";for(const{previousPosition:d,item:f,type:g}of l.getWalker({startPosition:e,direction:i})){if(o.isLimit(f)&&!o.isInline(f))return d;if(g==c&&o.isBlock(f))return null}return null}function fT(a,e,i){const o=i=="backward"?e.end:e.start;if(a.checkChild(o,"$text"))return o;for(const{nextPosition:l}of e.getWalker({direction:i}))if(a.checkChild(l,"$text"))return l;return null}var pT=u(3488),C9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(pT.Z,C9),pT.Z.locals;class zu extends ie{constructor(){super(...arguments),this._previouslySelected=new Set}static get pluginName(){return"Widget"}static get requires(){return[v9,Qr]}init(){const e=this.editor,i=e.editing.view,o=i.document;this.editor.editing.downcastDispatcher.on("selection",(l,c,d)=>{const f=d.writer,g=c.selection;if(g.isCollapsed)return;const k=g.getSelectedElement();if(!k)return;const w=e.editing.mapper.toViewElement(k);var _;Et(w)&&d.consumable.consume(g,"selection")&&f.setSelection(f.createRangeOn(w),{fake:!0,label:(_=w,_.getCustomProperty("widgetLabel").reduce((y,I)=>typeof I=="function"?y?y+". "+I():I():y?y+". "+I:I,""))})}),this.editor.editing.downcastDispatcher.on("selection",(l,c,d)=>{this._clearPreviouslySelectedWidgets(d.writer);const f=d.writer,g=f.document.selection;let k=null;for(const w of g.getRanges())for(const _ of w){const y=_.item;Et(y)&&!E9(y,k)&&(f.addClass(oT,y),this._previouslySelected.add(y),k=y)}},{priority:"low"}),i.addObserver(xw),this.listenTo(o,"mousedown",(...l)=>this._onMousedown(...l)),this.listenTo(o,"arrowKey",(...l)=>{this._handleSelectionChangeOnArrowKeyPress(...l)},{context:[Et,"$text"]}),this.listenTo(o,"arrowKey",(...l)=>{this._preventDefaultOnArrowKeyPress(...l)},{context:"$root"}),this.listenTo(o,"arrowKey",y9(this.editor.editing),{context:"$text"}),this.listenTo(o,"delete",(l,c)=>{this._handleDelete(c.direction=="forward")&&(c.preventDefault(),l.stop())},{context:"$root"})}_onMousedown(e,i){const o=this.editor,l=o.editing.view,c=l.document;let d=i.target;if(function(g){let k=g;for(;k;){if(k.is("editableElement")&&!k.is("rootElement"))return!0;if(Et(k))return!1;k=k.parent}return!1}(d)){if((C.isSafari||C.isGecko)&&i.domEvent.detail>=3){const g=o.editing.mapper,k=d.is("attributeElement")?d.findAncestor(_=>!_.is("attributeElement")):d,w=g.toModelElement(k);i.preventDefault(),this.editor.model.change(_=>{_.setSelection(w,"in")})}return}if(!Et(d)&&(d=d.findAncestor(Et),!d))return;C.isAndroid&&i.preventDefault(),c.isFocused||l.focus();const f=o.editing.mapper.toModelElement(d);this._setSelectionOverElement(f)}_handleSelectionChangeOnArrowKeyPress(e,i){const o=i.keyCode,l=this.editor.model,c=l.schema,d=l.document.selection,f=d.getSelectedElement(),g=Lb(o,this.editor.locale.contentLanguageDirection),k=g=="down"||g=="right",w=g=="up"||g=="down";if(f&&c.isObject(f)){const y=k?d.getLastPosition():d.getFirstPosition(),I=c.getNearestSelectionRange(y,k?"forward":"backward");return void(I&&(l.change(T=>{T.setSelection(I)}),i.preventDefault(),e.stop()))}if(!d.isCollapsed&&!i.shiftKey){const y=d.getFirstPosition(),I=d.getLastPosition(),T=y.nodeAfter,S=I.nodeBefore;return void((T&&c.isObject(T)||S&&c.isObject(S))&&(l.change(B=>{B.setSelection(k?I:y)}),i.preventDefault(),e.stop()))}if(!d.isCollapsed)return;const _=this._getObjectElementNextToSelection(k);if(_&&c.isObject(_)){if(c.isInline(_)&&w)return;this._setSelectionOverElement(_),i.preventDefault(),e.stop()}}_preventDefaultOnArrowKeyPress(e,i){const o=this.editor.model,l=o.schema,c=o.document.selection.getSelectedElement();c&&l.isObject(c)&&(i.preventDefault(),e.stop())}_handleDelete(e){const i=this.editor.model.document.selection;if(!this.editor.model.canEditAt(i)||!i.isCollapsed)return;const o=this._getObjectElementNextToSelection(e);return o?(this.editor.model.change(l=>{let c=i.anchor.parent;for(;c.isEmpty;){const d=c;c=d.parent,l.remove(d)}this._setSelectionOverElement(o)}),!0):void 0}_setSelectionOverElement(e){this.editor.model.change(i=>{i.setSelection(i.createRangeOn(e))})}_getObjectElementNextToSelection(e){const i=this.editor.model,o=i.schema,l=i.document.selection,c=i.createSelection(l);if(i.modifySelection(c,{direction:e?"forward":"backward"}),c.isEqual(l))return null;const d=e?c.focus.nodeBefore:c.focus.nodeAfter;return d&&o.isObject(d)?d:null}_clearPreviouslySelectedWidgets(e){for(const i of this._previouslySelected)e.removeClass(oT,i);this._previouslySelected.clear()}}function E9(a,e){return!!e&&Array.from(a.getAncestors()).includes(e)}class Ap extends ie{constructor(){super(...arguments),this._toolbarDefinitions=new Map}static get requires(){return[fp]}static get pluginName(){return"WidgetToolbarRepository"}init(){const e=this.editor;if(e.plugins.has("BalloonToolbar")){const i=e.plugins.get("BalloonToolbar");this.listenTo(i,"show",o=>{(function(l){const c=l.getSelectedElement();return!(!c||!Et(c))})(e.editing.view.document.selection)&&o.stop()},{priority:"high"})}this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui,"update",()=>{this._updateToolbarsVisibility()}),this.listenTo(e.ui.focusTracker,"change:isFocused",()=>{this._updateToolbarsVisibility()},{priority:"low"})}destroy(){super.destroy();for(const e of this._toolbarDefinitions.values())e.view.destroy()}register(e,{ariaLabel:i,items:o,getRelatedElement:l,balloonClassName:c="ck-toolbar-container"}){if(!o.length)return void q("widget-toolbar-no-items",{toolbarId:e});const d=this.editor,f=d.t,g=new Tw(d.locale);if(g.ariaLabel=i||f("Widget toolbar"),this._toolbarDefinitions.has(e))throw new j("widget-toolbar-duplicated",this,{toolbarId:e});const k={view:g,getRelatedElement:l,balloonClassName:c,itemsConfig:o,initialized:!1};d.ui.addToolbar(g,{isContextual:!0,beforeFocus:()=>{const w=l(d.editing.view.document.selection);w&&this._showToolbar(k,w)},afterBlur:()=>{this._hideToolbar(k)}}),this._toolbarDefinitions.set(e,k)}_updateToolbarsVisibility(){let e=0,i=null,o=null;for(const l of this._toolbarDefinitions.values()){const c=l.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&c)if(this.editor.ui.focusTracker.isFocused){const d=c.getAncestors().length;d>e&&(e=d,i=c,o=l)}else this._isToolbarVisible(l)&&this._hideToolbar(l);else this._isToolbarInBalloon(l)&&this._hideToolbar(l)}o&&this._showToolbar(o,i)}_hideToolbar(e){this._balloon.remove(e.view),this.stopListening(this._balloon,"change:visibleView")}_showToolbar(e,i){this._isToolbarVisible(e)?gT(this.editor,i):this._isToolbarInBalloon(e)||(e.initialized||(e.initialized=!0,e.view.fillFromConfig(e.itemsConfig,this.editor.ui.componentFactory)),this._balloon.add({view:e.view,position:mT(this.editor,i),balloonClassName:e.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",()=>{for(const o of this._toolbarDefinitions.values())if(this._isToolbarVisible(o)){const l=o.getRelatedElement(this.editor.editing.view.document.selection);gT(this.editor,l)}}))}_isToolbarVisible(e){return this._balloon.visibleView===e.view}_isToolbarInBalloon(e){return this._balloon.hasView(e.view)}}function gT(a,e){const i=a.plugins.get("ContextualBalloon"),o=mT(a,e);i.updatePosition(o)}function mT(a,e){const i=a.editing.view,o=Kn.defaultPositions;return{target:i.domConverter.mapViewToDom(e),positions:[o.northArrowSouth,o.northArrowSouthWest,o.northArrowSouthEast,o.southArrowNorth,o.southArrowNorthWest,o.southArrowNorthEast,o.viewportStickyNorth]}}var kT=u(8506),x9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(kT.Z,x9),kT.Z.locals;var bT=u(903),I9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(bT.Z,I9),bT.Z.locals;class T9 extends ie{static get pluginName(){return"DragDrop"}static get requires(){return[vr,zu]}init(){const e=this.editor,i=e.editing.view;this._draggedRange=null,this._draggingUid="",this._draggableElement=null,this._updateDropMarkerThrottled=Uw(o=>this._updateDropMarker(o),40),this._removeDropMarkerDelayed=zb(()=>this._removeDropMarker(),40),this._clearDraggableAttributesDelayed=zb(()=>this._clearDraggableAttributes(),40),e.plugins.has("DragDropExperimental")?this.forceDisabled("DragDropExperimental"):(i.addObserver($w),i.addObserver(xw),this._setupDragging(),this._setupContentInsertionIntegration(),this._setupClipboardInputIntegration(),this._setupDropMarker(),this._setupDraggableAttributeHandling(),this.listenTo(e,"change:isReadOnly",(o,l,c)=>{c?this.forceDisabled("readOnlyMode"):this.clearForceDisabled("readOnlyMode")}),this.on("change:isEnabled",(o,l,c)=>{c||this._finalizeDragging(!1)}),C.isAndroid&&this.forceDisabled("noAndroidSupport"))}destroy(){return this._draggedRange&&(this._draggedRange.detach(),this._draggedRange=null),this._updateDropMarkerThrottled.cancel(),this._removeDropMarkerDelayed.cancel(),this._clearDraggableAttributesDelayed.cancel(),super.destroy()}_setupDragging(){const e=this.editor,i=e.model,o=i.document,l=e.editing.view,c=l.document;this.listenTo(c,"dragstart",(d,f)=>{const g=o.selection;if(f.target&&f.target.is("editableElement"))return void f.preventDefault();const k=f.target?AT(f.target):null;if(k){const I=e.editing.mapper.toModelElement(k);this._draggedRange=Ui.fromRange(i.createRangeOn(I)),e.plugins.has("WidgetToolbarRepository")&&e.plugins.get("WidgetToolbarRepository").forceDisabled("dragDrop")}else if(!c.selection.isCollapsed){const I=c.selection.getSelectedElement();I&&Et(I)||(this._draggedRange=Ui.fromRange(g.getFirstRange()))}if(!this._draggedRange)return void f.preventDefault();this._draggingUid=U();const w=this.isEnabled&&e.model.canEditAt(this._draggedRange);f.dataTransfer.effectAllowed=w?"copyMove":"copy",f.dataTransfer.setData("application/ckeditor5-dragging-uid",this._draggingUid);const _=i.createSelection(this._draggedRange.toRange()),y=e.data.toView(i.getSelectedContent(_));c.fire("clipboardOutput",{dataTransfer:f.dataTransfer,content:y,method:"dragstart"}),w||(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid="")},{priority:"low"}),this.listenTo(c,"dragend",(d,f)=>{this._finalizeDragging(!f.dataTransfer.isCanceled&&f.dataTransfer.dropEffect=="move")},{priority:"low"}),this.listenTo(c,"dragenter",()=>{this.isEnabled&&l.focus()}),this.listenTo(c,"dragleave",()=>{this._removeDropMarkerDelayed()}),this.listenTo(c,"dragging",(d,f)=>{if(!this.isEnabled)return void(f.dataTransfer.dropEffect="none");this._removeDropMarkerDelayed.cancel();const g=wT(e,f.targetRanges,f.target);e.model.canEditAt(g)?(this._draggedRange||(f.dataTransfer.dropEffect="copy"),C.isGecko||(f.dataTransfer.effectAllowed=="copy"?f.dataTransfer.dropEffect="copy":["all","copyMove"].includes(f.dataTransfer.effectAllowed)&&(f.dataTransfer.dropEffect="move")),g&&this._updateDropMarkerThrottled(g)):f.dataTransfer.dropEffect="none"},{priority:"low"})}_setupClipboardInputIntegration(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"clipboardInput",(o,l)=>{if(l.method!="drop")return;const c=wT(e,l.targetRanges,l.target);if(this._removeDropMarker(),!c||!e.model.canEditAt(c))return this._finalizeDragging(!1),void o.stop();if(this._draggedRange&&this._draggingUid!=l.dataTransfer.getData("application/ckeditor5-dragging-uid")&&(this._draggedRange.detach(),this._draggedRange=null,this._draggingUid=""),_T(l.dataTransfer)=="move"&&this._draggedRange&&this._draggedRange.containsRange(c,!0))return this._finalizeDragging(!1),void o.stop();l.targetRanges=[e.editing.mapper.toViewRange(c)]},{priority:"high"})}_setupContentInsertionIntegration(){const e=this.editor.plugins.get(vr);e.on("contentInsertion",(i,o)=>{if(!this.isEnabled||o.method!=="drop")return;const l=o.targetRanges.map(c=>this.editor.editing.mapper.toModelRange(c));this.editor.model.change(c=>c.setSelection(l))},{priority:"high"}),e.on("contentInsertion",(i,o)=>{if(!this.isEnabled||o.method!=="drop")return;const l=_T(o.dataTransfer)=="move",c=!o.resultRange||!o.resultRange.isCollapsed;this._finalizeDragging(c&&l)},{priority:"lowest"})}_setupDraggableAttributeHandling(){const e=this.editor,i=e.editing.view,o=i.document;this.listenTo(o,"mousedown",(l,c)=>{if(C.isAndroid||!c)return;this._clearDraggableAttributesDelayed.cancel();let d=AT(c.target);if(C.isBlink&&!d&&!o.selection.isCollapsed){const f=o.selection.getSelectedElement();if(!f||!Et(f)){const g=o.selection.editableElement;g&&!g.isReadOnly&&(d=g)}}d&&(i.change(f=>{f.setAttribute("draggable","true",d)}),this._draggableElement=e.editing.mapper.toModelElement(d))}),this.listenTo(o,"mouseup",()=>{C.isAndroid||this._clearDraggableAttributesDelayed()})}_clearDraggableAttributes(){const e=this.editor.editing;e.view.change(i=>{this._draggableElement&&this._draggableElement.root.rootName!="$graveyard"&&i.removeAttribute("draggable",e.mapper.toViewElement(this._draggableElement)),this._draggableElement=null})}_setupDropMarker(){const e=this.editor;e.conversion.for("editingDowncast").markerToHighlight({model:"drop-target",view:{classes:["ck-clipboard-drop-target-range"]}}),e.conversion.for("editingDowncast").markerToElement({model:"drop-target",view:(i,{writer:o})=>{if(e.model.schema.checkChild(i.markerRange.start,"$text"))return o.createUIElement("span",{class:"ck ck-clipboard-drop-target-position"},function(l){const c=this.toDomElement(l);return c.append("",l.createElement("span"),""),c})}})}_updateDropMarker(e){const i=this.editor,o=i.model.markers;i.model.change(l=>{o.has("drop-target")?o.get("drop-target").getRange().isEqual(e)||l.updateMarker("drop-target",{range:e}):l.addMarker("drop-target",{range:e,usingOperation:!1,affectsData:!1})})}_removeDropMarker(){const e=this.editor.model;this._removeDropMarkerDelayed.cancel(),this._updateDropMarkerThrottled.cancel(),e.markers.has("drop-target")&&e.change(i=>{i.removeMarker("drop-target")})}_finalizeDragging(e){const i=this.editor,o=i.model;this._removeDropMarker(),this._clearDraggableAttributes(),i.plugins.has("WidgetToolbarRepository")&&i.plugins.get("WidgetToolbarRepository").clearForceDisabled("dragDrop"),this._draggingUid="",this._draggedRange&&(e&&this.isEnabled&&o.deleteContent(o.createSelection(this._draggedRange),{doNotAutoparagraph:!0}),this._draggedRange.detach(),this._draggedRange=null)}}function wT(a,e,i){const o=a.model,l=a.editing.mapper;let c=null;const d=e?e[0].start:null;if(i.is("uiElement")&&(i=i.parent),c=function(k,w){const _=k.model,y=k.editing.mapper;if(Et(w))return _.createRangeOn(y.toModelElement(w));if(!w.is("editableElement")){const I=w.findAncestor(T=>Et(T)||T.is("editableElement"));if(Et(I))return _.createRangeOn(y.toModelElement(I))}return null}(a,i),c)return c;const f=function(k,w){const _=k.editing.mapper,y=k.editing.view,I=_.toModelElement(w);if(I)return I;const T=y.createPositionBefore(w),S=_.findMappedViewAncestor(T);return _.toModelElement(S)}(a,i),g=d?l.toModelPosition(d):null;return g?(c=function(k,w,_){const y=k.model;if(!y.schema.checkChild(_,"$block"))return null;const I=y.createPositionAt(_,0),T=w.path.slice(0,I.path.length),S=y.createPositionFromPath(w.root,T),B=S.nodeAfter;return B&&y.schema.isObject(B)?y.createRangeOn(B):null}(a,g,f),c||(c=o.schema.getNearestSelectionRange(g,C.isGecko?"forward":"backward"),c||function(k,w){const _=k.model;let y=w;for(;y;){if(_.schema.isObject(y))return _.createRangeOn(y);y=y.parent}return null}(a,g.parent))):function(k,w){const _=k.model,y=_.schema,I=_.createPositionAt(w,0);return y.getNearestSelectionRange(I,"forward")}(a,f)}function _T(a){return C.isGecko?a.dropEffect:["all","copyMove"].includes(a.effectAllowed)?"move":"copy"}function AT(a){if(a.is("editableElement"))return null;if(a.hasClass("ck-widget__selection-handle"))return a.findAncestor(Et);if(Et(a))return a;const e=a.findAncestor(i=>Et(i)||i.is("editableElement"));return Et(e)?e:null}class S9 extends ie{static get pluginName(){return"PastePlainText"}static get requires(){return[vr]}init(){const e=this.editor,i=e.model,o=e.editing.view,l=o.document,c=i.document.selection;let d=!1;o.addObserver($w),this.listenTo(l,"keydown",(f,g)=>{d=g.shiftKey}),e.plugins.get(vr).on("contentInsertion",(f,g)=>{(d||function(k,w){if(k.childCount>1)return!1;const _=k.getChild(0);return w.isObject(_)?!1:Array.from(_.getAttributeKeys()).length==0}(g.content,i.schema))&&i.change(k=>{const w=Array.from(c.getAttributes()).filter(([y])=>i.schema.getAttributeProperties(y).isFormatting);c.isCollapsed||i.deleteContent(c,{doNotAutoparagraph:!0}),w.push(...c.getAttributes());const _=k.createRangeIn(g.content);for(const y of _.getItems())y.is("$textProxy")&&k.setAttributes(w,y)})})}}class vT extends ie{static get pluginName(){return"Clipboard"}static get requires(){return[vr,T9,S9]}}class D9 extends Be{constructor(e){super(e),this.affectsData=!1}execute(){const e=this.editor.model,i=e.document.selection;let o=e.schema.getLimitElement(i);if(i.containsEntireContent(o)||!yT(e.schema,o))do if(o=o.parent,!o)return;while(!yT(e.schema,o));e.change(l=>{l.setSelection(o,"in")})}}function yT(a,e){return a.isLimit(e)&&(a.checkChild(e,"$text")||a.checkChild(e,"paragraph"))}const M9=Vf("Ctrl+A");class P9 extends ie{static get pluginName(){return"SelectAllEditing"}init(){const e=this.editor,i=e.editing.view.document;e.commands.add("selectAll",new D9(e)),this.listenTo(i,"keydown",(o,l)=>{ll(l)===M9&&(e.execute("selectAll"),l.preventDefault())})}}class N9 extends ie{static get pluginName(){return"SelectAllUI"}init(){const e=this.editor;e.ui.componentFactory.add("selectAll",i=>{const o=e.commands.get("selectAll"),l=new gt(i),c=i.t;return l.set({label:c("Select all"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isEnabled").to(o,"isEnabled"),this.listenTo(l,"execute",()=>{e.execute("selectAll"),e.editing.view.focus()}),l})}}class R9 extends ie{static get requires(){return[P9,N9]}static get pluginName(){return"SelectAll"}}var O9=Object.defineProperty,CT=Object.getOwnPropertySymbols,B9=Object.prototype.hasOwnProperty,L9=Object.prototype.propertyIsEnumerable,ET=(a,e,i)=>e in a?O9(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class xT extends Be{constructor(e){super(e),this._stack=[],this._createdBatches=new WeakSet,this.refresh(),this._isEnabledBasedOnSelection=!1,this.listenTo(e.data,"set",(i,o)=>{o[1]=((c,d)=>{for(var f in d||(d={}))B9.call(d,f)&&ET(c,f,d[f]);if(CT)for(var f of CT(d))L9.call(d,f)&&ET(c,f,d[f]);return c})({},o[1]);const l=o[1];l.batchType||(l.batchType={isUndoable:!1})},{priority:"high"}),this.listenTo(e.data,"set",(i,o)=>{o[1].batchType.isUndoable||this.clearStack()})}refresh(){this.isEnabled=this._stack.length>0}get createdBatches(){return this._createdBatches}addBatch(e){const i=this.editor.model.document.selection,o={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:e,selection:o}),this.refresh()}clearStack(){this._stack=[],this.refresh()}_restoreSelection(e,i,o){const l=this.editor.model,c=l.document,d=[],f=e.map(k=>k.getTransformedByOperations(o)),g=f.flat();for(const k of f){const w=k.filter(_=>_.root!=c.graveyard).filter(_=>!j9(_,g));w.length&&(z9(w),d.push(w[0]))}d.length&&l.change(k=>{k.setSelection(d,{backward:i})})}_undo(e,i){const o=this.editor.model,l=o.document;this._createdBatches.add(i);const c=e.operations.slice().filter(d=>d.isDocumentOperation);c.reverse();for(const d of c){const f=d.baseVersion+1,g=Array.from(l.history.getOperations(f)),k=r6([d.getReversed()],g,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA;for(let w of k){const _=w.affectedSelectable;_&&!o.canEditAt(_)&&(w=new Ut(w.baseVersion)),i.addOperation(w),o.applyOperation(w),l.history.setOperationAsUndone(d,w)}}}}function z9(a){a.sort((e,i)=>e.start.isBefore(i.start)?-1:1);for(let e=1;e<a.length;e++){const i=a[e-1].getJoined(a[e],!0);i&&(e--,a.splice(e,2,i))}}function j9(a,e){return e.some(i=>i!==a&&i.containsRange(a,!0))}class V9 extends xT{execute(e=null){const i=e?this._stack.findIndex(c=>c.batch==e):this._stack.length-1,o=this._stack.splice(i,1)[0],l=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(l,()=>{this._undo(o.batch,l);const c=this.editor.model.document.history.getOperations(o.batch.baseVersion);this._restoreSelection(o.selection.ranges,o.selection.isBackward,c)}),this.fire("revert",o.batch,l),this.refresh()}}class F9 extends xT{execute(){const e=this._stack.pop(),i=this.editor.model.createBatch({isUndo:!0});this.editor.model.enqueueChange(i,()=>{const o=e.batch.operations[e.batch.operations.length-1].baseVersion+1,l=this.editor.model.document.history.getOperations(o);this._restoreSelection(e.selection.ranges,e.selection.isBackward,l),this._undo(e.batch,i)}),this.refresh()}}class U9 extends ie{constructor(){super(...arguments),this._batchRegistry=new WeakSet}static get pluginName(){return"UndoEditing"}init(){const e=this.editor;this._undoCommand=new V9(e),this._redoCommand=new F9(e),e.commands.add("undo",this._undoCommand),e.commands.add("redo",this._redoCommand),this.listenTo(e.model,"applyOperation",(i,o)=>{const l=o[0];if(!l.isDocumentOperation)return;const c=l.batch,d=this._redoCommand.createdBatches.has(c),f=this._undoCommand.createdBatches.has(c);this._batchRegistry.has(c)||(this._batchRegistry.add(c),c.isUndoable&&(d?this._undoCommand.addBatch(c):f||(this._undoCommand.addBatch(c),this._redoCommand.clearStack())))},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",(i,o,l)=>{this._redoCommand.addBatch(l)}),e.keystrokes.set("CTRL+Z","undo"),e.keystrokes.set("CTRL+Y","redo"),e.keystrokes.set("CTRL+SHIFT+Z","redo")}}const IT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m5.042 9.367 2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',TT='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m14.958 9.367-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>';class H9 extends ie{static get pluginName(){return"UndoUI"}init(){const e=this.editor,i=e.locale,o=e.t,l=i.uiLanguageDirection=="ltr"?IT:TT,c=i.uiLanguageDirection=="ltr"?TT:IT;this._addButton("undo",o("Undo"),"CTRL+Z",l),this._addButton("redo",o("Redo"),"CTRL+Y",c)}_addButton(e,i,o,l){const c=this.editor;c.ui.componentFactory.add(e,d=>{const f=c.commands.get(e),g=new gt(d);return g.set({label:i,icon:l,keystroke:o,tooltip:!0}),g.bind("isEnabled").to(f,"isEnabled"),this.listenTo(g,"execute",()=>{c.execute(e),c.editing.view.focus()}),g})}}class ST extends ie{static get requires(){return[U9,H9]}static get pluginName(){return"Undo"}}class W9 extends Xe(){constructor(){super();const e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=i=>{this.loaded=i.loaded}}get error(){return this._reader.error}get data(){return this._data}read(e){const i=this._reader;return this.total=e.size,new Promise((o,l)=>{i.onload=()=>{const c=i.result;this._data=c,o(c)},i.onerror=()=>{l("error")},i.onabort=()=>{l("aborted")},this._reader.readAsDataURL(e)})}abort(){this._reader.abort()}}class Wi extends ie{constructor(){super(...arguments),this.loaders=new Li,this._loadersMap=new Map,this._pendingAction=null}static get pluginName(){return"FileRepository"}static get requires(){return[Vx]}init(){this.loaders.on("change",()=>this._updatePendingAction()),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(e,i)=>i?e/i*100:0)}getLoader(e){return this._loadersMap.get(e)||null}createLoader(e){if(!this.createUploadAdapter)return q("filerepository-no-upload-adapter"),null;const i=new DT(Promise.resolve(e),this.createUploadAdapter);return this.loaders.add(i),this._loadersMap.set(e,i),e instanceof Promise&&i.file.then(o=>{this._loadersMap.set(o,i)}).catch(()=>{}),i.on("change:uploaded",()=>{let o=0;for(const l of this.loaders)o+=l.uploaded;this.uploaded=o}),i.on("change:uploadTotal",()=>{let o=0;for(const l of this.loaders)l.uploadTotal&&(o+=l.uploadTotal);this.uploadTotal=o}),i}destroyLoader(e){const i=e instanceof DT?e:this.getLoader(e);i._destroy(),this.loaders.remove(i),this._loadersMap.forEach((o,l)=>{o===i&&this._loadersMap.delete(l)})}_updatePendingAction(){const e=this.editor.plugins.get(Vx);if(this.loaders.length){if(!this._pendingAction){const i=this.editor.t,o=l=>`${i("Upload in progress")} ${parseInt(l)}%.`;this._pendingAction=e.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else e.remove(this._pendingAction),this._pendingAction=null}}class DT extends Xe(){constructor(e,i){super(),this.id=U(),this._filePromiseWrapper=this._createFilePromiseWrapper(e),this._adapter=i(this),this._reader=new W9,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",(o,l)=>l?o/l*100:0),this.set("uploadResponse",null)}get file(){return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(e=>this._filePromiseWrapper?e:null):Promise.resolve(null)}get data(){return this._reader.data}read(){if(this.status!="idle")throw new j("filerepository-read-wrong-status",this);return this.status="reading",this.file.then(e=>this._reader.read(e)).then(e=>{if(this.status!=="reading")throw this.status;return this.status="idle",e}).catch(e=>{throw e==="aborted"?(this.status="aborted","aborted"):(this.status="error",this._reader.error?this._reader.error:e)})}upload(){if(this.status!="idle")throw new j("filerepository-upload-wrong-status",this);return this.status="uploading",this.file.then(()=>this._adapter.upload()).then(e=>(this.uploadResponse=e,this.status="idle",e)).catch(e=>{throw this.status==="aborted"?"aborted":(this.status="error",e)})}abort(){const e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(()=>{}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}_destroy(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}_createFilePromiseWrapper(e){const i={};return i.promise=new Promise((o,l)=>{i.rejecter=l,i.isFulfilled=!1,e.then(c=>{i.isFulfilled=!0,o(c)}).catch(c=>{i.isFulfilled=!0,l(c)})}),i}}class q9 extends ze{constructor(e){super(e),this.buttonView=new gt(e),this._fileInputView=new $9(e),this._fileInputView.bind("acceptedType").to(this),this._fileInputView.bind("allowMultipleFiles").to(this),this._fileInputView.delegate("done").to(this),this.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[this.buttonView,this._fileInputView]}),this.buttonView.on("execute",()=>{this._fileInputView.open()})}focus(){this.buttonView.focus()}}class $9 extends ze{constructor(e){super(e),this.set("acceptedType",void 0),this.set("allowMultipleFiles",!1);const i=this.bindTemplate;this.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(()=>{this.element&&this.element.files&&this.element.files.length&&this.fire("done",this.element.files),this.element.value=""})}})}open(){this.element.click()}}const MT="ckCsrfToken",PT="abcdefghijklmnopqrstuvwxyz0123456789";function G9(){let a=function(o){o=o.toLowerCase();const l=document.cookie.split(";");for(const c of l){const d=c.split("=");if(decodeURIComponent(d[0].trim().toLowerCase())===o)return decodeURIComponent(d[1])}return null}(MT);var e,i;return a&&a.length==40||(a=function(o){let l="";const c=new Uint8Array(o);window.crypto.getRandomValues(c);for(let d=0;d<c.length;d++){const f=PT.charAt(c[d]%PT.length);l+=Math.random()>.5?f.toUpperCase():f}return l}(40),e=MT,i=a,document.cookie=encodeURIComponent(e)+"="+encodeURIComponent(i)+";path=/"),a}class K9{constructor(e,i,o){this.loader=e,this.url=i,this.t=o}upload(){return this.loader.file.then(e=>new Promise((i,o)=>{this._initRequest(),this._initListeners(i,o,e),this._sendRequest(e)}))}abort(){this.xhr&&this.xhr.abort()}_initRequest(){const e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}_initListeners(e,i,o){const l=this.xhr,c=this.loader,d=(0,this.t)("Cannot upload file:")+` ${o.name}.`;l.addEventListener("error",()=>i(d)),l.addEventListener("abort",()=>i()),l.addEventListener("load",()=>{const f=l.response;if(!f||!f.uploaded)return i(f&&f.error&&f.error.message?f.error.message:d);e({default:f.url})}),l.upload&&l.upload.addEventListener("progress",f=>{f.lengthComputable&&(c.uploadTotal=f.total,c.uploaded=f.loaded)})}_sendRequest(e){const i=new FormData;i.append("upload",e),i.append("ckCsrfToken",G9()),this.xhr.send(i)}}function Wo(a,e,i,o){let l,c=null;typeof o=="function"?l=o:(c=a.commands.get(o),l=()=>{a.execute(o)}),a.model.document.on("change:data",(d,f)=>{if(c&&!c.isEnabled||!e.isEnabled)return;const g=Ft(a.model.document.selection.getRanges());if(!g.isCollapsed||f.isUndo||!f.isLocal)return;const k=Array.from(a.model.document.differ.getChanges()),w=k[0];if(k.length!=1||w.type!=="insert"||w.name!="$text"||w.length!=1)return;const _=w.position.parent;if(_.is("element","codeBlock")||_.is("element","listItem")&&typeof o!="function"&&!["numberedList","bulletedList","todoList"].includes(o)||c&&c.value===!0)return;const y=_.getChild(0),I=a.model.createRangeOn(y);if(!I.containsRange(g)&&!g.end.isEqual(I.end))return;const T=i.exec(y.data.substr(0,g.end.offset));T&&a.model.enqueueChange(S=>{const B=S.createPositionAt(_,0),V=S.createPositionAt(_,T[0].length),H=new Ui(B,V);if(l({match:T})!==!1){S.remove(H);const Q=a.model.document.selection.getFirstRange(),le=S.createRangeIn(_);!_.isEmpty||le.isEqual(Q)||le.containsRange(Q,!0)||S.remove(_)}H.detach(),a.model.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})})})}function yl(a,e,i,o){let l,c;i instanceof RegExp?l=i:c=i,c=c||(d=>{let f;const g=[],k=[];for(;(f=l.exec(d))!==null&&!(f&&f.length<4);){let{index:w,1:_,2:y,3:I}=f;const T=_+y+I;w+=f[0].length-T.length;const S=[w,w+_.length],B=[w+_.length+y.length,w+_.length+y.length+I.length];g.push(S),g.push(B),k.push([w+_.length,w+_.length+y.length])}return{remove:g,format:k}}),a.model.document.on("change:data",(d,f)=>{if(f.isUndo||!f.isLocal||!e.isEnabled)return;const g=a.model,k=g.document.selection;if(!k.isCollapsed)return;const w=Array.from(g.document.differ.getChanges()),_=w[0];if(w.length!=1||_.type!=="insert"||_.name!="$text"||_.length!=1)return;const y=k.focus,I=y.parent,{text:T,range:S}=function(Q,le){let _e=Q.start;return{text:Array.from(Q.getItems()).reduce((je,Qt)=>!Qt.is("$text")&&!Qt.is("$textProxy")||Qt.getAttribute("code")?(_e=le.createPositionAfter(Qt),""):je+Qt.data,""),range:le.createRange(_e,Q.end)}}(g.createRange(g.createPositionAt(I,0),y),g),B=c(T),V=NT(S.start,B.format,g),H=NT(S.start,B.remove,g);V.length&&H.length&&g.enqueueChange(Q=>{if(o(Q,V)!==!1){for(const le of H.reverse())Q.remove(le);g.enqueueChange(()=>{a.plugins.get("Delete").requestUndoOnBackspace()})}})})}function NT(a,e,i){return e.filter(o=>o[0]!==void 0&&o[1]!==void 0).map(o=>i.createRange(a.getShiftedBy(o[0]),a.getShiftedBy(o[1])))}function vp(a,e){return(i,o)=>{if(!a.commands.get(e).isEnabled)return!1;const l=a.model.schema.getValidRanges(o,e);for(const c of l)i.setAttribute(e,!0,c);i.removeSelectionAttribute(e)}}class RT extends Be{constructor(e,i){super(e),this.attributeKey=i}refresh(){const e=this.editor.model,i=e.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=e.schema.checkAttributeInSelection(i.selection,this.attributeKey)}execute(e={}){const i=this.editor.model,o=i.document.selection,l=e.forceValue===void 0?!this.value:e.forceValue;i.change(c=>{if(o.isCollapsed)l?c.setSelectionAttribute(this.attributeKey,!0):c.removeSelectionAttribute(this.attributeKey);else{const d=i.schema.getValidRanges(o.getRanges(),this.attributeKey);for(const f of d)l?c.setAttribute(this.attributeKey,l,f):c.removeAttribute(this.attributeKey,f)}})}_getValueFromFirstAllowedNode(){const e=this.editor.model,i=e.schema,o=e.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);for(const l of o.getRanges())for(const c of l.getItems())if(i.checkAttribute(c,this.attributeKey))return c.hasAttribute(this.attributeKey);return!1}}const Cl="bold";class Q9 extends ie{static get pluginName(){return"BoldEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:Cl}),e.model.schema.setAttributeProperties(Cl,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:Cl,view:"strong",upcastAlso:["b",i=>{const o=i.getStyle("font-weight");return o&&(o=="bold"||Number(o)>=600)?{name:!0,styles:["font-weight"]}:null}]}),e.commands.add(Cl,new RT(e,Cl)),e.keystrokes.set("CTRL+B",Cl)}}const Jw="bold";class Y9 extends ie{static get pluginName(){return"BoldUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Jw,o=>{const l=e.commands.get(Jw),c=new gt(o);return c.set({label:i("Bold"),icon:Lt.bold,keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Jw),e.editing.view.focus()}),c})}}var OT=u(8603),Z9={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(OT.Z,Z9),OT.Z.locals;const El="italic";class J9 extends ie{static get pluginName(){return"ItalicEditing"}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:El}),e.model.schema.setAttributeProperties(El,{isFormatting:!0,copyOnEnter:!0}),e.conversion.attributeToElement({model:El,view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),e.commands.add(El,new RT(e,El)),e.keystrokes.set("CTRL+I",El)}}const Xw="italic";class X9 extends ie{static get pluginName(){return"ItalicUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add(Xw,o=>{const l=e.commands.get(Xw),c=new gt(o);return c.set({label:i("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute(Xw),e.editing.view.focus()}),c})}}class eF extends Be{refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,o=i.schema,l=i.document.selection,c=Array.from(l.getSelectedBlocks()),d=e.forceValue===void 0?!this.value:e.forceValue;i.change(f=>{if(d){const g=c.filter(k=>yp(k)||LT(o,k));this._applyQuote(f,g)}else this._removeQuote(f,c.filter(yp))})}_getValue(){const e=Ft(this.editor.model.document.selection.getSelectedBlocks());return!(!e||!yp(e))}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,o=Ft(e.getSelectedBlocks());return!!o&&LT(i,o)}_removeQuote(e,i){BT(e,i).reverse().forEach(o=>{if(o.start.isAtStart&&o.end.isAtEnd)return void e.unwrap(o.start.parent);if(o.start.isAtStart){const c=e.createPositionBefore(o.start.parent);return void e.move(o,c)}o.end.isAtEnd||e.split(o.end);const l=e.createPositionAfter(o.end.parent);e.move(o,l)})}_applyQuote(e,i){const o=[];BT(e,i).reverse().forEach(l=>{let c=yp(l.start);c||(c=e.createElement("blockQuote"),e.wrap(l,c)),o.push(c)}),o.reverse().reduce((l,c)=>l.nextSibling==c?(e.merge(e.createPositionAfter(l)),l):c)}}function yp(a){return a.parent.name=="blockQuote"?a.parent:null}function BT(a,e){let i,o=0;const l=[];for(;o<e.length;){const c=e[o],d=e[o+1];i||(i=a.createPositionBefore(c)),d&&c.nextSibling==d||(l.push(a.createRange(i,a.createPositionAfter(c))),i=null),o++}return l}function LT(a,e){const i=a.checkChild(e.parent,"blockQuote"),o=a.checkChild(["$root","blockQuote"],e);return i&&o}class tF extends ie{static get pluginName(){return"BlockQuoteEditing"}static get requires(){return[wp,Qr]}init(){const e=this.editor,i=e.model.schema;e.commands.add("blockQuote",new eF(e)),i.register("blockQuote",{inheritAllFrom:"$container"}),e.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),e.model.document.registerPostFixer(d=>{const f=e.model.document.differ.getChanges();for(const g of f)if(g.type=="insert"){const k=g.position.nodeAfter;if(!k)continue;if(k.is("element","blockQuote")&&k.isEmpty)return d.remove(k),!0;if(k.is("element","blockQuote")&&!i.checkChild(g.position,k))return d.unwrap(k),!0;if(k.is("element")){const w=d.createRangeIn(k);for(const _ of w.getItems())if(_.is("element","blockQuote")&&!i.checkChild(d.createPositionBefore(_),_))return d.unwrap(_),!0}}else if(g.type=="remove"){const k=g.position.parent;if(k.is("element","blockQuote")&&k.isEmpty)return d.remove(k),!0}return!1});const o=this.editor.editing.view.document,l=e.model.document.selection,c=e.commands.get("blockQuote");this.listenTo(o,"enter",(d,f)=>{!l.isCollapsed||!c.value||l.getLastPosition().parent.isEmpty&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),f.preventDefault(),d.stop())},{context:"blockquote"}),this.listenTo(o,"delete",(d,f)=>{if(f.direction!="backward"||!l.isCollapsed||!c.value)return;const g=l.getLastPosition().parent;g.isEmpty&&!g.previousSibling&&(e.execute("blockQuote"),e.editing.view.scrollToTheSelection(),f.preventDefault(),d.stop())},{context:"blockquote"})}}var zT=u(3062),nF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(zT.Z,nF),zT.Z.locals;class iF extends ie{static get pluginName(){return"BlockQuoteUI"}init(){const e=this.editor,i=e.t;e.ui.componentFactory.add("blockQuote",o=>{const l=e.commands.get("blockQuote"),c=new gt(o);return c.set({label:i("Block quote"),icon:Lt.quote,tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),this.listenTo(c,"execute",()=>{e.execute("blockQuote"),e.editing.view.focus()}),c})}}class rF extends ie{static get pluginName(){return"CKBoxUI"}afterInit(){const e=this.editor,i=e.commands.get("ckbox");if(!i)return;const o=e.t;e.ui.componentFactory.add("ckbox",l=>{const c=new gt(l);return c.set({label:o("Open file manager"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),c.bind("isOn","isEnabled").to(i,"value","isEnabled"),c.on("execute",()=>{e.execute("ckbox")}),c})}}function jT(a){const e=[];let i=0;for(const l in a){const c=parseInt(l,10);isNaN(c)||(c>i&&(i=c),e.push(`${a[l]} ${l}w`))}const o=[{srcset:e.join(","),sizes:`(max-width: ${i}px) 100vw, ${i}px`,type:"image/webp"}];return{imageFallbackUrl:a.default,imageSources:o}}class oF extends Be{constructor(e){super(e),this._chosenAssets=new Set,this._wrapper=null,this._initListeners()}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(){this.fire("ckbox:open")}_getValue(){return this._wrapper!==null}_checkEnabled(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");return!(!e.isEnabled&&!i.isEnabled)}_prepareOptions(){const e=this.editor.config.get("ckbox");return{theme:e.theme,language:e.language,tokenUrl:e.tokenUrl,serviceOrigin:e.serviceOrigin,dialog:{onClose:()=>this.fire("ckbox:close")},assets:{onChoose:i=>this.fire("ckbox:choose",i)}}}_initListeners(){const e=this.editor,i=e.model,o=!e.config.get("ckbox.ignoreDataId");this.on("ckbox",()=>{this.refresh()},{priority:"low"}),this.on("ckbox:open",()=>{this.isEnabled&&!this.value&&(this._wrapper=nf(document,"div",{class:"ck ckbox-wrapper"}),document.body.appendChild(this._wrapper),window.CKBox.mount(this._wrapper,this._prepareOptions()))}),this.on("ckbox:close",()=>{this.value&&(this._wrapper.remove(),this._wrapper=null)}),this.on("ckbox:choose",(l,c)=>{if(!this.isEnabled)return;const d=e.commands.get("insertImage"),f=e.commands.get("link"),g=function({assets:k,isImageAllowed:w,isLinkAllowed:_}){return k.map(y=>function(I){const T=I.data.metadata;return T?T.width&&T.height:!1}(y)?{id:y.data.id,type:"image",attributes:sF(y)}:{id:y.data.id,type:"link",attributes:aF(y)}).filter(y=>y.type==="image"?w:_)}({assets:c,isImageAllowed:d.isEnabled,isLinkAllowed:f.isEnabled});g.length!==0&&i.change(k=>{for(const w of g){const _=w===g[g.length-1];this._insertAsset(w,_,k),o&&(setTimeout(()=>this._chosenAssets.delete(w),1e3),this._chosenAssets.add(w))}})}),this.listenTo(e,"destroy",()=>{this.fire("ckbox:close"),this._chosenAssets.clear()})}_insertAsset(e,i,o){const l=this.editor.model.document.selection;o.removeSelectionAttribute("linkHref"),e.type==="image"?this._insertImage(e):this._insertLink(e,o),i||o.setSelection(l.getLastPosition())}_insertImage(e){const i=this.editor,{imageFallbackUrl:o,imageSources:l,imageTextAlternative:c}=e.attributes;i.execute("insertImage",{source:{src:o,sources:l,alt:c}})}_insertLink(e,i){const o=this.editor,l=o.model,c=l.document.selection,{linkName:d,linkHref:f}=e.attributes;if(c.isCollapsed){const g=mr(c.getAttributes()),k=i.createText(d,g),w=l.insertContent(k);i.setSelection(w)}o.execute("link",f)}}function sF(a){const{imageFallbackUrl:e,imageSources:i}=jT(a.data.imageUrls);return{imageFallbackUrl:e,imageSources:i,imageTextAlternative:a.data.metadata.description||""}}function aF(a){return{linkName:a.data.name,linkHref:lF(a)}}function lF(a){const e=new URL(a.data.url);return e.searchParams.set("download","true"),e.toString()}var sa=(a,e,i)=>new Promise((o,l)=>{var c=g=>{try{f(i.next(g))}catch(k){l(k)}},d=g=>{try{f(i.throw(g))}catch(k){l(k)}},f=g=>g.done?o(g.value):Promise.resolve(g.value).then(c,d);f((i=i.apply(a,e)).next())});class cF extends ie{static get requires(){return["ImageUploadEditing","ImageUploadProgress",Wi,e_]}static get pluginName(){return"CKBoxUploadAdapter"}afterInit(){return sa(this,null,function*(){const e=this.editor,i=!!e.config.get("ckbox"),o=!!window.CKBox;if(!i&&!o)return;const l=e.plugins.get(Wi),c=e.plugins.get(e_);l.createUploadAdapter=g=>new uF(g,c.getToken(),e);const d=!e.config.get("ckbox.ignoreDataId"),f=e.plugins.get("ImageUploadEditing");d&&f.on("uploadComplete",(g,{imageElement:k,data:w})=>{e.model.change(_=>{_.setAttribute("ckboxImageId",w.ckboxImageId,k)})})})}}class uF{constructor(e,i,o){this.loader=e,this.token=i,this.editor=o,this.controller=new AbortController,this.serviceOrigin=o.config.get("ckbox.serviceOrigin")}getWorkspaceId(){const e=(0,this.editor.t)("Cannot access default workspace."),i=this.editor.config.get("ckbox.defaultUploadWorkspaceId"),o=function(l,c){const[,d]=l.value.split("."),f=JSON.parse(atob(d)),g=f.auth&&f.auth.ckbox&&f.auth.ckbox.workspaces||[f.aud];return c?(f.auth&&f.auth.ckbox&&f.auth.ckbox.role)=="superadmin"||g.includes(c)?c:null:g[0]}(this.token,i);if(o==null)throw Z("ckbox-access-default-workspace-error"),e;return o}getAvailableCategories(e=0){return sa(this,null,function*(){const i=new URL("categories",this.serviceOrigin);return i.searchParams.set("limit",50 .toString()),i.searchParams.set("offset",e.toString()),i.searchParams.set("workspaceId",this.getWorkspaceId()),this._sendHttpRequest({url:i}).then(o=>sa(this,null,function*(){if(o.totalCount-(e+50)>0){const l=yield this.getAvailableCategories(e+50);return[...o.items,...l]}return o.items})).catch(()=>{this.controller.signal.throwIfAborted(),Z("ckbox-fetch-category-http-error")})})}getCategoryIdForFile(e){return sa(this,null,function*(){const i=function(d){const f=new RegExp("\\.(?<ext>[^.]+)$");return d.match(f).groups.ext.toLowerCase()}(e.name),o=yield this.getAvailableCategories();if(!o)return null;const l=this.editor.config.get("ckbox.defaultUploadCategories");if(l){const d=Object.keys(l).find(f=>l[f].find(g=>g.toLowerCase()==i));if(d){const f=o.find(g=>g.id===d||g.name===d);return f?f.id:null}}const c=o.find(d=>d.extensions.find(f=>f.toLowerCase()==i));return c?c.id:null})}upload(){return sa(this,null,function*(){const e=this.editor.t,i=e("Cannot determine a category for the uploaded file."),o=yield this.loader.file,l=yield this.getCategoryIdForFile(o);if(!l)return Promise.reject(i);const c=new URL("assets",this.serviceOrigin),d=new FormData;c.searchParams.set("workspaceId",this.getWorkspaceId()),d.append("categoryId",l),d.append("file",o);const f={method:"POST",url:c,data:d,onUploadProgress:g=>{g.lengthComputable&&(this.loader.uploadTotal=g.total,this.loader.uploaded=g.loaded)}};return this._sendHttpRequest(f).then(g=>sa(this,null,function*(){const k=jT(g.imageUrls);return{ckboxImageId:g.id,default:k.imageFallbackUrl,sources:k.imageSources}})).catch(()=>{const g=e("Cannot upload file:")+` ${o.name}.`;return Promise.reject(g)})})}abort(){this.controller.abort()}_sendHttpRequest({url:e,method:i="GET",data:o,onUploadProgress:l}){const c=this.controller.signal,d=new XMLHttpRequest;d.open(i,e.toString(),!0),d.setRequestHeader("Authorization",this.token.value),d.setRequestHeader("CKBox-Version","CKEditor 5"),d.responseType="json";const f=()=>{d.abort()};return new Promise((g,k)=>{c.addEventListener("abort",f),d.addEventListener("loadstart",()=>{c.addEventListener("abort",f)}),d.addEventListener("loadend",()=>{c.removeEventListener("abort",f)}),d.addEventListener("error",()=>{k()}),d.addEventListener("abort",()=>{k()}),d.addEventListener("load",()=>sa(this,null,function*(){const w=d.response;return!w||w.statusCode>=400?k(w&&w.message):g(w)})),l&&d.upload.addEventListener("progress",w=>{l(w)}),d.send(o)})}}class e_ extends ie{static get pluginName(){return"CKBoxEditing"}static get requires(){return["CloudServices","LinkEditing","PictureEditing",cF]}init(){return e=this,i=null,o=function*(){const l=this.editor,c=!!l.config.get("ckbox"),d=!!window.CKBox;if(!c&&!d)return;this._initConfig();const f=l.plugins.get("CloudServicesCore"),g=l.config.get("ckbox.tokenUrl");if(g===l.config.get("cloudServices.tokenUrl")){const k=l.plugins.get("CloudServices");this._token=k.token}else this._token=yield f.createToken(g).init();l.config.get("ckbox.ignoreDataId")||(this._initSchema(),this._initConversion(),this._initFixers()),d&&l.commands.add("ckbox",new oF(l))},new Promise((l,c)=>{var d=k=>{try{g(o.next(k))}catch(w){c(w)}},f=k=>{try{g(o.throw(k))}catch(w){c(w)}},g=k=>k.done?l(k.value):Promise.resolve(k.value).then(d,f);g((o=o.apply(e,i)).next())});var e,i,o}getToken(){return this._token}_initConfig(){const e=this.editor;if(e.config.define("ckbox",{serviceOrigin:"https://api.ckbox.io",defaultUploadCategories:null,ignoreDataId:!1,language:e.locale.uiLanguage,theme:"default",tokenUrl:e.config.get("cloudServices.tokenUrl")}),!e.config.get("ckbox.tokenUrl"))throw new j("ckbox-plugin-missing-token-url",this);e.plugins.has("ImageBlockEditing")||e.plugins.has("ImageInlineEditing")||Z("ckbox-plugin-image-feature-missing",e)}_initSchema(){const e=this.editor.model.schema;e.extend("$text",{allowAttributes:"ckboxLinkId"}),e.isRegistered("imageBlock")&&e.extend("imageBlock",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.isRegistered("imageInline")&&e.extend("imageInline",{allowAttributes:["ckboxImageId","ckboxLinkId"]}),e.addAttributeCheck((i,o)=>{if(!i.last.getAttribute("linkHref")&&o==="ckboxLinkId")return!1})}_initConversion(){const e=this.editor;e.conversion.for("downcast").add(i=>{i.on("attribute:ckboxLinkId:imageBlock",(o,l,c)=>{const{writer:d,mapper:f,consumable:g}=c;if(!g.consume(l.item,o.name))return;const k=[...f.toViewElement(l.item).getChildren()].find(w=>w.name==="a");k&&(l.item.hasAttribute("ckboxLinkId")?d.setAttribute("data-ckbox-resource-id",l.item.getAttribute("ckboxLinkId"),k):d.removeAttribute("data-ckbox-resource-id",k))},{priority:"low"}),i.on("attribute:ckboxLinkId",(o,l,c)=>{const{writer:d,mapper:f,consumable:g}=c;if(g.consume(l.item,o.name)){if(l.attributeOldValue){const k=VT(d,l.attributeOldValue);d.unwrap(f.toViewRange(l.range),k)}if(l.attributeNewValue){const k=VT(d,l.attributeNewValue);if(l.item.is("selection")){const w=d.document.selection;d.wrap(w.getFirstRange(),k)}else d.wrap(f.toViewRange(l.range),k)}}},{priority:"low"})}),e.conversion.for("upcast").add(i=>{i.on("element:a",(o,l,c)=>{const{writer:d,consumable:f}=c;if(!l.viewItem.getAttribute("href")||!f.consume(l.viewItem,{attributes:["data-ckbox-resource-id"]}))return;const g=l.viewItem.getAttribute("data-ckbox-resource-id");if(g)if(l.modelRange)for(let k of l.modelRange.getItems())k.is("$textProxy")&&(k=k.textNode),hF(k)&&d.setAttribute("ckboxLinkId",g,k);else{const k=l.modelCursor.nodeBefore||l.modelCursor.parent;d.setAttribute("ckboxLinkId",g,k)}},{priority:"low"})}),e.conversion.for("downcast").attributeToAttribute({model:"ckboxImageId",view:"data-ckbox-resource-id"}),e.conversion.for("upcast").elementToAttribute({model:{key:"ckboxImageId",value:i=>i.getAttribute("data-ckbox-resource-id")},view:{attributes:{"data-ckbox-resource-id":/[\s\S]+/}}})}_initFixers(){const e=this.editor,i=e.model,o=i.document.selection;i.document.registerPostFixer(function(l){return c=>{let d=!1;const f=l.model,g=l.commands.get("ckbox");if(!g)return d;for(const k of f.document.differ.getChanges()){if(k.type!=="insert"&&k.type!=="attribute")continue;const w=k.type==="insert"?new G(k.position,k.position.getShiftedBy(k.length)):k.range,_=k.type==="attribute"&&k.attributeKey==="linkHref"&&k.attributeNewValue===null;for(const y of w.getItems()){if(_&&y.hasAttribute("ckboxLinkId")){c.removeAttribute("ckboxLinkId",y),d=!0;continue}const I=dF(y,g._chosenAssets);for(const T of I){const S=T.type==="image"?"ckboxImageId":"ckboxLinkId";T.id!==y.getAttribute(S)&&(c.setAttribute(S,T.id,y),d=!0)}}}return d}}(e)),i.document.registerPostFixer(function(l){return c=>!(l.hasAttribute("linkHref")||!l.hasAttribute("ckboxLinkId"))&&(c.removeSelectionAttribute("ckboxLinkId"),!0)}(o))}}function dF(a,e){const i=a.is("element","imageInline")||a.is("element","imageBlock"),o=a.hasAttribute("linkHref");return[...e].filter(l=>l.type==="image"&&i?l.attributes.imageFallbackUrl===a.getAttribute("src"):l.type==="link"&&o?l.attributes.linkHref===a.getAttribute("linkHref"):void 0)}function VT(a,e){const i=a.createAttributeElement("a",{"data-ckbox-resource-id":e},{priority:5});return a.setCustomProperty("link",!0,i),i}function hF(a){return!!a.is("$text")||!(!a.is("element","imageInline")&&!a.is("element","imageBlock"))}class fF extends ie{static get pluginName(){return"CKFinderUI"}init(){const e=this.editor,i=e.ui.componentFactory,o=e.t;i.add("ckfinder",l=>{const c=e.commands.get("ckfinder"),d=new gt(l);return d.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),d.bind("isEnabled").to(c),d.on("execute",()=>{e.execute("ckfinder"),e.editing.view.focus()}),d})}}class pF extends Be{constructor(e){super(e),this.affectsData=!1,this.stopListening(this.editor.model.document,"change"),this.listenTo(this.editor.model.document,"change",()=>this.refresh(),{priority:"low"})}refresh(){const e=this.editor.commands.get("insertImage"),i=this.editor.commands.get("link");this.isEnabled=e.isEnabled||i.isEnabled}execute(){const e=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new j("ckfinder-unknown-openermethod",e);const o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;const l=o.onInit;o.language||(o.language=e.locale.uiLanguage),o.onInit=c=>{l&&l(c),c.on("files:choose",d=>{const f=d.data.files.toArray(),g=f.filter(_=>!_.isImage()),k=f.filter(_=>_.isImage());for(const _ of g)e.execute("link",_.getUrl());const w=[];for(const _ of k){const y=_.getUrl();w.push(y||c.request("file:getProxyUrl",{file:_}))}w.length&&FT(e,w)}),c.on("file:choose:resizedImage",d=>{const f=d.data.resizedUrl;if(f)FT(e,[f]);else{const g=e.plugins.get("Notification"),k=e.locale.t;g.showWarning(k("Could not obtain resized image URL."),{title:k("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](o)}}function FT(a,e){if(a.commands.get("insertImage").isEnabled)a.execute("insertImage",{source:e});else{const i=a.plugins.get("Notification"),o=a.locale.t;i.showWarning(o("Could not insert image at the current position."),{title:o("Inserting image failed"),namespace:"ckfinder"})}}class gF extends ie{static get pluginName(){return"CKFinderEditing"}static get requires(){return[Hw,"LinkEditing"]}init(){const e=this.editor;if(!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing"))throw new j("ckfinder-missing-image-plugin",e);e.commands.add("ckfinder",new pF(e))}}class mF extends ie{static get pluginName(){return"CloudServicesUploadAdapter"}static get requires(){return["CloudServices",Wi]}init(){const e=this.editor,i=e.plugins.get("CloudServices"),o=i.token,l=i.uploadUrl;if(!o)return;const c=e.plugins.get("CloudServicesCore");this._uploadGateway=c.createUploadGateway(o,l),e.plugins.get(Wi).createUploadAdapter=d=>new kF(this._uploadGateway,d)}}class kF{constructor(e,i){this.uploadGateway=e,this.loader=i}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(i,o)=>{this.loader.uploadTotal=o.total,this.loader.uploaded=o.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}class bF extends Be{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}refresh(){const e=this.editor.model,i=Ft(e.document.selection.getSelectedBlocks());this.value=!!i&&i.is("element","paragraph"),this.isEnabled=!!i&&UT(i,e.schema)}execute(e={}){const i=this.editor.model,o=i.document,l=e.selection||o.selection;i.canEditAt(l)&&i.change(c=>{const d=l.getSelectedBlocks();for(const f of d)!f.is("element","paragraph")&&UT(f,i.schema)&&c.rename(f,"paragraph")})}}function UT(a,e){return e.checkChild(a.parent,"paragraph")&&!e.isObject(a)}class wF extends Be{constructor(e){super(e),this._isEnabledBasedOnSelection=!1}execute(e){const i=this.editor.model,o=e.attributes;let l=e.position;i.canEditAt(l)&&i.change(c=>{const d=c.createElement("paragraph"),f=i.schema.findAllowedParent(l,d);if(!f)return;if(o&&i.schema.setAllowedAttributes(d,o,c),l.path.length<2)return i.insertContent(d,l),void c.setSelection(d,"in");const g=l.parent,k=g.isEmpty,w=l.isAtEnd&&!g.isEmpty,_=l.isAtStart&&!g.isEmpty,y=i.schema.checkChild(g,d);k||w?l=c.createPositionAfter(g):_?l=c.createPositionBefore(g):y||(l=c.split(l,f).position),i.insertContent(d,l),c.setSelection(d,"in")})}}const HT=class extends ie{static get pluginName(){return"Paragraph"}init(){const a=this.editor,e=a.model;a.commands.add("paragraph",new bF(a)),a.commands.add("insertParagraph",new wF(a)),e.schema.register("paragraph",{inheritAllFrom:"$block"}),a.conversion.elementToElement({model:"paragraph",view:"p"}),a.conversion.for("upcast").elementToElement({model:(i,{writer:o})=>HT.paragraphLikeElements.has(i.name)?i.isEmpty?null:o.createElement("paragraph"):null,view:/.+/,converterPriority:"low"})}};let t_=HT;t_.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td","th"]);class _F extends Be{constructor(e,i){super(e),this.modelElements=i}refresh(){const e=Ft(this.editor.model.document.selection.getSelectedBlocks());this.value=!!e&&this.modelElements.includes(e.name)&&e.name,this.isEnabled=!!e&&this.modelElements.some(i=>WT(e,i,this.editor.model.schema))}execute(e){const i=this.editor.model,o=i.document,l=e.value;i.change(c=>{const d=Array.from(o.selection.getSelectedBlocks()).filter(f=>WT(f,l,i.schema));for(const f of d)f.is("element",l)||c.rename(f,l)})}}function WT(a,e,i){return i.checkChild(a.parent,e)&&!i.isObject(a)}const qT="paragraph";class AF extends ie{static get pluginName(){return"HeadingEditing"}constructor(e){super(e),e.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]})}static get requires(){return[t_]}init(){const e=this.editor,i=e.config.get("heading.options"),o=[];for(const l of i)l.model!=="paragraph"&&(e.model.schema.register(l.model,{inheritAllFrom:"$block"}),e.conversion.elementToElement(l),o.push(l.model));this._addDefaultH1Conversion(e),e.commands.add("heading",new _F(e,o))}afterInit(){const e=this.editor,i=e.commands.get("enter"),o=e.config.get("heading.options");i&&this.listenTo(i,"afterExecute",(l,c)=>{const d=e.model.document.selection.getFirstPosition().parent;o.some(f=>d.is("element",f.model))&&!d.is("element",qT)&&d.childCount===0&&c.writer.rename(d,qT)})}_addDefaultH1Conversion(e){e.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:$.low+1})}}var $T=u(8733),vF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()($T.Z,vF),$T.Z.locals;class yF extends ie{static get pluginName(){return"HeadingUI"}init(){const e=this.editor,i=e.t,o=function(d){const f=d.t,g={Paragraph:f("Paragraph"),"Heading 1":f("Heading 1"),"Heading 2":f("Heading 2"),"Heading 3":f("Heading 3"),"Heading 4":f("Heading 4"),"Heading 5":f("Heading 5"),"Heading 6":f("Heading 6")};return d.config.get("heading.options").map(k=>{const w=g[k.title];return w&&w!=k.title&&(k.title=w),k})}(e),l=i("Choose heading"),c=i("Heading");e.ui.componentFactory.add("heading",d=>{const f={},g=new Li,k=e.commands.get("heading"),w=e.commands.get("paragraph"),_=[k];for(const I of o){const T={type:"button",model:new xI({label:I.title,class:I.class,role:"menuitemradio",withText:!0})};I.model==="paragraph"?(T.model.bind("isOn").to(w,"value"),T.model.set("commandName","paragraph"),_.push(w)):(T.model.bind("isOn").to(k,"value",S=>S===I.model),T.model.set({commandName:"heading",commandValue:I.model})),g.add(T),f[I.model]=I.title}const y=Fo(d);return Qx(y,g,{ariaLabel:c,role:"menu"}),y.buttonView.set({ariaLabel:c,ariaLabelledBy:void 0,isOn:!1,withText:!0,tooltip:c}),y.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),y.bind("isEnabled").toMany(_,"isEnabled",(...I)=>I.some(T=>T)),y.buttonView.bind("label").to(k,"value",w,"value",(I,T)=>{const S=I||T&&"paragraph";return typeof S=="boolean"?l:f[S]?f[S]:l}),this.listenTo(y,"execute",I=>{const{commandName:T,commandValue:S}=I.source;e.execute(T,S?{value:S}:void 0),e.editing.view.focus()}),y})}}function GT(a){return a.createContainerElement("figure",{class:"image"},[a.createEmptyElement("img"),a.createSlot("children")])}function KT(a,e){const i=a.plugins.get("ImageUtils"),o=a.plugins.has("ImageInlineEditing")&&a.plugins.has("ImageBlockEditing");return c=>i.isInlineImageView(c)?o&&(c.getStyle("display")=="block"||c.findAncestor(i.isBlockImageView)?"imageBlock":"imageInline")!==e?null:l(c):null;function l(c){const d={name:!0};return c.hasAttribute("src")&&(d.attributes=["src"]),d}}function n_(a,e){const i=Ft(e.getSelectedBlocks());return!i||a.isObject(i)||i.isEmpty&&i.name!="listItem"?"imageBlock":"imageInline"}var CF=Object.defineProperty,QT=Object.getOwnPropertySymbols,EF=Object.prototype.hasOwnProperty,xF=Object.prototype.propertyIsEnumerable,YT=(a,e,i)=>e in a?CF(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,ZT=(a,e)=>{for(var i in e||(e={}))EF.call(e,i)&&YT(a,i,e[i]);if(QT)for(var i of QT(e))xF.call(e,i)&&YT(a,i,e[i]);return a};class qi extends ie{static get pluginName(){return"ImageUtils"}isImage(e){return this.isInlineImage(e)||this.isBlockImage(e)}isInlineImageView(e){return!!e&&e.is("element","img")}isBlockImageView(e){return!!e&&e.is("element","figure")&&e.hasClass("image")}insertImage(e={},i=null,o=null){const l=this.editor,c=l.model,d=c.document.selection;o=JT(l,i||d,o),e=ZT(ZT({},Object.fromEntries(d.getAttributes())),e);for(const f in e)c.schema.checkAttribute(o,f)||delete e[f];return c.change(f=>{const g=f.createElement(o,e);return c.insertObject(g,i,null,{setSelection:"on",findOptimalPosition:i||o=="imageInline"?void 0:"auto"}),g.parent?g:null})}getClosestSelectedImageWidget(e){const i=e.getFirstPosition();if(!i)return null;const o=e.getSelectedElement();if(o&&this.isImageWidget(o))return o;let l=i.parent;for(;l;){if(l.is("element")&&this.isImageWidget(l))return l;l=l.parent}return null}getClosestSelectedImageElement(e){const i=e.getSelectedElement();return this.isImage(i)?i:e.getFirstPosition().findAncestor("imageBlock")}isImageAllowed(){const e=this.editor.model.document.selection;return function(i,o){if(JT(i,o,null)=="imageBlock"){const c=function(d,f){const g=lT(d,f),k=g.start.parent;return k.isEmpty&&!k.is("element","$root")?k.parent:k}(o,i.model);if(i.model.schema.checkChild(c,"imageBlock"))return!0}else if(i.model.schema.checkChild(o.focus,"imageInline"))return!0;return!1}(this.editor,e)&&function(i){return[...i.focus.getAncestors()].every(o=>!o.is("element","imageBlock"))}(e)}toImageWidget(e,i,o){return i.setCustomProperty("image",!0,e),Zw(e,i,{label:()=>{const l=this.findViewImgElement(e).getAttribute("alt");return l?`${l} ${o}`:o}})}isImageWidget(e){return!!e.getCustomProperty("image")&&Et(e)}isBlockImage(e){return!!e&&e.is("element","imageBlock")}isInlineImage(e){return!!e&&e.is("element","imageInline")}findViewImgElement(e){if(this.isInlineImageView(e))return e;const i=this.editor.editing.view;for(const{item:o}of i.createRangeIn(e))if(this.isInlineImageView(o))return o}}function JT(a,e,i){const o=a.model.schema,l=a.config.get("image.insert.type");return a.plugins.has("ImageBlockEditing")?a.plugins.has("ImageInlineEditing")?i||(l==="inline"?"imageInline":l==="block"?"imageBlock":e.is("selection")?n_(o,e):o.checkChild(e,"imageInline")?"imageInline":"imageBlock"):"imageBlock":"imageInline"}class IF extends Be{refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled&&e.hasAttribute("alt")?this.value=e.getAttribute("alt"):this.value=!1}execute(e){const i=this.editor,o=i.plugins.get("ImageUtils"),l=i.model,c=o.getClosestSelectedImageElement(l.document.selection);l.change(d=>{d.setAttribute("alt",e.newValue,c)})}}class TF extends ie{static get requires(){return[qi]}static get pluginName(){return"ImageTextAlternativeEditing"}init(){this.editor.commands.add("imageTextAlternative",new IF(this.editor))}}var XT=u(1905),SF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(XT.Z,SF),XT.Z.locals;var e2=u(6764),DF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(e2.Z,DF),e2.Z.locals;class MF extends ze{constructor(e){super(e);const i=this.locale.t;this.focusTracker=new vi,this.keystrokes=new gr,this.labeledInput=this._createLabeledInputView(),this.saveButtonView=this._createButton(i("Save"),Lt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(i("Cancel"),Lt.cancel,"ck-button-cancel","cancel"),this._focusables=new Bo,this._focusCycler=new dl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form","ck-responsive-form"],tabindex:"-1"},children:[this.labeledInput,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),this.keystrokes.listenTo(this.element),m({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)})}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}_createButton(e,i,o,l){const c=new gt(this.locale);return c.set({label:e,icon:i,tooltip:!0}),c.extendTemplate({attributes:{class:o}}),l&&c.delegate("execute").to(this,l),c}_createLabeledInputView(){const e=this.locale.t,i=new Hb(this.locale,Mw);return i.label=e("Text alternative"),i}}function t2(a){const e=a.editing.view,i=Kn.defaultPositions,o=a.plugins.get("ImageUtils");return{target:e.domConverter.mapViewToDom(o.getClosestSelectedImageWidget(e.document.selection)),positions:[i.northArrowSouth,i.northArrowSouthWest,i.northArrowSouthEast,i.southArrowNorth,i.southArrowNorthWest,i.southArrowNorthEast,i.viewportStickyNorth]}}class PF extends ie{static get requires(){return[fp]}static get pluginName(){return"ImageTextAlternativeUI"}init(){this._createButton()}destroy(){super.destroy(),this._form&&this._form.destroy()}_createButton(){const e=this.editor,i=e.t;e.ui.componentFactory.add("imageTextAlternative",o=>{const l=e.commands.get("imageTextAlternative"),c=new gt(o);return c.set({label:i("Change image text alternative"),icon:Lt.lowVision,tooltip:!0}),c.bind("isEnabled").to(l,"isEnabled"),c.bind("isOn").to(l,"value",d=>!!d),this.listenTo(c,"execute",()=>{this._showForm()}),c})}_createForm(){const e=this.editor,i=e.editing.view.document,o=e.plugins.get("ImageUtils");this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new(b(MF))(e.locale),this._form.render(),this.listenTo(this._form,"submit",()=>{e.execute("imageTextAlternative",{newValue:this._form.labeledInput.fieldView.element.value}),this._hideForm(!0)}),this.listenTo(this._form,"cancel",()=>{this._hideForm(!0)}),this._form.keystrokes.set("Esc",(l,c)=>{this._hideForm(!0),c()}),this.listenTo(e.ui,"update",()=>{o.getClosestSelectedImageWidget(i.selection)?this._isVisible&&function(l){const c=l.plugins.get("ContextualBalloon");if(l.plugins.get("ImageUtils").getClosestSelectedImageWidget(l.editing.view.document.selection)){const d=t2(l);c.updatePosition(d)}}(e):this._hideForm(!0)}),p({emitter:this._form,activator:()=>this._isVisible,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideForm()})}_showForm(){if(this._isVisible)return;this._form||this._createForm();const e=this.editor,i=e.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._form.disableCssTransitions(),this._isInBalloon||this._balloon.add({view:this._form,position:t2(e)}),o.fieldView.value=o.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select(),this._form.enableCssTransitions()}_hideForm(e=!1){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),e&&this.editor.editing.view.focus())}get _isVisible(){return!!this._balloon&&this._balloon.visibleView===this._form}get _isInBalloon(){return!!this._balloon&&this._balloon.hasView(this._form)}}class n2 extends ie{static get requires(){return[TF,PF]}static get pluginName(){return"ImageTextAlternative"}}function i2(a,e){const i=(o,l,c)=>{if(!c.consumable.consume(l.item,o.name))return;const d=c.writer,f=c.mapper.toViewElement(l.item),g=a.findViewImgElement(f);if(l.attributeNewValue===null){const k=l.attributeOldValue;k&&k.data&&(d.removeAttribute("srcset",g),d.removeAttribute("sizes",g),k.width&&d.removeAttribute("width",g))}else{const k=l.attributeNewValue;k&&k.data&&(d.setAttribute("srcset",k.data,g),d.setAttribute("sizes","100vw",g),k.width&&d.setAttribute("width",k.width,g))}};return o=>{o.on(`attribute:srcset:${e}`,i)}}function Cp(a,e,i){const o=(l,c,d)=>{if(!d.consumable.consume(c.item,l.name))return;const f=d.writer,g=d.mapper.toViewElement(c.item),k=a.findViewImgElement(g);f.setAttribute(c.attributeKey,c.attributeNewValue||"",k)};return l=>{l.on(`attribute:${i}:${e}`,o)}}class NF extends wr{observe(e){this.listenTo(e,"load",(i,o)=>{const l=o.target;this.checkShouldIgnoreEventFromTarget(l)||l.tagName=="IMG"&&this._fireEvents(o)},{useCapture:!0})}stopObserving(e){this.stopListening(e)}_fireEvents(e){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",e))}}var RF=Object.defineProperty,r2=Object.getOwnPropertySymbols,OF=Object.prototype.hasOwnProperty,BF=Object.prototype.propertyIsEnumerable,o2=(a,e,i)=>e in a?RF(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,Ep=(a,e)=>{for(var i in e||(e={}))OF.call(e,i)&&o2(a,i,e[i]);if(r2)for(var i of r2(e))BF.call(e,i)&&o2(a,i,e[i]);return a};class LF extends Be{constructor(e){super(e);const i=e.config.get("image.insert.type");e.plugins.has("ImageBlockEditing")||i==="block"&&q("image-block-plugin-required"),e.plugins.has("ImageInlineEditing")||i==="inline"&&q("image-inline-plugin-required")}refresh(){const e=this.editor.plugins.get("ImageUtils");this.isEnabled=e.isImageAllowed()}execute(e){const i=nn(e.source),o=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(o.getAttributes());i.forEach((d,f)=>{const g=o.getSelectedElement();if(typeof d=="string"&&(d={src:d}),f&&g&&l.isImage(g)){const k=this.editor.model.createPositionAfter(g);l.insertImage(Ep(Ep({},d),c),k)}else l.insertImage(Ep(Ep({},d),c))})}}class zF extends Be{refresh(){const e=this.editor.plugins.get("ImageUtils"),i=this.editor.model.document.selection.getSelectedElement();this.isEnabled=e.isImage(i),this.value=this.isEnabled?i.getAttribute("src"):null}execute(e){const i=this.editor.model.document.selection.getSelectedElement();this.editor.model.change(o=>{o.setAttribute("src",e.source,i),o.removeAttribute("srcset",i),o.removeAttribute("sizes",i)})}}class i_ extends ie{static get requires(){return[qi]}static get pluginName(){return"ImageEditing"}init(){const e=this.editor,i=e.conversion;e.editing.view.addObserver(NF),i.for("upcast").attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:c=>{const d={data:c.getAttribute("srcset")};return c.hasAttribute("width")&&(d.width=c.getAttribute("width")),d}}});const o=new LF(e),l=new zF(e);e.commands.add("insertImage",o),e.commands.add("replaceImageSource",l),e.commands.add("imageInsert",o)}}class s2 extends Be{constructor(e,i){super(e),this._modelElementName=i}refresh(){const e=this.editor.plugins.get("ImageUtils"),i=e.getClosestSelectedImageElement(this.editor.model.document.selection);this._modelElementName==="imageBlock"?this.isEnabled=e.isInlineImage(i):this.isEnabled=e.isBlockImage(i)}execute(){const e=this.editor,i=this.editor.model,o=e.plugins.get("ImageUtils"),l=o.getClosestSelectedImageElement(i.document.selection),c=Object.fromEntries(l.getAttributes());return c.src||c.uploadId?i.change(d=>{const f=Array.from(i.markers).filter(w=>w.getRange().containsItem(l)),g=o.insertImage(c,i.createSelection(l,"on"),this._modelElementName);if(!g)return null;const k=d.createRangeOn(g);for(const w of f){const _=w.getRange(),y=_.root.rootName!="$graveyard"?_.getJoined(k,!0):k;d.updateMarker(w,{range:y})}return{oldElement:l,newElement:g}}):null}}class a2 extends ie{static get requires(){return[i_,qi,vr]}static get pluginName(){return"ImageBlockEditing"}init(){const e=this.editor;e.model.schema.register("imageBlock",{inheritAllFrom:"$blockObject",allowAttributes:["alt","src","srcset"]}),this._setupConversion(),e.plugins.has("ImageInlineEditing")&&(e.commands.add("imageTypeBlock",new s2(this.editor,"imageBlock")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,o=e.conversion,l=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>GT(d)}),o.for("editingDowncast").elementToStructure({model:"imageBlock",view:(c,{writer:d})=>l.toImageWidget(GT(d),d,i("image widget"))}),o.for("downcast").add(Cp(l,"imageBlock","src")).add(Cp(l,"imageBlock","alt")).add(i2(l,"imageBlock")),o.for("upcast").elementToElement({view:KT(e,"imageBlock"),model:(c,{writer:d})=>d.createElement("imageBlock",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)}).add(function(c){const d=(f,g,k)=>{if(!k.consumable.test(g.viewItem,{name:!0,classes:"image"}))return;const w=c.findViewImgElement(g.viewItem);if(!w||!k.consumable.test(w,{name:!0}))return;k.consumable.consume(g.viewItem,{name:!0,classes:"image"});const _=Ft(k.convertItem(w,g.modelCursor).modelRange.getItems());_?(k.convertChildren(g.viewItem,_),k.updateConversionResult(_,g)):k.consumable.revert(g.viewItem,{name:!0,classes:"image"})};return f=>{f.on("element:figure",d)}}(l))}_setupClipboardIntegration(){const e=this.editor,i=e.model,o=e.editing.view,l=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,f)=>{const g=Array.from(f.content.getChildren());let k;if(!g.every(l.isInlineImageView))return;k=f.targetRanges?e.editing.mapper.toModelRange(f.targetRanges[0]):i.document.selection.getFirstRange();const w=i.createSelection(k);if(n_(i.schema,w)==="imageBlock"){const _=new Vo(o.document),y=g.map(I=>_.createElement("figure",{class:"image"},I));f.content=_.createDocumentFragment(y)}})}}var l2=u(3508),jF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(l2.Z,jF),l2.Z.locals;class VF extends ie{static get requires(){return[a2,zu,n2]}static get pluginName(){return"ImageBlock"}}class FF extends ie{static get requires(){return[i_,qi,vr]}static get pluginName(){return"ImageInlineEditing"}init(){const e=this.editor,i=e.model.schema;i.register("imageInline",{inheritAllFrom:"$inlineObject",allowAttributes:["alt","src","srcset"]}),i.addChildCheck((o,l)=>{if(o.endsWith("caption")&&l.name==="imageInline")return!1}),this._setupConversion(),e.plugins.has("ImageBlockEditing")&&(e.commands.add("imageTypeInline",new s2(this.editor,"imageInline")),this._setupClipboardIntegration())}_setupConversion(){const e=this.editor,i=e.t,o=e.conversion,l=e.plugins.get("ImageUtils");o.for("dataDowncast").elementToElement({model:"imageInline",view:(c,{writer:d})=>d.createEmptyElement("img")}),o.for("editingDowncast").elementToStructure({model:"imageInline",view:(c,{writer:d})=>l.toImageWidget(function(f){return f.createContainerElement("span",{class:"image-inline"},f.createEmptyElement("img"))}(d),d,i("image widget"))}),o.for("downcast").add(Cp(l,"imageInline","src")).add(Cp(l,"imageInline","alt")).add(i2(l,"imageInline")),o.for("upcast").elementToElement({view:KT(e,"imageInline"),model:(c,{writer:d})=>d.createElement("imageInline",c.hasAttribute("src")?{src:c.getAttribute("src")}:void 0)})}_setupClipboardIntegration(){const e=this.editor,i=e.model,o=e.editing.view,l=e.plugins.get("ImageUtils"),c=e.plugins.get("ClipboardPipeline");this.listenTo(c,"inputTransformation",(d,f)=>{const g=Array.from(f.content.getChildren());let k;if(!g.every(l.isBlockImageView))return;k=f.targetRanges?e.editing.mapper.toModelRange(f.targetRanges[0]):i.document.selection.getFirstRange();const w=i.createSelection(k);if(n_(i.schema,w)==="imageInline"){const _=new Vo(o.document),y=g.map(I=>I.childCount===1?(Array.from(I.getAttributes()).forEach(T=>_.setAttribute(...T,l.findViewImgElement(I))),I.getChild(0)):I);f.content=_.createDocumentFragment(y)}})}}class UF extends ie{static get requires(){return[FF,zu,n2]}static get pluginName(){return"ImageInline"}}class c2 extends ie{static get pluginName(){return"ImageCaptionUtils"}static get requires(){return[qi]}getCaptionFromImageModelElement(e){for(const i of e.getChildren())if(i&&i.is("element","caption"))return i;return null}getCaptionFromModelSelection(e){const i=this.editor.plugins.get("ImageUtils"),o=e.getFirstPosition().findAncestor("caption");return o&&i.isBlockImage(o.parent)?o:null}matchImageCaptionViewElement(e){const i=this.editor.plugins.get("ImageUtils");return e.name=="figcaption"&&i.isBlockImageView(e.parent)?{name:!0}:null}}class HF extends Be{refresh(){const e=this.editor,i=e.plugins.get("ImageCaptionUtils"),o=e.plugins.get("ImageUtils");if(!e.plugins.has(a2))return this.isEnabled=!1,void(this.value=!1);const l=e.model.document.selection,c=l.getSelectedElement();if(!c){const d=i.getCaptionFromModelSelection(l);return this.isEnabled=!!d,void(this.value=!!d)}this.isEnabled=o.isImage(c),this.isEnabled?this.value=!!i.getCaptionFromImageModelElement(c):this.value=!1}execute(e={}){const{focusCaptionOnShow:i}=e;this.editor.model.change(o=>{this.value?this._hideImageCaption(o):this._showImageCaption(o,i)})}_showImageCaption(e,i){const o=this.editor.model.document.selection,l=this.editor.plugins.get("ImageCaptionEditing"),c=this.editor.plugins.get("ImageUtils");let d=o.getSelectedElement();const f=l._getSavedCaption(d);c.isInlineImage(d)&&(this.editor.execute("imageTypeBlock"),d=o.getSelectedElement());const g=f||e.createElement("caption");e.append(g,d),i&&e.setSelection(g,"in")}_hideImageCaption(e){const i=this.editor,o=i.model.document.selection,l=i.plugins.get("ImageCaptionEditing"),c=i.plugins.get("ImageCaptionUtils");let d,f=o.getSelectedElement();f?d=c.getCaptionFromImageModelElement(f):(d=c.getCaptionFromModelSelection(o),f=d.parent),l._saveCaption(f,d),e.setSelection(f,"on"),e.remove(d)}}class WF extends ie{constructor(e){super(e),this._savedCaptionsMap=new WeakMap}static get requires(){return[qi,c2]}static get pluginName(){return"ImageCaptionEditing"}init(){const e=this.editor,i=e.model.schema;i.isRegistered("caption")?i.extend("caption",{allowIn:"imageBlock"}):i.register("caption",{allowIn:"imageBlock",allowContentOf:"$block",isLimit:!0}),e.commands.add("toggleImageCaption",new HF(this.editor)),this._setupConversion(),this._setupImageTypeCommandsIntegration(),this._registerCaptionReconversion()}_setupConversion(){const e=this.editor,i=e.editing.view,o=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils"),c=e.t;e.conversion.for("upcast").elementToElement({view:d=>l.matchImageCaptionViewElement(d),model:"caption"}),e.conversion.for("dataDowncast").elementToElement({model:"caption",view:(d,{writer:f})=>o.isBlockImage(d.parent)?f.createContainerElement("figcaption"):null}),e.conversion.for("editingDowncast").elementToElement({model:"caption",view:(d,{writer:f})=>{if(!o.isBlockImage(d.parent))return null;const g=f.createEditableElement("figcaption");f.setCustomProperty("imageCaption",!0,g),g.placeholder=c("Enter image caption"),j1({view:i,element:g,keepOnFocus:!0});const k=d.parent.getAttribute("alt");return aT(g,f,{label:k?c("Caption for image: %0",[k]):c("Caption for the image")})}})}_setupImageTypeCommandsIntegration(){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.plugins.get("ImageCaptionUtils"),l=e.commands.get("imageTypeInline"),c=e.commands.get("imageTypeBlock"),d=f=>{if(!f.return)return;const{oldElement:g,newElement:k}=f.return;if(!g)return;if(i.isBlockImage(g)){const _=o.getCaptionFromImageModelElement(g);if(_)return void this._saveCaption(k,_)}const w=this._getSavedCaption(g);w&&this._saveCaption(k,w)};l&&this.listenTo(l,"execute",d,{priority:"low"}),c&&this.listenTo(c,"execute",d,{priority:"low"})}_getSavedCaption(e){const i=this._savedCaptionsMap.get(e);return i?nt.fromJSON(i):null}_saveCaption(e,i){this._savedCaptionsMap.set(e,i.toJSON())}_registerCaptionReconversion(){const e=this.editor,i=e.model,o=e.plugins.get("ImageUtils"),l=e.plugins.get("ImageCaptionUtils");i.document.on("change:data",()=>{const c=i.document.differ.getChanges();for(const d of c){if(d.attributeKey!=="alt")continue;const f=d.range.start.nodeAfter;if(o.isBlockImage(f)){const g=l.getCaptionFromImageModelElement(f);if(!g)return;e.editing.reconvertItem(g)}}})}}class qF extends ie{static get requires(){return[c2]}static get pluginName(){return"ImageCaptionUI"}init(){const e=this.editor,i=e.editing.view,o=e.plugins.get("ImageCaptionUtils"),l=e.t;e.ui.componentFactory.add("toggleImageCaption",c=>{const d=e.commands.get("toggleImageCaption"),f=new gt(c);return f.set({icon:Lt.caption,tooltip:!0,isToggleable:!0}),f.bind("isOn","isEnabled").to(d,"value","isEnabled"),f.bind("label").to(d,"value",g=>l(g?"Toggle caption off":"Toggle caption on")),this.listenTo(f,"execute",()=>{e.execute("toggleImageCaption",{focusCaptionOnShow:!0});const g=o.getCaptionFromModelSelection(e.model.document.selection);if(g){const k=e.editing.mapper.toViewElement(g);i.scrollToTheSelection(),i.change(w=>{w.addClass("image__caption_highlighted",k)})}e.editing.view.focus()}),f})}}var u2=u(2640),$F={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(u2.Z,$F),u2.Z.locals;function d2(a){const e=a.map(i=>i.replace("+","\\+"));return new RegExp(`^image\\/(${e.join("|")})$`)}function GF(a){return new Promise((e,i)=>{const o=a.getAttribute("src");fetch(o).then(l=>l.blob()).then(l=>{const c=h2(l,o),d=c.replace("image/",""),f=new File([l],`image.${d}`,{type:c});e(f)}).catch(l=>l&&l.name==="TypeError"?function(c){return function(d){return new Promise((f,g)=>{const k=Ne.document.createElement("img");k.addEventListener("load",()=>{const w=Ne.document.createElement("canvas");w.width=k.width,w.height=k.height,w.getContext("2d").drawImage(k,0,0),w.toBlob(_=>_?f(_):g())}),k.addEventListener("error",()=>g()),k.src=d})}(c).then(d=>{const f=h2(d,c),g=f.replace("image/","");return new File([d],`image.${g}`,{type:f})})}(o).then(e).catch(i):i(l))})}function h2(a,e){return a.type?a.type:e.match(/data:(image\/\w+);base64/)?e.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}class KF extends ie{static get pluginName(){return"ImageUploadUI"}init(){const e=this.editor,i=e.t,o=l=>{const c=new q9(l),d=e.commands.get("uploadImage"),f=e.config.get("image.upload.types"),g=d2(f);return c.set({acceptedType:f.map(k=>`image/${k}`).join(","),allowMultipleFiles:!0}),c.buttonView.set({label:i("Insert image"),icon:Lt.image,tooltip:!0}),c.buttonView.bind("isEnabled").to(d),c.on("done",(k,w)=>{const _=Array.from(w).filter(y=>g.test(y.type));_.length&&(e.execute("uploadImage",{file:_}),e.editing.view.focus())}),c};e.ui.componentFactory.add("uploadImage",o),e.ui.componentFactory.add("imageUpload",o)}}var f2=u(3689),QF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(f2.Z,QF),f2.Z.locals;var p2=u(4036),YF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(p2.Z,YF),p2.Z.locals;var g2=u(3773),ZF={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(g2.Z,ZF),g2.Z.locals;class JF extends ie{constructor(e){super(e),this.uploadStatusChange=(i,o,l)=>{const c=this.editor,d=o.item,f=d.getAttribute("uploadId");if(!l.consumable.consume(o.item,i.name))return;const g=c.plugins.get("ImageUtils"),k=c.plugins.get(Wi),w=f?o.attributeNewValue:null,_=this.placeholder,y=c.editing.mapper.toViewElement(d),I=l.writer;if(w=="reading")return m2(y,I),void k2(g,_,y,I);if(w=="uploading"){const T=k.loaders.get(f);return m2(y,I),void(T?(b2(y,I),function(S,B,V,H){const Q=function(le){const _e=le.createUIElement("div",{class:"ck-progress-bar"});return le.setCustomProperty("progressBar",!0,_e),_e}(B);B.insert(B.createPositionAt(S,"end"),Q),V.on("change:uploadedPercent",(le,_e,rt)=>{H.change(je=>{je.setStyle("width",rt+"%",Q)})})}(y,I,T,c.editing.view),function(S,B,V,H){if(H.data){const Q=S.findViewImgElement(B);V.setAttribute("src",H.data,Q)}}(g,y,I,T)):k2(g,_,y,I))}w=="complete"&&k.loaders.get(f)&&function(T,S,B){const V=S.createUIElement("div",{class:"ck-image-upload-complete-icon"});S.insert(S.createPositionAt(T,"end"),V),setTimeout(()=>{B.change(H=>H.remove(H.createRangeOn(V)))},3e3)}(y,I,c.editing.view),function(T,S){_2(T,S,"progressBar")}(y,I),b2(y,I),function(T,S){S.removeClass("ck-appear",T)}(y,I)},this.placeholder="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}static get pluginName(){return"ImageUploadProgress"}init(){const e=this.editor;e.plugins.has("ImageBlockEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageBlock",this.uploadStatusChange),e.plugins.has("ImageInlineEditing")&&e.editing.downcastDispatcher.on("attribute:uploadStatus:imageInline",this.uploadStatusChange)}}function m2(a,e){a.hasClass("ck-appear")||e.addClass("ck-appear",a)}function k2(a,e,i,o){i.hasClass("ck-image-upload-placeholder")||o.addClass("ck-image-upload-placeholder",i);const l=a.findViewImgElement(i);l.getAttribute("src")!==e&&o.setAttribute("src",e,l),w2(i,"placeholder")||o.insert(o.createPositionAfter(l),function(c){const d=c.createUIElement("div",{class:"ck-upload-placeholder-loader"});return c.setCustomProperty("placeholder",!0,d),d}(o))}function b2(a,e){a.hasClass("ck-image-upload-placeholder")&&e.removeClass("ck-image-upload-placeholder",a),_2(a,e,"placeholder")}function w2(a,e){for(const i of a.getChildren())if(i.getCustomProperty(e))return i}function _2(a,e,i){const o=w2(a,i);o&&e.remove(e.createRangeOn(o))}var XF=Object.defineProperty,e7=Object.defineProperties,t7=Object.getOwnPropertyDescriptors,A2=Object.getOwnPropertySymbols,n7=Object.prototype.hasOwnProperty,i7=Object.prototype.propertyIsEnumerable,v2=(a,e,i)=>e in a?XF(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i;class r7 extends Be{refresh(){const e=this.editor,i=e.plugins.get("ImageUtils"),o=e.model.document.selection.getSelectedElement();this.isEnabled=i.isImageAllowed()||i.isImage(o)}execute(e){const i=nn(e.file),o=this.editor.model.document.selection,l=this.editor.plugins.get("ImageUtils"),c=Object.fromEntries(o.getAttributes());i.forEach((d,f)=>{const g=o.getSelectedElement();if(f&&g&&l.isImage(g)){const k=this.editor.model.createPositionAfter(g);this._uploadImage(d,c,k)}else this._uploadImage(d,c)})}_uploadImage(e,i,o){const l=this.editor,c=l.plugins.get(Wi).createLoader(e),d=l.plugins.get("ImageUtils");var f,g;c&&d.insertImage((f=((k,w)=>{for(var _ in w||(w={}))n7.call(w,_)&&v2(k,_,w[_]);if(A2)for(var _ of A2(w))i7.call(w,_)&&v2(k,_,w[_]);return k})({},i),g={uploadId:c.id},e7(f,t7(g))),o)}}class o7 extends ie{constructor(e){super(e),e.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),this._uploadImageElements=new Map}static get requires(){return[Wi,Hw,vr,qi]}static get pluginName(){return"ImageUploadEditing"}init(){const e=this.editor,i=e.model.document,o=e.conversion,l=e.plugins.get(Wi),c=e.plugins.get("ImageUtils"),d=e.plugins.get("ClipboardPipeline"),f=d2(e.config.get("image.upload.types")),g=new r7(e);e.commands.add("uploadImage",g),e.commands.add("imageUpload",g),o.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(e.editing.view.document,"clipboardInput",(k,w)=>{if(_=w.dataTransfer,Array.from(_.types).includes("text/html")&&_.getData("text/html")!=="")return;var _;const y=Array.from(w.dataTransfer.files).filter(I=>!!I&&f.test(I.type));y.length&&(k.stop(),e.model.change(I=>{w.targetRanges&&I.setSelection(w.targetRanges.map(T=>e.editing.mapper.toModelRange(T))),e.model.enqueueChange(()=>{e.execute("uploadImage",{file:y})})}))}),this.listenTo(d,"inputTransformation",(k,w)=>{const _=Array.from(e.editing.view.createRangeIn(w.content)).map(I=>I.item).filter(I=>function(T,S){return!(!T.isInlineImageView(S)||!S.getAttribute("src")||!S.getAttribute("src").match(/^data:image\/\w+;base64,/g)&&!S.getAttribute("src").match(/^blob:/g))}(c,I)&&!I.getAttribute("uploadProcessed")).map(I=>({promise:GF(I),imageElement:I}));if(!_.length)return;const y=new Vo(e.editing.view.document);for(const I of _){y.setAttribute("uploadProcessed",!0,I.imageElement);const T=l.createLoader(I.promise);T&&(y.setAttribute("src","",I.imageElement),y.setAttribute("uploadId",T.id,I.imageElement))}}),e.editing.view.document.on("dragover",(k,w)=>{w.preventDefault()}),i.on("change",()=>{const k=i.differ.getChanges({includeChangesInGraveyard:!0}).reverse(),w=new Set;for(const _ of k)if(_.type=="insert"&&_.name!="$text"){const y=_.position.nodeAfter,I=_.position.root.rootName=="$graveyard";for(const T of s7(e,y)){const S=T.getAttribute("uploadId");if(!S)continue;const B=l.loaders.get(S);B&&(I?w.has(S)||B.abort():(w.add(S),this._uploadImageElements.set(S,T),B.status=="idle"&&this._readAndUpload(B)))}}}),this.on("uploadComplete",(k,{imageElement:w,data:_})=>{const y=_.urls?_.urls:_;this.editor.model.change(I=>{I.setAttribute("src",y.default,w),this._parseAndSetSrcsetAttributeOnImage(y,w,I)})},{priority:"low"})}afterInit(){const e=this.editor.model.schema;this.editor.plugins.has("ImageBlockEditing")&&e.extend("imageBlock",{allowAttributes:["uploadId","uploadStatus"]}),this.editor.plugins.has("ImageInlineEditing")&&e.extend("imageInline",{allowAttributes:["uploadId","uploadStatus"]})}_readAndUpload(e){const i=this.editor,o=i.model,l=i.locale.t,c=i.plugins.get(Wi),d=i.plugins.get(Hw),f=i.plugins.get("ImageUtils"),g=this._uploadImageElements;return o.enqueueChange({isUndoable:!1},w=>{w.setAttribute("uploadStatus","reading",g.get(e.id))}),e.read().then(()=>{const w=e.upload(),_=g.get(e.id);if(C.isSafari){const y=i.editing.mapper.toViewElement(_),I=f.findViewImgElement(y);i.editing.view.once("render",()=>{if(!I.parent)return;const T=i.editing.view.domConverter.mapViewToDom(I.parent);if(!T)return;const S=T.style.display;T.style.display="none",T._ckHack=T.offsetHeight,T.style.display=S})}return o.enqueueChange({isUndoable:!1},y=>{y.setAttribute("uploadStatus","uploading",_)}),w}).then(w=>{o.enqueueChange({isUndoable:!1},_=>{const y=g.get(e.id);_.setAttribute("uploadStatus","complete",y),this.fire("uploadComplete",{data:w,imageElement:y})}),k()}).catch(w=>{if(e.status!=="error"&&e.status!=="aborted")throw w;e.status=="error"&&w&&d.showWarning(w,{title:l("Upload failed"),namespace:"upload"}),o.enqueueChange({isUndoable:!1},_=>{_.remove(g.get(e.id))}),k()});function k(){o.enqueueChange({isUndoable:!1},w=>{const _=g.get(e.id);w.removeAttribute("uploadId",_),w.removeAttribute("uploadStatus",_),g.delete(e.id)}),c.destroyLoader(e)}}_parseAndSetSrcsetAttributeOnImage(e,i,o){let l=0;const c=Object.keys(e).filter(d=>{const f=parseInt(d,10);if(!isNaN(f))return l=Math.max(l,f),!0}).map(d=>`${e[d]} ${d}w`).join(", ");c!=""&&o.setAttribute("srcset",{data:c,width:l},i)}}function s7(a,e){const i=a.plugins.get("ImageUtils");return Array.from(a.model.createRangeOn(e)).filter(o=>i.isImage(o.item)).map(o=>o.item)}var y2=u(1568),a7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(y2.Z,a7),y2.Z.locals;var C2=u(3535),l7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(C2.Z,l7),C2.Z.locals;var E2=u(6270),c7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(E2.Z,c7),E2.Z.locals;class u7 extends Be{constructor(e,i){super(e),this._defaultStyles={imageBlock:!1,imageInline:!1},this._styles=new Map(i.map(o=>{if(o.isDefault)for(const l of o.modelElements)this._defaultStyles[l]=o.name;return[o.name,o]}))}refresh(){const e=this.editor.plugins.get("ImageUtils").getClosestSelectedImageElement(this.editor.model.document.selection);this.isEnabled=!!e,this.isEnabled?e.hasAttribute("imageStyle")?this.value=e.getAttribute("imageStyle"):this.value=this._defaultStyles[e.name]:this.value=!1}execute(e={}){const i=this.editor,o=i.model,l=i.plugins.get("ImageUtils");o.change(c=>{const d=e.value;let f=l.getClosestSelectedImageElement(o.document.selection);d&&this.shouldConvertImageType(d,f)&&(this.editor.execute(l.isBlockImage(f)?"imageTypeInline":"imageTypeBlock"),f=l.getClosestSelectedImageElement(o.document.selection)),!d||this._styles.get(d).isDefault?c.removeAttribute("imageStyle",f):c.setAttribute("imageStyle",d,f)})}shouldConvertImageType(e,i){return!this._styles.get(e).modelElements.includes(i.name)}}var d7=Object.defineProperty,x2=Object.getOwnPropertySymbols,h7=Object.prototype.hasOwnProperty,f7=Object.prototype.propertyIsEnumerable,I2=(a,e,i)=>e in a?d7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,T2=(a,e)=>{for(var i in e||(e={}))h7.call(e,i)&&I2(a,i,e[i]);if(x2)for(var i of x2(e))f7.call(e,i)&&I2(a,i,e[i]);return a};const{objectFullWidth:p7,objectInline:S2,objectLeft:D2,objectRight:r_,objectCenter:o_,objectBlockLeft:M2,objectBlockRight:P2}=Lt,xp={get inline(){return{name:"inline",title:"In line",icon:S2,modelElements:["imageInline"],isDefault:!0}},get alignLeft(){return{name:"alignLeft",title:"Left aligned image",icon:D2,modelElements:["imageBlock","imageInline"],className:"image-style-align-left"}},get alignBlockLeft(){return{name:"alignBlockLeft",title:"Left aligned image",icon:M2,modelElements:["imageBlock"],className:"image-style-block-align-left"}},get alignCenter(){return{name:"alignCenter",title:"Centered image",icon:o_,modelElements:["imageBlock"],className:"image-style-align-center"}},get alignRight(){return{name:"alignRight",title:"Right aligned image",icon:r_,modelElements:["imageBlock","imageInline"],className:"image-style-align-right"}},get alignBlockRight(){return{name:"alignBlockRight",title:"Right aligned image",icon:P2,modelElements:["imageBlock"],className:"image-style-block-align-right"}},get block(){return{name:"block",title:"Centered image",icon:o_,modelElements:["imageBlock"],isDefault:!0}},get side(){return{name:"side",title:"Side image",icon:r_,modelElements:["imageBlock"],className:"image-style-side"}}},N2={full:p7,left:M2,right:P2,center:o_,inlineLeft:D2,inlineRight:r_,inline:S2},R2=[{name:"imageStyle:wrapText",title:"Wrap text",defaultItem:"imageStyle:alignLeft",items:["imageStyle:alignLeft","imageStyle:alignRight"]},{name:"imageStyle:breakText",title:"Break text",defaultItem:"imageStyle:block",items:["imageStyle:alignBlockLeft","imageStyle:block","imageStyle:alignBlockRight"]}];function O2(a){q("image-style-configuration-definition-invalid",a)}const s_={normalizeStyles:function(a){return(a.configuredStyles.options||[]).map(e=>function(i){return i=typeof i=="string"?xp[i]?T2({},xp[i]):{name:i}:function(o,l){const c=T2({},l);for(const d in o)Object.prototype.hasOwnProperty.call(l,d)||(c[d]=o[d]);return c}(xp[i.name],i),typeof i.icon=="string"&&(i.icon=N2[i.icon]||i.icon),i}(e)).filter(e=>function(i,{isBlockPluginLoaded:o,isInlinePluginLoaded:l}){const{modelElements:c,name:d}=i;if(!(c&&c.length&&d))return O2({style:i}),!1;{const f=[o?"imageBlock":null,l?"imageInline":null];if(!c.some(g=>f.includes(g)))return q("image-style-missing-dependency",{style:i,missingPlugins:c.map(g=>g==="imageBlock"?"ImageBlockEditing":"ImageInlineEditing")}),!1}return!0}(e,a))},getDefaultStylesConfiguration:function(a,e){return a&&e?{options:["inline","alignLeft","alignRight","alignCenter","alignBlockLeft","alignBlockRight","block","side"]}:a?{options:["block","side"]}:e?{options:["inline","alignLeft","alignRight"]}:{}},getDefaultDropdownDefinitions:function(a){return a.has("ImageBlockEditing")&&a.has("ImageInlineEditing")?[...R2]:[]},warnInvalidStyle:O2,DEFAULT_OPTIONS:xp,DEFAULT_ICONS:N2,DEFAULT_DROPDOWN_DEFINITIONS:R2};function B2(a,e){for(const i of e)if(i.name===a)return i}class L2 extends ie{static get pluginName(){return"ImageStyleEditing"}static get requires(){return[qi]}init(){const{normalizeStyles:e,getDefaultStylesConfiguration:i}=s_,o=this.editor,l=o.plugins.has("ImageBlockEditing"),c=o.plugins.has("ImageInlineEditing");o.config.define("image.styles",i(l,c)),this.normalizedStyles=e({configuredStyles:o.config.get("image.styles"),isBlockPluginLoaded:l,isInlinePluginLoaded:c}),this._setupConversion(l,c),this._setupPostFixer(),o.commands.add("imageStyle",new u7(o,this.normalizedStyles))}_setupConversion(e,i){const o=this.editor,l=o.model.schema,c=(d=this.normalizedStyles,(g,k,w)=>{if(!w.consumable.consume(k.item,g.name))return;const _=B2(k.attributeNewValue,d),y=B2(k.attributeOldValue,d),I=w.mapper.toViewElement(k.item),T=w.writer;y&&T.removeClass(y.className,I),_&&T.addClass(_.className,I)});var d;const f=function(g){const k={imageInline:g.filter(w=>!w.isDefault&&w.modelElements.includes("imageInline")),imageBlock:g.filter(w=>!w.isDefault&&w.modelElements.includes("imageBlock"))};return(w,_,y)=>{if(!_.modelRange)return;const I=_.viewItem,T=Ft(_.modelRange.getItems());if(T&&y.schema.checkAttribute(T,"imageStyle"))for(const S of k[T.name])y.consumable.consume(I,{classes:S.className})&&y.writer.setAttribute("imageStyle",S.name,T)}}(this.normalizedStyles);o.editing.downcastDispatcher.on("attribute:imageStyle",c),o.data.downcastDispatcher.on("attribute:imageStyle",c),e&&(l.extend("imageBlock",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:figure",f,{priority:"low"})),i&&(l.extend("imageInline",{allowAttributes:"imageStyle"}),o.data.upcastDispatcher.on("element:img",f,{priority:"low"}))}_setupPostFixer(){const e=this.editor,i=e.model.document,o=e.plugins.get(qi),l=new Map(this.normalizedStyles.map(c=>[c.name,c]));i.registerPostFixer(c=>{let d=!1;for(const f of i.differ.getChanges())if(f.type=="insert"||f.type=="attribute"&&f.attributeKey=="imageStyle"){let g=f.type=="insert"?f.position.nodeAfter:f.range.start.nodeAfter;if(g&&g.is("element","paragraph")&&g.childCount>0&&(g=g.getChild(0)),!o.isImage(g))continue;const k=g.getAttribute("imageStyle");if(!k)continue;const w=l.get(k);w&&w.modelElements.includes(g.name)||(c.removeAttribute("imageStyle",g),d=!0)}return d})}}var z2=u(5083),g7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(z2.Z,g7),z2.Z.locals;class m7 extends ie{static get requires(){return[L2]}static get pluginName(){return"ImageStyleUI"}get localizedDefaultStylesTitles(){const e=this.editor.t;return{"Wrap text":e("Wrap text"),"Break text":e("Break text"),"In line":e("In line"),"Full size image":e("Full size image"),"Side image":e("Side image"),"Left aligned image":e("Left aligned image"),"Centered image":e("Centered image"),"Right aligned image":e("Right aligned image")}}init(){const e=this.editor.plugins,i=this.editor.config.get("image.toolbar")||[],o=j2(e.get("ImageStyleEditing").normalizedStyles,this.localizedDefaultStylesTitles);for(const c of o)this._createButton(c);const l=j2([...i.filter(Ze),...s_.getDefaultDropdownDefinitions(e)],this.localizedDefaultStylesTitles);for(const c of l)this._createDropdown(c,o)}_createDropdown(e,i){const o=this.editor.ui.componentFactory;o.add(e.name,l=>{let c;const{defaultItem:d,items:f,title:g}=e,k=f.filter(I=>i.find(({name:T})=>V2(T)===I)).map(I=>{const T=o.create(I);return I===d&&(c=T),T});f.length!==k.length&&s_.warnInvalidStyle({dropdown:e});const w=Fo(l,Sw),_=w.buttonView,y=_.arrowView;return Dw(w,k,{enableActiveItemFocusOnDropdownOpen:!0}),_.set({label:F2(g,c.label),class:null,tooltip:!0}),y.unbind("label"),y.set({label:g}),_.bind("icon").toMany(k,"isOn",(...I)=>{const T=I.findIndex(Zs);return T<0?c.icon:k[T].icon}),_.bind("label").toMany(k,"isOn",(...I)=>{const T=I.findIndex(Zs);return F2(g,T<0?c.label:k[T].label)}),_.bind("isOn").toMany(k,"isOn",(...I)=>I.some(Zs)),_.bind("class").toMany(k,"isOn",(...I)=>I.some(Zs)?"ck-splitbutton_flatten":void 0),_.on("execute",()=>{k.some(({isOn:I})=>I)?w.isOpen=!w.isOpen:c.fire("execute")}),w.bind("isEnabled").toMany(k,"isEnabled",(...I)=>I.some(Zs)),this.listenTo(w,"execute",()=>{this.editor.editing.view.focus()}),w})}_createButton(e){const i=e.name;this.editor.ui.componentFactory.add(V2(i),o=>{const l=this.editor.commands.get("imageStyle"),c=new gt(o);return c.set({label:e.title,icon:e.icon,tooltip:!0,isToggleable:!0}),c.bind("isEnabled").to(l,"isEnabled"),c.bind("isOn").to(l,"value",d=>d===i),c.on("execute",this._executeCommand.bind(this,i)),c})}_executeCommand(e){this.editor.execute("imageStyle",{value:e}),this.editor.editing.view.focus()}}function j2(a,e){for(const i of a)e[i.title]&&(i.title=e[i.title]);return a}function V2(a){return`imageStyle:${a}`}function F2(a,e){return(a?a+": ":"")+e}class k7 extends ie{static get pluginName(){return"IndentEditing"}init(){const e=this.editor;e.commands.add("indent",new O1(e)),e.commands.add("outdent",new O1(e))}}const U2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',H2='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';class b7 extends ie{static get pluginName(){return"IndentUI"}init(){const e=this.editor,i=e.locale,o=e.t,l=i.uiLanguageDirection=="ltr"?U2:H2,c=i.uiLanguageDirection=="ltr"?H2:U2;this._defineButton("indent",o("Increase indent"),l),this._defineButton("outdent",o("Decrease indent"),c)}_defineButton(e,i,o){const l=this.editor;l.ui.componentFactory.add(e,c=>{const d=l.commands.get(e),f=new gt(c);return f.set({label:i,icon:o,tooltip:!0}),f.bind("isEnabled").to(d,"isEnabled"),this.listenTo(f,"execute",()=>{l.execute(e),l.editing.view.focus()}),f})}}class w7{constructor(){this._definitions=new Set}get length(){return this._definitions.size}add(e){Array.isArray(e)?e.forEach(i=>this._definitions.add(i)):this._definitions.add(e)}getDispatcher(){return e=>{e.on("attribute:linkHref",(i,o,l)=>{if(!l.consumable.test(o.item,"attribute:linkHref")||!o.item.is("selection")&&!l.schema.isInline(o.item))return;const c=l.writer,d=c.document.selection;for(const f of this._definitions){const g=c.createAttributeElement("a",f.attributes,{priority:5});f.classes&&c.addClass(f.classes,g);for(const k in f.styles)c.setStyle(k,f.styles[k],g);c.setCustomProperty("link",!0,g),f.callback(o.attributeNewValue)?o.item.is("selection")?c.wrap(d.getFirstRange(),g):c.wrap(l.mapper.toViewRange(o.range),g):c.unwrap(l.mapper.toViewRange(o.range),g)}},{priority:"high"})}}getDispatcherForLinkedImage(){return e=>{e.on("attribute:linkHref:imageBlock",(i,o,{writer:l,mapper:c})=>{const d=c.toViewElement(o.item),f=Array.from(d.getChildren()).find(g=>g.is("element","a"));for(const g of this._definitions){const k=mr(g.attributes);if(g.callback(o.attributeNewValue)){for(const[w,_]of k)w==="class"?l.addClass(_,f):l.setAttribute(w,_,f);g.classes&&l.addClass(g.classes,f);for(const w in g.styles)l.setStyle(w,g.styles[w],f)}else{for(const[w,_]of k)w==="class"?l.removeClass(_,f):l.removeAttribute(w,f);g.classes&&l.removeClass(g.classes,f);for(const w in g.styles)l.removeStyle(w,f)}}})}}}const _7=function(a,e,i){var o=a.length;return i=i===void 0?o:i,!e&&i>=o?a:$1(a,e,i)};var A7=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");const W2=function(a){return A7.test(a)},v7=function(a){return a.split("")};var q2="\\ud800-\\udfff",y7="["+q2+"]",a_="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",l_="\\ud83c[\\udffb-\\udfff]",$2="[^"+q2+"]",G2="(?:\\ud83c[\\udde6-\\uddff]){2}",K2="[\\ud800-\\udbff][\\udc00-\\udfff]",Q2="(?:"+a_+"|"+l_+")?",Y2="[\\ufe0e\\ufe0f]?",C7=Y2+Q2+("(?:\\u200d(?:"+[$2,G2,K2].join("|")+")"+Y2+Q2+")*"),E7="(?:"+[$2+a_+"?",a_,G2,K2,y7].join("|")+")",x7=RegExp(l_+"(?="+l_+")|"+E7+C7,"g");const I7=function(a){return a.match(x7)||[]},T7=function(a){return W2(a)?I7(a):v7(a)},S7=function(a){return function(e){e=Yb(e);var i=W2(e)?T7(e):void 0,o=i?i[0]:e.charAt(0),l=i?_7(i,1).join(""):e.slice(1);return o[a]()+l}}("toUpperCase"),D7=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,M7=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,P7=/^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,N7=/^((\w+:(\/{2,})?)|(\W))/i,c_="Ctrl+K";function Z2(a,{writer:e}){const i=e.createAttributeElement("a",{href:a},{priority:5});return e.setCustomProperty("link",!0,i),i}function J2(a){const e=String(a);return function(i){return!!i.replace(D7,"").match(M7)}(e)?e:"#"}function u_(a,e){return!!a&&e.checkAttribute(a.name,"linkHref")}function d_(a,e){const i=(o=a,P7.test(o)?"mailto:":e);var o;const l=!!i&&!X2(a);return a&&l?i+a:a}function X2(a){return N7.test(a)}function eS(a){window.open(a,"_blank","noopener")}class R7 extends Be{constructor(){super(...arguments),this.manualDecorators=new Li,this.automaticDecorators=new w7}restoreManualDecoratorStates(){for(const e of this.manualDecorators)e.value=this._getDecoratorStateFromModel(e.id)}refresh(){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement()||Ft(i.getSelectedBlocks());u_(o,e.schema)?(this.value=o.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttribute(o,"linkHref")):(this.value=i.getAttribute("linkHref"),this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref"));for(const l of this.manualDecorators)l.value=this._getDecoratorStateFromModel(l.id)}execute(e,i={}){const o=this.editor.model,l=o.document.selection,c=[],d=[];for(const f in i)i[f]?c.push(f):d.push(f);o.change(f=>{if(l.isCollapsed){const g=l.getFirstPosition();if(l.hasAttribute("linkHref")){const k=tS(l);let w=vl(g,"linkHref",l.getAttribute("linkHref"),o);l.getAttribute("linkHref")===k&&(w=this._updateLinkContent(o,f,w,e)),f.setAttribute("linkHref",e,w),c.forEach(_=>{f.setAttribute(_,!0,w)}),d.forEach(_=>{f.removeAttribute(_,w)}),f.setSelection(f.createPositionAfter(w.end.nodeBefore))}else if(e!==""){const k=mr(l.getAttributes());k.set("linkHref",e),c.forEach(_=>{k.set(_,!0)});const{end:w}=o.insertContent(f.createText(e,k),g);f.setSelection(w)}["linkHref",...c,...d].forEach(k=>{f.removeSelectionAttribute(k)})}else{const g=o.schema.getValidRanges(l.getRanges(),"linkHref"),k=[];for(const _ of l.getSelectedBlocks())o.schema.checkAttribute(_,"linkHref")&&k.push(f.createRangeOn(_));const w=k.slice();for(const _ of g)this._isRangeToUpdate(_,k)&&w.push(_);for(const _ of w){let y=_;if(w.length===1){const I=tS(l);l.getAttribute("linkHref")===I&&(y=this._updateLinkContent(o,f,_,e),f.setSelection(f.createSelection(y)))}f.setAttribute("linkHref",e,y),c.forEach(I=>{f.setAttribute(I,!0,y)}),d.forEach(I=>{f.removeAttribute(I,y)})}}})}_getDecoratorStateFromModel(e){const i=this.editor.model,o=i.document.selection,l=o.getSelectedElement();return u_(l,i.schema)?l.getAttribute(e):o.getAttribute(e)}_isRangeToUpdate(e,i){for(const o of i)if(o.containsRange(e))return!1;return!0}_updateLinkContent(e,i,o,l){const c=i.createText(l,{linkHref:l});return e.insertContent(c,o)}}function tS(a){if(a.isCollapsed){const e=a.getFirstPosition();return e.textNode&&e.textNode.data}{const e=Array.from(a.getFirstRange().getItems());if(e.length>1)return null;const i=e[0];return i.is("$text")||i.is("$textProxy")?i.data:null}}class O7 extends Be{refresh(){const e=this.editor.model,i=e.document.selection,o=i.getSelectedElement();u_(o,e.schema)?this.isEnabled=e.schema.checkAttribute(o,"linkHref"):this.isEnabled=e.schema.checkAttributeInSelection(i,"linkHref")}execute(){const e=this.editor,i=this.editor.model,o=i.document.selection,l=e.commands.get("link");i.change(c=>{const d=o.isCollapsed?[vl(o.getFirstPosition(),"linkHref",o.getAttribute("linkHref"),i)]:i.schema.getValidRanges(o.getRanges(),"linkHref");for(const f of d)if(c.removeAttribute("linkHref",f),l)for(const g of l.manualDecorators)c.removeAttribute(g.id,f)})}}class B7 extends Xe(){constructor({id:e,label:i,attributes:o,classes:l,styles:c,defaultValue:d}){super(),this.id=e,this.set("value",void 0),this.defaultValue=d,this.label=i,this.attributes=o,this.classes=l,this.styles=c}_createPattern(){return{attributes:this.attributes,classes:this.classes,styles:this.styles}}}var nS=u(9773),L7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(nS.Z,L7),nS.Z.locals;var z7=Object.defineProperty,iS=Object.getOwnPropertySymbols,j7=Object.prototype.hasOwnProperty,V7=Object.prototype.propertyIsEnumerable,rS=(a,e,i)=>e in a?z7(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,F7=(a,e)=>{for(var i in e||(e={}))j7.call(e,i)&&rS(a,i,e[i]);if(iS)for(var i of iS(e))V7.call(e,i)&&rS(a,i,e[i]);return a};const oS="automatic",U7=/^(https?:)?\/\//;class H7 extends ie{static get pluginName(){return"LinkEditing"}static get requires(){return[YI,HI,vr]}constructor(e){super(e),e.config.define("link",{addTargetToExternalLinks:!1})}init(){const e=this.editor;e.model.schema.extend("$text",{allowAttributes:"linkHref"}),e.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:Z2}),e.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:(o,l)=>Z2(J2(o),l)}),e.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:o=>o.getAttribute("href")}}),e.commands.add("link",new R7(e)),e.commands.add("unlink",new O7(e));const i=function(o,l){const c={"Open in a new tab":o("Open in a new tab"),Downloadable:o("Downloadable")};return l.forEach(d=>("label"in d&&c[d.label]&&(d.label=c[d.label]),d)),l}(e.t,function(o){const l=[];if(o)for(const[c,d]of Object.entries(o)){const f=Object.assign({},d,{id:`link${S7(c)}`});l.push(f)}return l}(e.config.get("link.decorators")));this._enableAutomaticDecorators(i.filter(o=>o.mode===oS)),this._enableManualDecorators(i.filter(o=>o.mode==="manual")),e.plugins.get(YI).registerAttribute("linkHref"),function(o,l,c,d){const f=o.editing.view,g=new Set;f.document.registerPostFixer(k=>{const w=o.model.document.selection;let _=!1;if(w.hasAttribute(l)){const y=vl(w.getFirstPosition(),l,w.getAttribute(l),o.model),I=o.editing.mapper.toViewRange(y);for(const T of I.getItems())T.is("element",c)&&!T.hasClass(d)&&(k.addClass(d,T),g.add(T),_=!0)}return _}),o.conversion.for("editingDowncast").add(k=>{function w(){f.change(_=>{for(const y of g.values())_.removeClass(d,y),g.delete(y)})}k.on("insert",w,{priority:"highest"}),k.on("remove",w,{priority:"highest"}),k.on("attribute",w,{priority:"highest"}),k.on("selection",w,{priority:"highest"})})}(e,"linkHref","a","ck-link_selected"),this._enableLinkOpen(),this._enableInsertContentSelectionAttributesFixer(),this._enableClickingAfterLink(),this._enableTypingOverLink(),this._handleDeleteContentAfterLink(),this._enableClipboardIntegration()}_enableAutomaticDecorators(e){const i=this.editor,o=i.commands.get("link").automaticDecorators;i.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:oS,callback:l=>!!l&&U7.test(l),attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(e),o.length&&i.conversion.for("downcast").add(o.getDispatcher())}_enableManualDecorators(e){if(!e.length)return;const i=this.editor,o=i.commands.get("link").manualDecorators;e.forEach(l=>{i.model.schema.extend("$text",{allowAttributes:l.id});const c=new B7(l);o.add(c),i.conversion.for("downcast").attributeToElement({model:c.id,view:(d,{writer:f,schema:g},{item:k})=>{if((k.is("selection")||g.isInline(k))&&d){const w=f.createAttributeElement("a",c.attributes,{priority:5});c.classes&&f.addClass(c.classes,w);for(const _ in c.styles)f.setStyle(_,c.styles[_],w);return f.setCustomProperty("link",!0,w),w}}}),i.conversion.for("upcast").elementToAttribute({view:F7({name:"a"},c._createPattern()),model:{key:c.id}})})}_enableLinkOpen(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",(o,l)=>{if(!(C.isMac?l.domEvent.metaKey:l.domEvent.ctrlKey))return;let c=l.domTarget;if(c.tagName.toLowerCase()!="a"&&(c=c.closest("a")),!c)return;const d=c.getAttribute("href");d&&(o.stop(),l.preventDefault(),eS(d))},{context:"$capture"}),this.listenTo(i,"keydown",(o,l)=>{const c=e.commands.get("link").value;c&&l.keyCode===Ue.enter&&l.altKey&&(o.stop(),eS(c))})}_enableInsertContentSelectionAttributesFixer(){const e=this.editor.model,i=e.document.selection;this.listenTo(e,"insertContent",()=>{const o=i.anchor.nodeBefore,l=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(l&&l.hasAttribute("linkHref")||e.change(c=>{h_(c,f_(e.schema))}))},{priority:"low"})}_enableClickingAfterLink(){const e=this.editor,i=e.model;e.editing.view.addObserver(xw);let o=!1;this.listenTo(e.editing.view.document,"mousedown",()=>{o=!0}),this.listenTo(e.editing.view.document,"selectionChange",()=>{if(!o)return;o=!1;const l=i.document.selection;if(!l.isCollapsed||!l.hasAttribute("linkHref"))return;const c=l.getFirstPosition(),d=vl(c,"linkHref",l.getAttribute("linkHref"),i);(c.isTouching(d.start)||c.isTouching(d.end))&&i.change(f=>{h_(f,f_(i.schema))})})}_enableTypingOverLink(){const e=this.editor,i=e.editing.view;let o=null,l=!1;this.listenTo(i.document,"delete",()=>{l=!0},{priority:"high"}),this.listenTo(e.model,"deleteContent",()=>{const c=e.model.document.selection;c.isCollapsed||(l?l=!1:sS(e)&&function(d){const f=d.document.selection,g=f.getFirstPosition(),k=f.getLastPosition(),w=g.nodeAfter;if(!w||!w.is("$text")||!w.hasAttribute("linkHref"))return!1;const _=k.textNode||k.nodeBefore;return w===_?!0:vl(g,"linkHref",w.getAttribute("linkHref"),d).containsRange(d.createRange(g,k),!0)}(e.model)&&(o=c.getAttributes()))},{priority:"high"}),this.listenTo(e.model,"insertContent",(c,[d])=>{l=!1,sS(e)&&o&&(e.model.change(f=>{for(const[g,k]of o)f.setAttribute(g,k,d)}),o=null)},{priority:"high"})}_handleDeleteContentAfterLink(){const e=this.editor,i=e.model,o=i.document.selection,l=e.editing.view;let c=!1,d=!1;this.listenTo(l.document,"delete",(f,g)=>{d=g.direction==="backward"},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{c=!1;const f=o.getFirstPosition(),g=o.getAttribute("linkHref");if(!g)return;const k=vl(f,"linkHref",g,i);c=k.containsPosition(f)||k.end.isEqual(f)},{priority:"high"}),this.listenTo(i,"deleteContent",()=>{d&&(d=!1,c||e.model.enqueueChange(f=>{h_(f,f_(i.schema))}))},{priority:"low"})}_enableClipboardIntegration(){const e=this.editor,i=e.model,o=this.editor.config.get("link.defaultProtocol");o&&this.listenTo(e.plugins.get("ClipboardPipeline"),"contentInsertion",(l,c)=>{i.change(d=>{const f=d.createRangeIn(c.content);for(const g of f.getItems())if(g.hasAttribute("linkHref")){const k=d_(g.getAttribute("linkHref"),o);d.setAttribute("linkHref",k,g)}})})}}function h_(a,e){a.removeSelectionAttribute("linkHref");for(const i of e)a.removeSelectionAttribute(i)}function sS(a){return a.model.change(e=>e.batch).isTyping}function f_(a){return a.getDefinition("$text").allowAttributes.filter(e=>e.startsWith("link"))}var aS=u(7754),W7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(aS.Z,W7),aS.Z.locals;class q7 extends ze{constructor(e,i){super(e),this.focusTracker=new vi,this.keystrokes=new gr,this._focusables=new Bo;const o=e.t;this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Lt.check,"ck-button-save"),this.saveButtonView.type="submit",this.cancelButtonView=this._createButton(o("Cancel"),Lt.cancel,"ck-button-cancel","cancel"),this._manualDecoratorSwitches=this._createManualDecoratorSwitches(i),this.children=this._createFormChildren(i.manualDecorators),this._focusCycler=new dl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});const l=["ck","ck-link-form","ck-responsive-form"];i.manualDecorators.length&&l.push("ck-link-form_layout-vertical","ck-vertical-form"),this.setTemplate({tag:"form",attributes:{class:l,tabindex:"-1"},children:this.children})}getDecoratorSwitchesState(){return Array.from(this._manualDecoratorSwitches).reduce((e,i)=>(e[i.name]=i.isOn,e),{})}render(){super.render(),m({view:this}),[this.urlInputView,...this._manualDecoratorSwitches,this.saveButtonView,this.cancelButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createUrlInput(){const e=this.locale.t,i=new Hb(this.locale,Mw);return i.label=e("Link URL"),i}_createButton(e,i,o,l){const c=new gt(this.locale);return c.set({label:e,icon:i,tooltip:!0}),c.extendTemplate({attributes:{class:o}}),l&&c.delegate("execute").to(this,l),c}_createManualDecoratorSwitches(e){const i=this.createCollection();for(const o of e.manualDecorators){const l=new Hf(this.locale);l.set({name:o.id,label:o.label,withText:!0}),l.bind("isOn").toMany([o,e],"value",(c,d)=>d===void 0&&c===void 0?!!o.defaultValue:!!c),l.on("execute",()=>{o.set("value",!l.isOn)}),i.add(l)}return i}_createFormChildren(e){const i=this.createCollection();if(i.add(this.urlInputView),e.length){const o=new ze;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(l=>({tag:"li",children:[l],attributes:{class:["ck","ck-list__item"]}})),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(o)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}var lS=u(2347),$7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(lS.Z,$7),lS.Z.locals;class G7 extends ze{constructor(e){super(e),this.focusTracker=new vi,this.keystrokes=new gr,this._focusables=new Bo;const i=e.t;this.previewButtonView=this._createPreviewButton(),this.unlinkButtonView=this._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),this.editButtonView=this._createButton(i("Edit link"),Lt.pencil,"edit"),this.set("href",void 0),this._focusCycler=new dl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions","ck-responsive-form"],tabindex:"-1"},children:[this.previewButtonView,this.editButtonView,this.unlinkButtonView]})}render(){super.render(),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(e=>{this._focusables.add(e),this.focusTracker.add(e.element)}),this.keystrokes.listenTo(this.element)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}_createButton(e,i,o){const l=new gt(this.locale);return l.set({label:e,icon:i,tooltip:!0}),l.delegate("execute").to(this,o),l}_createPreviewButton(){const e=new gt(this.locale),i=this.bindTemplate,o=this.t;return e.set({withText:!0,tooltip:o("Open link in new tab")}),e.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",l=>l&&J2(l)),target:"_blank",rel:"noopener noreferrer"}}),e.bind("label").to(this,"href",l=>l||o("This link has no URL")),e.bind("isEnabled").to(this,"href",l=>!!l),e.template.tag="a",e.template.eventListeners={},e}}const yr="link-ui";class K7 extends ie{constructor(){super(...arguments),this.actionsView=null,this.formView=null}static get requires(){return[fp]}static get pluginName(){return"LinkUI"}init(){const e=this.editor;e.editing.view.addObserver(F6),this._balloon=e.plugins.get(fp),this._createToolbarLinkButton(),this._enableBalloonActivators(),e.conversion.for("editingDowncast").markerToHighlight({model:yr,view:{classes:["ck-fake-link-selection"]}}),e.conversion.for("editingDowncast").markerToElement({model:yr,view:{name:"span",classes:["ck-fake-link-selection","ck-fake-link-selection_collapsed"]}})}destroy(){super.destroy(),this.formView&&this.formView.destroy(),this.actionsView&&this.actionsView.destroy()}_createViews(){this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._enableUserBalloonInteractions()}_createActionsView(){const e=this.editor,i=new G7(e.locale),o=e.commands.get("link"),l=e.commands.get("unlink");return i.bind("href").to(o,"value"),i.editButtonView.bind("isEnabled").to(o),i.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(i,"edit",()=>{this._addFormView()}),this.listenTo(i,"unlink",()=>{e.execute("unlink"),this._hideUI()}),i.keystrokes.set("Esc",(c,d)=>{this._hideUI(),d()}),i.keystrokes.set(c_,(c,d)=>{this._addFormView(),d()}),i}_createFormView(){const e=this.editor,i=e.commands.get("link"),o=e.config.get("link.defaultProtocol"),l=new(b(q7))(e.locale,i);return l.urlInputView.fieldView.bind("value").to(i,"value"),l.urlInputView.bind("isEnabled").to(i,"isEnabled"),l.saveButtonView.bind("isEnabled").to(i),this.listenTo(l,"submit",()=>{const{value:c}=l.urlInputView.fieldView.element,d=d_(c,o);e.execute("link",d,l.getDecoratorSwitchesState()),this._closeFormView()}),this.listenTo(l,"cancel",()=>{this._closeFormView()}),l.keystrokes.set("Esc",(c,d)=>{this._closeFormView(),d()}),l}_createToolbarLinkButton(){const e=this.editor,i=e.commands.get("link"),o=e.t;e.ui.componentFactory.add("link",l=>{const c=new gt(l);return c.isEnabled=!0,c.label=o("Link"),c.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',c.keystroke=c_,c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(i,"isEnabled"),c.bind("isOn").to(i,"value",d=>!!d),this.listenTo(c,"execute",()=>this._showUI(!0)),c})}_enableBalloonActivators(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"click",()=>{this._getSelectedLinkElement()&&this._showUI()}),e.keystrokes.set(c_,(o,l)=>{l(),e.commands.get("link").isEnabled&&this._showUI(!0)})}_enableUserBalloonInteractions(){this.editor.keystrokes.set("Tab",(e,i)=>{this._areActionsVisible&&!this.actionsView.focusTracker.isFocused&&(this.actionsView.focus(),i())},{priority:"high"}),this.editor.keystrokes.set("Esc",(e,i)=>{this._isUIVisible&&(this._hideUI(),i())}),p({emitter:this.formView,activator:()=>this._isUIInPanel,contextElements:()=>[this._balloon.view.element],callback:()=>this._hideUI()})}_addActionsView(){this.actionsView||this._createViews(),this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}_addFormView(){if(this.formView||this._createViews(),this._isFormInPanel)return;const e=this.editor.commands.get("link");this.formView.disableCssTransitions(),this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.enableCssTransitions(),this.formView.urlInputView.fieldView.element.value=e.value||""}_closeFormView(){const e=this.editor.commands.get("link");e.restoreManualDecoratorStates(),e.value!==void 0?this._removeFormView():this._hideUI()}_removeFormView(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus(),this._hideFakeVisualSelection())}_showUI(e=!1){this.formView||this._createViews(),this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),e&&this._balloon.showStack("main")):(this._showFakeVisualSelection(),this._addActionsView(),e&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}_hideUI(){if(!this._isUIInPanel)return;const e=this.editor;this.stopListening(e.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),e.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView),this._hideFakeVisualSelection()}_startUpdatingUI(){const e=this.editor,i=e.editing.view.document;let o=this._getSelectedLinkElement(),l=d();const c=()=>{const f=this._getSelectedLinkElement(),g=d();o&&!f||!o&&g!==l?this._hideUI():this._isUIVisible&&this._balloon.updatePosition(this._getBalloonPositionData()),o=f,l=g};function d(){return i.selection.focus.getAncestors().reverse().find(f=>f.is("element"))}this.listenTo(e.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}get _isFormInPanel(){return!!this.formView&&this._balloon.hasView(this.formView)}get _areActionsInPanel(){return!!this.actionsView&&this._balloon.hasView(this.actionsView)}get _areActionsVisible(){return!!this.actionsView&&this._balloon.visibleView===this.actionsView}get _isUIInPanel(){return this._isFormInPanel||this._areActionsInPanel}get _isUIVisible(){const e=this._balloon.visibleView;return!!this.formView&&e==this.formView||this._areActionsVisible}_getBalloonPositionData(){const e=this.editor.editing.view,i=this.editor.model,o=e.document;let l;if(i.markers.has(yr)){const c=Array.from(this.editor.editing.mapper.markerNameToElements(yr)),d=e.createRange(e.createPositionBefore(c[0]),e.createPositionAfter(c[c.length-1]));l=e.domConverter.viewRangeToDom(d)}else l=()=>{const c=this._getSelectedLinkElement();return c?e.domConverter.mapViewToDom(c):e.domConverter.viewRangeToDom(o.selection.getFirstRange())};return{target:l}}_getSelectedLinkElement(){const e=this.editor.editing.view,i=e.document.selection,o=i.getSelectedElement();if(i.isCollapsed||o&&Et(o))return p_(i.getFirstPosition());{const l=i.getFirstRange().getTrimmed(),c=p_(l.start),d=p_(l.end);return c&&c==d&&e.createRangeIn(c).getTrimmed().isEqual(l)?c:null}}_showFakeVisualSelection(){const e=this.editor.model;e.change(i=>{const o=e.document.selection.getFirstRange();if(e.markers.has(yr))i.updateMarker(yr,{range:o});else if(o.start.isAtEnd){const l=o.start.getLastMatchingPosition(({item:c})=>!e.schema.isContent(c),{boundaries:o});i.addMarker(yr,{usingOperation:!1,affectsData:!1,range:i.createRange(l,o.end)})}else i.addMarker(yr,{usingOperation:!1,affectsData:!1,range:o})})}_hideFakeVisualSelection(){const e=this.editor.model;e.markers.has(yr)&&e.change(i=>{i.removeMarker(yr)})}}function p_(a){return a.getAncestors().find(e=>{return(i=e).is("attributeElement")&&!!i.getCustomProperty("link");var i})||null}const Q7=new RegExp("(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$","i");class Y7 extends ie{static get requires(){return[Qr]}static get pluginName(){return"AutoLink"}init(){const e=this.editor.model.document.selection;e.on("change:range",()=>{this.isEnabled=!e.anchor.parent.is("element","codeBlock")}),this._enableTypingHandling()}afterInit(){this._enableEnterHandling(),this._enableShiftEnterHandling()}_enableTypingHandling(){const e=this.editor,i=new QI(e.model,o=>{if(!function(c){return c.length>4&&c[c.length-1]===" "&&c[c.length-2]!==" "}(o))return;const l=cS(o.substr(0,o.length-1));return l?{url:l}:void 0});i.on("matched:data",(o,l)=>{const{batch:c,range:d,url:f}=l;if(!c.isTyping)return;const g=d.end.getShiftedBy(-1),k=g.getShiftedBy(-f.length),w=e.model.createRange(k,g);this._applyAutoLink(f,w)}),i.bind("isEnabled").to(this)}_enableEnterHandling(){const e=this.editor,i=e.model,o=e.commands.get("enter");o&&o.on("execute",()=>{const l=i.document.selection.getFirstPosition();if(!l.parent.previousSibling)return;const c=i.createRangeIn(l.parent.previousSibling);this._checkAndApplyAutoLinkOnRange(c)})}_enableShiftEnterHandling(){const e=this.editor,i=e.model,o=e.commands.get("shiftEnter");o&&o.on("execute",()=>{const l=i.document.selection.getFirstPosition(),c=i.createRange(i.createPositionAt(l.parent,0),l.getShiftedBy(-1));this._checkAndApplyAutoLinkOnRange(c)})}_checkAndApplyAutoLinkOnRange(e){const i=this.editor.model,{text:o,range:l}=KI(e,i),c=cS(o);if(c){const d=i.createRange(l.end.getShiftedBy(-c.length),l.end);this._applyAutoLink(c,d)}}_applyAutoLink(e,i){const o=this.editor.model,l=d_(e,this.editor.config.get("link.defaultProtocol"));this.isEnabled&&function(c,d){return d.schema.checkAttributeInSelection(d.createSelection(c),"linkHref")}(i,o)&&X2(l)&&!function(c){const d=c.start.nodeAfter;return!!d&&d.hasAttribute("linkHref")}(i)&&this._persistAutoLink(l,i)}_persistAutoLink(e,i){const o=this.editor.model,l=this.editor.plugins.get("Delete");o.enqueueChange(c=>{c.setAttribute("linkHref",e,i),o.enqueueChange(()=>{l.requestUndoOnBackspace()})})}}function cS(a){const e=Q7.exec(a);return e?e[2]:null}var uS=u(111),Z7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(uS.Z,Z7),uS.Z.locals;var dS=u(5730),J7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(dS.Z,J7),dS.Z.locals;var hS=u(4564),X7={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(hS.Z,X7),hS.Z.locals;function e8(a,e){const i=e.mapper,o=e.writer,l=a.getAttribute("listType")=="numbered"?"ol":"ul",c=function(f){const g=f.createContainerElement("li");return g.getFillerOffset=i8,g}(o),d=o.createContainerElement(l,null);return o.insert(o.createPositionAt(d,0),c),i.bindElements(a,c),c}function fS(a,e,i,o){const l=e.parent,c=i.mapper,d=i.writer;let f=c.toViewPosition(o.createPositionBefore(a));const g=gS(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),k=a.previousSibling;if(g&&g.getAttribute("listIndent")==a.getAttribute("listIndent")){const w=c.toViewElement(g);f=d.breakContainer(d.createPositionAfter(w))}else if(k&&k.name=="listItem"){f=c.toViewPosition(o.createPositionAt(k,"end"));const w=c.findMappedViewAncestor(f),_=function(y){for(const I of y.getChildren())if(I.name=="ul"||I.name=="ol")return I;return null}(w);f=_?d.createPositionBefore(_):d.createPositionAt(w,"end")}else f=c.toViewPosition(o.createPositionBefore(a));if(f=pS(f),d.insert(f,l),k&&k.name=="listItem"){const w=c.toViewElement(k),_=d.createRange(d.createPositionAt(w,0),f).getWalker({ignoreElementEnd:!0});for(const y of _)if(y.item.is("element","li")){const I=d.breakContainer(d.createPositionBefore(y.item)),T=y.item.parent,S=d.createPositionAt(e,"end");Ci(d,S.nodeBefore,S.nodeAfter),d.move(d.createRangeOn(T),S),_._position=I}}else{const w=l.nextSibling;if(w&&(w.is("element","ul")||w.is("element","ol"))){let _=null;for(const y of w.getChildren()){const I=c.toModelElement(y);if(!(I&&I.getAttribute("listIndent")>a.getAttribute("listIndent")))break;_=y}_&&(d.breakContainer(d.createPositionAfter(_)),d.move(d.createRangeOn(_.parent),d.createPositionAt(e,"end")))}}Ci(d,l,l.nextSibling),Ci(d,l.previousSibling,l)}function Ci(a,e,i){return!e||!i||e.name!="ul"&&e.name!="ol"||e.name!=i.name||e.getAttribute("class")!==i.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(e))}function pS(a){return a.getLastMatchingPosition(e=>e.item.is("uiElement"))}function gS(a,e){const i=!!e.sameIndent,o=!!e.smallerIndent,l=e.listIndent;let c=a;for(;c&&c.name=="listItem";){const d=c.getAttribute("listIndent");if(i&&l==d||o&&l>d)return c;c=e.direction==="forward"?c.nextSibling:c.previousSibling}return null}function mS(a,e,i,o){a.ui.componentFactory.add(e,l=>{const c=a.commands.get(e),d=new gt(l);return d.set({label:i,icon:o,tooltip:!0,isToggleable:!0}),d.bind("isOn","isEnabled").to(c,"value","isEnabled"),d.on("execute",()=>{a.execute(e),a.editing.view.focus()}),d})}function g_(a,e){const i=[],o=a.parent,l={ignoreElementEnd:!1,startPosition:a,shallow:!0,direction:e},c=o.getAttribute("listIndent"),d=[...new _r(l)].filter(f=>f.item.is("element")).map(f=>f.item);for(const f of d){if(!f.is("element","listItem")||f.getAttribute("listIndent")<c)break;if(!(f.getAttribute("listIndent")>c)){if(f.getAttribute("listType")!==o.getAttribute("listType")||f.getAttribute("listStyle")!==o.getAttribute("listStyle")||f.getAttribute("listReversed")!==o.getAttribute("listReversed")||f.getAttribute("listStart")!==o.getAttribute("listStart"))break;e==="backward"?i.unshift(f):i.push(f)}}return i}const t8=["disc","circle","square"],n8=["decimal","decimal-leading-zero","lower-roman","upper-roman","lower-latin","upper-latin"];function i8(){const a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:Z1.call(this)}class r8 extends ie{static get pluginName(){return"ListUI"}init(){const e=this.editor.t;mS(this.editor,"numberedList",e("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),mS(this.editor,"bulletedList",e("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}const o8=[{listStyle:"disc",typeAttribute:"disc",listType:"bulleted"},{listStyle:"circle",typeAttribute:"circle",listType:"bulleted"},{listStyle:"square",typeAttribute:"square",listType:"bulleted"},{listStyle:"decimal",typeAttribute:"1",listType:"numbered"},{listStyle:"decimal-leading-zero",typeAttribute:null,listType:"numbered"},{listStyle:"lower-roman",typeAttribute:"i",listType:"numbered"},{listStyle:"upper-roman",typeAttribute:"I",listType:"numbered"},{listStyle:"lower-alpha",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-alpha",typeAttribute:"A",listType:"numbered"},{listStyle:"lower-latin",typeAttribute:"a",listType:"numbered"},{listStyle:"upper-latin",typeAttribute:"A",listType:"numbered"}];for(const{listStyle:a,typeAttribute:e,listType:i}of o8);var kS=u(4721),s8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(kS.Z,s8),kS.Z.locals;var bS=u(6082),a8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(bS.Z,a8),bS.Z.locals;var wS=u(2417),l8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(wS.Z,l8),wS.Z.locals;class _S extends Be{constructor(e,i){super(e),this._indentBy=i=="forward"?1:-1}refresh(){this.isEnabled=this._checkEnabled()}execute(){const e=this.editor.model,i=e.document;let o=Array.from(i.selection.getSelectedBlocks());e.change(l=>{const c=o[o.length-1];let d=c.nextSibling;for(;d&&d.name=="listItem"&&d.getAttribute("listIndent")>c.getAttribute("listIndent");)o.push(d),d=d.nextSibling;this._indentBy<0&&(o=o.reverse());for(const f of o){const g=f.getAttribute("listIndent")+this._indentBy;g<0?l.rename(f,"paragraph"):l.setAttribute("listIndent",g,f)}this.fire("_executeCleanup",o)})}_checkEnabled(){const e=Ft(this.editor.model.document.selection.getSelectedBlocks());if(!e||!e.is("element","listItem"))return!1;if(this._indentBy>0){const i=e.getAttribute("listIndent"),o=e.getAttribute("listType");let l=e.previousSibling;for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;){if(l.getAttribute("listIndent")==i)return l.getAttribute("listType")==o;l=l.previousSibling}return!1}return!0}}class AS extends Be{constructor(e,i){super(e),this.type=i}refresh(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}execute(e={}){const i=this.editor.model,o=i.document,l=Array.from(o.selection.getSelectedBlocks()).filter(d=>yS(d,i.schema)),c=e.forceValue!==void 0?!e.forceValue:this.value;i.change(d=>{if(c){let f=l[l.length-1].nextSibling,g=Number.POSITIVE_INFINITY,k=[];for(;f&&f.name=="listItem"&&f.getAttribute("listIndent")!==0;){const w=f.getAttribute("listIndent");w<g&&(g=w);const _=w-g;k.push({element:f,listIndent:_}),f=f.nextSibling}k=k.reverse();for(const w of k)d.setAttribute("listIndent",w.listIndent,w.element)}if(!c){let f=Number.POSITIVE_INFINITY;for(const g of l)g.is("element","listItem")&&g.getAttribute("listIndent")<f&&(f=g.getAttribute("listIndent"));f=f===0?1:f,vS(l,!0,f),vS(l,!1,f)}for(const f of l.reverse())c&&f.name=="listItem"?d.rename(f,"paragraph"):c||f.name=="listItem"?c||f.name!="listItem"||f.getAttribute("listType")==this.type||d.setAttribute("listType",this.type,f):(d.setAttributes({listType:this.type,listIndent:0},f),d.rename(f,"listItem"));this.fire("_executeCleanup",l)})}_getValue(){const e=Ft(this.editor.model.document.selection.getSelectedBlocks());return!!e&&e.is("element","listItem")&&e.getAttribute("listType")==this.type}_checkEnabled(){if(this.value)return!0;const e=this.editor.model.document.selection,i=this.editor.model.schema,o=Ft(e.getSelectedBlocks());return!!o&&yS(o,i)}}function vS(a,e,i){const o=e?a[0]:a[a.length-1];if(o.is("element","listItem")){let l=o[e?"previousSibling":"nextSibling"],c=o.getAttribute("listIndent");for(;l&&l.is("element","listItem")&&l.getAttribute("listIndent")>=i;)c>l.getAttribute("listIndent")&&(c=l.getAttribute("listIndent")),l.getAttribute("listIndent")==c&&a[e?"unshift":"push"](l),l=l[e?"previousSibling":"nextSibling"]}}function yS(a,e){return e.checkChild(a.parent,"listItem")&&!e.isObject(a)}class c8 extends ie{static get pluginName(){return"ListUtils"}getListTypeFromListStyleType(e){return function(i){return t8.includes(i)?"bulleted":n8.includes(i)?"numbered":null}(e)}getSelectedListItems(e){return function(i){let o=[...i.document.selection.getSelectedBlocks()].filter(l=>l.is("element","listItem")).map(l=>{const c=i.change(d=>d.createPositionAt(l,0));return[...g_(c,"backward"),...g_(c,"forward")]}).flat();return o=[...new Set(o)],o}(e)}getSiblingNodes(e,i){return g_(e,i)}}function CS(a){return(e,i,o)=>{const l=o.consumable;if(!l.test(i.item,"insert")||!l.test(i.item,"attribute:listType")||!l.test(i.item,"attribute:listIndent"))return;l.consume(i.item,"insert"),l.consume(i.item,"attribute:listType"),l.consume(i.item,"attribute:listIndent");const c=i.item;fS(c,e8(c,o),o,a)}}const u8=(a,e,i)=>{if(!i.consumable.test(e.item,a.name))return;const o=i.mapper.toViewElement(e.item),l=i.writer;l.breakContainer(l.createPositionBefore(o)),l.breakContainer(l.createPositionAfter(o));const c=o.parent,d=e.attributeNewValue=="numbered"?"ol":"ul";l.rename(d,c)},d8=(a,e,i)=>{i.consumable.consume(e.item,a.name);const o=i.mapper.toViewElement(e.item).parent,l=i.writer;Ci(l,o,o.nextSibling),Ci(l,o.previousSibling,o)},ES=(a,e,i)=>{if(i.consumable.test(e.item,a.name)&&e.item.name!="listItem"){let o=i.mapper.toViewPosition(e.range.start);const l=i.writer,c=[];for(;(o.parent.name=="ul"||o.parent.name=="ol")&&(o=l.breakContainer(o),o.parent.name=="li");){const d=o,f=l.createPositionAt(o.parent,"end");if(!d.isEqual(f)){const g=l.remove(l.createRange(d,f));c.push(g)}o=l.createPositionAfter(o.parent)}if(c.length>0){for(let d=0;d<c.length;d++){const f=o.nodeBefore;if(o=l.insert(o,c[d]).end,d>0){const g=Ci(l,f,f.nextSibling);g&&g.parent==f&&o.offset--}}Ci(l,o.nodeBefore,o.nodeAfter)}}},h8=(a,e,i)=>{const o=i.mapper.toViewPosition(e.position),l=o.nodeBefore,c=o.nodeAfter;Ci(i.writer,l,c)},f8=(a,e,i)=>{if(i.consumable.consume(e.viewItem,{name:!0})){const o=i.writer,l=o.createElement("listItem"),c=function(g){let k=0,w=g.parent;for(;w;){if(w.is("element","li"))k++;else{const _=w.previousSibling;_&&_.is("element","li")&&k++}w=w.parent}return k}(e.viewItem);o.setAttribute("listIndent",c,l);const d=e.viewItem.parent&&e.viewItem.parent.name=="ol"?"numbered":"bulleted";if(o.setAttribute("listType",d,l),!i.safeInsert(l,e.modelCursor))return;const f=function(g,k,w){const{writer:_,schema:y}=w;let I=_.createPositionAfter(g);for(const T of k)if(T.name=="ul"||T.name=="ol")I=w.convertItem(T,I).modelCursor;else{const S=w.convertItem(T,_.createPositionAt(g,"end")),B=S.modelRange.start.nodeAfter;B&&B.is("element")&&!y.checkChild(g,B.name)&&(g=S.modelCursor.parent.is("element","listItem")?S.modelCursor.parent:m8(S.modelCursor),I=_.createPositionAfter(g))}return I}(l,e.viewItem.getChildren(),i);e.modelRange=o.createRange(e.modelCursor,f),i.updateConversionResult(l,e)}},xS=(a,e,i)=>{if(i.consumable.test(e.viewItem,{name:!0})){const o=Array.from(e.viewItem.getChildren());for(const l of o)!(l.is("element","li")||xl(l))&&l._remove()}},p8=(a,e,i)=>{if(i.consumable.test(e.viewItem,{name:!0})){if(e.viewItem.childCount===0)return;const o=[...e.viewItem.getChildren()];let l=!1;for(const c of o)l&&!xl(c)&&c._remove(),xl(c)&&(l=!0)}};function IS(a){return(e,i)=>{if(i.isPhantom)return;const o=i.modelPosition.nodeBefore;if(o&&o.is("element","listItem")){const l=i.mapper.toViewElement(o),c=l.getAncestors().find(xl),d=a.createPositionAt(l,0).getWalker();for(const f of d){if(f.type=="elementStart"&&f.item.is("element","li")){i.viewPosition=f.previousPosition;break}if(f.type=="elementEnd"&&f.item==c){i.viewPosition=f.nextPosition;break}}}}}const g8=function(a,[e,i]){const o=this;let l,c=e.is("documentFragment")?e.getChild(0):e;if(l=i?o.createSelection(i):o.document.selection,c&&c.is("element","listItem")){const d=l.getFirstPosition();let f=null;if(d.parent.is("element","listItem")?f=d.parent:d.nodeBefore&&d.nodeBefore.is("element","listItem")&&(f=d.nodeBefore),f){const g=f.getAttribute("listIndent");if(g>0)for(;c&&c.is("element","listItem");)c._setAttribute("listIndent",c.getAttribute("listIndent")+g),c=c.nextSibling}}};function m8(a){const e=new _r({startPosition:a});let i;do i=e.next();while(!i.value.item.is("element","listItem"));return i.value.item}function TS(a,e,i,o,l,c){const d=gS(e.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a}),f=l.mapper,g=l.writer,k=d?d.getAttribute("listIndent"):null;let w;if(d)if(k==a){const _=f.toViewElement(d).parent;w=g.createPositionAfter(_)}else{const _=c.createPositionAt(d,"end");w=f.toViewPosition(_)}else w=i;w=pS(w);for(const _ of[...o.getChildren()])xl(_)&&(w=g.move(g.createRangeOn(_),w).end,Ci(g,_,_.nextSibling),Ci(g,_.previousSibling,_))}function xl(a){return a.is("element","ol")||a.is("element","ul")}class k8 extends ie{static get pluginName(){return"ListEditing"}static get requires(){return[wp,Qr,c8]}init(){const e=this.editor;e.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});const i=e.data,o=e.editing;var l;e.model.document.registerPostFixer(d=>function(f,g){const k=f.document.differ.getChanges(),w=new Map;let _=!1;for(const S of k)if(S.type=="insert"&&S.name=="listItem")y(S.position);else if(S.type=="insert"&&S.name!="listItem"){if(S.name!="$text"){const B=S.position.nodeAfter;B.hasAttribute("listIndent")&&(g.removeAttribute("listIndent",B),_=!0),B.hasAttribute("listType")&&(g.removeAttribute("listType",B),_=!0),B.hasAttribute("listStyle")&&(g.removeAttribute("listStyle",B),_=!0),B.hasAttribute("listReversed")&&(g.removeAttribute("listReversed",B),_=!0),B.hasAttribute("listStart")&&(g.removeAttribute("listStart",B),_=!0);for(const V of Array.from(f.createRangeIn(B)).filter(H=>H.item.is("element","listItem")))y(V.previousPosition)}y(S.position.getShiftedBy(S.length))}else S.type=="remove"&&S.name=="listItem"?y(S.position):(S.type=="attribute"&&S.attributeKey=="listIndent"||S.type=="attribute"&&S.attributeKey=="listType")&&y(S.range.start);for(const S of w.values())I(S),T(S);return _;function y(S){const B=S.nodeBefore;if(B&&B.is("element","listItem")){let V=B;if(w.has(V))return;for(let H=V.previousSibling;H&&H.is("element","listItem");H=V.previousSibling)if(V=H,w.has(V))return;w.set(B,V)}else{const V=S.nodeAfter;V&&V.is("element","listItem")&&w.set(V,V)}}function I(S){let B=0,V=null;for(;S&&S.is("element","listItem");){const H=S.getAttribute("listIndent");if(H>B){let Q;V===null?(V=H-B,Q=B):(V>H&&(V=H),Q=H-V),g.setAttribute("listIndent",Q,S),_=!0}else V=null,B=S.getAttribute("listIndent")+1;S=S.nextSibling}}function T(S){let B=[],V=null;for(;S&&S.is("element","listItem");){const H=S.getAttribute("listIndent");if(V&&V.getAttribute("listIndent")>H&&(B=B.slice(0,H+1)),H!=0)if(B[H]){const Q=B[H];S.getAttribute("listType")!=Q&&(g.setAttribute("listType",Q,S),_=!0)}else B[H]=S.getAttribute("listType");V=S,S=S.nextSibling}}}(e.model,d)),o.mapper.registerViewToModelLength("li",m_),i.mapper.registerViewToModelLength("li",m_),o.mapper.on("modelToViewPosition",IS(o.view)),o.mapper.on("viewToModelPosition",(l=e.model,(d,f)=>{const g=f.viewPosition,k=g.parent,w=f.mapper;if(k.name=="ul"||k.name=="ol"){if(g.isAtEnd){const _=w.toModelElement(g.nodeBefore),y=w.getModelLength(g.nodeBefore);f.modelPosition=l.createPositionBefore(_).getShiftedBy(y)}else{const _=w.toModelElement(g.nodeAfter);f.modelPosition=l.createPositionBefore(_)}d.stop()}else if(k.name=="li"&&g.nodeBefore&&(g.nodeBefore.name=="ul"||g.nodeBefore.name=="ol")){const _=w.toModelElement(k);let y=1,I=g.nodeBefore;for(;I&&xl(I);)y+=w.getModelLength(I),I=I.previousSibling;f.modelPosition=l.createPositionBefore(_).getShiftedBy(y),d.stop()}})),i.mapper.on("modelToViewPosition",IS(o.view)),e.conversion.for("editingDowncast").add(d=>{d.on("insert",ES,{priority:"high"}),d.on("insert:listItem",CS(e.model)),d.on("attribute:listType:listItem",u8,{priority:"high"}),d.on("attribute:listType:listItem",d8,{priority:"low"}),d.on("attribute:listIndent:listItem",function(f){return(g,k,w)=>{if(!w.consumable.consume(k.item,"attribute:listIndent"))return;const _=w.mapper.toViewElement(k.item),y=w.writer;y.breakContainer(y.createPositionBefore(_)),y.breakContainer(y.createPositionAfter(_));const I=_.parent,T=I.previousSibling,S=y.createRangeOn(I);y.remove(S),T&&T.nextSibling&&Ci(y,T,T.nextSibling),TS(k.attributeOldValue+1,k.range.start,S.start,_,w,f),fS(k.item,_,w,f);for(const B of k.item.getChildren())w.consumable.consume(B,"insert")}}(e.model)),d.on("remove:listItem",function(f){return(g,k,w)=>{const _=w.mapper.toViewPosition(k.position).getLastMatchingPosition(V=>!V.item.is("element","li")).nodeAfter,y=w.writer;y.breakContainer(y.createPositionBefore(_)),y.breakContainer(y.createPositionAfter(_));const I=_.parent,T=I.previousSibling,S=y.createRangeOn(I),B=y.remove(S);T&&T.nextSibling&&Ci(y,T,T.nextSibling),TS(w.mapper.toModelElement(_).getAttribute("listIndent")+1,k.position,S.start,_,w,f);for(const V of y.createRangeIn(B).getItems())w.mapper.unbindViewElement(V);g.stop()}}(e.model)),d.on("remove",h8,{priority:"low"})}),e.conversion.for("dataDowncast").add(d=>{d.on("insert",ES,{priority:"high"}),d.on("insert:listItem",CS(e.model))}),e.conversion.for("upcast").add(d=>{d.on("element:ul",xS,{priority:"high"}),d.on("element:ol",xS,{priority:"high"}),d.on("element:li",p8,{priority:"high"}),d.on("element:li",f8)}),e.model.on("insertContent",g8,{priority:"high"}),e.commands.add("numberedList",new AS(e,"numbered")),e.commands.add("bulletedList",new AS(e,"bulleted")),e.commands.add("indentList",new _S(e,"forward")),e.commands.add("outdentList",new _S(e,"backward"));const c=o.view.document;this.listenTo(c,"enter",(d,f)=>{const g=this.editor.model.document,k=g.selection.getLastPosition().parent;g.selection.isCollapsed&&k.name=="listItem"&&k.isEmpty&&(this.editor.execute("outdentList"),f.preventDefault(),d.stop())},{context:"li"}),this.listenTo(c,"delete",(d,f)=>{if(f.direction!=="backward")return;const g=this.editor.model.document.selection;if(!g.isCollapsed)return;const k=g.getFirstPosition();if(!k.isAtStart)return;const w=k.parent;w.name==="listItem"&&(w.previousSibling&&w.previousSibling.name==="listItem"||(this.editor.execute("outdentList"),f.preventDefault(),d.stop()))},{context:"li"}),this.listenTo(e.editing.view.document,"tab",(d,f)=>{const g=f.shiftKey?"outdentList":"indentList";this.editor.commands.get(g).isEnabled&&(e.execute(g),f.stopPropagation(),f.preventDefault(),d.stop())},{context:"li"})}afterInit(){const e=this.editor.commands,i=e.get("indent"),o=e.get("outdent");i&&i.registerChildCommand(e.get("indentList")),o&&o.registerChildCommand(e.get("outdentList"))}}function m_(a){let e=1;for(const i of a.getChildren())if(i.name=="ul"||i.name=="ol")for(const o of i.getChildren())e+=m_(o);return e}Vf("Ctrl+Enter");var SS=u(1199),b8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(SS.Z,b8),SS.Z.locals;function DS(a,e){const i=(o,l,c)=>{if(!c.consumable.consume(l.item,o.name))return;const d=l.attributeNewValue,f=c.writer,g=c.mapper.toViewElement(l.item),k=[...g.getChildren()].find(_=>_.getCustomProperty("media-content"));f.remove(k);const w=a.getMediaViewElement(f,d,e);f.insert(f.createPositionAt(g,0),w)};return o=>{o.on("attribute:url:media",i)}}function MS(a,e,i,o){return a.createContainerElement("figure",{class:"media"},[e.getMediaViewElement(a,i,o),a.createSlot()])}function PS(a){const e=a.getSelectedElement();return e&&e.is("element","media")?e:null}function NS(a,e,i,o){a.change(l=>{const c=l.createElement("media",{url:e});a.insertObject(c,i,null,{setSelection:"on",findOptimalPosition:o?"auto":void 0})})}class w8 extends Be{refresh(){const e=this.editor.model,i=e.document.selection,o=PS(i);this.value=o?o.getAttribute("url"):void 0,this.isEnabled=function(l){const c=l.getSelectedElement();return!!c&&c.name==="media"}(i)||function(l,c){let f=lT(l,c).start.parent;return f.isEmpty&&!c.schema.isLimit(f)&&(f=f.parent),c.schema.checkChild(f,"media")}(i,e)}execute(e){const i=this.editor.model,o=i.document.selection,l=PS(o);l?i.change(c=>{c.setAttribute("url",e,l)}):NS(i,e,o,!0)}}class _8{constructor(e,i){const o=i.providers,l=i.extraProviders||[],c=new Set(i.removeProviders),d=o.concat(l).filter(f=>{const g=f.name;return g?!c.has(g):(q("media-embed-no-provider-name",{provider:f}),!1)});this.locale=e,this.providerDefinitions=d}hasMedia(e){return!!this._getMedia(e)}getMediaViewElement(e,i,o){return this._getMedia(i).getViewElement(e,o)}_getMedia(e){if(!e)return new RS(this.locale);e=e.trim();for(const i of this.providerDefinitions){const o=i.html,l=nn(i.url);for(const c of l){const d=this._getUrlMatches(e,c);if(d)return new RS(this.locale,e,d,o)}}return null}_getUrlMatches(e,i){let o=e.match(i);if(o)return o;let l=e.replace(/^https?:\/\//,"");return o=l.match(i),o||(l=l.replace(/^www\./,""),o=l.match(i),o||null)}}class RS{constructor(e,i,o,l){this.url=this._getValidUrl(i),this._locale=e,this._match=o,this._previewRenderer=l}getViewElement(e,i){const o={};let l;if(i.renderForEditingView||i.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(o["data-oembed-url"]=this.url),i.renderForEditingView&&(o.class="ck-media__wrapper");const c=this._getPreviewHtml(i);l=e.createRawElement("div",o,(d,f)=>{f.setContentOf(d,c)})}else this.url&&(o.url=this.url),l=e.createEmptyElement(i.elementName,o);return e.setCustomProperty("media-content",!0,l),l}_getPreviewHtml(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}_getPlaceholderHtml(){const e=new ul,i=this._locale.t;return e.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',e.viewBox="0 0 64 42",new zi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[e]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url,"data-cke-tooltip-text":i("Open media in new tab")},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]}]}]}).render().outerHTML}_getValidUrl(e){return e?e.match(/^https?/)?e:"https://"+e:null}}var OS=u(7442),A8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(OS.Z,A8),OS.Z.locals;class Ip extends ie{constructor(e){super(e),e.config.define("mediaEmbed",{elementName:"oembed",providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,/^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,/^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/],html:i=>{const o=i[1],l=i[2];return`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${o}${l?`?start=${l}`:""}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:i=>`<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${i[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:[/^google\.com\/maps/,/^goo\.gl\/maps/,/^maps\.google\.com/,/^maps\.app\.goo\.gl/]},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),this.registry=new _8(e.locale,e.config.get("mediaEmbed"))}static get pluginName(){return"MediaEmbedEditing"}init(){const e=this.editor,i=e.model.schema,o=e.t,l=e.conversion,c=e.config.get("mediaEmbed.previewsInData"),d=e.config.get("mediaEmbed.elementName"),f=this.registry;e.commands.add("mediaEmbed",new w8(e)),i.register("media",{inheritAllFrom:"$blockObject",allowAttributes:["url"]}),l.for("dataDowncast").elementToStructure({model:"media",view:(g,{writer:k})=>{const w=g.getAttribute("url");return MS(k,f,w,{elementName:d,renderMediaPreview:!!w&&c})}}),l.for("dataDowncast").add(DS(f,{elementName:d,renderMediaPreview:c})),l.for("editingDowncast").elementToStructure({model:"media",view:(g,{writer:k})=>{const w=g.getAttribute("url");return function(_,y,I){return y.setCustomProperty("media",!0,_),Zw(_,y,{label:I})}(MS(k,f,w,{elementName:d,renderForEditingView:!0}),k,o("media widget"))}}),l.for("editingDowncast").add(DS(f,{elementName:d,renderForEditingView:!0})),l.for("upcast").elementToElement({view:g=>["oembed",d].includes(g.name)&&g.getAttribute("url")?{name:!0}:null,model:(g,{writer:k})=>{const w=g.getAttribute("url");return f.hasMedia(w)?k.createElement("media",{url:w}):null}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:(g,{writer:k})=>{const w=g.getAttribute("data-oembed-url");return f.hasMedia(w)?k.createElement("media",{url:w}):null}}).add(g=>{g.on("element:figure",(k,w,_)=>{if(!_.consumable.consume(w.viewItem,{name:!0,classes:"media"}))return;const{modelRange:y,modelCursor:I}=_.convertChildren(w.viewItem,w.modelCursor);w.modelRange=y,w.modelCursor=I,Ft(y.getItems())||_.consumable.revert(w.viewItem,{name:!0,classes:"media"})})})}}const v8=/^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;class y8 extends ie{constructor(e){super(e),this._timeoutId=null,this._positionToInsert=null}static get requires(){return[vT,Qr,ST]}static get pluginName(){return"AutoMediaEmbed"}init(){const e=this.editor,i=e.model.document,o=e.plugins.get("ClipboardPipeline");this.listenTo(o,"inputTransformation",()=>{const l=i.selection.getFirstRange(),c=hn.fromPosition(l.start);c.stickiness="toPrevious";const d=hn.fromPosition(l.end);d.stickiness="toNext",i.once("change:data",()=>{this._embedMediaBetweenPositions(c,d),c.detach(),d.detach()},{priority:"high"})}),e.commands.get("undo").on("execute",()=>{this._timeoutId&&(Ne.window.clearTimeout(this._timeoutId),this._positionToInsert.detach(),this._timeoutId=null,this._positionToInsert=null)},{priority:"high"})}_embedMediaBetweenPositions(e,i){const o=this.editor,l=o.plugins.get(Ip).registry,c=new Ui(e,i),d=c.getWalker({ignoreElementEnd:!0});let f="";for(const g of d)g.item.is("$textProxy")&&(f+=g.item.data);if(f=f.trim(),!f.match(v8)||!l.hasMedia(f))return void c.detach();o.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=hn.fromPosition(e),this._timeoutId=Ne.window.setTimeout(()=>{o.model.change(g=>{this._timeoutId=null,g.remove(c),c.detach();let k=null;this._positionToInsert.root.rootName!=="$graveyard"&&(k=this._positionToInsert),NS(o.model,f,k,!1),this._positionToInsert.detach(),this._positionToInsert=null}),o.plugins.get(Qr).requestUndoOnBackspace()},100)):c.detach()}}var BS=u(9292),C8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(BS.Z,C8),BS.Z.locals;class E8 extends ze{constructor(e,i){super(i);const o=i.t;this.focusTracker=new vi,this.keystrokes=new gr,this.set("mediaURLInputValue",""),this.urlInputView=this._createUrlInput(),this.saveButtonView=this._createButton(o("Save"),Lt.check,"ck-button-save"),this.saveButtonView.type="submit",this.saveButtonView.bind("isEnabled").to(this,"mediaURLInputValue",l=>!!l),this.cancelButtonView=this._createButton(o("Cancel"),Lt.cancel,"ck-button-cancel","cancel"),this._focusables=new Bo,this._focusCycler=new dl({focusables:this._focusables,focusTracker:this.focusTracker,keystrokeHandler:this.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),this._validators=e,this.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form","ck-responsive-form"],tabindex:"-1"},children:[this.urlInputView,this.saveButtonView,this.cancelButtonView]})}render(){super.render(),m({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(i=>{this._focusables.add(i),this.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element);const e=i=>i.stopPropagation();this.keystrokes.set("arrowright",e),this.keystrokes.set("arrowleft",e),this.keystrokes.set("arrowup",e),this.keystrokes.set("arrowdown",e)}destroy(){super.destroy(),this.focusTracker.destroy(),this.keystrokes.destroy()}focus(){this._focusCycler.focusFirst()}get url(){return this.urlInputView.fieldView.element.value.trim()}set url(e){this.urlInputView.fieldView.element.value=e.trim()}isValid(){this.resetFormStatus();for(const e of this._validators){const i=e(this);if(i)return this.urlInputView.errorText=i,!1}return!0}resetFormStatus(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}_createUrlInput(){const e=this.locale.t,i=new Hb(this.locale,Mw),o=i.fieldView;return this._urlInputViewInfoDefault=e("Paste the media URL in the input."),this._urlInputViewInfoTip=e("Tip: Paste the URL into the content to embed faster."),i.label=e("Media URL"),i.infoText=this._urlInputViewInfoDefault,o.on("input",()=>{i.infoText=o.element.value?this._urlInputViewInfoTip:this._urlInputViewInfoDefault,this.mediaURLInputValue=o.element.value.trim()}),i}_createButton(e,i,o,l){const c=new gt(this.locale);return c.set({label:e,icon:i,tooltip:!0}),c.extendTemplate({attributes:{class:o}}),l&&c.delegate("execute").to(this,l),c}}class x8 extends ie{static get requires(){return[Ip]}static get pluginName(){return"MediaEmbedUI"}init(){const e=this.editor,i=e.commands.get("mediaEmbed");e.ui.componentFactory.add("mediaEmbed",o=>{const l=Fo(o);return this._setUpDropdown(l,i),l})}_setUpDropdown(e,i){const o=this.editor,l=o.t,c=e.buttonView,d=o.plugins.get(Ip).registry;e.once("change:isOpen",()=>{const f=new(b(E8))(function(g,k){return[w=>{if(!w.url.length)return g("The URL must not be empty.")},w=>{if(!k.hasMedia(w.url))return g("This media URL is not supported.")}]}(o.t,d),o.locale);e.panelView.children.add(f),c.on("open",()=>{f.disableCssTransitions(),f.url=i.value||"",f.urlInputView.fieldView.select(),f.enableCssTransitions()},{priority:"low"}),e.on("submit",()=>{f.isValid()&&(o.execute("mediaEmbed",f.url),o.editing.view.focus())}),e.on("change:isOpen",()=>f.resetFormStatus()),e.on("cancel",()=>{o.editing.view.focus()}),f.delegate("submit","cancel").to(e),f.urlInputView.fieldView.bind("value").to(i,"value"),f.urlInputView.bind("isEnabled").to(i,"isEnabled")}),e.bind("isEnabled").to(i),c.set({label:l("Insert media"),icon:'<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',tooltip:!0})}}var LS=u(4652),I8={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(LS.Z,I8),LS.Z.locals;function T8(a,e){if(!a.childCount)return;const i=new Vo(a.document),o=function(d,f){const g=f.createRangeIn(d),k=new ji({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),w=[];for(const _ of g)if(_.type==="elementStart"&&k.match(_.item)){const y=D8(_.item);w.push({element:_.item,id:y.id,order:y.order,indent:y.indent})}return w}(a,i);if(!o.length)return;let l=null,c=1;o.forEach((d,f)=>{const g=function(T,S){if(!T)return!0;if(T.id!==S.id)return S.indent-T.indent!=1;const B=S.element.previousSibling;if(!B)return!0;return V=B,!(V.is("element","ol")||V.is("element","ul"));var V}(o[f-1],d),k=g?null:o[f-1],w=(y=d,(_=k)?y.indent-_.indent:y.indent-1);var _,y;if(g&&(l=null,c=1),!l||w!==0){const T=function(S,B){const V=new RegExp(`@list l${S.id}:level${S.indent}\\s*({[^}]*)`,"gi"),H=/mso-level-number-format:([^;]{0,100});/gi,Q=/mso-level-start-at:\s{0,100}([0-9]{0,10})\s{0,100};/gi,le=V.exec(B);let _e="decimal",rt="ol",je=null;if(le&&le[1]){const Qt=H.exec(le[1]);if(Qt&&Qt[1]&&(_e=Qt[1].trim(),rt=_e!=="bullet"&&_e!=="image"?"ol":"ul"),_e==="bullet"){const Ht=function(Tl){const Cr=function(Zr){if(Zr.getChild(0).is("$text"))return null;for(const Jr of Zr.getChildren()){if(!Jr.is("element","span"))continue;const ua=Jr.getChild(0);if(ua)return ua.is("$text")?ua:ua.getChild(0)}return null}(Tl);if(!Cr)return null;const Ei=Cr._data;return Ei==="o"?"circle":Ei===""?"disc":Ei===""?"square":null}(S.element);Ht&&(_e=Ht)}else{const Ht=Q.exec(le[1]);Ht&&Ht[1]&&(je=parseInt(Ht[1]))}}return{type:rt,startIndex:je,style:S8(_e)}}(d,e);if(l){if(d.indent>c){const S=l.getChild(l.childCount-1),B=S.getChild(S.childCount-1);l=zS(T,B,i),c+=1}else if(d.indent<c){const S=c-d.indent;l=function(B,V){const H=B.getAncestors({parentFirst:!0});let Q=null,le=0;for(const _e of H)if((_e.is("element","ul")||_e.is("element","ol"))&&le++,le===V){Q=_e;break}return Q}(l,S),c=d.indent}}else l=zS(T,d.element,i);d.indent<=c&&(l.is("element",T.type)||(l=i.rename(T.type,l)))}const I=function(T,S){return function(B,V){const H=new ji({name:"span",styles:{"mso-list":"Ignore"}}),Q=V.createRangeIn(B);for(const le of Q)le.type==="elementStart"&&H.match(le.item)&&V.remove(le.item)}(T,S),S.removeStyle("text-indent",T),S.rename("li",T)}(d.element,i);i.appendChild(I,l)})}function S8(a){if(a.startsWith("arabic-leading-zero"))return"decimal-leading-zero";switch(a){case"alpha-upper":return"upper-alpha";case"alpha-lower":return"lower-alpha";case"roman-upper":return"upper-roman";case"roman-lower":return"lower-roman";case"circle":case"disc":case"square":return a;default:return null}}function zS(a,e,i){const o=e.parent,l=i.createElement(a.type),c=o.getChildIndex(e)+1;return i.insertChild(c,l,o),a.style&&i.setStyle("list-style-type",a.style,l),a.startIndex&&a.startIndex>1&&i.setAttribute("start",a.startIndex,l),l}function D8(a){const e={},i=a.getStyle("mso-list");if(i){const o=i.match(/(^|\s{1,100})l(\d+)/i),l=i.match(/\s{0,100}lfo(\d+)/i),c=i.match(/\s{0,100}level(\d+)/i);o&&l&&c&&(e.id=o[2],e.order=l[1],e.indent=parseInt(c[1]))}return e}function M8(a,e){if(!a.childCount)return;const i=new Vo(a.document),o=function(c,d){const f=d.createRangeIn(c),g=new ji({name:/v:(.+)/}),k=[];for(const w of f){if(w.type!="elementStart")continue;const _=w.item,y=_.previousSibling,I=y&&y.is("element")?y.name:null;g.match(_)&&_.getAttribute("o:gfxdata")&&I!=="v:shapetype"&&k.push(w.item.getAttribute("id"))}return k}(a,i);(function(c,d,f){const g=f.createRangeIn(d),k=new ji({name:"img"}),w=[];for(const _ of g)if(_.item.is("element")&&k.match(_.item)){const y=_.item,I=y.getAttribute("v:shapes")?y.getAttribute("v:shapes").split(" "):[];I.length&&I.every(T=>c.indexOf(T)>-1)?w.push(y):y.getAttribute("src")||w.push(y)}for(const _ of w)f.remove(_)})(o,a,i),function(c,d,f){const g=f.createRangeIn(d),k=[];for(const y of g)if(y.type=="elementStart"&&y.item.is("element","v:shape")){const I=y.item.getAttribute("id");if(c.includes(I))continue;w(y.item.parent.getChildren(),I)||k.push(y.item)}for(const y of k){const I={src:_(y)};y.hasAttribute("alt")&&(I.alt=y.getAttribute("alt"));const T=f.createElement("img",I);f.insertChild(y.index+1,T,y.parent)}function w(y,I){for(const T of y)if(T.is("element")&&(T.name=="img"&&T.getAttribute("v:shapes")==I||w(T.getChildren(),I)))return!0;return!1}function _(y){for(const I of y.getChildren())if(I.is("element")&&I.getAttribute("src"))return I.getAttribute("src")}}(o,a,i),function(c,d){const f=d.createRangeIn(c),g=new ji({name:/v:(.+)/}),k=[];for(const w of f)w.type=="elementStart"&&g.match(w.item)&&k.push(w.item);for(const w of k)d.remove(w)}(a,i);const l=function(c,d){const f=d.createRangeIn(c),g=new ji({name:"img"}),k=[];for(const w of f)w.item.is("element")&&g.match(w.item)&&w.item.getAttribute("src").startsWith("file://")&&k.push(w.item);return k}(a,i);l.length&&function(c,d,f){if(c.length===d.length)for(let g=0;g<c.length;g++){const k=`data:${d[g].type};base64,${P8(d[g].hex)}`;f.setAttribute("src",k,c[g])}}(l,function(c){if(!c)return[];const d=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,f=new RegExp("(?:("+d.source+"))([\\da-fA-F\\s]+)\\}","g"),g=c.match(f),k=[];if(g)for(const w of g){let _=!1;w.includes("\\pngblip")?_="image/png":w.includes("\\jpegblip")&&(_="image/jpeg"),_&&k.push({hex:w.replace(d,"").replace(/[^\da-fA-F]/g,""),type:_})}return k}(e),i)}function P8(a){return btoa(a.match(/\w{2}/g).map(e=>String.fromCharCode(parseInt(e,16))).join(""))}const N8=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,R8=/xmlns:o="urn:schemas-microsoft-com/i;class O8{constructor(e){this.document=e}isActive(e){return N8.test(e)||R8.test(e)}execute(e){const{body:i,stylesString:o}=e._parsedData;T8(i,o),M8(i,e.dataTransfer.getData("text/rtf")),function(l){const c=new Vo(l.document);for(const d of l.getChildren()){if(!d.is("element"))continue;if(d.is("element","table")){c.setAttribute("align","left",d);continue}const f=d.getAttribute("align"),g=d.getChild(0);d.name==="div"&&f&&g&&g.is("element","table")&&c.setAttribute("align",f==="center"?"none":f,g)}}(i),e.content=i}}function jS(a,e,i,{blockElements:o,inlineObjectElements:l}){let c=i.createPositionAt(a,e=="forward"?"after":"before");return c=c.getLastMatchingPosition(({item:d})=>d.is("element")&&!o.includes(d.name)&&!l.includes(d.name),{direction:e}),e=="forward"?c.nodeAfter:c.nodeBefore}function VS(a,e){return!!a&&a.is("element")&&e.includes(a.name)}const B8=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i;class L8{constructor(e){this.document=e}isActive(e){return B8.test(e)}execute(e){const i=new Vo(this.document),{body:o}=e._parsedData;(function(l,c){for(const d of l.getChildren())if(d.is("element","b")&&d.getStyle("font-weight")==="normal"){const f=l.getChildIndex(d);c.remove(d),c.insertChild(f,d.getChildren(),l)}})(o,i),function(l,c){for(const d of c.createRangeIn(l)){const f=d.item;if(f.is("element","li")){const g=f.getChild(0);g&&g.is("element","p")&&c.unwrapElement(g)}}}(o,i),function(l,c){const d=new Yf(c.document.stylesProcessor),f=new Xf(d,{renderingMode:"data"}),g=f.blockElements,k=f.inlineObjectElements,w=[];for(const _ of c.createRangeIn(l)){const y=_.item;if(y.is("element","br")){const I=jS(y,"forward",c,{blockElements:g,inlineObjectElements:k}),T=jS(y,"backward",c,{blockElements:g,inlineObjectElements:k}),S=VS(I,g);(VS(T,g)||S)&&w.push(y)}}for(const _ of w)_.hasClass("Apple-interchange-newline")?c.remove(_):c.replace(_,c.createElement("p"))}(o,i),e.content=o}}const z8=/<google-sheets-html-origin/i;class j8{constructor(e){this.document=e}isActive(e){return z8.test(e)}execute(e){const i=new Vo(this.document),{body:o}=e._parsedData;(function(l,c){for(const d of l.getChildren())if(d.is("element","google-sheets-html-origin")){const f=l.getChildIndex(d);c.remove(d),c.insertChild(f,d.getChildren(),l)}})(o,i),function(l,c){for(const d of l.getChildren())d.is("element","table")&&d.hasAttribute("xmlns")&&c.removeAttribute("xmlns",d)}(o,i),function(l,c){for(const d of l.getChildren())d.is("element","table")&&d.getStyle("width")==="0px"&&c.removeStyle("width",d)}(o,i),function(l,c){for(const d of Array.from(l.getChildren()))d.is("element","style")&&c.remove(d)}(o,i),e.content=o}}function FS(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,(e,i)=>i.length===1?" ":Array(i.length+1).join(" ").substr(0,i.length))}function V8(a,e){const i=new DOMParser,o=function(g){return FS(FS(g)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[^\S\r\n]*?)[\r\n]+([^\S\r\n]*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/(<span\s+style=['"]letter-spacing:[^'"]+?['"]>)[\r\n]+(<\/span>)/g,"$1 $2").replace(/ <\//g,"</").replace(/ <o:p><\/o:p>/g,"<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>([^\S\r\n]*[\r\n]\s*)</g,"><")}(function(g){const k="</body>",w="</html>",_=g.indexOf(k);if(_<0)return g;const y=g.indexOf(w,_+k.length);return g.substring(0,_+k.length)+(y>=0?g.substring(y):"")}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),l=i.parseFromString(o,"text/html");(function(g){g.querySelectorAll("span[style*=spacerun]").forEach(k=>{const w=k,_=w.innerText.length||0;w.innerText=Array(_+1).join(" ").substr(0,_)})})(l);const c=l.body.innerHTML,d=function(g,k){const w=new Yf(k),_=new Xf(w,{renderingMode:"data"}),y=g.createDocumentFragment(),I=g.body.childNodes;for(;I.length>0;)y.appendChild(I[0]);return _.domToView(y,{skipComments:!0})}(l,e),f=function(g){const k=[],w=[],_=Array.from(g.getElementsByTagName("style"));for(const y of _)y.sheet&&y.sheet.cssRules&&y.sheet.cssRules.length&&(k.push(y.sheet),w.push(y.innerHTML));return{styles:k,stylesString:w.join(" ")}}(l);return{body:d,bodyString:c,styles:f.styles,stylesString:f.stylesString}}function Mt(a,e,i,o,l=1){e!=null&&l!=null&&e>l?o.setAttribute(a,e,i):o.removeAttribute(a,i)}function aa(a,e,i={}){const o=a.createElement("tableCell",i);return a.insertElement("paragraph",o),a.insert(o,e),o}function k_(a,e){const i=e.parent.parent,o=parseInt(i.getAttribute("headingColumns")||"0"),{column:l}=a.getCellLocation(e);return!!o&&l<o}function F8(){return a=>{a.on("element:table",(e,i,o)=>{const l=i.viewItem;if(!o.consumable.test(l,{name:!0}))return;const{rows:c,headingRows:d,headingColumns:f}=function(w){let _,y=0;const I=[],T=[];let S;for(const B of Array.from(w.getChildren())){if(B.name!=="tbody"&&B.name!=="thead"&&B.name!=="tfoot")continue;B.name!=="thead"||S||(S=B);const V=Array.from(B.getChildren()).filter(H=>H.is("element","tr"));for(const H of V)if(S&&B===S||B.name==="tbody"&&Array.from(H.getChildren()).length&&Array.from(H.getChildren()).every(Q=>Q.is("element","th")))y++,I.push(H);else{T.push(H);const Q=U8(H);(!_||Q<_)&&(_=Q)}}return{headingRows:y,headingColumns:_||0,rows:[...I,...T]}}(l),g={};f&&(g.headingColumns=f),d&&(g.headingRows=d);const k=o.writer.createElement("table",g);if(o.safeInsert(k,i.modelCursor)){if(o.consumable.consume(l,{name:!0}),c.forEach(w=>o.convertItem(w,o.writer.createPositionAt(k,"end"))),o.convertChildren(l,o.writer.createPositionAt(k,"end")),k.isEmpty){const w=o.writer.createElement("tableRow");o.writer.insert(w,o.writer.createPositionAt(k,"end")),aa(o.writer,o.writer.createPositionAt(w,"end"))}o.updateConversionResult(k,i)}})}}function US(a){return e=>{e.on(`element:${a}`,(i,o,{writer:l})=>{if(!o.modelRange)return;const c=o.modelRange.start.nodeAfter,d=l.createPositionAt(c,0);if(o.viewItem.isEmpty)return void l.insertElement("paragraph",d);const f=Array.from(c.getChildren());if(f.every(g=>g.is("element","$marker"))){const g=l.createElement("paragraph");l.insert(g,l.createPositionAt(c,0));for(const k of f)l.move(l.createRangeOn(k),l.createPositionAt(g,"end"))}},{priority:"low"})}}function U8(a){let e=0,i=0;const o=Array.from(a.getChildren()).filter(l=>l.name==="th"||l.name==="td");for(;i<o.length&&o[i].name==="th";){const l=o[i];e+=parseInt(l.getAttribute("colspan")||"1"),i++}return e}class it{constructor(e,i={}){this._table=e,this._startRow=i.row!==void 0?i.row:i.startRow||0,this._endRow=i.row!==void 0?i.row:i.endRow,this._startColumn=i.column!==void 0?i.column:i.startColumn||0,this._endColumn=i.column!==void 0?i.column:i.endColumn,this._includeAllSlots=!!i.includeAllSlots,this._skipRows=new Set,this._row=0,this._rowIndex=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}[Symbol.iterator](){return this}next(){const e=this._table.getChild(this._rowIndex);if(!e||this._isOverEndRow())return{done:!0,value:void 0};if(!e.is("element","tableRow"))return this._rowIndex++,this.next();if(this._isOverEndColumn())return this._advanceToNextRow();let i=null;const o=this._getSpanned();if(o)this._includeAllSlots&&!this._shouldSkipSlot()&&(i=this._formatOutValue(o.cell,o.row,o.column));else{const l=e.getChild(this._cellIndex);if(!l)return this._advanceToNextRow();const c=parseInt(l.getAttribute("colspan")||"1"),d=parseInt(l.getAttribute("rowspan")||"1");(c>1||d>1)&&this._recordSpans(l,d,c),this._shouldSkipSlot()||(i=this._formatOutValue(l)),this._nextCellAtColumn=this._column+c}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,i||this.next()}skipRow(e){this._skipRows.add(e)}_advanceToNextRow(){return this._row++,this._rowIndex++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next()}_isOverEndRow(){return this._endRow!==void 0&&this._row>this._endRow}_isOverEndColumn(){return this._endColumn!==void 0&&this._column>this._endColumn}_formatOutValue(e,i=this._row,o=this._column){return{done:!1,value:new H8(this,e,i,o)}}_shouldSkipSlot(){const e=this._skipRows.has(this._row),i=this._row<this._startRow,o=this._column<this._startColumn,l=this._endColumn!==void 0&&this._column>this._endColumn;return e||i||o||l}_getSpanned(){const e=this._spannedCells.get(this._row);return e&&e.get(this._column)||null}_recordSpans(e,i,o){const l={cell:e,row:this._row,column:this._column};for(let c=this._row;c<this._row+i;c++)for(let d=this._column;d<this._column+o;d++)c==this._row&&d==this._column||this._markSpannedCell(c,d,l)}_markSpannedCell(e,i,o){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(i,o)}}class H8{constructor(e,i,o,l){this.cell=i,this.row=e._row,this.column=e._column,this.cellAnchorRow=o,this.cellAnchorColumn=l,this._cellIndex=e._cellIndex,this._rowIndex=e._rowIndex,this._table=e._table}get isAnchor(){return this.row===this.cellAnchorRow&&this.column===this.cellAnchorColumn}get cellWidth(){return parseInt(this.cell.getAttribute("colspan")||"1")}get cellHeight(){return parseInt(this.cell.getAttribute("rowspan")||"1")}get rowIndex(){return this._rowIndex}getPositionBefore(){return this._table.root.document.model.createPositionAt(this._table.getChild(this.row),this._cellIndex)}}function HS(a,e){return(i,{writer:o})=>{const l=i.getAttribute("headingRows")||0,c=o.createContainerElement("table",null,[]),d=o.createContainerElement("figure",{class:"table"},c);l>0&&o.insert(o.createPositionAt(c,"end"),o.createContainerElement("thead",null,o.createSlot(f=>f.is("element","tableRow")&&f.index<l))),l<a.getRows(i)&&o.insert(o.createPositionAt(c,"end"),o.createContainerElement("tbody",null,o.createSlot(f=>f.is("element","tableRow")&&f.index>=l)));for(const{positionOffset:f,filter:g}of e.additionalSlots)o.insert(o.createPositionAt(c,f),o.createSlot(g));return o.insert(o.createPositionAt(c,"after"),o.createSlot(f=>!f.is("element","tableRow")&&!e.additionalSlots.some(({filter:g})=>g(f)))),e.asWidget?function(f,g){return g.setCustomProperty("table",!0,f),Zw(f,g,{hasSelectionHandle:!0})}(d,o):d}}function WS(a={}){return(e,{writer:i})=>{const o=e.parent,l=o.parent,c=l.getChildIndex(o),d=new it(l,{row:c}),f=l.getAttribute("headingRows")||0,g=l.getAttribute("headingColumns")||0;let k=null;for(const w of d)if(w.cell==e){const _=w.row<f||w.column<g?"th":"td";k=a.asWidget?aT(i.createEditableElement(_),i):i.createContainerElement(_);break}return k}}function qS(a={}){return(e,{writer:i})=>{if(!e.parent.is("element","tableCell")||!$S(e))return null;if(a.asWidget)return i.createContainerElement("span",{class:"ck-table-bogus-paragraph"});{const o=i.createContainerElement("p");return i.setCustomProperty("dataPipeline:transparentRendering",!0,o),o}}}function $S(a){return a.parent.childCount==1&&!!a.getAttributeKeys().next().done}class W8 extends Be{refresh(){const e=this.editor.model,i=e.document.selection,o=e.schema;this.isEnabled=function(l,c){const d=l.getFirstPosition().parent,f=d===d.root?d:d.parent;return c.checkChild(f,"table")}(i,o)}execute(e={}){const i=this.editor,o=i.model,l=i.plugins.get("TableUtils"),c=i.config.get("table.defaultHeadings.rows"),d=i.config.get("table.defaultHeadings.columns");e.headingRows===void 0&&c&&(e.headingRows=c),e.headingColumns===void 0&&d&&(e.headingColumns=d),o.change(f=>{const g=l.createTable(f,e);o.insertObject(g,null,null,{findOptimalPosition:"auto"}),f.setSelection(f.createPositionAt(g.getNodeByPath([0,0,0]),0))})}}class GS extends Be{constructor(e,i={}){super(e),this.order=i.order||"below"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("TableUtils"),l=this.order==="above",c=o.getSelectionAffectedTableCells(i),d=o.getRowIndexes(c),f=l?d.first:d.last,g=c[0].findAncestor("table");o.insertRows(g,{at:l?f:f+1,copyStructureFromAbove:!l})}}class KS extends Be{constructor(e,i={}){super(e),this.order=i.order||"right"}refresh(){const e=this.editor.model.document.selection,i=!!this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(e).length;this.isEnabled=i}execute(){const e=this.editor,i=e.model.document.selection,o=e.plugins.get("TableUtils"),l=this.order==="left",c=o.getSelectionAffectedTableCells(i),d=o.getColumnIndexes(c),f=l?d.first:d.last,g=c[0].findAncestor("table");o.insertColumns(g,{columns:1,at:l?f:f+1})}}class QS extends Be{constructor(e,i={}){super(e),this.direction=i.direction||"horizontally"}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length===1}execute(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];this.direction==="horizontally"?e.splitCellHorizontally(i,2):e.splitCellVertically(i,2)}}function YS(a,e,i){const{startRow:o,startColumn:l,endRow:c,endColumn:d}=e,f=i.createElement("table"),g=c-o+1;for(let w=0;w<g;w++)i.insertElement("tableRow",f,"end");const k=[...new it(a,{startRow:o,endRow:c,startColumn:l,endColumn:d,includeAllSlots:!0})];for(const{row:w,column:_,cell:y,isAnchor:I,cellAnchorRow:T,cellAnchorColumn:S}of k){const B=w-o,V=f.getChild(B);if(I){const H=i.cloneElement(y);i.append(H,V),tD(H,w,_,c,d,i)}else(T<o||S<l)&&aa(i,i.createPositionAt(V,"end"))}return function(w,_,y,I,T){const S=parseInt(_.getAttribute("headingRows")||"0");S>0&&Mt("headingRows",S-y,w,T,0);const B=parseInt(_.getAttribute("headingColumns")||"0");B>0&&Mt("headingColumns",B-I,w,T,0)}(f,a,o,l,i),f}function ZS(a,e,i=0){const o=[],l=new it(a,{startRow:i,endRow:e-1});for(const c of l){const{row:d,cellHeight:f}=c;d<e&&e<=d+f-1&&o.push(c)}return o}function JS(a,e,i){const o=a.parent,l=o.parent,c=o.index,d=e-c,f={},g=parseInt(a.getAttribute("rowspan"))-d;g>1&&(f.rowspan=g);const k=parseInt(a.getAttribute("colspan")||"1");k>1&&(f.colspan=k);const w=c+d,_=[...new it(l,{startRow:c,endRow:w,includeAllSlots:!0})];let y,I=null;for(const T of _){const{row:S,column:B,cell:V}=T;V===a&&y===void 0&&(y=B),y!==void 0&&y===B&&S===w&&(I=aa(i,T.getPositionBefore(),f))}return Mt("rowspan",d,a,i),I}function XS(a,e){const i=[],o=new it(a);for(const l of o){const{column:c,cellWidth:d}=l;c<e&&e<=c+d-1&&i.push(l)}return i}function eD(a,e,i,o){const l=i-e,c={},d=parseInt(a.getAttribute("colspan"))-l;d>1&&(c.colspan=d);const f=parseInt(a.getAttribute("rowspan")||"1");f>1&&(c.rowspan=f);const g=aa(o,o.createPositionAfter(a),c);return Mt("colspan",l,a,o),g}function tD(a,e,i,o,l,c){const d=parseInt(a.getAttribute("colspan")||"1"),f=parseInt(a.getAttribute("rowspan")||"1");i+d-1>l&&Mt("colspan",l-i+1,a,c,1),e+f-1>o&&Mt("rowspan",o-e+1,a,c,1)}function b_(a,e){const i=e.getColumns(a),o=new Array(i).fill(0);for(const{column:c}of new it(a))o[c]++;const l=o.reduce((c,d,f)=>d?c:[...c,f],[]);if(l.length>0){const c=l[l.length-1];return e.removeColumns(a,{at:c}),!0}return!1}function w_(a,e){const i=[],o=e.getRows(a);for(let l=0;l<o;l++)a.getChild(l).isEmpty&&i.push(l);if(i.length>0){const l=i[i.length-1];return e.removeRows(a,{at:l}),!0}return!1}function __(a,e){b_(a,e)||w_(a,e)}function nD(a,e){const i=Array.from(new it(a,{startColumn:e.firstColumn,endColumn:e.lastColumn,row:e.lastRow}));if(i.every(({cellHeight:l})=>l===1))return e.lastRow;const o=i[0].cellHeight-1;return e.lastRow+o}function iD(a,e){const i=Array.from(new it(a,{startRow:e.firstRow,endRow:e.lastRow,column:e.lastColumn}));if(i.every(({cellWidth:l})=>l===1))return e.lastColumn;const o=i[0].cellWidth-1;return e.lastColumn+o}class Tp extends Be{constructor(e,i){super(e),this.direction=i.direction,this.isHorizontal=this.direction=="right"||this.direction=="left"}refresh(){const e=this._getMergeableCell();this.value=e,this.isEnabled=!!e}execute(){const e=this.editor.model,i=e.document,o=this.editor.plugins.get("TableUtils").getTableCellsContainingSelection(i.selection)[0],l=this.value,c=this.direction;e.change(d=>{const f=c=="right"||c=="down",g=f?o:l,k=f?l:o,w=k.parent;(function(S,B,V){rD(S)||(rD(B)&&V.remove(V.createRangeIn(B)),V.move(V.createRangeIn(S),V.createPositionAt(B,"end"))),V.remove(S)})(k,g,d);const _=this.isHorizontal?"colspan":"rowspan",y=parseInt(o.getAttribute(_)||"1"),I=parseInt(l.getAttribute(_)||"1");d.setAttribute(_,y+I,g),d.setSelection(d.createRangeIn(g));const T=this.editor.plugins.get("TableUtils");__(w.findAncestor("table"),T)})}_getMergeableCell(){const e=this.editor.model.document,i=this.editor.plugins.get("TableUtils"),o=i.getTableCellsContainingSelection(e.selection)[0];if(!o)return;const l=this.isHorizontal?function(f,g,k){const w=f.parent,_=w.parent,y=g=="right"?f.nextSibling:f.previousSibling,I=(_.getAttribute("headingColumns")||0)>0;if(!y)return;const T=g=="right"?f:y,S=g=="right"?y:f,{column:B}=k.getCellLocation(T),{column:V}=k.getCellLocation(S),H=parseInt(T.getAttribute("colspan")||"1"),Q=k_(k,T),le=k_(k,S);if(!(I&&Q!=le))return B+H===V?y:void 0}(o,this.direction,i):function(f,g,k){const w=f.parent,_=w.parent,y=_.getChildIndex(w);if(g=="down"&&y===k.getRows(_)-1||g=="up"&&y===0)return null;const I=parseInt(f.getAttribute("rowspan")||"1"),T=_.getAttribute("headingRows")||0,S=g=="down"&&y+I===T,B=g=="up"&&y===T;if(T&&(S||B))return null;const V=parseInt(f.getAttribute("rowspan")||"1"),H=g=="down"?y+V:y,Q=[...new it(_,{endRow:H})],le=Q.find(je=>je.cell===f),_e=le.column,rt=Q.find(({row:je,cellHeight:Qt,column:Ht})=>Ht===_e&&(g=="down"?je===H:H===je+Qt));return rt&&rt.cell?rt.cell:null}(o,this.direction,i);if(!l)return;const c=this.isHorizontal?"rowspan":"colspan",d=parseInt(o.getAttribute(c)||"1");return parseInt(l.getAttribute(c)||"1")===d?l:void 0}}function rD(a){const e=a.getChild(0);return a.childCount==1&&e.is("element","paragraph")&&e.isEmpty}class q8 extends Be{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=i[0];if(o){const l=o.findAncestor("table"),c=e.getRows(l)-1,d=e.getRowIndexes(i),f=d.first===0&&d.last===c;this.isEnabled=!f}else this.isEnabled=!1}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),l=i.getRowIndexes(o),c=o[0],d=c.findAncestor("table"),f=i.getCellLocation(c).column;e.change(g=>{const k=l.last-l.first+1;i.removeRows(d,{at:l.first,rows:k});const w=function(_,y,I,T){const S=_.getChild(Math.min(y,T-1));let B=S.getChild(0),V=0;for(const H of S.getChildren()){if(V>I)return B;B=H,V+=parseInt(H.getAttribute("colspan")||"1")}return B}(d,l.first,f,i.getRows(d));g.setSelection(g.createPositionAt(w,0))})}}class $8 extends Be{refresh(){const e=this.editor.plugins.get("TableUtils"),i=e.getSelectionAffectedTableCells(this.editor.model.document.selection),o=i[0];if(o){const l=o.findAncestor("table"),c=e.getColumns(l),{first:d,last:f}=e.getColumnIndexes(i);this.isEnabled=f-d<c-1}else this.isEnabled=!1}execute(){const e=this.editor.plugins.get("TableUtils"),[i,o]=function(g,k){const w=k.getSelectionAffectedTableCells(g),_=w[0],y=w.pop(),I=[_,y];return _.isBefore(y)?I:I.reverse()}(this.editor.model.document.selection,e),l=i.parent.parent,c=[...new it(l)],d={first:c.find(g=>g.cell===i).column,last:c.find(g=>g.cell===o).column},f=function(g,k,w,_){return parseInt(w.getAttribute("colspan")||"1")>1?w:k.previousSibling||w.nextSibling?w.nextSibling||k.previousSibling:_.first?g.reverse().find(({column:I})=>I<_.first).cell:g.reverse().find(({column:I})=>I>_.last).cell}(c,i,o,d);this.editor.model.change(g=>{const k=d.last-d.first+1;e.removeColumns(l,{at:d.first,columns:k}),g.setSelection(g.createPositionAt(f,0))})}}class G8 extends Be{refresh(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),l=o.length>0;this.isEnabled=l,this.value=l&&o.every(c=>this._isInHeading(c,c.parent.parent))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,l=i.getSelectionAffectedTableCells(o.document.selection),c=l[0].findAncestor("table"),{first:d,last:f}=i.getRowIndexes(l),g=this.value?d:f+1,k=c.getAttribute("headingRows")||0;o.change(w=>{if(g){const _=ZS(c,g,g>k?k:0);for(const{cell:y}of _)JS(y,g,w)}Mt("headingRows",g,c,w,0)})}_isInHeading(e,i){const o=parseInt(i.getAttribute("headingRows")||"0");return!!o&&e.parent.index<o}}class K8 extends Be{refresh(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),l=o.length>0;this.isEnabled=l,this.value=l&&o.every(c=>k_(i,c))}execute(e={}){if(e.forceValue===this.value)return;const i=this.editor.plugins.get("TableUtils"),o=this.editor.model,l=i.getSelectionAffectedTableCells(o.document.selection),c=l[0].findAncestor("table"),{first:d,last:f}=i.getColumnIndexes(l),g=this.value?d:f+1;o.change(k=>{if(g){const w=XS(c,g);for(const{cell:_,column:y}of w)eD(_,y,g,k)}Mt("headingColumns",g,c,k,0)})}}class yn extends ie{static get pluginName(){return"TableUtils"}init(){this.decorate("insertColumns"),this.decorate("insertRows")}getCellLocation(e){const i=e.parent,o=i.parent,l=o.getChildIndex(i),c=new it(o,{row:l});for(const{cell:d,row:f,column:g}of c)if(d===e)return{row:f,column:g}}createTable(e,i){const o=e.createElement("table"),l=i.rows||2,c=i.columns||2;return A_(e,o,0,l,c),i.headingRows&&Mt("headingRows",Math.min(i.headingRows,l),o,e,0),i.headingColumns&&Mt("headingColumns",Math.min(i.headingColumns,c),o,e,0),o}insertRows(e,i={}){const o=this.editor.model,l=i.at||0,c=i.rows||1,d=i.copyStructureFromAbove!==void 0,f=i.copyStructureFromAbove?l-1:l,g=this.getRows(e),k=this.getColumns(e);if(l>g)throw new j("tableutils-insertrows-insert-out-of-range",this,{options:i});o.change(w=>{const _=e.getAttribute("headingRows")||0;if(_>l&&Mt("headingRows",_+c,e,w,0),!d&&(l===0||l===g))return void A_(w,e,l,c,k);const y=d?Math.max(l,f):l,I=new it(e,{endRow:y}),T=new Array(k).fill(1);for(const{row:S,column:B,cellHeight:V,cellWidth:H,cell:Q}of I){const le=S+V-1,_e=S<=f&&f<=le;S<l&&l<=le?(w.setAttribute("rowspan",V+c,Q),T[B]=-H):d&&_e&&(T[B]=H)}for(let S=0;S<c;S++){const B=w.createElement("tableRow");w.insert(B,e,l);for(let V=0;V<T.length;V++){const H=T[V],Q=w.createPositionAt(B,"end");H>0&&aa(w,Q,H>1?{colspan:H}:void 0),V+=Math.abs(H)-1}}})}insertColumns(e,i={}){const o=this.editor.model,l=i.at||0,c=i.columns||1;o.change(d=>{const f=e.getAttribute("headingColumns");l<f&&d.setAttribute("headingColumns",f+c,e);const g=this.getColumns(e);if(l===0||g===l){for(const w of e.getChildren())w.is("element","tableRow")&&Il(c,d,d.createPositionAt(w,l?"end":0));return}const k=new it(e,{column:l,includeAllSlots:!0});for(const w of k){const{row:_,cell:y,cellAnchorColumn:I,cellAnchorRow:T,cellWidth:S,cellHeight:B}=w;if(I<l){d.setAttribute("colspan",S+c,y);const V=T+B-1;for(let H=_;H<=V;H++)k.skipRow(H)}else Il(c,d,w.getPositionBefore())}})}removeRows(e,i){const o=this.editor.model,l=i.rows||1,c=this.getRows(e),d=i.at,f=d+l-1;if(f>c-1)throw new j("tableutils-removerows-row-index-out-of-range",this,{table:e,options:i});o.change(g=>{const k={first:d,last:f},{cellsToMove:w,cellsToTrim:_}=function(y,{first:I,last:T}){const S=new Map,B=[];for(const{row:V,column:H,cellHeight:Q,cell:le}of new it(y,{endRow:T})){const _e=V+Q-1;if(V>=I&&V<=T&&_e>T){const rt=Q-(T-V+1);S.set(H,{cell:le,rowspan:rt})}if(V<I&&_e>=I){let rt;rt=_e>=T?T-I+1:_e-I+1,B.push({cell:le,rowspan:Q-rt})}}return{cellsToMove:S,cellsToTrim:B}}(e,k);w.size&&function(y,I,T,S){const B=new it(y,{includeAllSlots:!0,row:I}),V=[...B],H=y.getChild(I);let Q;for(const{column:le,cell:_e,isAnchor:rt}of V)if(T.has(le)){const{cell:je,rowspan:Qt}=T.get(le),Ht=Q?S.createPositionAfter(Q):S.createPositionAt(H,0);S.move(S.createRangeOn(je),Ht),Mt("rowspan",Qt,je,S),Q=je}else rt&&(Q=_e)}(e,f+1,w,g);for(let y=f;y>=d;y--)g.remove(e.getChild(y));for(const{rowspan:y,cell:I}of _)Mt("rowspan",y,I,g);(function(y,{first:I,last:T},S){const B=y.getAttribute("headingRows")||0;I<B&&Mt("headingRows",T<B?B-(T-I+1):I,y,S,0)})(e,k,g),b_(e,this)||w_(e,this)})}removeColumns(e,i){const o=this.editor.model,l=i.at,c=i.columns||1,d=i.at+c-1;o.change(f=>{(function(g,k,w){const _=g.getAttribute("headingColumns")||0;if(_&&k.first<_){const y=Math.min(_-1,k.last)-k.first+1;w.setAttribute("headingColumns",_-y,g)}})(e,{first:l,last:d},f);for(let g=d;g>=l;g--)for(const{cell:k,column:w,cellWidth:_}of[...new it(e)])w<=g&&_>1&&w+_>g?Mt("colspan",_-1,k,f):w===g&&f.remove(k);w_(e,this)||b_(e,this)})}splitCellVertically(e,i=2){const o=this.editor.model,l=e.parent.parent,c=parseInt(e.getAttribute("rowspan")||"1"),d=parseInt(e.getAttribute("colspan")||"1");o.change(f=>{if(d>1){const{newCellsSpan:g,updatedSpan:k}=oD(d,i);Mt("colspan",k,e,f);const w={};g>1&&(w.colspan=g),c>1&&(w.rowspan=c),Il(d>i?i-1:d-1,f,f.createPositionAfter(e),w)}if(d<i){const g=i-d,k=[...new it(l)],{column:w}=k.find(({cell:T})=>T===e),_=k.filter(({cell:T,cellWidth:S,column:B})=>T!==e&&B===w||B<w&&B+S>w);for(const{cell:T,cellWidth:S}of _)f.setAttribute("colspan",S+g,T);const y={};c>1&&(y.rowspan=c),Il(g,f,f.createPositionAfter(e),y);const I=l.getAttribute("headingColumns")||0;I>w&&Mt("headingColumns",I+g,l,f)}})}splitCellHorizontally(e,i=2){const o=this.editor.model,l=e.parent,c=l.parent,d=c.getChildIndex(l),f=parseInt(e.getAttribute("rowspan")||"1"),g=parseInt(e.getAttribute("colspan")||"1");o.change(k=>{if(f>1){const w=[...new it(c,{startRow:d,endRow:d+f-1,includeAllSlots:!0})],{newCellsSpan:_,updatedSpan:y}=oD(f,i);Mt("rowspan",y,e,k);const{column:I}=w.find(({cell:S})=>S===e),T={};_>1&&(T.rowspan=_),g>1&&(T.colspan=g);for(const S of w){const{column:B,row:V}=S;V>=d+y&&B===I&&(V+d+y)%_==0&&Il(1,k,S.getPositionBefore(),T)}}if(f<i){const w=i-f,_=[...new it(c,{startRow:0,endRow:d})];for(const{cell:T,cellHeight:S,row:B}of _)if(T!==e&&B+S>d){const V=S+w;k.setAttribute("rowspan",V,T)}const y={};g>1&&(y.colspan=g),A_(k,c,d+1,w,1,y);const I=c.getAttribute("headingRows")||0;I>d&&Mt("headingRows",I+w,c,k)}})}getColumns(e){return[...e.getChild(0).getChildren()].reduce((i,o)=>i+parseInt(o.getAttribute("colspan")||"1"),0)}getRows(e){return Array.from(e.getChildren()).reduce((i,o)=>o.is("element","tableRow")?i+1:i,0)}createTableWalker(e,i={}){return new it(e,i)}getSelectedTableCells(e){const i=[];for(const o of this.sortRanges(e.getRanges())){const l=o.getContainedElement();l&&l.is("element","tableCell")&&i.push(l)}return i}getTableCellsContainingSelection(e){const i=[];for(const o of e.getRanges()){const l=o.start.findAncestor("tableCell");l&&i.push(l)}return i}getSelectionAffectedTableCells(e){const i=this.getSelectedTableCells(e);return i.length?i:this.getTableCellsContainingSelection(e)}getRowIndexes(e){const i=e.map(o=>o.parent.index);return this._getFirstLastIndexesObject(i)}getColumnIndexes(e){const i=e[0].findAncestor("table"),o=[...new it(i)].filter(l=>e.includes(l.cell)).map(l=>l.column);return this._getFirstLastIndexesObject(o)}isSelectionRectangular(e){if(e.length<2||!this._areCellInTheSameTableSection(e))return!1;const i=new Set,o=new Set;let l=0;for(const d of e){const{row:f,column:g}=this.getCellLocation(d),k=parseInt(d.getAttribute("rowspan"))||1,w=parseInt(d.getAttribute("colspan"))||1;i.add(f),o.add(g),k>1&&i.add(f+k-1),w>1&&o.add(g+w-1),l+=k*w}return function(d,f){const g=Array.from(d.values()),k=Array.from(f.values()),w=Math.max(...g),_=Math.min(...g),y=Math.max(...k),I=Math.min(...k);return(w-_+1)*(y-I+1)}(i,o)==l}sortRanges(e){return Array.from(e).sort(Q8)}_getFirstLastIndexesObject(e){const i=e.sort((o,l)=>o-l);return{first:i[0],last:i[i.length-1]}}_areCellInTheSameTableSection(e){const i=e[0].findAncestor("table"),o=this.getRowIndexes(e),l=parseInt(i.getAttribute("headingRows"))||0;if(!this._areIndexesInSameSection(o,l))return!1;const c=this.getColumnIndexes(e),d=parseInt(i.getAttribute("headingColumns"))||0;return this._areIndexesInSameSection(c,d)}_areIndexesInSameSection({first:e,last:i},o){return e<o==i<o}}function A_(a,e,i,o,l,c={}){for(let d=0;d<o;d++){const f=a.createElement("tableRow");a.insert(f,e,i),Il(l,a,a.createPositionAt(f,"end"),c)}}function Il(a,e,i,o={}){for(let l=0;l<a;l++)aa(e,i,o)}function oD(a,e){if(a<e)return{newCellsSpan:1,updatedSpan:1};const i=Math.floor(a/e);return{newCellsSpan:i,updatedSpan:a-i*e+i}}function Q8(a,e){const i=a.start,o=e.start;return i.isBefore(o)?-1:1}class Y8 extends Be{refresh(){const e=this.editor.plugins.get(yn),i=e.getSelectedTableCells(this.editor.model.document.selection);this.isEnabled=e.isSelectionRectangular(i)}execute(){const e=this.editor.model,i=this.editor.plugins.get(yn);e.change(o=>{const l=i.getSelectedTableCells(e.document.selection),c=l.shift(),{mergeWidth:d,mergeHeight:f}=function(g,k,w){let _=0,y=0;for(const V of k){const{row:H,column:Q}=w.getCellLocation(V);_=aD(V,Q,_,"colspan"),y=aD(V,H,y,"rowspan")}const{row:I,column:T}=w.getCellLocation(g),S=_-T,B=y-I;return{mergeWidth:S,mergeHeight:B}}(c,l,i);Mt("colspan",d,c,o),Mt("rowspan",f,c,o);for(const g of l)Z8(g,c,o);__(c.findAncestor("table"),i),o.setSelection(c,"in")})}}function Z8(a,e,i){sD(a)||(sD(e)&&i.remove(i.createRangeIn(e)),i.move(i.createRangeIn(a),i.createPositionAt(e,"end"))),i.remove(a)}function sD(a){const e=a.getChild(0);return a.childCount==1&&e.is("element","paragraph")&&e.isEmpty}function aD(a,e,i,o){const l=parseInt(a.getAttribute(o)||"1");return Math.max(i,e+l)}class J8 extends Be{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.model,i=this.editor.plugins.get("TableUtils"),o=i.getSelectionAffectedTableCells(e.document.selection),l=i.getRowIndexes(o),c=o[0].findAncestor("table"),d=[];for(let f=l.first;f<=l.last;f++)for(const g of c.getChild(f).getChildren())d.push(e.createRangeOn(g));e.change(f=>{f.setSelection(d)})}}class X8 extends Be{constructor(e){super(e),this.affectsData=!1}refresh(){const e=this.editor.plugins.get("TableUtils").getSelectionAffectedTableCells(this.editor.model.document.selection);this.isEnabled=e.length>0}execute(){const e=this.editor.plugins.get("TableUtils"),i=this.editor.model,o=e.getSelectionAffectedTableCells(i.document.selection),l=o[0],c=o.pop(),d=l.findAncestor("table"),f=e.getCellLocation(l),g=e.getCellLocation(c),k=Math.min(f.column,g.column),w=Math.max(f.column,g.column),_=[];for(const y of new it(d,{startColumn:k,endColumn:w}))_.push(i.createRangeOn(y.cell));i.change(y=>{y.setSelection(_)})}}function eU(a){a.document.registerPostFixer(e=>function(i,o){const l=o.document.differ.getChanges();let c=!1;const d=new Set;for(const f of l){let g=null;f.type=="insert"&&f.name=="table"&&(g=f.position.nodeAfter),f.type!="insert"&&f.type!="remove"||f.name!="tableRow"&&f.name!="tableCell"||(g=f.position.findAncestor("table")),iU(f)&&(g=f.range.start.findAncestor("table")),g&&!d.has(g)&&(c=tU(g,i)||c,c=nU(g,i)||c,d.add(g))}return c}(e,a))}function tU(a,e){let i=!1;const o=function(l){const c=parseInt(l.getAttribute("headingRows")||"0"),d=Array.from(l.getChildren()).reduce((g,k)=>k.is("element","tableRow")?g+1:g,0),f=[];for(const{row:g,cell:k,cellHeight:w}of new it(l)){if(w<2)continue;const _=g<c?c:d;if(g+w>_){const y=_-g;f.push({cell:k,rowspan:y})}}return f}(a);if(o.length){i=!0;for(const l of o)Mt("rowspan",l.rowspan,l.cell,e,1)}return i}function nU(a,e){let i=!1;const o=function(f){const g=new Array(f.childCount).fill(0);for(const{rowIndex:k}of new it(f,{includeAllSlots:!0}))g[k]++;return g}(a),l=[];for(const[f,g]of o.entries())!g&&a.getChild(f).is("element","tableRow")&&l.push(f);if(l.length){i=!0;for(const f of l.reverse())e.remove(a.getChild(f)),o.splice(f,1)}const c=o.filter((f,g)=>a.getChild(g).is("element","tableRow")),d=c[0];if(!c.every(f=>f===d)){const f=c.reduce((g,k)=>k>g?k:g,0);for(const[g,k]of c.entries()){const w=f-k;if(w){for(let _=0;_<w;_++)aa(e,e.createPositionAt(a.getChild(g),"end"));i=!0}}}return i}function iU(a){if(a.type!=="attribute")return!1;const e=a.attributeKey;return e==="headingRows"||e==="colspan"||e==="rowspan"}function rU(a){a.document.registerPostFixer(e=>function(i,o){const l=o.document.differ.getChanges();let c=!1;for(const d of l)d.type=="insert"&&d.name=="table"&&(c=oU(d.position.nodeAfter,i)||c),d.type=="insert"&&d.name=="tableRow"&&(c=lD(d.position.nodeAfter,i)||c),d.type=="insert"&&d.name=="tableCell"&&(c=v_(d.position.nodeAfter,i)||c),d.type!="remove"&&d.type!="insert"||!sU(d)||(c=v_(d.position.parent,i)||c);return c}(e,a))}function oU(a,e){let i=!1;for(const o of a.getChildren())o.is("element","tableRow")&&(i=lD(o,e)||i);return i}function lD(a,e){let i=!1;for(const o of a.getChildren())i=v_(o,e)||i;return i}function v_(a,e){if(a.childCount==0)return e.insertElement("paragraph",a),!0;const i=Array.from(a.getChildren()).filter(o=>o.is("$text"));for(const o of i)e.wrap(e.createRangeOn(o),"paragraph");return!!i.length}function sU(a){return!!a.position.parent.is("element","tableCell")&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function aU(a,e){if(!a.is("element","paragraph"))return!1;const i=e.toViewElement(a);return!!i&&$S(a)!==i.is("element","span")}var cD=u(3881),lU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(cD.Z,lU),cD.Z.locals;class cU extends ie{constructor(e){super(e),this._additionalSlots=[]}static get pluginName(){return"TableEditing"}static get requires(){return[yn]}init(){const e=this.editor,i=e.model,o=i.schema,l=e.conversion,c=e.plugins.get(yn);o.register("table",{inheritAllFrom:"$blockObject",allowAttributes:["headingRows","headingColumns"]}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowContentOf:"$container",allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isLimit:!0,isSelectable:!0}),l.for("upcast").add(d=>{d.on("element:figure",(f,g,k)=>{if(!k.consumable.test(g.viewItem,{name:!0,classes:"table"}))return;const w=function(y){for(const I of y.getChildren())if(I.is("element","table"))return I}(g.viewItem);if(!w||!k.consumable.test(w,{name:!0}))return;k.consumable.consume(g.viewItem,{name:!0,classes:"table"});const _=Ft(k.convertItem(w,g.modelCursor).modelRange.getItems());_?(k.convertChildren(g.viewItem,k.writer.createPositionAt(_,"end")),k.updateConversionResult(_,g)):k.consumable.revert(g.viewItem,{name:!0,classes:"table"})})}),l.for("upcast").add(F8()),l.for("editingDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:HS(c,{asWidget:!0,additionalSlots:this._additionalSlots})}),l.for("dataDowncast").elementToStructure({model:{name:"table",attributes:["headingRows"]},view:HS(c,{additionalSlots:this._additionalSlots})}),l.for("upcast").elementToElement({model:"tableRow",view:"tr"}),l.for("upcast").add(d=>{d.on("element:tr",(f,g)=>{g.viewItem.isEmpty&&g.modelCursor.index==0&&f.stop()},{priority:"high"})}),l.for("downcast").elementToElement({model:"tableRow",view:(d,{writer:f})=>d.isEmpty?f.createEmptyElement("tr"):f.createContainerElement("tr")}),l.for("upcast").elementToElement({model:"tableCell",view:"td"}),l.for("upcast").elementToElement({model:"tableCell",view:"th"}),l.for("upcast").add(US("td")),l.for("upcast").add(US("th")),l.for("editingDowncast").elementToElement({model:"tableCell",view:WS({asWidget:!0})}),l.for("dataDowncast").elementToElement({model:"tableCell",view:WS()}),l.for("editingDowncast").elementToElement({model:"paragraph",view:qS({asWidget:!0}),converterPriority:"high"}),l.for("dataDowncast").elementToElement({model:"paragraph",view:qS(),converterPriority:"high"}),l.for("downcast").attributeToAttribute({model:"colspan",view:"colspan"}),l.for("upcast").attributeToAttribute({model:{key:"colspan",value:uD("colspan")},view:"colspan"}),l.for("downcast").attributeToAttribute({model:"rowspan",view:"rowspan"}),l.for("upcast").attributeToAttribute({model:{key:"rowspan",value:uD("rowspan")},view:"rowspan"}),e.config.define("table.defaultHeadings.rows",0),e.config.define("table.defaultHeadings.columns",0),e.commands.add("insertTable",new W8(e)),e.commands.add("insertTableRowAbove",new GS(e,{order:"above"})),e.commands.add("insertTableRowBelow",new GS(e,{order:"below"})),e.commands.add("insertTableColumnLeft",new KS(e,{order:"left"})),e.commands.add("insertTableColumnRight",new KS(e,{order:"right"})),e.commands.add("removeTableRow",new q8(e)),e.commands.add("removeTableColumn",new $8(e)),e.commands.add("splitTableCellVertically",new QS(e,{direction:"vertically"})),e.commands.add("splitTableCellHorizontally",new QS(e,{direction:"horizontally"})),e.commands.add("mergeTableCells",new Y8(e)),e.commands.add("mergeTableCellRight",new Tp(e,{direction:"right"})),e.commands.add("mergeTableCellLeft",new Tp(e,{direction:"left"})),e.commands.add("mergeTableCellDown",new Tp(e,{direction:"down"})),e.commands.add("mergeTableCellUp",new Tp(e,{direction:"up"})),e.commands.add("setTableColumnHeader",new K8(e)),e.commands.add("setTableRowHeader",new G8(e)),e.commands.add("selectTableRow",new J8(e)),e.commands.add("selectTableColumn",new X8(e)),eU(i),rU(i),this.listenTo(i.document,"change:data",()=>{(function(d,f){const g=d.document.differ;for(const k of g.getChanges()){let w,_=!1;if(k.type=="attribute"){const S=k.range.start.nodeAfter;if(!S||!S.is("element","table")||k.attributeKey!="headingRows"&&k.attributeKey!="headingColumns")continue;w=S,_=k.attributeKey=="headingRows"}else k.name!="tableRow"&&k.name!="tableCell"||(w=k.position.findAncestor("table"),_=k.name=="tableRow");if(!w)continue;const y=w.getAttribute("headingRows")||0,I=w.getAttribute("headingColumns")||0,T=new it(w);for(const S of T){const B=S.row<y||S.column<I?"th":"td",V=f.mapper.toViewElement(S.cell);V&&V.is("element")&&V.name!=B&&f.reconvertItem(_?S.cell.parent:S.cell)}}})(i,e.editing),function(d,f){const g=d.document.differ,k=new Set;for(const w of g.getChanges()){const _=w.type=="attribute"?w.range.start.parent:w.position.parent;_.is("element","tableCell")&&k.add(_)}for(const w of k.values()){const _=Array.from(w.getChildren()).filter(y=>aU(y,f.mapper));for(const y of _)f.reconvertItem(y)}}(i,e.editing)})}registerAdditionalSlot(e){this._additionalSlots.push(e)}}function uD(a){return e=>{const i=parseInt(e.getAttribute(a));return Number.isNaN(i)||i<=0?null:i}}var dD=u(1613),uU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(dD.Z,uU),dD.Z.locals;class dU extends ze{constructor(e){super(e);const i=this.bindTemplate;this.items=this._createGridCollection(),this.keystrokes=new gr,this.focusTracker=new vi,this.set("rows",0),this.set("columns",0),this.bind("label").to(this,"columns",this,"rows",(o,l)=>`${l}  ${o}`),this.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:this.items},{tag:"div",attributes:{class:["ck","ck-insert-table-dropdown__label"],"aria-hidden":!0},children:[{text:i.to("label")}]}],on:{mousedown:i.to(o=>{o.preventDefault()}),click:i.to(()=>{this.fire("execute")})}}),this.on("boxover",(o,l)=>{const{row:c,column:d}=l.target.dataset;this.items.get(10*(parseInt(c,10)-1)+(parseInt(d,10)-1)).focus()}),this.focusTracker.on("change:focusedElement",(o,l,c)=>{if(!c)return;const{row:d,column:f}=c.dataset;this.set({rows:parseInt(d),columns:parseInt(f)})}),this.on("change:columns",()=>this._highlightGridBoxes()),this.on("change:rows",()=>this._highlightGridBoxes())}render(){super.render(),function({keystrokeHandler:e,focusTracker:i,gridItems:o,numberOfColumns:l,uiLanguageDirection:c}){const d=typeof l=="number"?()=>l:l;function f(w){return _=>{const y=o.find(S=>S.element===i.focusedElement),I=o.getIndex(y),T=w(I,o);o.get(T).focus(),_.stopPropagation(),_.preventDefault()}}function g(w,_){return w===_-1?0:w+1}function k(w,_){return w===0?_-1:w-1}e.set("arrowright",f((w,_)=>c==="rtl"?k(w,_.length):g(w,_.length))),e.set("arrowleft",f((w,_)=>c==="rtl"?g(w,_.length):k(w,_.length))),e.set("arrowup",f((w,_)=>{let y=w-d();return y<0&&(y=w+d()*Math.floor(_.length/d()),y>_.length-1&&(y-=d())),y})),e.set("arrowdown",f((w,_)=>{let y=w+d();return y>_.length-1&&(y=w%d()),y}))}({keystrokeHandler:this.keystrokes,focusTracker:this.focusTracker,gridItems:this.items,numberOfColumns:10,uiLanguageDirection:this.locale&&this.locale.uiLanguageDirection});for(const e of this.items)this.focusTracker.add(e.element);this.keystrokes.listenTo(this.element)}focus(){this.items.get(0).focus()}focusLast(){this.items.get(0).focus()}_highlightGridBoxes(){const e=this.rows,i=this.columns;this.items.map((o,l)=>{const c=Math.floor(l/10)<e&&l%10<i;o.set("isOn",c)})}_createGridButton(e,i,o,l){const c=new gt(e);return c.set({label:l,class:"ck-insert-table-dropdown-grid-box"}),c.extendTemplate({attributes:{"data-row":i,"data-column":o}}),c}_createGridCollection(){const e=[];for(let i=0;i<100;i++){const o=Math.floor(i/10),l=i%10,c=`${o+1}  ${l+1}`;e.push(this._createGridButton(this.locale,o+1,l+1,c))}return this.createCollection(e)}}class hU extends ie{static get pluginName(){return"TableUI"}init(){const e=this.editor,i=this.editor.t,o=e.locale.contentLanguageDirection==="ltr";e.ui.componentFactory.add("insertTable",l=>{const c=e.commands.get("insertTable"),d=Fo(l);let f;return d.bind("isEnabled").to(c),d.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:i("Insert table"),tooltip:!0}),d.on("change:isOpen",()=>{f||(f=new dU(l),d.panelView.children.add(f),f.delegate("execute").to(d),d.on("execute",()=>{e.execute("insertTable",{rows:f.rows,columns:f.columns}),e.editing.view.focus()}))}),d}),e.ui.componentFactory.add("tableColumn",l=>{const c=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:i("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:o?"insertTableColumnLeft":"insertTableColumnRight",label:i("Insert column left")}},{type:"button",model:{commandName:o?"insertTableColumnRight":"insertTableColumnLeft",label:i("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:i("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:i("Select column")}}];return this._prepareDropdown(i("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',c,l)}),e.ui.componentFactory.add("tableRow",l=>{const c=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:i("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:i("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:i("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:i("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:i("Select row")}}];return this._prepareDropdown(i("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',c,l)}),e.ui.componentFactory.add("mergeTableCells",l=>{const c=[{type:"button",model:{commandName:"mergeTableCellUp",label:i("Merge cell up")}},{type:"button",model:{commandName:o?"mergeTableCellRight":"mergeTableCellLeft",label:i("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:i("Merge cell down")}},{type:"button",model:{commandName:o?"mergeTableCellLeft":"mergeTableCellRight",label:i("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:i("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:i("Split cell horizontally")}}];return this._prepareMergeSplitButtonDropdown(i("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',c,l)})}_prepareDropdown(e,i,o,l){const c=this.editor,d=Fo(l),f=this._fillDropdownWithListOptions(d,o);return d.buttonView.set({label:e,icon:i,tooltip:!0}),d.bind("isEnabled").toMany(f,"isEnabled",(...g)=>g.some(k=>k)),this.listenTo(d,"execute",g=>{c.execute(g.source.commandName),g.source instanceof Hf||c.editing.view.focus()}),d}_prepareMergeSplitButtonDropdown(e,i,o,l){const c=this.editor,d=Fo(l,Sw),f="mergeTableCells",g=c.commands.get(f),k=this._fillDropdownWithListOptions(d,o);return d.buttonView.set({label:e,icon:i,tooltip:!0,isEnabled:!0}),d.bind("isEnabled").toMany([g,...k],"isEnabled",(...w)=>w.some(_=>_)),this.listenTo(d.buttonView,"execute",()=>{c.execute(f),c.editing.view.focus()}),this.listenTo(d,"execute",w=>{c.execute(w.source.commandName),c.editing.view.focus()}),d}_fillDropdownWithListOptions(e,i){const o=this.editor,l=[],c=new Li;for(const d of i)fU(d,o,l,c);return Qx(e,c),l}}function fU(a,e,i,o){if(a.type==="button"||a.type==="switchbutton"){const l=a.model=new xI(a.model),{commandName:c,bindIsOn:d}=a.model,f=e.commands.get(c);i.push(f),l.set({commandName:c}),l.bind("isEnabled").to(f),d&&l.bind("isOn").to(f,"value"),l.set({withText:!0})}o.add(a)}var hD=u(6945),pU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(hD.Z,pU),hD.Z.locals;class la extends ie{static get pluginName(){return"TableSelection"}static get requires(){return[yn,yn]}init(){const e=this.editor,i=e.model,o=e.editing.view;this.listenTo(i,"deleteContent",(l,c)=>this._handleDeleteContent(l,c),{priority:"high"}),this.listenTo(o.document,"insertText",(l,c)=>this._handleInsertTextEvent(l,c),{priority:"high"}),this._defineSelectionConverter(),this._enablePluginDisabling()}getSelectedTableCells(){const e=this.editor.plugins.get(yn),i=this.editor.model.document.selection,o=e.getSelectedTableCells(i);return o.length==0?null:o}getSelectionAsFragment(){const e=this.editor.plugins.get(yn),i=this.getSelectedTableCells();return i?this.editor.model.change(o=>{const l=o.createDocumentFragment(),{first:c,last:d}=e.getColumnIndexes(i),{first:f,last:g}=e.getRowIndexes(i),k=i[0].findAncestor("table");let w=g,_=d;if(e.isSelectionRectangular(i)){const I={firstColumn:c,lastColumn:d,firstRow:f,lastRow:g};w=nD(k,I),_=iD(k,I)}const y=YS(k,{startRow:f,startColumn:c,endRow:w,endColumn:_},o);return o.insert(y,l,0),l}):null}setCellSelection(e,i){const o=this._getCellsToSelect(e,i);this.editor.model.change(l=>{l.setSelection(o.cells.map(c=>l.createRangeOn(c)),{backward:o.backward})})}getFocusCell(){const e=[...this.editor.model.document.selection.getRanges()].pop().getContainedElement();return e&&e.is("element","tableCell")?e:null}getAnchorCell(){const e=Ft(this.editor.model.document.selection.getRanges()).getContainedElement();return e&&e.is("element","tableCell")?e:null}_defineSelectionConverter(){const e=this.editor,i=new Set;e.conversion.for("editingDowncast").add(o=>o.on("selection",(l,c,d)=>{const f=d.writer;(function(w){for(const _ of i)w.removeClass("ck-editor__editable_selected",_);i.clear()})(f);const g=this.getSelectedTableCells();if(!g)return;for(const w of g){const _=d.mapper.toViewElement(w);f.addClass("ck-editor__editable_selected",_),i.add(_)}const k=d.mapper.toViewElement(g[g.length-1]);f.setSelection(k,0)},{priority:"lowest"}))}_enablePluginDisabling(){const e=this.editor;this.on("change:isEnabled",()=>{if(!this.isEnabled){const i=this.getSelectedTableCells();if(!i)return;e.model.change(o=>{const l=o.createPositionAt(i[0],0),c=e.model.schema.getNearestSelectionRange(l);o.setSelection(c)})}})}_handleDeleteContent(e,i){const o=this.editor.plugins.get(yn),l=i[0],c=i[1],d=this.editor.model,f=!c||c.direction=="backward",g=o.getSelectedTableCells(l);g.length&&(e.stop(),d.change(k=>{const w=g[f?g.length-1:0];d.change(y=>{for(const I of g)d.deleteContent(y.createSelection(I,"in"))});const _=d.schema.getNearestSelectionRange(k.createPositionAt(w,0));l.is("documentSelection")?k.setSelection(_):l.setTo(_)}))}_handleInsertTextEvent(e,i){const o=this.editor,l=this.getSelectedTableCells();if(!l)return;const c=o.editing.view,d=o.editing.mapper,f=l.map(g=>c.createRangeOn(d.toViewElement(g)));i.selection=c.createSelection(f)}_getCellsToSelect(e,i){const o=this.editor.plugins.get("TableUtils"),l=o.getCellLocation(e),c=o.getCellLocation(i),d=Math.min(l.row,c.row),f=Math.max(l.row,c.row),g=Math.min(l.column,c.column),k=Math.max(l.column,c.column),w=new Array(f-d+1).fill(null).map(()=>[]),_={startRow:d,endRow:f,startColumn:g,endColumn:k};for(const{row:T,cell:S}of new it(e.findAncestor("table"),_))w[T-d].push(S);const y=c.row<l.row,I=c.column<l.column;return y&&w.reverse(),I&&w.forEach(T=>T.reverse()),{cells:w.flat(),backward:y||I}}}class gU extends ie{static get pluginName(){return"TableClipboard"}static get requires(){return[la,yn]}init(){const e=this.editor,i=e.editing.view.document;this.listenTo(i,"copy",(o,l)=>this._onCopyCut(o,l)),this.listenTo(i,"cut",(o,l)=>this._onCopyCut(o,l)),this.listenTo(e.model,"insertContent",(o,[l,c])=>this._onInsertContent(o,l,c),{priority:"high"}),this.decorate("_replaceTableSlotCell")}_onCopyCut(e,i){const o=this.editor.plugins.get(la);if(!o.getSelectedTableCells()||e.name=="cut"&&!this.editor.model.canEditAt(this.editor.model.document.selection))return;i.preventDefault(),e.stop();const l=this.editor.data,c=this.editor.editing.view.document,d=l.toView(o.getSelectionAsFragment());c.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:d,method:e.name})}_onInsertContent(e,i,o){if(o&&!o.is("documentSelection"))return;const l=this.editor.model,c=this.editor.plugins.get(yn);let d=this.getTableIfOnlyTableInContent(i,l);if(!d)return;const f=c.getSelectionAffectedTableCells(l.document.selection);f.length?(e.stop(),l.change(g=>{const k={width:c.getColumns(d),height:c.getRows(d)},w=function(B,V,H,Q){const le=B[0].findAncestor("table"),_e=Q.getColumnIndexes(B),rt=Q.getRowIndexes(B),je={firstColumn:_e.first,lastColumn:_e.last,firstRow:rt.first,lastRow:rt.last},Qt=B.length===1;return Qt&&(je.lastRow+=V.height-1,je.lastColumn+=V.width-1,function(Ht,Tl,Cr,Ei){const Zr=Ei.getColumns(Ht),Jr=Ei.getRows(Ht);Cr>Zr&&Ei.insertColumns(Ht,{at:Zr,columns:Cr-Zr}),Tl>Jr&&Ei.insertRows(Ht,{at:Jr,rows:Tl-Jr})}(le,je.lastRow+1,je.lastColumn+1,Q)),Qt||!Q.isSelectionRectangular(B)?function(Ht,Tl,Cr){const{firstRow:Ei,lastRow:Zr,firstColumn:Jr,lastColumn:ua}=Tl,DD={first:Ei,last:Zr},MD={first:Jr,last:ua};C_(Ht,Jr,DD,Cr),C_(Ht,ua+1,DD,Cr),y_(Ht,Ei,MD,Cr),y_(Ht,Zr+1,MD,Cr,Ei)}(le,je,H):(je.lastRow=nD(le,je),je.lastColumn=iD(le,je)),je}(f,k,g,c),_=w.lastRow-w.firstRow+1,y=w.lastColumn-w.firstColumn+1,I={startRow:0,startColumn:0,endRow:Math.min(_,k.height)-1,endColumn:Math.min(y,k.width)-1};d=YS(d,I,g);const T=f[0].findAncestor("table"),S=this._replaceSelectedCellsWithPasted(d,k,T,w,g);if(this.editor.plugins.get("TableSelection").isEnabled){const B=c.sortRanges(S.map(V=>g.createRangeOn(V)));g.setSelection(B)}else g.setSelection(S[0],0)})):__(d,c)}_replaceSelectedCellsWithPasted(e,i,o,l,c){const{width:d,height:f}=i,g=function(B,V,H){const Q=new Array(H).fill(null).map(()=>new Array(V).fill(null));for(const{column:le,row:_e,cell:rt}of new it(B))Q[_e][le]=rt;return Q}(e,d,f),k=[...new it(o,{startRow:l.firstRow,endRow:l.lastRow,startColumn:l.firstColumn,endColumn:l.lastColumn,includeAllSlots:!0})],w=[];let _;for(const B of k){const{row:V,column:H}=B;H===l.firstColumn&&(_=B.getPositionBefore());const Q=V-l.firstRow,le=H-l.firstColumn,_e=g[Q%f][le%d],rt=_e?c.cloneElement(_e):null,je=this._replaceTableSlotCell(B,rt,_,c);je&&(tD(je,V,H,l.lastRow,l.lastColumn,c),w.push(je),_=c.createPositionAfter(je))}const y=parseInt(o.getAttribute("headingRows")||"0"),I=parseInt(o.getAttribute("headingColumns")||"0"),T=l.firstRow<y&&y<=l.lastRow,S=l.firstColumn<I&&I<=l.lastColumn;if(T){const B=y_(o,y,{first:l.firstColumn,last:l.lastColumn},c,l.firstRow);w.push(...B)}if(S){const B=C_(o,I,{first:l.firstRow,last:l.lastRow},c);w.push(...B)}return w}_replaceTableSlotCell(e,i,o,l){const{cell:c,isAnchor:d}=e;return d&&l.remove(c),i?(l.insert(i,o),i):null}getTableIfOnlyTableInContent(e,i){if(!e.is("documentFragment")&&!e.is("element"))return null;if(e.is("element","table"))return e;if(e.childCount==1&&e.getChild(0).is("element","table"))return e.getChild(0);const o=i.createRangeIn(e);for(const l of o.getItems())if(l.is("element","table")){const c=i.createRange(o.start,i.createPositionBefore(l));if(i.hasContent(c,{ignoreWhitespaces:!0}))return null;const d=i.createRange(i.createPositionAfter(l),o.end);return i.hasContent(d,{ignoreWhitespaces:!0})?null:l}return null}}function y_(a,e,i,o,l=0){if(!(e<1))return ZS(a,e,l).filter(({column:c,cellWidth:d})=>fD(c,d,i)).map(({cell:c})=>JS(c,e,o))}function C_(a,e,i,o){if(!(e<1))return XS(a,e).filter(({row:l,cellHeight:c})=>fD(l,c,i)).map(({cell:l,column:c})=>eD(l,c,e,o))}function fD(a,e,i){const o=a+e-1,{first:l,last:c}=i;return a>=l&&a<=c||a<l&&o>=l}class mU extends ie{static get pluginName(){return"TableKeyboard"}static get requires(){return[la,yn]}init(){const e=this.editor.editing.view.document;this.listenTo(e,"arrowKey",(...i)=>this._onArrowKey(...i),{context:"table"}),this.listenTo(e,"tab",(...i)=>this._handleTabOnSelectedTable(...i),{context:"figure"}),this.listenTo(e,"tab",(...i)=>this._handleTab(...i),{context:["th","td"]})}_handleTabOnSelectedTable(e,i){const o=this.editor,l=o.model.document.selection.getSelectedElement();l&&l.is("element","table")&&(i.preventDefault(),i.stopPropagation(),e.stop(),o.model.change(c=>{c.setSelection(c.createRangeIn(l.getChild(0).getChild(0)))}))}_handleTab(e,i){const o=this.editor,l=this.editor.plugins.get(yn),c=this.editor.plugins.get("TableSelection"),d=o.model.document.selection,f=!i.shiftKey;let g=l.getTableCellsContainingSelection(d)[0];if(g||(g=c.getFocusCell()),!g)return;i.preventDefault(),i.stopPropagation(),e.stop();const k=g.parent,w=k.parent,_=w.getChildIndex(k),y=k.getChildIndex(g),I=y===0;if(!f&&I&&_===0)return void o.model.change(V=>{V.setSelection(V.createRangeOn(w))});const T=y===k.childCount-1,S=_===l.getRows(w)-1;if(f&&S&&T&&(o.execute("insertTableRowBelow"),_===l.getRows(w)-1))return void o.model.change(V=>{V.setSelection(V.createRangeOn(w))});let B;if(f&&T)B=w.getChild(_+1).getChild(0);else if(!f&&I){const V=w.getChild(_-1);B=V.getChild(V.childCount-1)}else B=k.getChild(y+(f?1:-1));o.model.change(V=>{V.setSelection(V.createRangeIn(B))})}_onArrowKey(e,i){const o=this.editor,l=Lb(i.keyCode,o.locale.contentLanguageDirection);this._handleArrowKeys(l,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),e.stop())}_handleArrowKeys(e,i){const o=this.editor.plugins.get(yn),l=this.editor.plugins.get("TableSelection"),c=this.editor.model,d=c.document.selection,f=["right","down"].includes(e),g=o.getSelectedTableCells(d);if(g.length){let w;return w=i?l.getFocusCell():f?g[g.length-1]:g[0],this._navigateFromCellInDirection(w,e,i),!0}const k=d.focus.findAncestor("tableCell");if(!k)return!1;if(!d.isCollapsed)if(i){if(d.isBackward==f&&!d.containsEntireContent(k))return!1}else{const w=d.getSelectedElement();if(!w||!c.schema.isObject(w))return!1}return!!this._isSelectionAtCellEdge(d,k,f)&&(this._navigateFromCellInDirection(k,e,i),!0)}_isSelectionAtCellEdge(e,i,o){const l=this.editor.model,c=this.editor.model.schema,d=o?e.getLastPosition():e.getFirstPosition();if(!c.getLimitElement(d).is("element","tableCell"))return l.createPositionAt(i,o?"end":0).isTouching(d);const f=l.createSelection(d);return l.modifySelection(f,{direction:o?"forward":"backward"}),d.isEqual(f.focus)}_navigateFromCellInDirection(e,i,o=!1){const l=this.editor.model,c=e.findAncestor("table"),d=[...new it(c,{includeAllSlots:!0})],{row:f,column:g}=d[d.length-1],k=d.find(({cell:S})=>S==e);let{row:w,column:_}=k;switch(i){case"left":_--;break;case"up":w--;break;case"right":_+=k.cellWidth;break;case"down":w+=k.cellHeight}if(w<0||w>f||_<0&&w<=0||_>g&&w>=f)return void l.change(S=>{S.setSelection(S.createRangeOn(c))});_<0?(_=o?0:g,w--):_>g&&(_=o?g:0,w++);const y=d.find(S=>S.row==w&&S.column==_).cell,I=["right","down"].includes(i),T=this.editor.plugins.get("TableSelection");if(o&&T.isEnabled){const S=T.getAnchorCell()||e;T.setCellSelection(S,y)}else{const S=l.createPositionAt(y,I?0:"end");l.change(B=>{B.setSelection(S)})}}}class kU extends Lo{constructor(){super(...arguments),this.domEventType=["mousemove","mouseleave"]}onDomEvent(e){this.fire(e.type,e)}}class bU extends ie{static get pluginName(){return"TableMouse"}static get requires(){return[la,yn]}init(){this.editor.editing.view.addObserver(kU),this._enableShiftClickSelection(),this._enableMouseDragSelection()}_enableShiftClickSelection(){const e=this.editor,i=e.plugins.get(yn);let o=!1;const l=e.plugins.get(la);this.listenTo(e.editing.view.document,"mousedown",(c,d)=>{const f=e.model.document.selection;if(!this.isEnabled||!l.isEnabled||!d.domEvent.shiftKey)return;const g=l.getAnchorCell()||i.getTableCellsContainingSelection(f)[0];if(!g)return;const k=this._getModelTableCellFromDomEvent(d);k&&pD(g,k)&&(o=!0,l.setCellSelection(g,k),d.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{o=!1}),this.listenTo(e.editing.view.document,"selectionChange",c=>{o&&c.stop()},{priority:"highest"})}_enableMouseDragSelection(){const e=this.editor;let i,o,l=!1,c=!1;const d=e.plugins.get(la);this.listenTo(e.editing.view.document,"mousedown",(f,g)=>{this.isEnabled&&d.isEnabled&&(g.domEvent.shiftKey||g.domEvent.ctrlKey||g.domEvent.altKey||(i=this._getModelTableCellFromDomEvent(g)))}),this.listenTo(e.editing.view.document,"mousemove",(f,g)=>{if(!g.domEvent.buttons||!i)return;const k=this._getModelTableCellFromDomEvent(g);k&&pD(i,k)&&(o=k,l||o==i||(l=!0)),l&&(c=!0,d.setCellSelection(i,o),g.preventDefault())}),this.listenTo(e.editing.view.document,"mouseup",()=>{l=!1,c=!1,i=null,o=null}),this.listenTo(e.editing.view.document,"selectionChange",f=>{c&&f.stop()},{priority:"highest"})}_getModelTableCellFromDomEvent(e){const i=e.target,o=this.editor.editing.view.createPositionAt(i,0);return this.editor.editing.mapper.toModelPosition(o).parent.findAncestor("tableCell",{includeSelf:!0})}}function pD(a,e){return a.parent.parent==e.parent.parent}var gD=u(6306),wU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(gD.Z,wU),gD.Z.locals;function _U(a){const e=a.getSelectedElement();return e&&mD(e)?e:null}function AU(a){const e=a.getFirstPosition();if(!e)return null;let i=e.parent;for(;i;){if(i.is("element")&&mD(i))return i;i=i.parent}return null}function mD(a){return!!a.getCustomProperty("table")&&Et(a)}var kD=u(7368),vU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(kD.Z,vU),kD.Z.locals;var bD=u(9247),yU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(bD.Z,yU),bD.Z.locals;var wD=u(4070),CU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(wD.Z,CU),wD.Z.locals;var _D=u(6237),EU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(_D.Z,EU),_D.Z.locals;var AD=u(5087),xU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(AD.Z,xU),AD.Z.locals;const ca=Kn.defaultPositions;ca.northArrowSouth,ca.northArrowSouthWest,ca.northArrowSouthEast,ca.southArrowNorth,ca.southArrowNorthWest,ca.southArrowNorthEast,ca.viewportStickyNorth;var vD=u(7341),IU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(vD.Z,IU),vD.Z.locals;var yD=u(2128),TU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(yD.Z,TU),yD.Z.locals;var CD=u(4101),SU={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};de()(CD.Z,SU),CD.Z.locals;var DU=Object.defineProperty,ED=Object.getOwnPropertySymbols,MU=Object.prototype.hasOwnProperty,PU=Object.prototype.propertyIsEnumerable,xD=(a,e,i)=>e in a?DU(a,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):a[e]=i,ID=(a,e)=>{for(var i in e||(e={}))MU.call(e,i)&&xD(a,i,e[i]);if(ED)for(var i of ED(e))PU.call(e,i)&&xD(a,i,e[i]);return a};const NU={autoRefresh:!0},TD=36e5;class E_ extends Xe(){constructor(e,i={}){if(super(),!e)throw new j("token-missing-token-url",this);i.initValue&&this._validateTokenValue(i.initValue),this.set("value",i.initValue),this._refresh=typeof e=="function"?e:()=>{return o=e,new Promise((l,c)=>{const d=new XMLHttpRequest;d.open("GET",o),d.addEventListener("load",()=>{const f=d.status,g=d.response;return f<200||f>299?c(new j("token-cannot-download-new-token",null)):l(g)}),d.addEventListener("error",()=>c(new Error("Network Error"))),d.addEventListener("abort",()=>c(new Error("Abort"))),d.send()});var o},this._options=ID(ID({},NU),i)}init(){return new Promise((e,i)=>{this.value?(this._options.autoRefresh&&this._registerRefreshTokenTimeout(),e(this)):this.refreshToken().then(e).catch(i)})}refreshToken(){return this._refresh().then(e=>(this._validateTokenValue(e),this.set("value",e),this._options.autoRefresh&&this._registerRefreshTokenTimeout(),this))}destroy(){clearTimeout(this._tokenRefreshTimeout)}_validateTokenValue(e){const i=typeof e=="string",o=!/^".*"$/.test(e),l=i&&e.split(".").length===3;if(!o||!l)throw new j("token-not-in-jwt-format",this)}_registerRefreshTokenTimeout(){const e=this._getTokenRefreshTimeoutTime();clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=setTimeout(()=>{this.refreshToken()},e)}_getTokenRefreshTimeoutTime(){try{const[,e]=this.value.split("."),{exp:i}=JSON.parse(atob(e));return i?Math.floor((1e3*i-Date.now())/2):TD}catch{return TD}}static create(e,i={}){return new E_(e,i).init()}}const x_=/^data:(\S*?);base64,/;class RU extends ce(){constructor(e,i,o){if(super(),!e)throw new j("fileuploader-missing-file",null);if(!i)throw new j("fileuploader-missing-token",null);if(!o)throw new j("fileuploader-missing-api-address",null);this.file=function(l){if(typeof l!="string")return!1;const c=l.match(x_);return!(!c||!c.length)}(e)?function(l,c=512){try{const d=l.match(x_)[1],f=atob(l.replace(x_,"")),g=[];for(let k=0;k<f.length;k+=c){const w=f.slice(k,k+c),_=new Array(w.length);for(let y=0;y<w.length;y++)_[y]=w.charCodeAt(y);g.push(new Uint8Array(_))}return new Blob(g,{type:d})}catch{throw new j("fileuploader-decoding-image-data-error",null)}}(e):e,this._token=i,this._apiAddress=o}onProgress(e){return this.on("progress",(i,o)=>e(o)),this}onError(e){return this.once("error",(i,o)=>e(o)),this}abort(){this.xhr.abort()}send(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}_prepareRequest(){const e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}_attachXHRListeners(){const e=this.xhr,i=o=>()=>this.fire("error",o);e.addEventListener("error",i("Network Error")),e.addEventListener("abort",i("Abort")),e.upload&&e.upload.addEventListener("progress",o=>{o.lengthComputable&&this.fire("progress",{total:o.total,uploaded:o.loaded})}),e.addEventListener("load",()=>{const o=e.status,l=e.response;if(o<200||o>299)return this.fire("error",l.message||l.error)})}_sendRequest(){const e=new FormData,i=this.xhr;return e.append("file",this.file),new Promise((o,l)=>{i.addEventListener("load",()=>{const c=i.status,d=i.response;return c<200||c>299?d.message?l(new j("fileuploader-uploading-data-failed",this,{message:d.message})):l(d.error):o(d)}),i.addEventListener("error",()=>l(new Error("Network Error"))),i.addEventListener("abort",()=>l(new Error("Abort"))),i.send(e)})}}class OU{constructor(e,i){if(!e)throw new j("uploadgateway-missing-token",null);if(!i)throw new j("uploadgateway-missing-api-address",null);this._token=e,this._apiAddress=i}upload(e){return new RU(e,this._token,this._apiAddress)}}class BU extends Wf{static get pluginName(){return"CloudServicesCore"}createToken(e,i){return new E_(e,i)}createUploadGateway(e,i){return new OU(e,i)}}var SD=(a,e,i)=>new Promise((o,l)=>{var c=g=>{try{f(i.next(g))}catch(k){l(k)}},d=g=>{try{f(i.throw(g))}catch(k){l(k)}},f=g=>g.done?o(g.value):Promise.resolve(g.value).then(c,d);f((i=i.apply(a,e)).next())});class I_ extends gp{}I_.builtinPlugins=[class extends ie{static get requires(){return[vT,wp,R9,h9,n9,ST]}static get pluginName(){return"Essentials"}},class extends ie{static get requires(){return[Wi]}static get pluginName(){return"CKFinderUploadAdapter"}init(){const a=this.editor.config.get("ckfinder.uploadUrl");a&&(this.editor.plugins.get(Wi).createUploadAdapter=e=>new K9(e,a,this.editor.t))}},class extends ie{static get requires(){return[Qr]}static get pluginName(){return"Autoformat"}afterInit(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats(),this._addHorizontalLineAutoformats()}_addListAutoformats(){const a=this.editor.commands;a.get("bulletedList")&&Wo(this.editor,this,/^[*-]\s$/,"bulletedList"),a.get("numberedList")&&Wo(this.editor,this,/^1[.|)]\s$/,"numberedList"),a.get("todoList")&&Wo(this.editor,this,/^\[\s?\]\s$/,"todoList"),a.get("checkTodoList")&&Wo(this.editor,this,/^\[\s?x\s?\]\s$/,()=>{this.editor.execute("todoList"),this.editor.execute("checkTodoList")})}_addBasicStylesAutoformats(){const a=this.editor.commands;if(a.get("bold")){const e=vp(this.editor,"bold");yl(this.editor,this,/(?:^|\s)(\*\*)([^*]+)(\*\*)$/g,e),yl(this.editor,this,/(?:^|\s)(__)([^_]+)(__)$/g,e)}if(a.get("italic")){const e=vp(this.editor,"italic");yl(this.editor,this,/(?:^|\s)(\*)([^*_]+)(\*)$/g,e),yl(this.editor,this,/(?:^|\s)(_)([^_]+)(_)$/g,e)}if(a.get("code")){const e=vp(this.editor,"code");yl(this.editor,this,/(`)([^`]+)(`)$/g,e)}if(a.get("strikethrough")){const e=vp(this.editor,"strikethrough");yl(this.editor,this,/(~~)([^~]+)(~~)$/g,e)}}_addHeadingAutoformats(){const a=this.editor.commands.get("heading");a&&a.modelElements.filter(e=>e.match(/^heading[1-6]$/)).forEach(e=>{const i=e[7],o=new RegExp(`^(#{${i}})\\s$`);Wo(this.editor,this,o,()=>{if(!a.isEnabled||a.value===e)return!1;this.editor.execute("heading",{value:e})})})}_addBlockQuoteAutoformats(){this.editor.commands.get("blockQuote")&&Wo(this.editor,this,/^>\s$/,"blockQuote")}_addCodeBlockAutoformats(){const a=this.editor,e=a.model.document.selection;a.commands.get("codeBlock")&&Wo(a,this,/^```$/,()=>{if(e.getFirstPosition().parent.is("element","listItem"))return!1;this.editor.execute("codeBlock",{usePreviousLanguageChoice:!0})})}_addHorizontalLineAutoformats(){this.editor.commands.get("horizontalLine")&&Wo(this.editor,this,/^---$/,"horizontalLine")}},class extends ie{static get requires(){return[Q9,Y9]}static get pluginName(){return"Bold"}},class extends ie{static get requires(){return[J9,X9]}static get pluginName(){return"Italic"}},class extends ie{static get requires(){return[tF,iF]}static get pluginName(){return"BlockQuote"}},class extends ie{static get pluginName(){return"CKBox"}static get requires(){return[e_,rF]}},class extends ie{static get pluginName(){return"CKFinder"}static get requires(){return["Link","CKFinderUploadAdapter",gF,fF]}},class extends Wf{constructor(){super(...arguments),this.token=null,this._tokens=new Map}static get pluginName(){return"CloudServices"}static get requires(){return[BU]}init(){return SD(this,null,function*(){const a=this.context.config.get("cloudServices")||{};for(const[i,o]of Object.entries(a))this[i]=o;if(!this.tokenUrl)return void(this.token=null);const e=this.context.plugins.get("CloudServicesCore");this.token=yield e.createToken(this.tokenUrl).init(),this._tokens.set(this.tokenUrl,this.token)})}registerTokenUrl(a){return SD(this,null,function*(){if(this._tokens.has(a))return this.getTokenFor(a);const e=this.context.plugins.get("CloudServicesCore"),i=yield e.createToken(a).init();return this._tokens.set(a,i),i})}getTokenFor(a){const e=this._tokens.get(a);if(!e)throw new j("cloudservices-token-not-registered",this);return e}destroy(){super.destroy();for(const a of this._tokens.values())a.destroy()}},class extends ie{static get pluginName(){return"EasyImage"}static get requires(){return[mF,"ImageUpload"]}init(){const a=this.editor;a.plugins.has("ImageBlockEditing")||a.plugins.has("ImageInlineEditing")||q("easy-image-image-feature-missing",a)}},class extends ie{static get requires(){return[AF,yF]}static get pluginName(){return"Heading"}},class extends ie{static get requires(){return[VF,UF]}static get pluginName(){return"Image"}},class extends ie{static get requires(){return[WF,qF]}static get pluginName(){return"ImageCaption"}},class extends ie{static get requires(){return[L2,m7]}static get pluginName(){return"ImageStyle"}},class extends ie{static get requires(){return[Ap,qi]}static get pluginName(){return"ImageToolbar"}afterInit(){const a=this.editor,e=a.t,i=a.plugins.get(Ap),o=a.plugins.get("ImageUtils");var l;i.register("image",{ariaLabel:e("Image toolbar"),items:(l=a.config.get("image.toolbar")||[],l.map(c=>Ze(c)?c.name:c)),getRelatedElement:c=>o.getClosestSelectedImageWidget(c)})}},class extends ie{static get pluginName(){return"ImageUpload"}static get requires(){return[o7,KF,JF]}},class extends ie{static get pluginName(){return"Indent"}static get requires(){return[k7,b7]}},class extends ie{static get requires(){return[H7,K7,Y7]}static get pluginName(){return"Link"}},class extends ie{static get requires(){return[k8,r8]}static get pluginName(){return"List"}},class extends ie{static get requires(){return[Ip,x8,y8,zu]}static get pluginName(){return"MediaEmbed"}},t_,class extends ie{static get pluginName(){return"PasteFromOffice"}static get requires(){return[vr]}init(){const a=this.editor,e=a.plugins.get("ClipboardPipeline"),i=a.editing.view.document,o=[];o.push(new O8(i)),o.push(new L8(i)),o.push(new j8(i)),e.on("inputTransformation",(l,c)=>{if(c._isTransformedWithPasteFromOffice||a.model.document.selection.getFirstPosition().parent.is("element","codeBlock"))return;const d=c.dataTransfer.getData("text/html"),f=o.find(g=>g.isActive(d));f&&(c._parsedData||(c._parsedData=V8(d,i.stylesProcessor)),f.execute(c),c._isTransformedWithPasteFromOffice=!0)},{priority:"high"})}},class extends ie{static get requires(){return[i_,qi]}static get pluginName(){return"PictureEditing"}afterInit(){const a=this.editor;a.plugins.has("ImageBlockEditing")&&a.model.schema.extend("imageBlock",{allowAttributes:["sources"]}),a.plugins.has("ImageInlineEditing")&&a.model.schema.extend("imageInline",{allowAttributes:["sources"]}),this._setupConversion(),this._setupImageUploadEditingIntegration()}_setupConversion(){const a=this.editor,e=a.conversion,i=a.plugins.get("ImageUtils");e.for("upcast").add(function(o){const l=["srcset","media","type","sizes"],c=(d,f,g)=>{const k=f.viewItem;if(!g.consumable.test(k,{name:!0}))return;const w=new Map;for(const I of k.getChildren())if(I.is("element","source")){const T={};for(const S of l)I.hasAttribute(S)&&g.consumable.test(I,{attributes:S})&&(T[S]=I.getAttribute(S));Object.keys(T).length&&w.set(I,T)}const _=o.findViewImgElement(k);if(!_)return;let y=f.modelCursor.parent;if(!y.is("element","imageBlock")){const I=g.convertItem(_,f.modelCursor);f.modelRange=I.modelRange,f.modelCursor=I.modelCursor,y=Ft(I.modelRange.getItems())}g.consumable.consume(k,{name:!0});for(const[I,T]of w)g.consumable.consume(I,{attributes:Object.keys(T)});w.size&&g.writer.setAttribute("sources",Array.from(w.values()),y),g.convertChildren(k,y)};return d=>{d.on("element:picture",c)}}(i)),e.for("downcast").add(function(o){const l=(c,d,f)=>{if(!f.consumable.consume(d.item,c.name))return;const g=f.writer,k=f.mapper.toViewElement(d.item),w=o.findViewImgElement(k),_=d.attributeNewValue;if(_&&_.length){const y=g.createContainerElement("picture",null,_.map(S=>g.createEmptyElement("source",S))),I=[];let T=w.parent;for(;T&&T.is("attributeElement");){const S=T.parent;g.unwrap(g.createRangeOn(w),T),I.unshift(T),T=S}g.insert(g.createPositionBefore(w),y),g.move(g.createRangeOn(w),g.createPositionAt(y,"end"));for(const S of I)g.wrap(g.createRangeOn(y),S)}else if(w.parent.is("element","picture")){const y=w.parent;g.move(g.createRangeOn(w),g.createPositionBefore(y)),g.remove(y)}};return c=>{c.on("attribute:sources:imageBlock",l),c.on("attribute:sources:imageInline",l)}}(i))}_setupImageUploadEditingIntegration(){const a=this.editor;if(!a.plugins.has("ImageUploadEditing"))return;const e=a.plugins.get("ImageUploadEditing");this.listenTo(e,"uploadComplete",(i,{imageElement:o,data:l})=>{const c=l.sources;c&&a.model.change(d=>{d.setAttributes({sources:c},o)})})}},class extends ie{static get requires(){return[cU,hU,la,bU,mU,gU,zu]}static get pluginName(){return"Table"}},class extends ie{static get requires(){return[Ap]}static get pluginName(){return"TableToolbar"}afterInit(){const a=this.editor,e=a.t,i=a.plugins.get(Ap),o=a.config.get("table.contentToolbar"),l=a.config.get("table.tableToolbar");o&&i.register("tableContent",{ariaLabel:e("Table toolbar"),items:o,getRelatedElement:AU}),l&&i.register("table",{ariaLabel:e("Table toolbar"),items:l,getRelatedElement:_U})}},class extends ie{static get requires(){return["Delete","Input"]}static get pluginName(){return"TextTransformation"}constructor(a){super(a),a.config.define("typing",{transformations:{include:o9}})}init(){const a=this.editor.model.document.selection;a.on("change:range",()=>{this.isEnabled=!a.anchor.parent.is("element","codeBlock")}),this._enableTransformationWatchers()}_enableTransformationWatchers(){const a=this.editor,e=a.model,i=a.plugins.get("Delete"),o=function(c){const d=c.extra||[],f=c.remove||[],g=k=>!f.includes(k);return function(k){const w=new Set;for(const _ of k)if(typeof _=="string"&&XI[_])for(const y of XI[_])w.add(y);else w.add(_);return Array.from(w)}(c.include.concat(d).filter(g)).filter(g).map(k=>typeof k=="string"&&JI[k]?JI[k]:k).filter(k=>typeof k=="object").map(k=>({from:s9(k.from),to:a9(k.to)}))}(a.config.get("typing.transformations")),l=new QI(a.model,c=>{for(const d of o)if(d.from.test(c))return{normalizedTransformation:d}});l.on("matched:data",(c,d)=>{if(!d.batch.isTyping)return;const{from:f,to:g}=d.normalizedTransformation,k=f.exec(d.text),w=g(k.slice(1)),_=d.range;let y=k.index;e.enqueueChange(I=>{for(let T=1;T<k.length;T++){const S=k[T],B=w[T-1];if(B==null){y+=S.length;continue}const V=_.start.getShiftedBy(y),H=e.createRange(V,V.getShiftedBy(S.length)),Q=l9(V);e.insertContent(I.createText(B,Q),H),y+=B.length}e.enqueueChange(()=>{i.requestUndoOnBackspace()})})}),l.bind("isEnabled").to(this)}}],I_.defaultConfig={toolbar:{items:["undo","redo","|","heading","|","bold","italic","|","link","uploadImage","insertTable","blockQuote","mediaEmbed","|","bulletedList","numberedList","outdent","indent"]},image:{toolbar:["imageStyle:inline","imageStyle:block","imageStyle:side","|","toggleImageCaption","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}})(),h=h.default})())})(Em,Em.exports);var xX=Em.exports;const IX=WP(xX);function TX(n){return J.useState(!1),te.jsxs("div",{className:"editor-container",children:[te.jsx(EX.CKEditor,{id:n.currentNote.id,editor:IX,data:n.currentNote.content,onReady:t=>{},onChange:(t,r)=>{const s=r.getData();n.updateNote(s)}}),te.jsx("input",{type:"text",placeholder:"  ",onChange:t=>n.updateTitle(t.target.value),className:"editor-container__noteTitle",value:n.currentNote.title==" "?"":n.currentNote.title})]})}function SX(n){return te.jsxs("div",{className:"first",children:[te.jsx("h1",{children:" "}),te.jsx("img",{id:"backGround",src:kX,alt:"background"}),te.jsx("img",{id:"ellipse",src:bX,alt:"ellipse"}),te.jsx("img",{id:"paper",src:wX,alt:"paper"}),te.jsx("button",{onClick:n.handleClick,children:te.jsx("img",{src:_X,alt:"add"})})]})}/**
 * @remix-run/router v1.7.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function uh(){return uh=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},uh.apply(this,arguments)}var ss;(function(n){n.Pop="POP",n.Push="PUSH",n.Replace="REPLACE"})(ss||(ss={}));const hP="popstate";function DX(n){n===void 0&&(n={});function t(s,u){let{pathname:h,search:p,hash:b}=s.location;return ev("",{pathname:h,search:p,hash:b},u.state&&u.state.usr||null,u.state&&u.state.key||"default")}function r(s,u){return typeof u=="string"?u:xm(u)}return PX(t,r,null,n)}function jt(n,t){if(n===!1||n===null||typeof n>"u")throw new Error(t)}function AC(n,t){if(!n){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function MX(){return Math.random().toString(36).substr(2,8)}function fP(n,t){return{usr:n.state,key:n.key,idx:t}}function ev(n,t,r,s){return r===void 0&&(r=null),uh({pathname:typeof n=="string"?n:n.pathname,search:"",hash:""},typeof t=="string"?Wc(t):t,{state:r,key:t&&t.key||s||MX()})}function xm(n){let{pathname:t="/",search:r="",hash:s=""}=n;return r&&r!=="?"&&(t+=r.charAt(0)==="?"?r:"?"+r),s&&s!=="#"&&(t+=s.charAt(0)==="#"?s:"#"+s),t}function Wc(n){let t={};if(n){let r=n.indexOf("#");r>=0&&(t.hash=n.substr(r),n=n.substr(0,r));let s=n.indexOf("?");s>=0&&(t.search=n.substr(s),n=n.substr(0,s)),n&&(t.pathname=n)}return t}function PX(n,t,r,s){s===void 0&&(s={});let{window:u=document.defaultView,v5Compat:h=!1}=s,p=u.history,b=ss.Pop,m=null,A=E();A==null&&(A=0,p.replaceState(uh({},p.state,{idx:A}),""));function E(){return(p.state||{idx:null}).idx}function C(){b=ss.Pop;let L=E(),R=L==null?null:L-A;A=L,m&&m({action:b,location:M.location,delta:R})}function v(L,R){b=ss.Push;let O=ev(M.location,L,R);r&&r(O,L),A=E()+1;let z=fP(O,A),U=M.createHref(O);try{p.pushState(z,"",U)}catch($){if($ instanceof DOMException&&$.name==="DataCloneError")throw $;u.location.assign(U)}h&&m&&m({action:b,location:M.location,delta:1})}function x(L,R){b=ss.Replace;let O=ev(M.location,L,R);r&&r(O,L),A=E();let z=fP(O,A),U=M.createHref(O);p.replaceState(z,"",U),h&&m&&m({action:b,location:M.location,delta:0})}function D(L){let R=u.location.origin!=="null"?u.location.origin:u.location.href,O=typeof L=="string"?L:xm(L);return jt(R,"No window.location.(origin|href) available to create URL for href: "+O),new URL(O,R)}let M={get action(){return b},get location(){return n(u,p)},listen(L){if(m)throw new Error("A history only accepts one active listener");return u.addEventListener(hP,C),m=L,()=>{u.removeEventListener(hP,C),m=null}},createHref(L){return t(u,L)},createURL:D,encodeLocation(L){let R=D(L);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:v,replace:x,go(L){return p.go(L)}};return M}var pP;(function(n){n.data="data",n.deferred="deferred",n.redirect="redirect",n.error="error"})(pP||(pP={}));function NX(n,t,r){r===void 0&&(r="/");let s=typeof t=="string"?Wc(t):t,u=vC(s.pathname||"/",r);if(u==null)return null;let h=pB(n);RX(h);let p=null;for(let b=0;p==null&&b<h.length;++b)p=HX(h[b],$X(u));return p}function pB(n,t,r,s){t===void 0&&(t=[]),r===void 0&&(r=[]),s===void 0&&(s="");let u=(h,p,b)=>{let m={relativePath:b===void 0?h.path||"":b,caseSensitive:h.caseSensitive===!0,childrenIndex:p,route:h};m.relativePath.startsWith("/")&&(jt(m.relativePath.startsWith(s),'Absolute route path "'+m.relativePath+'" nested under path '+('"'+s+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),m.relativePath=m.relativePath.slice(s.length));let A=vs([s,m.relativePath]),E=r.concat(m);h.children&&h.children.length>0&&(jt(h.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+A+'".')),pB(h.children,t,E,A)),!(h.path==null&&!h.index)&&t.push({path:A,score:FX(A,h.index),routesMeta:E})};return n.forEach((h,p)=>{var b;if(h.path===""||!((b=h.path)!=null&&b.includes("?")))u(h,p);else for(let m of gB(h.path))u(h,p,m)}),t}function gB(n){let t=n.split("/");if(t.length===0)return[];let[r,...s]=t,u=r.endsWith("?"),h=r.replace(/\?$/,"");if(s.length===0)return u?[h,""]:[h];let p=gB(s.join("/")),b=[];return b.push(...p.map(m=>m===""?h:[h,m].join("/"))),u&&b.push(...p),b.map(m=>n.startsWith("/")&&m===""?"/":m)}function RX(n){n.sort((t,r)=>t.score!==r.score?r.score-t.score:UX(t.routesMeta.map(s=>s.childrenIndex),r.routesMeta.map(s=>s.childrenIndex)))}const OX=/^:\w+$/,BX=3,LX=2,zX=1,jX=10,VX=-2,gP=n=>n==="*";function FX(n,t){let r=n.split("/"),s=r.length;return r.some(gP)&&(s+=VX),t&&(s+=LX),r.filter(u=>!gP(u)).reduce((u,h)=>u+(OX.test(h)?BX:h===""?zX:jX),s)}function UX(n,t){return n.length===t.length&&n.slice(0,-1).every((s,u)=>s===t[u])?n[n.length-1]-t[t.length-1]:0}function HX(n,t){let{routesMeta:r}=n,s={},u="/",h=[];for(let p=0;p<r.length;++p){let b=r[p],m=p===r.length-1,A=u==="/"?t:t.slice(u.length)||"/",E=WX({path:b.relativePath,caseSensitive:b.caseSensitive,end:m},A);if(!E)return null;Object.assign(s,E.params);let C=b.route;h.push({params:s,pathname:vs([u,E.pathname]),pathnameBase:YX(vs([u,E.pathnameBase])),route:C}),E.pathnameBase!=="/"&&(u=vs([u,E.pathnameBase]))}return h}function WX(n,t){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[r,s]=qX(n.path,n.caseSensitive,n.end),u=t.match(r);if(!u)return null;let h=u[0],p=h.replace(/(.)\/+$/,"$1"),b=u.slice(1);return{params:s.reduce((A,E,C)=>{if(E==="*"){let v=b[C]||"";p=h.slice(0,h.length-v.length).replace(/(.)\/+$/,"$1")}return A[E]=GX(b[C]||"",E),A},{}),pathname:h,pathnameBase:p,pattern:n}}function qX(n,t,r){t===void 0&&(t=!1),r===void 0&&(r=!0),AC(n==="*"||!n.endsWith("*")||n.endsWith("/*"),'Route path "'+n+'" will be treated as if it were '+('"'+n.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+n.replace(/\*$/,"/*")+'".'));let s=[],u="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(p,b)=>(s.push(b),"/([^\\/]+)"));return n.endsWith("*")?(s.push("*"),u+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?u+="\\/*$":n!==""&&n!=="/"&&(u+="(?:(?=\\/|$))"),[new RegExp(u,t?void 0:"i"),s]}function $X(n){try{return decodeURI(n)}catch(t){return AC(!1,'The URL path "'+n+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),n}}function GX(n,t){try{return decodeURIComponent(n)}catch(r){return AC(!1,'The value for the URL param "'+t+'" will not be decoded because'+(' the string "'+n+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),n}}function vC(n,t){if(t==="/")return n;if(!n.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,s=n.charAt(r);return s&&s!=="/"?null:n.slice(r)||"/"}function KX(n,t){t===void 0&&(t="/");let{pathname:r,search:s="",hash:u=""}=typeof n=="string"?Wc(n):n;return{pathname:r?r.startsWith("/")?r:QX(r,t):t,search:ZX(s),hash:JX(u)}}function QX(n,t){let r=t.replace(/\/+$/,"").split("/");return n.split("/").forEach(u=>{u===".."?r.length>1&&r.pop():u!=="."&&r.push(u)}),r.length>1?r.join("/"):"/"}function A0(n,t,r,s){return"Cannot include a '"+n+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(s)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yC(n){return n.filter((t,r)=>r===0||t.route.path&&t.route.path.length>0)}function CC(n,t,r,s){s===void 0&&(s=!1);let u;typeof n=="string"?u=Wc(n):(u=uh({},n),jt(!u.pathname||!u.pathname.includes("?"),A0("?","pathname","search",u)),jt(!u.pathname||!u.pathname.includes("#"),A0("#","pathname","hash",u)),jt(!u.search||!u.search.includes("#"),A0("#","search","hash",u)));let h=n===""||u.pathname==="",p=h?"/":u.pathname,b;if(s||p==null)b=r;else{let C=t.length-1;if(p.startsWith("..")){let v=p.split("/");for(;v[0]==="..";)v.shift(),C-=1;u.pathname=v.join("/")}b=C>=0?t[C]:"/"}let m=KX(u,b),A=p&&p!=="/"&&p.endsWith("/"),E=(h||p===".")&&r.endsWith("/");return!m.pathname.endsWith("/")&&(A||E)&&(m.pathname+="/"),m}const vs=n=>n.join("/").replace(/\/\/+/g,"/"),YX=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ZX=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,JX=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function XX(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}const mB=["post","put","patch","delete"];new Set(mB);const eee=["get",...mB];new Set(eee);/**
 * React Router v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Im(){return Im=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Im.apply(this,arguments)}const EC=J.createContext(null),kB=J.createContext(null),Ha=J.createContext(null),Sk=J.createContext(null),Os=J.createContext({outlet:null,matches:[],isDataRoute:!1}),bB=J.createContext(null);function tee(n,t){let{relative:r}=t===void 0?{}:t;qc()||jt(!1);let{basename:s,navigator:u}=J.useContext(Ha),{hash:h,pathname:p,search:b}=xC(n,{relative:r}),m=p;return s!=="/"&&(m=p==="/"?s:vs([s,p])),u.createHref({pathname:m,search:b,hash:h})}function qc(){return J.useContext(Sk)!=null}function $c(){return qc()||jt(!1),J.useContext(Sk).location}function wB(n){J.useContext(Ha).static||J.useLayoutEffect(n)}function _B(){let{isDataRoute:n}=J.useContext(Os);return n?pee():nee()}function nee(){qc()||jt(!1);let n=J.useContext(EC),{basename:t,navigator:r}=J.useContext(Ha),{matches:s}=J.useContext(Os),{pathname:u}=$c(),h=JSON.stringify(yC(s).map(m=>m.pathnameBase)),p=J.useRef(!1);return wB(()=>{p.current=!0}),J.useCallback(function(m,A){if(A===void 0&&(A={}),!p.current)return;if(typeof m=="number"){r.go(m);return}let E=CC(m,JSON.parse(h),u,A.relative==="path");n==null&&t!=="/"&&(E.pathname=E.pathname==="/"?t:vs([t,E.pathname])),(A.replace?r.replace:r.push)(E,A.state,A)},[t,r,h,u,n])}function xC(n,t){let{relative:r}=t===void 0?{}:t,{matches:s}=J.useContext(Os),{pathname:u}=$c(),h=JSON.stringify(yC(s).map(p=>p.pathnameBase));return J.useMemo(()=>CC(n,JSON.parse(h),u,r==="path"),[n,h,u,r])}function iee(n,t){return ree(n,t)}function ree(n,t,r){qc()||jt(!1);let{navigator:s}=J.useContext(Ha),{matches:u}=J.useContext(Os),h=u[u.length-1],p=h?h.params:{};h&&h.pathname;let b=h?h.pathnameBase:"/";h&&h.route;let m=$c(),A;if(t){var E;let M=typeof t=="string"?Wc(t):t;b==="/"||(E=M.pathname)!=null&&E.startsWith(b)||jt(!1),A=M}else A=m;let C=A.pathname||"/",v=b==="/"?C:C.slice(b.length)||"/",x=NX(n,{pathname:v}),D=cee(x&&x.map(M=>Object.assign({},M,{params:Object.assign({},p,M.params),pathname:vs([b,s.encodeLocation?s.encodeLocation(M.pathname).pathname:M.pathname]),pathnameBase:M.pathnameBase==="/"?b:vs([b,s.encodeLocation?s.encodeLocation(M.pathnameBase).pathname:M.pathnameBase])})),u,r);return t&&D?J.createElement(Sk.Provider,{value:{location:Im({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:ss.Pop}},D):D}function oee(){let n=fee(),t=XX(n)?n.status+" "+n.statusText:n instanceof Error?n.message:JSON.stringify(n),r=n instanceof Error?n.stack:null,u={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},h=null;return J.createElement(J.Fragment,null,J.createElement("h2",null,"Unexpected Application Error!"),J.createElement("h3",{style:{fontStyle:"italic"}},t),r?J.createElement("pre",{style:u},r):null,h)}const see=J.createElement(oee,null);class aee extends J.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,r){return r.location!==t.location||r.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error||r.error,location:r.location,revalidation:t.revalidation||r.revalidation}}componentDidCatch(t,r){console.error("React Router caught the following error during render",t,r)}render(){return this.state.error?J.createElement(Os.Provider,{value:this.props.routeContext},J.createElement(bB.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function lee(n){let{routeContext:t,match:r,children:s}=n,u=J.useContext(EC);return u&&u.static&&u.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(u.staticContext._deepestRenderedBoundaryId=r.route.id),J.createElement(Os.Provider,{value:t},s)}function cee(n,t,r){var s;if(t===void 0&&(t=[]),r===void 0&&(r=null),n==null){var u;if((u=r)!=null&&u.errors)n=r.matches;else return null}let h=n,p=(s=r)==null?void 0:s.errors;if(p!=null){let b=h.findIndex(m=>m.route.id&&(p==null?void 0:p[m.route.id]));b>=0||jt(!1),h=h.slice(0,Math.min(h.length,b+1))}return h.reduceRight((b,m,A)=>{let E=m.route.id?p==null?void 0:p[m.route.id]:null,C=null;r&&(C=m.route.errorElement||see);let v=t.concat(h.slice(0,A+1)),x=()=>{let D;return E?D=C:m.route.Component?D=J.createElement(m.route.Component,null):m.route.element?D=m.route.element:D=b,J.createElement(lee,{match:m,routeContext:{outlet:b,matches:v,isDataRoute:r!=null},children:D})};return r&&(m.route.ErrorBoundary||m.route.errorElement||A===0)?J.createElement(aee,{location:r.location,revalidation:r.revalidation,component:C,error:E,children:x(),routeContext:{outlet:null,matches:v,isDataRoute:!0}}):x()},null)}var tv;(function(n){n.UseBlocker="useBlocker",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate"})(tv||(tv={}));var dh;(function(n){n.UseBlocker="useBlocker",n.UseLoaderData="useLoaderData",n.UseActionData="useActionData",n.UseRouteError="useRouteError",n.UseNavigation="useNavigation",n.UseRouteLoaderData="useRouteLoaderData",n.UseMatches="useMatches",n.UseRevalidator="useRevalidator",n.UseNavigateStable="useNavigate",n.UseRouteId="useRouteId"})(dh||(dh={}));function uee(n){let t=J.useContext(EC);return t||jt(!1),t}function dee(n){let t=J.useContext(kB);return t||jt(!1),t}function hee(n){let t=J.useContext(Os);return t||jt(!1),t}function AB(n){let t=hee(),r=t.matches[t.matches.length-1];return r.route.id||jt(!1),r.route.id}function fee(){var n;let t=J.useContext(bB),r=dee(dh.UseRouteError),s=AB(dh.UseRouteError);return t||((n=r.errors)==null?void 0:n[s])}function pee(){let{router:n}=uee(tv.UseNavigateStable),t=AB(dh.UseNavigateStable),r=J.useRef(!1);return wB(()=>{r.current=!0}),J.useCallback(function(u,h){h===void 0&&(h={}),r.current&&(typeof u=="number"?n.navigate(u):n.navigate(u,Im({fromRouteId:t},h)))},[n,t])}function Bl(n){let{to:t,replace:r,state:s,relative:u}=n;qc()||jt(!1);let{matches:h}=J.useContext(Os),{pathname:p}=$c(),b=_B(),m=CC(t,yC(h).map(E=>E.pathnameBase),p,u==="path"),A=JSON.stringify(m);return J.useEffect(()=>b(JSON.parse(A),{replace:r,state:s,relative:u}),[b,A,u,r,s]),null}function Ig(n){jt(!1)}function gee(n){let{basename:t="/",children:r=null,location:s,navigationType:u=ss.Pop,navigator:h,static:p=!1}=n;qc()&&jt(!1);let b=t.replace(/^\/*/,"/"),m=J.useMemo(()=>({basename:b,navigator:h,static:p}),[b,h,p]);typeof s=="string"&&(s=Wc(s));let{pathname:A="/",search:E="",hash:C="",state:v=null,key:x="default"}=s,D=J.useMemo(()=>{let M=vC(A,b);return M==null?null:{location:{pathname:M,search:E,hash:C,state:v,key:x},navigationType:u}},[b,A,E,C,v,x,u]);return D==null?null:J.createElement(Ha.Provider,{value:m},J.createElement(Sk.Provider,{children:r,value:D}))}function mee(n){let{children:t,location:r}=n;return iee(nv(t),r)}var mP;(function(n){n[n.pending=0]="pending",n[n.success=1]="success",n[n.error=2]="error"})(mP||(mP={}));new Promise(()=>{});function nv(n,t){t===void 0&&(t=[]);let r=[];return J.Children.forEach(n,(s,u)=>{if(!J.isValidElement(s))return;let h=[...t,u];if(s.type===J.Fragment){r.push.apply(r,nv(s.props.children,h));return}s.type!==Ig&&jt(!1),!s.props.index||!s.props.children||jt(!1);let p={id:s.props.id||h.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(p.children=nv(s.props.children,h)),r.push(p)}),r}/**
 * React Router DOM v6.14.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tm(){return Tm=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(n[s]=r[s])}return n},Tm.apply(this,arguments)}function vB(n,t){if(n==null)return{};var r={},s=Object.keys(n),u,h;for(h=0;h<s.length;h++)u=s[h],!(t.indexOf(u)>=0)&&(r[u]=n[u]);return r}function kee(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function bee(n,t){return n.button===0&&(!t||t==="_self")&&!kee(n)}const wee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"],_ee=["aria-current","caseSensitive","className","end","style","to","children"],Aee="startTransition",kP=eH[Aee];function vee(n){let{basename:t,children:r,future:s,window:u}=n,h=J.useRef();h.current==null&&(h.current=DX({window:u,v5Compat:!0}));let p=h.current,[b,m]=J.useState({action:p.action,location:p.location}),{v7_startTransition:A}=s||{},E=J.useCallback(C=>{A&&kP?kP(()=>m(C)):m(C)},[m,A]);return J.useLayoutEffect(()=>p.listen(E),[p,E]),J.createElement(gee,{basename:t,children:r,location:b.location,navigationType:b.action,navigator:p})}const yee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Cee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Eee=J.forwardRef(function(t,r){let{onClick:s,relative:u,reloadDocument:h,replace:p,state:b,target:m,to:A,preventScrollReset:E}=t,C=vB(t,wee),{basename:v}=J.useContext(Ha),x,D=!1;if(typeof A=="string"&&Cee.test(A)&&(x=A,yee))try{let O=new URL(window.location.href),z=A.startsWith("//")?new URL(O.protocol+A):new URL(A),U=vC(z.pathname,v);z.origin===O.origin&&U!=null?A=U+z.search+z.hash:D=!0}catch{}let M=tee(A,{relative:u}),L=Iee(A,{replace:p,state:b,target:m,preventScrollReset:E,relative:u});function R(O){s&&s(O),O.defaultPrevented||L(O)}return J.createElement("a",Tm({},C,{href:x||M,onClick:D||h?s:R,ref:r,target:m}))}),xee=J.forwardRef(function(t,r){let{"aria-current":s="page",caseSensitive:u=!1,className:h="",end:p=!1,style:b,to:m,children:A}=t,E=vB(t,_ee),C=xC(m,{relative:E.relative}),v=$c(),x=J.useContext(kB),{navigator:D}=J.useContext(Ha),M=D.encodeLocation?D.encodeLocation(C).pathname:C.pathname,L=v.pathname,R=x&&x.navigation&&x.navigation.location?x.navigation.location.pathname:null;u||(L=L.toLowerCase(),R=R?R.toLowerCase():null,M=M.toLowerCase());let O=L===M||!p&&L.startsWith(M)&&L.charAt(M.length)==="/",z=R!=null&&(R===M||!p&&R.startsWith(M)&&R.charAt(M.length)==="/"),U=O?s:void 0,$;typeof h=="function"?$=h({isActive:O,isPending:z}):$=[h,O?"active":null,z?"pending":null].filter(Boolean).join(" ");let Y=typeof b=="function"?b({isActive:O,isPending:z}):b;return J.createElement(Eee,Tm({},E,{"aria-current":U,className:$,ref:r,style:Y,to:m}),typeof A=="function"?A({isActive:O,isPending:z}):A)});var bP;(function(n){n.UseScrollRestoration="useScrollRestoration",n.UseSubmit="useSubmit",n.UseSubmitFetcher="useSubmitFetcher",n.UseFetcher="useFetcher"})(bP||(bP={}));var wP;(function(n){n.UseFetchers="useFetchers",n.UseScrollRestoration="useScrollRestoration"})(wP||(wP={}));function Iee(n,t){let{target:r,replace:s,state:u,preventScrollReset:h,relative:p}=t===void 0?{}:t,b=_B(),m=$c(),A=xC(n,{relative:p});return J.useCallback(E=>{if(bee(E,r)){E.preventDefault();let C=s!==void 0?s:xm(m)===xm(A);b(n,{replace:C,state:u,preventScrollReset:h,relative:p})}},[m,b,A,s,u,r,n,h,p])}var Tee=Object.defineProperty,See=(n,t)=>{for(var r in t)Tee(n,r,{get:t[r],enumerable:!0})},or={};See(or,{assign:()=>Pee,colors:()=>ys,createStringInterpolator:()=>NC,skipAnimation:()=>SB,to:()=>TB,willAdvance:()=>RC});var IC=Qh(),Me=n=>Kh(n,IC),TC=Qh();Me.write=n=>Kh(n,TC);var Dk=Qh();Me.onStart=n=>Kh(n,Dk);var SC=Qh();Me.onFrame=n=>Kh(n,SC);var DC=Qh();Me.onFinish=n=>Kh(n,DC);var uc=[];Me.setTimeout=(n,t)=>{const r=Me.now()+t,s=()=>{const h=uc.findIndex(p=>p.cancel==s);~h&&uc.splice(h,1),ls-=~h?1:0},u={time:r,handler:n,cancel:s};return uc.splice(yB(r),0,u),ls+=1,CB(),u};var yB=n=>~(~uc.findIndex(t=>t.time>n)||~uc.length);Me.cancel=n=>{Dk.delete(n),SC.delete(n),DC.delete(n),IC.delete(n),TC.delete(n)};Me.sync=n=>{iv=!0,Me.batchedUpdates(n),iv=!1};Me.throttle=n=>{let t;function r(){try{n(...t)}finally{t=null}}function s(...u){t=u,Me.onStart(r)}return s.handler=n,s.cancel=()=>{Dk.delete(r),t=null},s};var MC=typeof window<"u"?window.requestAnimationFrame:()=>{};Me.use=n=>MC=n;Me.now=typeof performance<"u"?()=>performance.now():Date.now;Me.batchedUpdates=n=>n();Me.catch=console.error;Me.frameLoop="always";Me.advance=()=>{Me.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):xB()};var as=-1,ls=0,iv=!1;function Kh(n,t){iv?(t.delete(n),n(0)):(t.add(n),CB())}function CB(){as<0&&(as=0,Me.frameLoop!=="demand"&&MC(EB))}function Dee(){as=-1}function EB(){~as&&(MC(EB),Me.batchedUpdates(xB))}function xB(){const n=as;as=Me.now();const t=yB(as);if(t&&(IB(uc.splice(0,t),r=>r.handler()),ls-=t),!ls){Dee();return}Dk.flush(),IC.flush(n?Math.min(64,as-n):16.667),SC.flush(),TC.flush(),DC.flush()}function Qh(){let n=new Set,t=n;return{add(r){ls+=t==n&&!n.has(r)?1:0,n.add(r)},delete(r){return ls-=t==n&&n.has(r)?1:0,n.delete(r)},flush(r){t.size&&(n=new Set,ls-=t.size,IB(t,s=>s(r)&&n.add(s)),ls+=n.size,t=n)}}}function IB(n,t){n.forEach(r=>{try{t(r)}catch(s){Me.catch(s)}})}function rv(){}var Mee=(n,t,r)=>Object.defineProperty(n,t,{value:r,writable:!0,configurable:!0}),oe={arr:Array.isArray,obj:n=>!!n&&n.constructor.name==="Object",fun:n=>typeof n=="function",str:n=>typeof n=="string",num:n=>typeof n=="number",und:n=>n===void 0};function eo(n,t){if(oe.arr(n)){if(!oe.arr(t)||n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}return n===t}var Oe=(n,t)=>n.forEach(t);function jr(n,t,r){if(oe.arr(n)){for(let s=0;s<n.length;s++)t.call(r,n[s],`${s}`);return}for(const s in n)n.hasOwnProperty(s)&&t.call(r,n[s],s)}var Vn=n=>oe.und(n)?[]:oe.arr(n)?n:[n];function Ed(n,t){if(n.size){const r=Array.from(n);n.clear(),Oe(r,t)}}var cd=(n,...t)=>Ed(n,r=>r(...t)),PC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),NC,TB,ys=null,SB=!1,RC=rv,Pee=n=>{n.to&&(TB=n.to),n.now&&(Me.now=n.now),n.colors!==void 0&&(ys=n.colors),n.skipAnimation!=null&&(SB=n.skipAnimation),n.createStringInterpolator&&(NC=n.createStringInterpolator),n.requestAnimationFrame&&Me.use(n.requestAnimationFrame),n.batchedUpdates&&(Me.batchedUpdates=n.batchedUpdates),n.willAdvance&&(RC=n.willAdvance),n.frameLoop&&(Me.frameLoop=n.frameLoop)},xd=new Set,Di=[],v0=[],Sm=0,Mk={get idle(){return!xd.size&&!Di.length},start(n){Sm>n.priority?(xd.add(n),Me.onStart(Nee)):(DB(n),Me(ov))},advance:ov,sort(n){if(Sm)Me.onFrame(()=>Mk.sort(n));else{const t=Di.indexOf(n);~t&&(Di.splice(t,1),MB(n))}},clear(){Di=[],xd.clear()}};function Nee(){xd.forEach(DB),xd.clear(),Me(ov)}function DB(n){Di.includes(n)||MB(n)}function MB(n){Di.splice(Ree(Di,t=>t.priority>n.priority),0,n)}function ov(n){const t=v0;for(let r=0;r<Di.length;r++){const s=Di[r];Sm=s.priority,s.idle||(RC(s),s.advance(n),s.idle||t.push(s))}return Sm=0,v0=Di,v0.length=0,Di=t,Di.length>0}function Ree(n,t){const r=n.findIndex(t);return r<0?n.length:r}var Oee=(n,t,r)=>Math.min(Math.max(r,n),t),Bee={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},Zi="[-+]?\\d*\\.?\\d+",Dm=Zi+"%";function Pk(...n){return"\\(\\s*("+n.join(")\\s*,\\s*(")+")\\s*\\)"}var Lee=new RegExp("rgb"+Pk(Zi,Zi,Zi)),zee=new RegExp("rgba"+Pk(Zi,Zi,Zi,Zi)),jee=new RegExp("hsl"+Pk(Zi,Dm,Dm)),Vee=new RegExp("hsla"+Pk(Zi,Dm,Dm,Zi)),Fee=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Uee=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,Hee=/^#([0-9a-fA-F]{6})$/,Wee=/^#([0-9a-fA-F]{8})$/;function qee(n){let t;return typeof n=="number"?n>>>0===n&&n>=0&&n<=4294967295?n:null:(t=Hee.exec(n))?parseInt(t[1]+"ff",16)>>>0:ys&&ys[n]!==void 0?ys[n]:(t=Lee.exec(n))?(Ml(t[1])<<24|Ml(t[2])<<16|Ml(t[3])<<8|255)>>>0:(t=zee.exec(n))?(Ml(t[1])<<24|Ml(t[2])<<16|Ml(t[3])<<8|vP(t[4]))>>>0:(t=Fee.exec(n))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+"ff",16)>>>0:(t=Wee.exec(n))?parseInt(t[1],16)>>>0:(t=Uee.exec(n))?parseInt(t[1]+t[1]+t[2]+t[2]+t[3]+t[3]+t[4]+t[4],16)>>>0:(t=jee.exec(n))?(_P(AP(t[1]),rg(t[2]),rg(t[3]))|255)>>>0:(t=Vee.exec(n))?(_P(AP(t[1]),rg(t[2]),rg(t[3]))|vP(t[4]))>>>0:null}function y0(n,t,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?n+(t-n)*6*r:r<1/2?t:r<2/3?n+(t-n)*(2/3-r)*6:n}function _P(n,t,r){const s=r<.5?r*(1+t):r+t-r*t,u=2*r-s,h=y0(u,s,n+1/3),p=y0(u,s,n),b=y0(u,s,n-1/3);return Math.round(h*255)<<24|Math.round(p*255)<<16|Math.round(b*255)<<8}function Ml(n){const t=parseInt(n,10);return t<0?0:t>255?255:t}function AP(n){return(parseFloat(n)%360+360)%360/360}function vP(n){const t=parseFloat(n);return t<0?0:t>1?255:Math.round(t*255)}function rg(n){const t=parseFloat(n);return t<0?0:t>100?1:t/100}function yP(n){let t=qee(n);if(t===null)return n;t=t||0;const r=(t&4278190080)>>>24,s=(t&16711680)>>>16,u=(t&65280)>>>8,h=(t&255)/255;return`rgba(${r}, ${s}, ${u}, ${h})`}var hh=(n,t,r)=>{if(oe.fun(n))return n;if(oe.arr(n))return hh({range:n,output:t,extrapolate:r});if(oe.str(n.output[0]))return NC(n);const s=n,u=s.output,h=s.range||[0,1],p=s.extrapolateLeft||s.extrapolate||"extend",b=s.extrapolateRight||s.extrapolate||"extend",m=s.easing||(A=>A);return A=>{const E=Gee(A,h);return $ee(A,h[E],h[E+1],u[E],u[E+1],m,p,b,s.map)}};function $ee(n,t,r,s,u,h,p,b,m){let A=m?m(n):n;if(A<t){if(p==="identity")return A;p==="clamp"&&(A=t)}if(A>r){if(b==="identity")return A;b==="clamp"&&(A=r)}return s===u?s:t===r?n<=t?s:u:(t===-1/0?A=-A:r===1/0?A=A-t:A=(A-t)/(r-t),A=h(A),s===-1/0?A=-A:u===1/0?A=A+s:A=A*(u-s)+s,A)}function Gee(n,t){for(var r=1;r<t.length-1&&!(t[r]>=n);++r);return r-1}var Kee=(n,t="end")=>r=>{r=t==="end"?Math.min(r,.999):Math.max(r,.001);const s=r*n,u=t==="end"?Math.floor(s):Math.ceil(s);return Oee(0,1,u/n)},Mm=1.70158,og=Mm*1.525,CP=Mm+1,EP=2*Math.PI/3,xP=2*Math.PI/4.5,sg=n=>n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375,Qee={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>1-(1-n)*(1-n),easeInOutQuad:n=>n<.5?2*n*n:1-Math.pow(-2*n+2,2)/2,easeInCubic:n=>n*n*n,easeOutCubic:n=>1-Math.pow(1-n,3),easeInOutCubic:n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,easeInQuart:n=>n*n*n*n,easeOutQuart:n=>1-Math.pow(1-n,4),easeInOutQuart:n=>n<.5?8*n*n*n*n:1-Math.pow(-2*n+2,4)/2,easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>1-Math.pow(1-n,5),easeInOutQuint:n=>n<.5?16*n*n*n*n*n:1-Math.pow(-2*n+2,5)/2,easeInSine:n=>1-Math.cos(n*Math.PI/2),easeOutSine:n=>Math.sin(n*Math.PI/2),easeInOutSine:n=>-(Math.cos(Math.PI*n)-1)/2,easeInExpo:n=>n===0?0:Math.pow(2,10*n-10),easeOutExpo:n=>n===1?1:1-Math.pow(2,-10*n),easeInOutExpo:n=>n===0?0:n===1?1:n<.5?Math.pow(2,20*n-10)/2:(2-Math.pow(2,-20*n+10))/2,easeInCirc:n=>1-Math.sqrt(1-Math.pow(n,2)),easeOutCirc:n=>Math.sqrt(1-Math.pow(n-1,2)),easeInOutCirc:n=>n<.5?(1-Math.sqrt(1-Math.pow(2*n,2)))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2,easeInBack:n=>CP*n*n*n-Mm*n*n,easeOutBack:n=>1+CP*Math.pow(n-1,3)+Mm*Math.pow(n-1,2),easeInOutBack:n=>n<.5?Math.pow(2*n,2)*((og+1)*2*n-og)/2:(Math.pow(2*n-2,2)*((og+1)*(n*2-2)+og)+2)/2,easeInElastic:n=>n===0?0:n===1?1:-Math.pow(2,10*n-10)*Math.sin((n*10-10.75)*EP),easeOutElastic:n=>n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n*10-.75)*EP)+1,easeInOutElastic:n=>n===0?0:n===1?1:n<.5?-(Math.pow(2,20*n-10)*Math.sin((20*n-11.125)*xP))/2:Math.pow(2,-20*n+10)*Math.sin((20*n-11.125)*xP)/2+1,easeInBounce:n=>1-sg(1-n),easeOutBounce:sg,easeInOutBounce:n=>n<.5?(1-sg(1-2*n))/2:(1+sg(2*n-1))/2,steps:Kee},fh=Symbol.for("FluidValue.get"),Sc=Symbol.for("FluidValue.observers"),Ti=n=>!!(n&&n[fh]),Yn=n=>n&&n[fh]?n[fh]():n,IP=n=>n[Sc]||null;function Yee(n,t){n.eventObserved?n.eventObserved(t):n(t)}function ph(n,t){const r=n[Sc];r&&r.forEach(s=>{Yee(s,t)})}var PB=class{constructor(n){if(!n&&!(n=this.get))throw Error("Unknown getter");Zee(this,n)}},Zee=(n,t)=>NB(n,fh,t);function Gc(n,t){if(n[fh]){let r=n[Sc];r||NB(n,Sc,r=new Set),r.has(t)||(r.add(t),n.observerAdded&&n.observerAdded(r.size,t))}return t}function gh(n,t){const r=n[Sc];if(r&&r.has(t)){const s=r.size-1;s?r.delete(t):n[Sc]=null,n.observerRemoved&&n.observerRemoved(s,t)}}var NB=(n,t,r)=>Object.defineProperty(n,t,{value:r,writable:!0,configurable:!0}),Tg=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,Jee=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,TP=new RegExp(`(${Tg.source})(%|[a-z]+)`,"i"),Xee=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,Nk=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,RB=n=>{const[t,r]=ete(n);if(!t||PC())return n;const s=window.getComputedStyle(document.documentElement).getPropertyValue(t);if(s)return s.trim();if(r&&r.startsWith("--")){const u=window.getComputedStyle(document.documentElement).getPropertyValue(r);return u||n}else{if(r&&Nk.test(r))return RB(r);if(r)return r}return n},ete=n=>{const t=Nk.exec(n);if(!t)return[,];const[,r,s]=t;return[r,s]},C0,tte=(n,t,r,s,u)=>`rgba(${Math.round(t)}, ${Math.round(r)}, ${Math.round(s)}, ${u})`,OB=n=>{C0||(C0=ys?new RegExp(`(${Object.keys(ys).join("|")})(?!\\w)`,"g"):/^\b$/);const t=n.output.map(h=>Yn(h).replace(Nk,RB).replace(Jee,yP).replace(C0,yP)),r=t.map(h=>h.match(Tg).map(Number)),u=r[0].map((h,p)=>r.map(b=>{if(!(p in b))throw Error('The arity of each "output" value must be equal');return b[p]})).map(h=>hh({...n,output:h}));return h=>{var m;const p=!TP.test(t[0])&&((m=t.find(A=>TP.test(A)))==null?void 0:m.replace(Tg,""));let b=0;return t[0].replace(Tg,()=>`${u[b++](h)}${p||""}`).replace(Xee,tte)}},OC="react-spring: ",BB=n=>{const t=n;let r=!1;if(typeof t!="function")throw new TypeError(`${OC}once requires a function parameter`);return(...s)=>{r||(t(...s),r=!0)}},nte=BB(console.warn);function ite(){nte(`${OC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var rte=BB(console.warn);function ote(){rte(`${OC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function Rk(n){return oe.str(n)&&(n[0]=="#"||/\d/.test(n)||!PC()&&Nk.test(n)||n in(ys||{}))}var Zl=PC()?J.useEffect:J.useLayoutEffect,ste=()=>{const n=J.useRef(!1);return Zl(()=>(n.current=!0,()=>{n.current=!1}),[]),n};function LB(){const n=J.useState()[1],t=ste();return()=>{t.current&&n(Math.random())}}function ate(n,t){const[r]=J.useState(()=>({inputs:t,result:n()})),s=J.useRef(),u=s.current;let h=u;return h?t&&h.inputs&&lte(t,h.inputs)||(h={inputs:t,result:n()}):h=r,J.useEffect(()=>{s.current=h,u==r&&(r.inputs=r.result=void 0)},[h]),h.result}function lte(n,t){if(n.length!==t.length)return!1;for(let r=0;r<n.length;r++)if(n[r]!==t[r])return!1;return!0}var zB=n=>J.useEffect(n,cte),cte=[];function ute(n){const t=J.useRef();return J.useEffect(()=>{t.current=n}),t.current}var mh=Symbol.for("Animated:node"),dte=n=>!!n&&n[mh]===n,Tr=n=>n&&n[mh],BC=(n,t)=>Mee(n,mh,t),Ok=n=>n&&n[mh]&&n[mh].getPayload(),jB=class{constructor(){BC(this,this)}getPayload(){return this.payload||[]}},Yh=class extends jB{constructor(n){super(),this._value=n,this.done=!0,this.durationProgress=0,oe.num(this._value)&&(this.lastPosition=this._value)}static create(n){return new Yh(n)}getPayload(){return[this]}getValue(){return this._value}setValue(n,t){return oe.num(n)&&(this.lastPosition=n,t&&(n=Math.round(n/t)*t,this.done&&(this.lastPosition=n))),this._value===n?!1:(this._value=n,!0)}reset(){const{done:n}=this;this.done=!1,oe.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,n&&(this.lastVelocity=null),this.v0=null)}},kh=class extends Yh{constructor(n){super(0),this._string=null,this._toString=hh({output:[n,n]})}static create(n){return new kh(n)}getValue(){const n=this._string;return n??(this._string=this._toString(this._value))}setValue(n){if(oe.str(n)){if(n==this._string)return!1;this._string=n,this._value=1}else if(super.setValue(n))this._string=null;else return!1;return!0}reset(n){n&&(this._toString=hh({output:[this.getValue(),n]})),this._value=0,super.reset()}},Pm={dependencies:null},Bk=class extends jB{constructor(n){super(),this.source=n,this.setValue(n)}getValue(n){const t={};return jr(this.source,(r,s)=>{dte(r)?t[s]=r.getValue(n):Ti(r)?t[s]=Yn(r):n||(t[s]=r)}),t}setValue(n){this.source=n,this.payload=this._makePayload(n)}reset(){this.payload&&Oe(this.payload,n=>n.reset())}_makePayload(n){if(n){const t=new Set;return jr(n,this._addToPayload,t),Array.from(t)}}_addToPayload(n){Pm.dependencies&&Ti(n)&&Pm.dependencies.add(n);const t=Ok(n);t&&Oe(t,r=>this.add(r))}},VB=class extends Bk{constructor(n){super(n)}static create(n){return new VB(n)}getValue(){return this.source.map(n=>n.getValue())}setValue(n){const t=this.getPayload();return n.length==t.length?t.map((r,s)=>r.setValue(n[s])).some(Boolean):(super.setValue(n.map(hte)),!0)}};function hte(n){return(Rk(n)?kh:Yh).create(n)}function sv(n){const t=Tr(n);return t?t.constructor:oe.arr(n)?VB:Rk(n)?kh:Yh}var SP=(n,t)=>{const r=!oe.fun(n)||n.prototype&&n.prototype.isReactComponent;return J.forwardRef((s,u)=>{const h=J.useRef(null),p=r&&J.useCallback(D=>{h.current=gte(u,D)},[u]),[b,m]=pte(s,t),A=LB(),E=()=>{const D=h.current;if(r&&!D)return;(D?t.applyAnimatedValues(D,b.getValue(!0)):!1)===!1&&A()},C=new fte(E,m),v=J.useRef();Zl(()=>(v.current=C,Oe(m,D=>Gc(D,C)),()=>{v.current&&(Oe(v.current.deps,D=>gh(D,v.current)),Me.cancel(v.current.update))})),J.useEffect(E,[]),zB(()=>()=>{const D=v.current;Oe(D.deps,M=>gh(M,D))});const x=t.getComponentProps(b.getValue());return J.createElement(n,{...x,ref:p})})},fte=class{constructor(n,t){this.update=n,this.deps=t}eventObserved(n){n.type=="change"&&Me.write(this.update)}};function pte(n,t){const r=new Set;return Pm.dependencies=r,n.style&&(n={...n,style:t.createAnimatedStyle(n.style)}),n=new Bk(n),Pm.dependencies=null,[n,r]}function gte(n,t){return n&&(oe.fun(n)?n(t):n.current=t),t}var DP=Symbol.for("AnimatedComponent"),mte=(n,{applyAnimatedValues:t=()=>!1,createAnimatedStyle:r=u=>new Bk(u),getComponentProps:s=u=>u}={})=>{const u={applyAnimatedValues:t,createAnimatedStyle:r,getComponentProps:s},h=p=>{const b=MP(p)||"Anonymous";return oe.str(p)?p=h[p]||(h[p]=SP(p,u)):p=p[DP]||(p[DP]=SP(p,u)),p.displayName=`Animated(${b})`,p};return jr(n,(p,b)=>{oe.arr(n)&&(b=MP(p)),h[b]=h(p)}),{animated:h}},MP=n=>oe.str(n)?n:n&&oe.str(n.displayName)?n.displayName:oe.fun(n)&&n.name||null;function Zn(n,...t){return oe.fun(n)?n(...t):n}var Id=(n,t)=>n===!0||!!(t&&n&&(oe.fun(n)?n(t):Vn(n).includes(t))),FB=(n,t)=>oe.obj(n)?t&&n[t]:n,UB=(n,t)=>n.default===!0?n[t]:n.default?n.default[t]:void 0,kte=n=>n,LC=(n,t=kte)=>{let r=bte;n.default&&n.default!==!0&&(n=n.default,r=Object.keys(n));const s={};for(const u of r){const h=t(n[u],u);oe.und(h)||(s[u]=h)}return s},bte=["config","onProps","onStart","onChange","onPause","onResume","onRest"],wte={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function _te(n){const t={};let r=0;if(jr(n,(s,u)=>{wte[u]||(t[u]=s,r++)}),r)return t}function zC(n){const t=_te(n);if(t){const r={to:t};return jr(n,(s,u)=>u in t||(r[u]=s)),r}return{...n}}function bh(n){return n=Yn(n),oe.arr(n)?n.map(bh):Rk(n)?or.createStringInterpolator({range:[0,1],output:[n,n]})(1):n}function Ate(n){for(const t in n)return!0;return!1}function av(n){return oe.fun(n)||oe.arr(n)&&oe.obj(n[0])}function PP(n,t){var r;(r=n.ref)==null||r.delete(n),t==null||t.delete(n)}function vte(n,t){var r;t&&n.ref!==t&&((r=n.ref)==null||r.delete(n),t.add(n),n.ref=t)}var yte={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},lv={...yte.default,mass:1,damping:1,easing:Qee.linear,clamp:!1},Cte=class{constructor(){this.velocity=0,Object.assign(this,lv)}};function Ete(n,t,r){r&&(r={...r},NP(r,t),t={...r,...t}),NP(n,t),Object.assign(n,t);for(const p in lv)n[p]==null&&(n[p]=lv[p]);let{frequency:s,damping:u}=n;const{mass:h}=n;return oe.und(s)||(s<.01&&(s=.01),u<0&&(u=0),n.tension=Math.pow(2*Math.PI/s,2)*h,n.friction=4*Math.PI*u*h/s),n}function NP(n,t){if(!oe.und(t.decay))n.duration=void 0;else{const r=!oe.und(t.tension)||!oe.und(t.friction);(r||!oe.und(t.frequency)||!oe.und(t.damping)||!oe.und(t.mass))&&(n.duration=void 0,n.decay=void 0),r&&(n.frequency=void 0)}}var RP=[],xte=class{constructor(){this.changed=!1,this.values=RP,this.toValues=null,this.fromValues=RP,this.config=new Cte,this.immediate=!1}};function HB(n,{key:t,props:r,defaultProps:s,state:u,actions:h}){return new Promise((p,b)=>{let m,A,E=Id(r.cancel??(s==null?void 0:s.cancel),t);if(E)x();else{oe.und(r.pause)||(u.paused=Id(r.pause,t));let D=s==null?void 0:s.pause;D!==!0&&(D=u.paused||Id(D,t)),m=Zn(r.delay||0,t),D?(u.resumeQueue.add(v),h.pause()):(h.resume(),v())}function C(){u.resumeQueue.add(v),u.timeouts.delete(A),A.cancel(),m=A.time-Me.now()}function v(){m>0&&!or.skipAnimation?(u.delayed=!0,A=Me.setTimeout(x,m),u.pauseQueue.add(C),u.timeouts.add(A)):x()}function x(){u.delayed&&(u.delayed=!1),u.pauseQueue.delete(C),u.timeouts.delete(A),n<=(u.cancelId||0)&&(E=!0);try{h.start({...r,callId:n,cancel:E},p)}catch(D){b(D)}}})}var jC=(n,t)=>t.length==1?t[0]:t.some(r=>r.cancelled)?dc(n.get()):t.every(r=>r.noop)?WB(n.get()):Yi(n.get(),t.every(r=>r.finished)),WB=n=>({value:n,noop:!0,finished:!0,cancelled:!1}),Yi=(n,t,r=!1)=>({value:n,finished:t,cancelled:r}),dc=n=>({value:n,cancelled:!0,finished:!1});function qB(n,t,r,s){const{callId:u,parentId:h,onRest:p}=t,{asyncTo:b,promise:m}=r;return!h&&n===b&&!t.reset?m:r.promise=(async()=>{r.asyncId=u,r.asyncTo=n;const A=LC(t,(L,R)=>R==="onRest"?void 0:L);let E,C;const v=new Promise((L,R)=>(E=L,C=R)),x=L=>{const R=u<=(r.cancelId||0)&&dc(s)||u!==r.asyncId&&Yi(s,!1);if(R)throw L.result=R,C(L),L},D=(L,R)=>{const O=new OP,z=new BP;return(async()=>{if(or.skipAnimation)throw wh(r),z.result=Yi(s,!1),C(z),z;x(O);const U=oe.obj(L)?{...L}:{...R,to:L};U.parentId=u,jr(A,(Y,K)=>{oe.und(U[K])&&(U[K]=Y)});const $=await s.start(U);return x(O),r.paused&&await new Promise(Y=>{r.resumeQueue.add(Y)}),$})()};let M;if(or.skipAnimation)return wh(r),Yi(s,!1);try{let L;oe.arr(n)?L=(async R=>{for(const O of R)await D(O)})(n):L=Promise.resolve(n(D,s.stop.bind(s))),await Promise.all([L.then(E),v]),M=Yi(s.get(),!0,!1)}catch(L){if(L instanceof OP)M=L.result;else if(L instanceof BP)M=L.result;else throw L}finally{u==r.asyncId&&(r.asyncId=h,r.asyncTo=h?b:void 0,r.promise=h?m:void 0)}return oe.fun(p)&&Me.batchedUpdates(()=>{p(M,s,s.item)}),M})()}function wh(n,t){Ed(n.timeouts,r=>r.cancel()),n.pauseQueue.clear(),n.resumeQueue.clear(),n.asyncId=n.asyncTo=n.promise=void 0,t&&(n.cancelId=t)}var OP=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},BP=class extends Error{constructor(){super("SkipAnimationSignal")}},cv=n=>n instanceof VC,Ite=1,VC=class extends PB{constructor(){super(...arguments),this.id=Ite++,this._priority=0}get priority(){return this._priority}set priority(n){this._priority!=n&&(this._priority=n,this._onPriorityChange(n))}get(){const n=Tr(this);return n&&n.getValue()}to(...n){return or.to(this,n)}interpolate(...n){return ite(),or.to(this,n)}toJSON(){return this.get()}observerAdded(n){n==1&&this._attach()}observerRemoved(n){n==0&&this._detach()}_attach(){}_detach(){}_onChange(n,t=!1){ph(this,{type:"change",parent:this,value:n,idle:t})}_onPriorityChange(n){this.idle||Mk.sort(this),ph(this,{type:"priority",parent:this,priority:n})}},La=Symbol.for("SpringPhase"),$B=1,uv=2,dv=4,E0=n=>(n[La]&$B)>0,Go=n=>(n[La]&uv)>0,Qu=n=>(n[La]&dv)>0,LP=(n,t)=>t?n[La]|=uv|$B:n[La]&=~uv,zP=(n,t)=>t?n[La]|=dv:n[La]&=~dv,Tte=class extends VC{constructor(n,t){if(super(),this.animation=new xte,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!oe.und(n)||!oe.und(t)){const r=oe.obj(n)?{...n}:{...t,from:n};oe.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!(Go(this)||this._state.asyncTo)||Qu(this)}get goal(){return Yn(this.animation.to)}get velocity(){const n=Tr(this);return n instanceof Yh?n.lastVelocity||0:n.getPayload().map(t=>t.lastVelocity||0)}get hasAnimated(){return E0(this)}get isAnimating(){return Go(this)}get isPaused(){return Qu(this)}get isDelayed(){return this._state.delayed}advance(n){let t=!0,r=!1;const s=this.animation;let{toValues:u}=s;const{config:h}=s,p=Ok(s.to);!p&&Ti(s.to)&&(u=Vn(Yn(s.to))),s.values.forEach((A,E)=>{if(A.done)return;const C=A.constructor==kh?1:p?p[E].lastPosition:u[E];let v=s.immediate,x=C;if(!v){if(x=A.lastPosition,h.tension<=0){A.done=!0;return}let D=A.elapsedTime+=n;const M=s.fromValues[E],L=A.v0!=null?A.v0:A.v0=oe.arr(h.velocity)?h.velocity[E]:h.velocity;let R;const O=h.precision||(M==C?.005:Math.min(1,Math.abs(C-M)*.001));if(oe.und(h.duration))if(h.decay){const z=h.decay===!0?.998:h.decay,U=Math.exp(-(1-z)*D);x=M+L/(1-z)*(1-U),v=Math.abs(A.lastPosition-x)<=O,R=L*U}else{R=A.lastVelocity==null?L:A.lastVelocity;const z=h.restVelocity||O/10,U=h.clamp?0:h.bounce,$=!oe.und(U),Y=M==C?A.v0>0:M<C;let K,j=!1;const q=1,Z=Math.ceil(n/q);for(let ke=0;ke<Z&&(K=Math.abs(R)>z,!(!K&&(v=Math.abs(C-x)<=O,v)));++ke){$&&(j=x==C||x>C==Y,j&&(R=-R*U,x=C));const ye=-h.tension*1e-6*(x-C),Te=-h.friction*.001*R,be=(ye+Te)/h.mass;R=R+be*q,x=x+R*q}}else{let z=1;h.duration>0&&(this._memoizedDuration!==h.duration&&(this._memoizedDuration=h.duration,A.durationProgress>0&&(A.elapsedTime=h.duration*A.durationProgress,D=A.elapsedTime+=n)),z=(h.progress||0)+D/this._memoizedDuration,z=z>1?1:z<0?0:z,A.durationProgress=z),x=M+h.easing(z)*(C-M),R=(x-A.lastPosition)/n,v=z==1}A.lastVelocity=R,Number.isNaN(x)&&(console.warn("Got NaN while animating:",this),v=!0)}p&&!p[E].done&&(v=!1),v?A.done=!0:t=!1,A.setValue(x,h.round)&&(r=!0)});const b=Tr(this),m=b.getValue();if(t){const A=Yn(s.to);(m!==A||r)&&!h.decay?(b.setValue(A),this._onChange(A)):r&&h.decay&&this._onChange(m),this._stop()}else r&&this._onChange(m)}set(n){return Me.batchedUpdates(()=>{this._stop(),this._focus(n),this._set(n)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(Go(this)){const{to:n,config:t}=this.animation;Me.batchedUpdates(()=>{this._onStart(),t.decay||this._set(n,!1),this._stop()})}return this}update(n){return(this.queue||(this.queue=[])).push(n),this}start(n,t){let r;return oe.und(n)?(r=this.queue||[],this.queue=[]):r=[oe.obj(n)?n:{...t,to:n}],Promise.all(r.map(s=>this._update(s))).then(s=>jC(this,s))}stop(n){const{to:t}=this.animation;return this._focus(this.get()),wh(this._state,n&&this._lastCallId),Me.batchedUpdates(()=>this._stop(t,n)),this}reset(){this._update({reset:!0})}eventObserved(n){n.type=="change"?this._start():n.type=="priority"&&(this.priority=n.priority+1)}_prepareNode(n){const t=this.key||"";let{to:r,from:s}=n;r=oe.obj(r)?r[t]:r,(r==null||av(r))&&(r=void 0),s=oe.obj(s)?s[t]:s,s==null&&(s=void 0);const u={to:r,from:s};return E0(this)||(n.reverse&&([r,s]=[s,r]),s=Yn(s),oe.und(s)?Tr(this)||this._set(r):this._set(s)),u}_update({...n},t){const{key:r,defaultProps:s}=this;n.default&&Object.assign(s,LC(n,(p,b)=>/^on/.test(b)?FB(p,r):p)),VP(this,n,"onProps"),Zu(this,"onProps",n,this);const u=this._prepareNode(n);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const h=this._state;return HB(++this._lastCallId,{key:r,props:n,defaultProps:s,state:h,actions:{pause:()=>{Qu(this)||(zP(this,!0),cd(h.pauseQueue),Zu(this,"onPause",Yi(this,Yu(this,this.animation.to)),this))},resume:()=>{Qu(this)&&(zP(this,!1),Go(this)&&this._resume(),cd(h.resumeQueue),Zu(this,"onResume",Yi(this,Yu(this,this.animation.to)),this))},start:this._merge.bind(this,u)}}).then(p=>{if(n.loop&&p.finished&&!(t&&p.noop)){const b=GB(n);if(b)return this._update(b,!0)}return p})}_merge(n,t,r){if(t.cancel)return this.stop(!0),r(dc(this));const s=!oe.und(n.to),u=!oe.und(n.from);if(s||u)if(t.callId>this._lastToId)this._lastToId=t.callId;else return r(dc(this));const{key:h,defaultProps:p,animation:b}=this,{to:m,from:A}=b;let{to:E=m,from:C=A}=n;u&&!s&&(!t.default||oe.und(E))&&(E=C),t.reverse&&([E,C]=[C,E]);const v=!eo(C,A);v&&(b.from=C),C=Yn(C);const x=!eo(E,m);x&&this._focus(E);const D=av(t.to),{config:M}=b,{decay:L,velocity:R}=M;(s||u)&&(M.velocity=0),t.config&&!D&&Ete(M,Zn(t.config,h),t.config!==p.config?Zn(p.config,h):void 0);let O=Tr(this);if(!O||oe.und(E))return r(Yi(this,!0));const z=oe.und(t.reset)?u&&!t.default:!oe.und(C)&&Id(t.reset,h),U=z?C:this.get(),$=bh(E),Y=oe.num($)||oe.arr($)||Rk($),K=!D&&(!Y||Id(p.immediate||t.immediate,h));if(x){const ke=sv(E);if(ke!==O.constructor)if(K)O=this._set($);else throw Error(`Cannot animate between ${O.constructor.name} and ${ke.name}, as the "to" prop suggests`)}const j=O.constructor;let q=Ti(E),Z=!1;if(!q){const ke=z||!E0(this)&&v;(x||ke)&&(Z=eo(bh(U),$),q=!Z),(!eo(b.immediate,K)&&!K||!eo(M.decay,L)||!eo(M.velocity,R))&&(q=!0)}if(Z&&Go(this)&&(b.changed&&!z?q=!0:q||this._stop(m)),!D&&((q||Ti(m))&&(b.values=O.getPayload(),b.toValues=Ti(E)?null:j==kh?[1]:Vn($)),b.immediate!=K&&(b.immediate=K,!K&&!z&&this._set(m)),q)){const{onRest:ke}=b;Oe(Ste,Te=>VP(this,t,Te));const ye=Yi(this,Yu(this,m));cd(this._pendingCalls,ye),this._pendingCalls.add(r),b.changed&&Me.batchedUpdates(()=>{var Te;b.changed=!z,ke==null||ke(ye,this),z?Zn(p.onRest,ye):(Te=b.onStart)==null||Te.call(b,ye,this)})}z&&this._set(U),D?r(qB(t.to,t,this._state,this)):q?this._start():Go(this)&&!x?this._pendingCalls.add(r):r(WB(U))}_focus(n){const t=this.animation;n!==t.to&&(IP(this)&&this._detach(),t.to=n,IP(this)&&this._attach())}_attach(){let n=0;const{to:t}=this.animation;Ti(t)&&(Gc(t,this),cv(t)&&(n=t.priority+1)),this.priority=n}_detach(){const{to:n}=this.animation;Ti(n)&&gh(n,this)}_set(n,t=!0){const r=Yn(n);if(!oe.und(r)){const s=Tr(this);if(!s||!eo(r,s.getValue())){const u=sv(r);!s||s.constructor!=u?BC(this,u.create(r)):s.setValue(r),s&&Me.batchedUpdates(()=>{this._onChange(r,t)})}}return Tr(this)}_onStart(){const n=this.animation;n.changed||(n.changed=!0,Zu(this,"onStart",Yi(this,Yu(this,n.to)),this))}_onChange(n,t){t||(this._onStart(),Zn(this.animation.onChange,n,this)),Zn(this.defaultProps.onChange,n,this),super._onChange(n,t)}_start(){const n=this.animation;Tr(this).reset(Yn(n.to)),n.immediate||(n.fromValues=n.values.map(t=>t.lastPosition)),Go(this)||(LP(this,!0),Qu(this)||this._resume())}_resume(){or.skipAnimation?this.finish():Mk.start(this)}_stop(n,t){if(Go(this)){LP(this,!1);const r=this.animation;Oe(r.values,u=>{u.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),ph(this,{type:"idle",parent:this});const s=t?dc(this.get()):Yi(this.get(),Yu(this,n??r.to));cd(this._pendingCalls,s),r.changed&&(r.changed=!1,Zu(this,"onRest",s,this))}}};function Yu(n,t){const r=bh(t),s=bh(n.get());return eo(s,r)}function GB(n,t=n.loop,r=n.to){const s=Zn(t);if(s){const u=s!==!0&&zC(s),h=(u||n).reverse,p=!u||u.reset;return Nm({...n,loop:t,default:!1,pause:void 0,to:!h||av(r)?r:void 0,from:p?n.from:void 0,reset:p,...u})}}function Nm(n){const{to:t,from:r}=n=zC(n),s=new Set;return oe.obj(t)&&jP(t,s),oe.obj(r)&&jP(r,s),n.keys=s.size?Array.from(s):null,n}function jP(n,t){jr(n,(r,s)=>r!=null&&t.add(s))}var Ste=["onStart","onRest","onChange","onPause","onResume"];function VP(n,t,r){n.animation[r]=t[r]!==UB(t,r)?FB(t[r],n.key):void 0}function Zu(n,t,...r){var s,u,h,p;(u=(s=n.animation)[t])==null||u.call(s,...r),(p=(h=n.defaultProps)[t])==null||p.call(h,...r)}var Dte=["onStart","onChange","onRest"],Mte=1,Pte=class{constructor(n,t){this.id=Mte++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),t&&(this._flush=t),n&&this.start({default:!0,...n})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(n=>n.idle&&!n.isDelayed&&!n.isPaused)}get item(){return this._item}set item(n){this._item=n}get(){const n={};return this.each((t,r)=>n[r]=t.get()),n}set(n){for(const t in n){const r=n[t];oe.und(r)||this.springs[t].set(r)}}update(n){return n&&this.queue.push(Nm(n)),this}start(n){let{queue:t}=this;return n?t=Vn(n).map(Nm):this.queue=[],this._flush?this._flush(this,t):(ZB(this,t),Nte(this,t))}stop(n,t){if(n!==!!n&&(t=n),t){const r=this.springs;Oe(Vn(t),s=>r[s].stop(!!n))}else wh(this._state,this._lastAsyncId),this.each(r=>r.stop(!!n));return this}pause(n){if(oe.und(n))this.start({pause:!0});else{const t=this.springs;Oe(Vn(n),r=>t[r].pause())}return this}resume(n){if(oe.und(n))this.start({pause:!1});else{const t=this.springs;Oe(Vn(n),r=>t[r].resume())}return this}each(n){jr(this.springs,n)}_onFrame(){const{onStart:n,onChange:t,onRest:r}=this._events,s=this._active.size>0,u=this._changed.size>0;(s&&!this._started||u&&!this._started)&&(this._started=!0,Ed(n,([b,m])=>{m.value=this.get(),b(m,this,this._item)}));const h=!s&&this._started,p=u||h&&r.size?this.get():null;u&&t.size&&Ed(t,([b,m])=>{m.value=p,b(m,this,this._item)}),h&&(this._started=!1,Ed(r,([b,m])=>{m.value=p,b(m,this,this._item)}))}eventObserved(n){if(n.type=="change")this._changed.add(n.parent),n.idle||this._active.add(n.parent);else if(n.type=="idle")this._active.delete(n.parent);else return;Me.onFrame(this._onFrame)}};function Nte(n,t){return Promise.all(t.map(r=>KB(n,r))).then(r=>jC(n,r))}async function KB(n,t,r){const{keys:s,to:u,from:h,loop:p,onRest:b,onResolve:m}=t,A=oe.obj(t.default)&&t.default;p&&(t.loop=!1),u===!1&&(t.to=null),h===!1&&(t.from=null);const E=oe.arr(u)||oe.fun(u)?u:void 0;E?(t.to=void 0,t.onRest=void 0,A&&(A.onRest=void 0)):Oe(Dte,M=>{const L=t[M];if(oe.fun(L)){const R=n._events[M];t[M]=({finished:O,cancelled:z})=>{const U=R.get(L);U?(O||(U.finished=!1),z&&(U.cancelled=!0)):R.set(L,{value:null,finished:O||!1,cancelled:z||!1})},A&&(A[M]=t[M])}});const C=n._state;t.pause===!C.paused?(C.paused=t.pause,cd(t.pause?C.pauseQueue:C.resumeQueue)):C.paused&&(t.pause=!0);const v=(s||Object.keys(n.springs)).map(M=>n.springs[M].start(t)),x=t.cancel===!0||UB(t,"cancel")===!0;(E||x&&C.asyncId)&&v.push(HB(++n._lastAsyncId,{props:t,state:C,actions:{pause:rv,resume:rv,start(M,L){x?(wh(C,n._lastAsyncId),L(dc(n))):(M.onRest=b,L(qB(E,M,C,n)))}}})),C.paused&&await new Promise(M=>{C.resumeQueue.add(M)});const D=jC(n,await Promise.all(v));if(p&&D.finished&&!(r&&D.noop)){const M=GB(t,p,u);if(M)return ZB(n,[M]),KB(n,M,!0)}return m&&Me.batchedUpdates(()=>m(D,n,n.item)),D}function Rte(n,t){const r={...n.springs};return t&&Oe(Vn(t),s=>{oe.und(s.keys)&&(s=Nm(s)),oe.obj(s.to)||(s={...s,to:void 0}),YB(r,s,u=>QB(u))}),Ote(n,r),r}function Ote(n,t){jr(t,(r,s)=>{n.springs[s]||(n.springs[s]=r,Gc(r,n))})}function QB(n,t){const r=new Tte;return r.key=n,t&&Gc(r,t),r}function YB(n,t,r){t.keys&&Oe(t.keys,s=>{(n[s]||(n[s]=r(s)))._prepareNode(t)})}function ZB(n,t){Oe(t,r=>{YB(n.springs,r,s=>QB(s,n))})}var Lk=({children:n,...t})=>{const r=J.useContext(Rm),s=t.pause||!!r.pause,u=t.immediate||!!r.immediate;t=ate(()=>({pause:s,immediate:u}),[s,u]);const{Provider:h}=Rm;return J.createElement(h,{value:t},n)},Rm=Bte(Lk,{});Lk.Provider=Rm.Provider;Lk.Consumer=Rm.Consumer;function Bte(n,t){return Object.assign(n,J.createContext(t)),n.Provider._context=n,n.Consumer._context=n,n}var Lte=()=>{const n=[],t=function(s){ote();const u=[];return Oe(n,(h,p)=>{if(oe.und(s))u.push(h.start());else{const b=r(s,h,p);b&&u.push(h.start(b))}}),u};t.current=n,t.add=function(s){n.includes(s)||n.push(s)},t.delete=function(s){const u=n.indexOf(s);~u&&n.splice(u,1)},t.pause=function(){return Oe(n,s=>s.pause(...arguments)),this},t.resume=function(){return Oe(n,s=>s.resume(...arguments)),this},t.set=function(s){Oe(n,(u,h)=>{const p=oe.fun(s)?s(h,u):s;p&&u.set(p)})},t.start=function(s){const u=[];return Oe(n,(h,p)=>{if(oe.und(s))u.push(h.start());else{const b=this._getProps(s,h,p);b&&u.push(h.start(b))}}),u},t.stop=function(){return Oe(n,s=>s.stop(...arguments)),this},t.update=function(s){return Oe(n,(u,h)=>u.update(this._getProps(s,u,h))),this};const r=function(s,u,h){return oe.fun(s)?s(h,u):s};return t._getProps=r,t};function FP(n,t,r){const s=oe.fun(t)&&t,{reset:u,sort:h,trail:p=0,expires:b=!0,exitBeforeEnter:m=!1,onDestroyed:A,ref:E,config:C}=s?s():t,v=J.useMemo(()=>s||arguments.length==3?Lte():void 0,[]),x=Vn(n),D=[],M=J.useRef(null),L=u?null:M.current;Zl(()=>{M.current=D}),zB(()=>(Oe(D,be=>{v==null||v.add(be.ctrl),be.ctrl.ref=v}),()=>{Oe(M.current,be=>{be.expired&&clearTimeout(be.expirationId),PP(be.ctrl,v),be.ctrl.stop(!0)})}));const R=jte(x,s?s():t,L),O=u&&M.current||[];Zl(()=>Oe(O,({ctrl:be,item:Ae,key:Ge})=>{PP(be,v),Zn(A,Ae,Ge)}));const z=[];if(L&&Oe(L,(be,Ae)=>{be.expired?(clearTimeout(be.expirationId),O.push(be)):(Ae=z[Ae]=R.indexOf(be.key),~Ae&&(D[Ae]=be))}),Oe(x,(be,Ae)=>{D[Ae]||(D[Ae]={key:R[Ae],item:be,phase:"mount",ctrl:new Pte},D[Ae].ctrl.item=be)}),z.length){let be=-1;const{leave:Ae}=s?s():t;Oe(z,(Ge,tt)=>{const ne=L[tt];~Ge?(be=D.indexOf(ne),D[be]={...ne,item:x[Ge]}):Ae&&D.splice(++be,0,ne)})}oe.fun(h)&&D.sort((be,Ae)=>h(be.item,Ae.item));let U=-p;const $=LB(),Y=LC(t),K=new Map,j=J.useRef(new Map),q=J.useRef(!1);Oe(D,(be,Ae)=>{const Ge=be.key,tt=be.phase,ne=s?s():t;let he,ce;const at=Zn(ne.delay||0,Ge);if(tt=="mount")he=ne.enter,ce="enter";else{const Rt=R.indexOf(Ge)<0;if(tt!="leave")if(Rt)he=ne.leave,ce="leave";else if(he=ne.update)ce="update";else return;else if(!Rt)he=ne.enter,ce="enter";else return}if(he=Zn(he,be.item,Ae),he=oe.obj(he)?zC(he):{to:he},!he.config){const Rt=C||Y.config;he.config=Zn(Rt,be.item,Ae,ce)}U+=p;const Ke={...Y,delay:at+U,ref:E,immediate:ne.immediate,reset:!1,...he};if(ce=="enter"&&oe.und(Ke.from)){const Rt=s?s():t,en=oe.und(Rt.initial)||L?Rt.from:Rt.initial;Ke.from=Zn(en,be.item,Ae)}const{onResolve:Oi}=Ke;Ke.onResolve=Rt=>{Zn(Oi,Rt);const en=M.current,Kt=en.find(Ze=>Ze.key===Ge);if(Kt&&!(Rt.cancelled&&Kt.phase!="update")&&Kt.ctrl.idle){const Ze=en.every(Wn=>Wn.ctrl.idle);if(Kt.phase=="leave"){const Wn=Zn(b,Kt.item);if(Wn!==!1){const sr=Wn===!0?0:Wn;if(Kt.expired=!0,!Ze&&sr>0){sr<=2147483647&&(Kt.expirationId=setTimeout($,sr));return}}}Ze&&en.some(Wn=>Wn.expired)&&(j.current.delete(Kt),m&&(q.current=!0),$())}};const _n=Rte(be.ctrl,Ke);ce==="leave"&&m?j.current.set(be,{phase:ce,springs:_n,payload:Ke}):K.set(be,{phase:ce,springs:_n,payload:Ke})});const Z=J.useContext(Lk),ke=ute(Z),ye=Z!==ke&&Ate(Z);Zl(()=>{ye&&Oe(D,be=>{be.ctrl.start({default:Z})})},[Z]),Oe(K,(be,Ae)=>{if(j.current.size){const Ge=D.findIndex(tt=>tt.key===Ae.key);D.splice(Ge,1)}}),Zl(()=>{Oe(j.current.size?j.current:K,({phase:be,payload:Ae},Ge)=>{const{ctrl:tt}=Ge;Ge.phase=be,v==null||v.add(tt),ye&&be=="enter"&&tt.start({default:Z}),Ae&&(vte(tt,Ae.ref),(tt.ref||v)&&!q.current?tt.update(Ae):(tt.start(Ae),q.current&&(q.current=!1)))})},u?void 0:r);const Te=be=>J.createElement(J.Fragment,null,D.map((Ae,Ge)=>{const{springs:tt}=K.get(Ae)||Ae.ctrl,ne=be({...tt},Ae.item,Ae,Ge);return ne&&ne.type?J.createElement(ne.type,{...ne.props,key:oe.str(Ae.key)||oe.num(Ae.key)?Ae.key:Ae.ctrl.id,ref:ne.ref}):ne}));return v?[Te,v]:Te}var zte=1;function jte(n,{key:t,keys:r=t},s){if(r===null){const u=new Set;return n.map(h=>{const p=s&&s.find(b=>b.item===h&&b.phase!=="leave"&&!u.has(b));return p?(u.add(p),p.key):zte++})}return oe.und(r)?n:oe.fun(r)?n.map(r):Vn(r)}var Vte=class extends VC{constructor(n,t){super(),this.source=n,this.idle=!0,this._active=new Set,this.calc=hh(...t);const r=this._get(),s=sv(r);BC(this,s.create(r))}advance(n){const t=this._get(),r=this.get();eo(t,r)||(Tr(this).setValue(t),this._onChange(t,this.idle)),!this.idle&&UP(this._active)&&x0(this)}_get(){const n=oe.arr(this.source)?this.source.map(Yn):Vn(Yn(this.source));return this.calc(...n)}_start(){this.idle&&!UP(this._active)&&(this.idle=!1,Oe(Ok(this),n=>{n.done=!1}),or.skipAnimation?(Me.batchedUpdates(()=>this.advance()),x0(this)):Mk.start(this))}_attach(){let n=1;Oe(Vn(this.source),t=>{Ti(t)&&Gc(t,this),cv(t)&&(t.idle||this._active.add(t),n=Math.max(n,t.priority+1))}),this.priority=n,this._start()}_detach(){Oe(Vn(this.source),n=>{Ti(n)&&gh(n,this)}),this._active.clear(),x0(this)}eventObserved(n){n.type=="change"?n.idle?this.advance():(this._active.add(n.parent),this._start()):n.type=="idle"?this._active.delete(n.parent):n.type=="priority"&&(this.priority=Vn(this.source).reduce((t,r)=>Math.max(t,(cv(r)?r.priority:0)+1),0))}};function Fte(n){return n.idle!==!1}function UP(n){return!n.size||Array.from(n).every(Fte)}function x0(n){n.idle||(n.idle=!0,Oe(Ok(n),t=>{t.done=!0}),ph(n,{type:"idle",parent:n}))}or.assign({createStringInterpolator:OB,to:(n,t)=>new Vte(n,t)});var JB=/^--/;function Ute(n,t){return t==null||typeof t=="boolean"||t===""?"":typeof t=="number"&&t!==0&&!JB.test(n)&&!(Td.hasOwnProperty(n)&&Td[n])?t+"px":(""+t).trim()}var HP={};function Hte(n,t){if(!n.nodeType||!n.setAttribute)return!1;const r=n.nodeName==="filter"||n.parentNode&&n.parentNode.nodeName==="filter",{style:s,children:u,scrollTop:h,scrollLeft:p,viewBox:b,...m}=t,A=Object.values(m),E=Object.keys(m).map(C=>r||n.hasAttribute(C)?C:HP[C]||(HP[C]=C.replace(/([A-Z])/g,v=>"-"+v.toLowerCase())));u!==void 0&&(n.textContent=u);for(const C in s)if(s.hasOwnProperty(C)){const v=Ute(C,s[C]);JB.test(C)?n.style.setProperty(C,v):n.style[C]=v}E.forEach((C,v)=>{n.setAttribute(C,A[v])}),h!==void 0&&(n.scrollTop=h),p!==void 0&&(n.scrollLeft=p),b!==void 0&&n.setAttribute("viewBox",b)}var Td={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Wte=(n,t)=>n+t.charAt(0).toUpperCase()+t.substring(1),qte=["Webkit","Ms","Moz","O"];Td=Object.keys(Td).reduce((n,t)=>(qte.forEach(r=>n[Wte(r,t)]=n[t]),n),Td);var $te=/^(matrix|translate|scale|rotate|skew)/,Gte=/^(translate)/,Kte=/^(rotate|skew)/,I0=(n,t)=>oe.num(n)&&n!==0?n+t:n,Sg=(n,t)=>oe.arr(n)?n.every(r=>Sg(r,t)):oe.num(n)?n===t:parseFloat(n)===t,Qte=class extends Bk{constructor({x:n,y:t,z:r,...s}){const u=[],h=[];(n||t||r)&&(u.push([n||0,t||0,r||0]),h.push(p=>[`translate3d(${p.map(b=>I0(b,"px")).join(",")})`,Sg(p,0)])),jr(s,(p,b)=>{if(b==="transform")u.push([p||""]),h.push(m=>[m,m===""]);else if($te.test(b)){if(delete s[b],oe.und(p))return;const m=Gte.test(b)?"px":Kte.test(b)?"deg":"";u.push(Vn(p)),h.push(b==="rotate3d"?([A,E,C,v])=>[`rotate3d(${A},${E},${C},${I0(v,m)})`,Sg(v,0)]:A=>[`${b}(${A.map(E=>I0(E,m)).join(",")})`,Sg(A,b.startsWith("scale")?1:0)])}}),u.length&&(s.transform=new Yte(u,h)),super(s)}},Yte=class extends PB{constructor(n,t){super(),this.inputs=n,this.transforms=t,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let n="",t=!0;return Oe(this.inputs,(r,s)=>{const u=Yn(r[0]),[h,p]=this.transforms[s](oe.arr(u)?u:r.map(Yn));n+=" "+h,t=t&&p}),t?"none":n}observerAdded(n){n==1&&Oe(this.inputs,t=>Oe(t,r=>Ti(r)&&Gc(r,this)))}observerRemoved(n){n==0&&Oe(this.inputs,t=>Oe(t,r=>Ti(r)&&gh(r,this)))}eventObserved(n){n.type=="change"&&(this._value=null),ph(this,n)}},Zte=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];or.assign({batchedUpdates:r4.unstable_batchedUpdates,createStringInterpolator:OB,colors:Bee});var Jte=mte(Zte,{applyAnimatedValues:Hte,createAnimatedStyle:n=>new Qte(n),getComponentProps:({scrollTop:n,scrollLeft:t,...r})=>r}),XB=Jte.animated;function Xte(n){function t(r){const{name:s,value:u}=r.target;n.setData(h=>({...h,[s]:u}))}return te.jsxs(XB.form,{style:n.style,className:"signup__container",children:[te.jsx("img",{className:"signup__container__pin",src:fB,alt:"pin"}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"userName",children:" "}),te.jsx("input",{type:"email",name:"email",onChange:t,value:n.data.userName})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"password",children:" "}),te.jsx("input",{type:"password",name:"password",onChange:t,value:n.data.password})]}),te.jsxs("div",{children:[te.jsx("button",{type:"submit",onClick:n.loginBtn,children:" "}),te.jsxs("h6",{children:["  !  ",te.jsx("br",{}),te.jsx("span",{onClick:n.setShow,children:" "})]}),n.error&&te.jsx("p",{children:n.error})]})]})}function ene(n){function t(r){const{name:s,value:u}=r.target;n.setData(h=>({...h,[s]:u}))}return te.jsxs(XB.form,{style:n.style,className:"signup__container",children:[te.jsx("img",{className:"signup__container__pin",src:fB,alt:"pin"}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"userName",children:" "}),te.jsx("input",{type:"text",name:"email",onChange:t,value:n.data.userName})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"password",children:" "}),te.jsx("input",{type:"password",name:"password",onChange:t,value:n.data.password})]}),te.jsxs("div",{children:[te.jsx("label",{htmlFor:"confirmPassword",children:"  "}),te.jsx("input",{type:"password",name:"confirmPassword",onChange:t,value:n.data.confirmPassword})]}),te.jsxs("div",{children:[te.jsx(xee,{to:"/",children:te.jsx("button",{type:"submit",onClick:n.signupBtn,children:" "})}),te.jsxs("h6",{children:["      ",te.jsx("br",{}),te.jsx("span",{onClick:n.setShow,children:" "})]}),n.error&&te.jsx("p",{children:n.error})]})]})}function tne(n){const[t,r]=J.useState(!0),[s,u]=J.useState(!1),[h,p]=J.useState({email:"",password:"",confirmPassword:""}),[b,m]=J.useState(""),A=FP(t,{from:{transform:"translateX(200%)"},enter:{transform:"translateX(0)"},leave:{animation:"slideOut 1s ease-in-out forwards"},trail:500}),E=FP(t,{from:{transform:"translateX(200%)"},enter:{transform:"translateX(0)"},leave:{animation:"slideOut 1s ease-in-out forwards"},trail:500});function C(){r(!t),u(!0)}async function v(D){D.preventDefault(),h.confirmPassword==h.password?await UZ(ym,h.email,h.password).then(M=>{m(""),window.location.reload()}).catch(M=>m("     ")):m("        ")}async function x(D){D.preventDefault(),await HZ(ym,h.email,h.password).then(M=>{m(""),window.location.reload()}).catch(M=>m("     "))}return n.userStatus!==null?te.jsx(Bl,{to:"/"}):te.jsxs("div",{className:"signup",children:[A((D,M)=>{const L={animation:"handSlideIn 1s ease-in-out forwards",display:s?"block":"none"},R={animation:`handSlideIn2 2.5s ease-in-out ${s?"0.5s forwards":"forwards"}`};return M&&te.jsxs(te.Fragment,{children:[te.jsx("img",{className:"signup__hand",style:R,src:ig,alt:"hand"}),te.jsx(Xte,{setShow:C,loginBtn:x,style:D,data:h,setData:p,error:b}),te.jsx("img",{className:"signup__hand2",style:L,src:ig,alt:"hand"})]})}),E((D,M)=>{const L={animation:"handSlideIn 1s ease-in-out forwards"},R={animation:`handSlideIn2 2.5s ease-in-out ${s?"0.5s forwards":"forwards"}`};return!M&&te.jsxs(te.Fragment,{children:[te.jsx("img",{className:"signup__hand2",style:R,src:ig,alt:"hand"}),te.jsx(ene,{setShow:C,signupBtn:v,style:D,data:h,setData:p,error:b}),te.jsx("img",{className:"signup__hand2",style:L,src:ig,alt:"hand"})]})}),te.jsx("img",{className:"signup__left",src:vX,alt:"signup"}),te.jsx("img",{className:"signup__right",src:AX,alt:"ellipseSide"})]})}function nne(){const[n,t]=J.useState([]),[r,s]=J.useState([]),[u,h]=J.useState([]),[p,b]=J.useState(),[m,A]=J.useState(!1),[E,C]=J.useState(!1);J.useState(!1);let v=n.find(q=>q.id===p)||n[0],x=[],D=[],M=n.sort((q,Z)=>Z.updatedAt-q.updatedAt);J.useEffect(()=>{setTimeout(()=>{const q=VY(dP,FY("userId","==",`${Ir&&Ir.uid}`));return QY(q,ke=>{M=ke.docs.map(ye=>({...ye.data(),id:ye.id})),t(M)})},500)},[]),J.useEffect(()=>{for(let q=0;q<n.length;q++){const Z=n[q];Z.isStarred&&x.push(Z)}for(let q=0;q<n.length;q++){const Z=n[q];Z.isTrashed&&D.push(Z)}s(x),h(D)},[n]),J.useEffect(()=>{var q;b(v?v.id:(q=n[0])==null?void 0:q.id)},[n]);async function L(){const q={title:" ",content:"   ",userId:Ir.uid,createdAt:Date.now(),updatedAt:Date.now(),isStarred:!1,isTrashed:!1},Z=await KY(dP,q);b(Z.id)}async function R(q){const Z=Rl(Ol,"notes",v.id);await tg(Z,{content:q,updatedAt:Date.now()})}async function O(q){const Z=Rl(Ol,"notes",v.id);await tg(Z,{title:q,updatedAt:Date.now()})}async function z(q){const Z=n.find(ye=>ye.id===q),ke=Rl(Ol,"notes",Z.id);await tg(ke,{isStarred:!Z.isStarred,isTrashed:!1})}async function U(q){const Z=n.find(ye=>ye.id===q),ke=Rl(Ol,"notes",Z.id);await tg(ke,{isTrashed:!Z.isTrashed,isStarred:!1})}function $(q){q.target.id==="star"?(C(!E),A(!1)):(A(!m),C(!1))}function Y(){return!E&&!m?M:E?r:u}async function K(){const q=u.map(Z=>Z.id);for(let Z=0;Z<q.length;Z++)await GY(Rl(Ol,"notes",q[Z]))}async function j(){await GZ(ym).then(()=>{console.log("logOut"),window.location.reload()})}return te.jsxs(mee,{children:[te.jsx(Ig,{path:"/home",element:Ir==null?te.jsx(Bl,{to:"/signup"}):M.length===0?te.jsx(SX,{handleClick:L}):te.jsx(Bl,{to:"/"})}),te.jsx(Ig,{path:"/",element:Ir!==null?M.length!==0?te.jsxs("main",{className:"app",children:[te.jsx(CX,{notes:Y(),currentNoteId:p,setCurrentNoteId:b,handleClick:L,starred:z,trashed:U,starredArray:r,trashArray:u,show:$,deleteAll:K,trashClicked:m,starClicked:E,signoutUser:j,user:Ir.email.slice(0,Ir.email.indexOf("@"))}),te.jsx(TX,{updateNote:R,currentNote:v,updateTitle:O})]}):te.jsx(Bl,{to:"/home"}):M.length===0?te.jsx(Bl,{to:"/home"}):te.jsx(Bl,{to:"/signup"})}),te.jsx(Ig,{path:"/signup",element:te.jsx(tne,{userStatus:Ir})})]})}T0.createRoot(document.getElementById("root")).render(te.jsx(vee,{children:te.jsx(nne,{})}));
